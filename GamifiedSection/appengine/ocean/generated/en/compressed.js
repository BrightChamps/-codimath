// Automatically generated file.  Do not edit!
'use strict';var b,g=g||{};g.global=this||self;g.NM=function(a){return void 0!==a};g.TM=function(a){return"string"==typeof a};g.JM=function(a){return"boolean"==typeof a};g.Ug=function(a){return"number"==typeof a};g.$y=function(a,c,d){a=a.split(".");d=d||g.global;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===c?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=c};g.define=function(a,c){return c};g.YJ=2012;g.ni=!0;
g.sK="en";g.pE=!0;g.gE=!1;g.zC=!g.ni;g.IJ=!1;g.gN=function(a){if(g.$z())throw Error("goog.provide cannot be used within a module.");g.uy(a)};g.uy=function(a,c){g.$y(a,c)};g.zM=function(a){if(a&&a!=g.global)return g.xz(a.document);null===g.Fs&&(g.Fs=g.xz(g.global.document));return g.Fs};g.GD=/^[\w+/_-]+[=]{0,2}$/;g.Fs=null;g.xz=function(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&g.GD.test(a)?a:""};g.sE=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
g.module=function(a){if("string"!==typeof a||!a||-1==a.search(g.sE))throw Error("Invalid module identifier");if(!g.Zz())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");
if(g.hd.Ym)throw Error("goog.module may only be called once per module.");g.hd.Ym=a};g.module.get=function(){return null};g.module.tM=function(){return null};g.hd=null;g.$z=function(){return g.Zz()||g.dH()};g.Zz=function(){return!!g.hd&&"goog"==g.hd.type};g.dH=function(){if(g.hd&&"es6"==g.hd.type)return!0;var a=g.global.$jscomp;return a?"function"!=typeof a.ut?!1:!!a.ut():!1};g.module.Js=function(){g.hd.Js=!0};
g.bM=function(a){if(g.hd)g.hd.Ym=a;else{var c=g.global.$jscomp;if(!c||"function"!=typeof c.ut)throw Error('Module with namespace "'+a+'" has been loaded incorrectly.');c=c.pI(c.ut());g.jA[a]={exports:c,type:"es6",AH:a}}};g.wN=function(a){if(g.zC)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};g.mM=function(){};g.xM=function(a,c){a=a.split(".");c=c||g.global;for(var d=0;d<a.length;d++)if(c=c[a[d]],null==c)return null;return c};
g.DM=function(a,c){c=c||g.global;for(var d in a)c[d]=a[d]};g.RL=function(){};g.JJ=!0;g.kA=function(a){g.global.console&&g.global.console.error(a)};g.pI=function(){};g.nN=function(){return{}};g.OE="";g.bN=function(){};g.PL=function(){throw Error("unimplemented abstract method");};g.SL=function(a){a.Rt=void 0;a.sM=function(){if(a.Rt)return a.Rt;g.ni&&(g.Xz[g.Xz.length]=a);return a.Rt=new a}};g.Xz=[];g.rK=!0;g.YD=g.ni;g.jA={};g.CJ=!1;g.EL="detect";g.oJ=!1;g.FL="";g.mE="transpile.js";g.Gt=null;
g.aJ=function(){if(null==g.Gt){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(c){a=!1}g.Gt=a}return g.Gt};g.hJ=function(a){return"(function(){"+a+"\n;})();\n"};
g.VM=function(a){var c=g.hd;try{g.hd={Ym:"",Js:!1,type:"goog"};if(g.cH(a))var d=a.call(void 0,{});else if("string"===typeof a)g.aJ()&&(a=g.hJ(a)),d=g.pH.call(void 0,a);else throw Error("Invalid module definition");var e=g.hd.Ym;if("string"===typeof e&&e)g.hd.Js?g.uy(e,d):g.YD&&Object.seal&&"object"==typeof d&&null!=d&&Object.seal(d),g.jA[e]={exports:d,type:"goog",AH:g.hd.Ym};else throw Error('Invalid module name "'+e+'"');}finally{g.hd=c}};g.pH=function(a){eval(a);return{}};
g.aN=function(a){a=a.split("/");for(var c=0;c<a.length;)"."==a[c]?a.splice(c,1):c&&".."==a[c]&&a[c-1]&&".."!=a[c-1]?a.splice(--c,2):c++;return a.join("/")};g.oH=function(a){if(g.global.hC)return g.global.hC(a);try{var c=new g.global.XMLHttpRequest;c.open("get",a,!1);c.send();return 0==c.status||200==c.status?c.responseText:null}catch(d){return null}};
g.JN=function(a,c,d){var e=g.global.$jscomp;e||(g.global.$jscomp=e={});var f=e.Iv;if(!f){var h=g.OE+g.mE,k=g.oH(h);if(k){(function(){(0,eval)(k+"\n//# sourceURL="+h)}).call(g.global);if(g.global.$gwtExport&&g.global.$gwtExport.$jscomp&&!g.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(g.global.$gwtExport));g.global.$jscomp.Iv=g.global.$gwtExport.$jscomp.transpile;e=g.global.$jscomp;f=e.Iv}}f||(f=e.Iv=function(l,
m){g.kA(m+" requires transpilation but no transpiler was found.");return l});return f(a,c,d)};
g.Bq=function(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c};g.bj=function(){return!1};g.OM=function(a){return null!=a};g.isArray=function(a){return"array"==g.Bq(a)};g.HM=function(a){var c=g.Bq(a);return"array"==c||"object"==c&&"number"==typeof a.length};g.MM=function(a){return g.iH(a)&&"function"==typeof a.getFullYear};g.cH=function(a){return"function"==g.Bq(a)};g.iH=function(a){var c=typeof a;return"object"==c&&null!=a||"function"==c};g.CG=function(a){return a[g.Bi]||(a[g.Bi]=++g.YI)};
g.EM=function(a){return!!a[g.Bi]};g.nI=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(g.Bi);try{delete a[g.Bi]}catch(c){}};g.Bi="closure_uid_"+(1E9*Math.random()>>>0);g.YI=0;g.rM=g.CG;g.hN=g.nI;g.jF=function(a){var c=g.Bq(a);if("object"==c||"array"==c){if("function"===typeof a.clone)return a.clone();c="array"==c?[]:{};for(var d in a)c[d]=g.jF(a[d]);return c}return a};g.RE=function(a,c,d){return a.call.apply(a.bind,arguments)};
g.QE=function(a,c,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(c,f)}}return function(){return a.apply(c,arguments)}};g.bind=function(a,c,d){g.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g.RE:g.QE;return g.bind.apply(null,arguments)};
g.eN=function(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice();e.push.apply(e,arguments);return a.apply(this,e)}};g.ae=function(a,c){for(var d in c)a[d]=c[d]};g.now=g.pE&&Date.now||function(){return+new Date};
g.CM=function(a){if(g.global.execScript)g.global.execScript(a,"JavaScript");else if(g.global.eval){if(null==g.np){try{g.global.eval("var _evalTest_ = 1;")}catch(e){}if("undefined"!=typeof g.global._evalTest_){try{delete g.global._evalTest_}catch(e){}g.np=!0}else g.np=!1}if(g.np)g.global.eval(a);else{var c=g.global.document,d=c.createElement("SCRIPT");d.type="text/javascript";d.defer=!1;d.appendChild(c.createTextNode(a));c.head.appendChild(d);c.head.removeChild(d)}}else throw Error("goog.globalEval not available");
};g.np=null;g.oM=function(a,c){function d(h){h=h.split("-");for(var k=[],l=0;l<h.length;l++)k.push(e(h[l]));return k.join("-")}function e(h){return g.Dy[h]||h}if("."==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var f=g.Dy?"BY_WHOLE"==g.AF?e:d:function(h){return h};a=c?a+"-"+f(c):f(a);return g.global.gC?g.global.gC(a):a};g.uN=function(a,c){g.Dy=a;g.AF=c};
g.vM=function(a,c,d){d&&d.FM&&(a=a.replace(/</g,"&lt;"));c&&(a=a.replace(/\{\$([^}]+)}/g,function(e,f){return null!=c&&f in c?c[f]:e}));return a};g.wM=function(a){return a};g.hM=function(a,c,d){g.$y(a,c,d)};g.gM=function(a,c,d){a[c]=d};g.S=function(a,c){function d(){}d.prototype=c.prototype;a.A=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.Zx=function(e,f,h){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return c.prototype[f].apply(e,k)}};
g.Zx=function(a,c,d){var e=arguments.callee.caller;if(g.gE||g.ni&&!e)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if("undefined"!==typeof e.A){for(var f=Array(arguments.length-1),h=1;h<arguments.length;h++)f[h-1]=arguments[h];return e.A.constructor.apply(a,f)}if("string"!=typeof c&&"symbol"!=typeof c)throw Error("method names provided to goog.base must be a string or a symbol");f=Array(arguments.length-
2);for(h=2;h<arguments.length;h++)f[h-2]=arguments[h];h=!1;for(var k=a.constructor.prototype;k;k=Object.getPrototypeOf(k))if(k[c]===e)h=!0;else if(h)return k[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("goog.base called from a method of one name to a method of a different name");};g.scope=function(a){if(g.$z())throw Error("goog.scope is not supported within a module.");a.call(g.global)};
g.we=function(a,c){var d=c.constructor,e=c.MI;d&&d!=Object.prototype.constructor||(d=function(){throw Error("cannot instantiate an interface (no constructor defined).");});d=g.we.tF(d,a);a&&g.S(d,a);delete c.constructor;delete c.MI;g.we.Xx(d.prototype,c);null!=e&&(e instanceof Function?e(d):g.we.Xx(d,e));return d};g.we.XD=g.ni;
g.we.tF=function(a,c){function d(){var f=a.apply(this,arguments)||this;f[g.Bi]=f[g.Bi];this.constructor===d&&e&&Object.seal instanceof Function&&Object.seal(f);return f}if(!g.we.XD)return a;var e=!g.we.lH(c);return d};g.we.lH=function(a){return a&&a.prototype&&a.prototype[g.qE]};g.we.$w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
g.we.Xx=function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);for(var e=0;e<g.we.$w.length;e++)d=g.we.$w[e],Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])};g.FN=function(){};g.qE="goog_defineClass_legacy_unsealable";g.Dx="";g.Bp=function(a){return a};g.uF=function(){var a=g.Dx+"#base",c=null,d=g.global.trustedTypes||g.global.IL;if(!d||!d.createPolicy)return c;try{c=d.createPolicy(a,{createHTML:g.Bp,createScript:g.Bp,createScriptURL:g.Bp,aM:g.Bp})}catch(e){g.kA(e.message)}return c};
g.GL=g.Dx?g.uF():null;
var n={g:{}};n.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
n.m={};n.g.global.Blockly||(n.g.global.Blockly={});n.g.global.Blockly.Msg||(n.g.global.Blockly.Msg=n.m);
n.nk={};n.Nw=40;n.ix=125;n.AC=5;n.OC=10;n.Jd=28;n.lC=n.Jd;n.qC=8;n.Qq=250;n.Rq=10;n.jC=30;n.tD=750;n.aE=100;n.BC=!0;n.YC=.45;n.ZC=.65;n.Yj={width:96,height:124,url:"sprites.png"};n.lb=1;n.Ue=2;n.gb=3;n.Ve=4;n.og=5;n.Kq=-1;n.Jq=0;n.ji=1;n.FJ=0;n.GJ=1;n.DJ=1;n.EJ=2;n.Uj=[];n.Uj[n.lb]=n.Ue;n.Uj[n.Ue]=n.lb;n.Uj[n.gb]=n.Ve;n.Uj[n.Ve]=n.gb;n.zg=0;n.ck=1;n.Md=2;n.yg=3;n.lw=null;n.Vq=1;n.mw=2;n.Jc="VARIABLE";n.vE="VARIABLE_DYNAMIC";n.Er="PROCEDURE";n.px="RENAME_VARIABLE_ID";n.nw="DELETE_VARIABLE_ID";n.g.ib={};n.g.ib.parse=function(a){a=String(a).toLowerCase().trim();var c=n.g.ib.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?n.g.ib.fv(a,c,d):null};
n.g.ib.fv=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};n.g.ib.Oz=function(a){a=n.g.ib.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
n.g.ib.Sz=function(a){var c=n.YC,d=255*n.ZC,e=0,f=0,h=0;if(0==c)h=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;h=a;break;case 2:e=a;f=d;h=c;break;case 3:e=a;f=m;h=d;break;case 4:e=c;f=a;h=d;break;case 5:e=d;f=a;h=m;break;case 6:case 0:e=d,f=c,h=a}}return n.g.ib.fv(Math.floor(e),Math.floor(f),Math.floor(h))};
n.g.ib.ks=function(a,c,d){a=n.g.ib.parse(a);if(!a)return null;c=n.g.ib.parse(c);if(!c)return null;a=n.g.ib.Oz(a);c=n.g.ib.Oz(c);return n.g.ib.fv(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};n.g.ib.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};n.g.O=function(a,c){this.x=a;this.y=c};n.g.O.Of=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};n.g.O.Ws=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};n.g.O.vH=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};n.g.O.wk=function(a,c){return new n.g.O(a.x-c.x,a.y-c.y)};n.g.O.sum=function(a,c){return new n.g.O(a.x+c.x,a.y+c.y)};n.g.O.prototype.scale=function(a){this.x*=a;this.y*=a;return this};n.g.O.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};n.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};n.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};n.g.Ta={};n.g.Ta.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};n.g.Ta.uv=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};n.g.Ta.lF=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||n.g.Ta.uv(a);for(var e=0;e<c;e++){for(var f=a[0][e],h=1;h<a.length;h++)if(f!=a[h][e])return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h][e])&&" "!=f)return d;return c};
n.g.Ta.mF=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||n.g.Ta.uv(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-e-1))&&" "!=f)return d;return c};n.g.Ta.EB=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=n.g.Ta.lJ(a[d],c);return a.join("\n")};
n.g.Ta.lJ=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var h=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=n.g.Ta.FB(d,a,c);e=n.g.Ta.Qv(d,a,c);a=n.g.Ta.mJ(d,a);f++}while(e>h);return k};
n.g.Ta.Qv=function(a,c,d){for(var e=[0],f=[],h=0;h<a.length;h++)e[e.length-1]+=a[h].length,!0===c[h]?(e.push(0),f.push(a[h].charAt(a[h].length-1))):!1===c[h]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(h=c=0;h<e.length;h++)c-=2*Math.pow(Math.abs(d-e[h]),1.5),c-=Math.pow(a-e[h],1.5),-1!=".?!".indexOf(f[h])?c+=d/3:-1!=",;)]}".indexOf(f[h])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
n.g.Ta.FB=function(a,c,d){for(var e=n.g.Ta.Qv(a,c,d),f,h=0;h<c.length-1;h++)if(c[h]!=c[h+1]){var k=[].concat(c);k[h]=!k[h];k[h+1]=!k[h+1];var l=n.g.Ta.Qv(a,k,d);l>e&&(e=l,f=k)}return f?n.g.Ta.FB(a,f,d):c};n.g.Ta.mJ=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};n.g.Ld=function(a,c){this.width=a;this.height=c};n.g.Ld.Of=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};n.g.style={};n.g.style.Ng=function(a){if("none"!=n.g.style.Bz(a,"display"))return n.g.style.zz(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var h=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new n.g.Ld(h,a)};n.g.style.zz=function(a){return new n.g.Ld(a.offsetWidth,a.offsetHeight)};n.g.style.Bz=function(a,c){return n.g.style.getComputedStyle(a,c)||n.g.style.mG(a,c)||a.style&&a.style[c]};
n.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};n.g.style.mG=function(a,c){return a.currentStyle?a.currentStyle[c]:null};n.g.style.Eh=function(a){var c=new n.g.O(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new n.g.O(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
n.g.style.Fz=function(){var a=document.body,c=document.documentElement;return new n.g.O(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};n.g.style.mv=function(a,c){a.style.display=c?"":"none"};n.g.style.RM=function(a){return"rtl"==n.g.style.Bz(a,"direction")};
n.g.style.jG=function(a){var c=n.g.style.getComputedStyle(a,"borderLeftWidth"),d=n.g.style.getComputedStyle(a,"borderRightWidth"),e=n.g.style.getComputedStyle(a,"borderTopWidth");a=n.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};n.g.style.$A=function(a,c){a=n.g.style.pG(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
n.g.style.pG=function(a,c){var d=n.g.style.Eh(a),e=n.g.style.Eh(c),f=n.g.style.jG(c),h=d.x-e.x-f.left;d=d.y-e.y-f.top;a=n.g.style.zz(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(h,Math.max(h-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new n.g.O(f,k)};n.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}n.g.userAgent.raw=a;var d=n.g.userAgent.raw.toUpperCase();n.g.userAgent.Qe=c("Trident")||c("MSIE");n.g.userAgent.oi=c("Edge");n.g.userAgent.iD=c("JavaFX");n.g.userAgent.vJ=(c("Chrome")||c("CriOS"))&&!n.g.userAgent.oi;n.g.userAgent.Xr=c("WebKit")&&!n.g.userAgent.oi;n.g.userAgent.TC=c("Gecko")&&!n.g.userAgent.Xr&&!n.g.userAgent.Qe&&!n.g.userAgent.oi;n.g.userAgent.rl=c("Android");n.g.userAgent.Oj=c("iPad");n.g.userAgent.Jw=c("iPod");n.g.userAgent.Iw=
c("iPhone")&&!n.g.userAgent.Oj&&!n.g.userAgent.Jw;n.g.userAgent.vD=c("Macintosh");n.g.userAgent.jE=n.g.userAgent.Oj||n.g.userAgent.rl&&!c("Mobile")||c("Silk");n.g.userAgent.DD=!n.g.userAgent.jE&&(n.g.userAgent.Jw||n.g.userAgent.Iw||n.g.userAgent.rl||c("IEMobile"))})(n.g.global.navigator&&n.g.global.navigator.userAgent||"");
n.g.OH=function(a){a.preventDefault();a.stopPropagation()};n.g.Lp=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
n.g.ze=function(a){var c=new n.g.O(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(n.g.ze.zE))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(n.g.ze.AE))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
n.g.Am=function(a){for(var c=0,d=0;a;){var e=n.g.ze(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new n.g.O(c,d)};n.g.ze.zE=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;n.g.ze.AE=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;n.g.cj=function(a){return a.ctrlKey&&n.g.userAgent.vD?!0:2==a.button};
n.g.Zm=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};n.g.yz=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*n.Nw,y:a.deltaY*n.Nw};case 2:return{x:a.deltaX*n.ix,y:a.deltaY*n.ix}}};n.g.SI=function(a){return n.g.Fv(a,!0)};n.g.oc=function(a){if("string"!=typeof a)return a;a=n.g.Fv(a,!1);return a.length?String(a[0]):""};
n.g.iy=function(a){for(var c=n.m,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
n.g.Fv=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var h=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(d.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=n.g.Ta.startsWith(l,"BKY_")?
l.substring(4):null)&&l in n.m?(f=n.m[l],"string"==typeof f?Array.prototype.push.apply(d,n.g.Fv(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};n.g.Mg=function(){for(var a=n.g.Mg.fB.length,c=[],d=0;20>d;d++)c[d]=n.g.Mg.fB.charAt(Math.random()*a);return c.join("")};
n.g.Mg.fB="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
n.g.Xi=function(){if(void 0!==n.g.Xi.ts)return n.g.Xi.ts;if(!n.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=n.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
n.g.Xi.ts="none"!==c;return n.g.Xi.ts};n.g.ZA=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};n.g.DG=function(){var a=n.g.style.Fz();return new n.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
n.g.$l=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};n.g.uG=function(){var a=document.documentElement,c=window;return n.g.userAgent.Qe&&c.pageYOffset!=a.scrollTop?new n.g.O(a.scrollLeft,a.scrollTop):new n.g.O(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};n.g.qt=function(a,c){var d=Object.create(null),e=t(a,!0);c&&(a=u(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
n.g.uI=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new n.g.O(d-e.left,c-e.top);c=n.g.Am(a.qb);return n.g.O.wk(d,c).scale(1/a.scale)};n.g.jq=function(a){var c="string"==typeof a?n.g.oc(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{TG:d,Dm:n.g.ib.Sz(d)};if(d=n.g.ib.parse(c))return{TG:null,Dm:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};n.h={};n.h.Iz="";n.h.zc=!0;n.h.Rs=0;n.h.co="create";n.h.Nq=n.h.co;n.h.wl="delete";n.h.cw=n.h.wl;n.h.Ij="change";n.h.YB=n.h.Ij;n.h.Gl="move";n.h.Oq=n.h.Gl;n.h.Gx="var_create";n.h.Hx="var_delete";n.h.Jx="var_rename";n.h.Tl="ui";n.h.$n="comment_create";n.h.gw="comment_delete";n.h.fw="comment_change";n.h.ao="comment_move";n.h.ww="finished_loading";n.h.cC=[n.h.Nq,n.h.Oq,n.h.$n,n.h.ao];n.h.Al=[];n.h.Ca=function(a){n.h.isEnabled()&&(n.h.Al.length||setTimeout(n.h.bG,0),n.h.Al.push(a))};
n.h.bG=function(){for(var a=n.h.filter(n.h.Al,!0),c=n.h.Al.length=0,d;d=a[c];c++)if(d.Cb){var e=n.ub.ym(d.Cb);if(e){var f=d;if(f.zc)for(e.ll.push(f),e.mq.length=0;e.ll.length>e.Qw&&0<=e.Qw;)e.ll.shift();for(var h=0;d=e.gd[h];h++)d(f)}}};
n.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,h;h=a[f];f++)if(!h.bj()){var k=[h.type,h.fc,h.Cb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:h,index:f},d.push(h);else if(h.type==n.h.Gl&&l.index==f-1)m.mj=h.mj,m.lj=h.lj,m.Qh=h.Qh,l.index=f;else if(h.type==n.h.Ij&&h.element==m.element&&h.name==m.name)m.newValue=h.newValue;else if(h.type!=n.h.Tl||"click"!=h.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:h,
index:1},d.push(h)}a=d.filter(function(p){return!p.bj()});c||a.reverse();for(f=1;h=a[f];f++)h.type==n.h.Ij&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};n.h.XL=function(){for(var a=0,c;c=n.h.Al[a];a++)c.zc=!1};n.h.disable=function(){n.h.Rs++};n.h.enable=function(){n.h.Rs--};n.h.isEnabled=function(){return 0==n.h.Rs};n.h.Tb=function(){return n.h.Iz};n.h.ca=function(a){n.h.Iz="boolean"==typeof a?a?n.g.Mg():"":a};
n.h.kz=function(a){var c=[];a=t(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};
n.h.wa=function(a){switch(a.type){case n.h.co:var c=new n.h.Pe(null);break;case n.h.wl:c=new n.h.xf(null);break;case n.h.Ij:c=new n.h.kh(null,"","","","");break;case n.h.Gl:c=new n.h.si(null);break;case n.h.Gx:c=new n.h.qe(null);break;case n.h.Hx:c=new n.h.Xe(null);break;case n.h.Jx:c=new n.h.Cf(null,"");break;case n.h.Tl:c=new n.h.Rb(null,"","","");break;case n.h.$n:c=new n.h.lg(null);break;case n.h.fw:c=new n.h.Jj(null,"","");break;case n.h.ao:c=new n.h.mi(null);break;case n.h.gw:c=new n.h.mg(null);
break;case n.h.ww:c=new n.h.Mj(void 0);break;default:throw Error("Unknown event type.");}c.wa(a);c.Cb=(void 0).id;return c};n.h.LF=function(a){if((a.type==n.h.Gl||a.type==n.h.co)&&a.Cb){var c=n.ub.ym(a.Cb);if(a=c.ad(a.fc)){var d=a.getParent();if(d&&d.isEnabled())for(c=t(a,!1),a=0;d=c[a];a++)d.qf(!0);else if((a.L||a.V)&&!c.kc()){do a.qf(!1),a=u(a);while(a)}}}};
n.h.Abstract=function(){this.Cb=void 0;this.group=n.h.Tb();this.zc=n.h.zc};n.h.Abstract.prototype.Wa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};n.h.Abstract.prototype.wa=function(a){this.group=a.group};n.h.Abstract.prototype.bj=function(){return!1};n.h.Abstract.prototype.run=function(){};function ba(a){if(a.Cb)var c=n.ub.ym(a.Cb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};n.g.object={};n.g.object.S=function(a,c){a.A=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};n.g.object.ae=function(a,c){for(var d in c)a[d]=c[d]};n.g.object.tk=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?n.g.object.tk(a[d]||Object.create(null),c[d]):c[d];return a};n.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};n.g.xml={};n.g.xml.ED="https://developers.google.com/blockly/xml";n.g.xml.document=function(){return document};n.g.xml.createElement=function(a){return n.g.xml.document().createElementNS(n.g.xml.ED,a)};n.g.xml.createTextNode=function(a){return n.g.xml.document().createTextNode(a)};n.g.xml.OI=function(a){return(new DOMParser).parseFromString(a,"text/xml")};n.g.xml.Td=function(a){return(new XMLSerializer).serializeToString(a)};n.h.vf=function(a){n.h.vf.A.constructor.call(this);this.fc=a.id;this.Cb=a.D.id};n.g.object.S(n.h.vf,n.h.Abstract);n.h.vf.prototype.Wa=function(){var a=n.h.vf.A.Wa.call(this);a.blockId=this.fc;return a};n.h.vf.prototype.wa=function(a){n.h.vf.A.wa.call(this,a);this.fc=a.blockId};n.h.kh=function(a,c,d,e,f){a&&(n.h.kh.A.constructor.call(this,a),this.element=c,this.name=d,this.oldValue=e,this.newValue=f)};n.g.object.S(n.h.kh,n.h.vf);n.h.jh=n.h.kh;b=n.h.kh.prototype;b.type=n.h.Ij;
b.Wa=function(){var a=n.h.kh.A.Wa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};b.wa=function(a){n.h.kh.A.wa.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};b.bj=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=ba(this).ad(this.fc);if(c)switch(c.Fe&&c.Fe.pb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=ca(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.al(a||null);break;case "collapsed":c.ai(!!a);break;case "disabled":c.qf(!a);break;case "inline":c.vj(!!a);break;case "mutation":var d="";c.yc&&(d=(d=c.yc())&&n.R.Td(d));if(c.xe){var e=n.R.Aj(a||"<mutation/>");c.xe(e)}n.h.Ca(new n.h.kh(c,"mutation",null,
d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.fc)};n.h.Pe=function(a){a&&(n.h.Pe.A.constructor.call(this,a),this.xml=a.D.ta?n.R.ns(a):n.R.Dg(a),this.Ti=n.h.kz(a))};n.g.object.S(n.h.Pe,n.h.vf);n.h.Xn=n.h.Pe;n.h.Pe.prototype.type=n.h.co;n.h.Pe.prototype.Wa=function(){var a=n.h.Pe.A.Wa.call(this);a.xml=n.R.Td(this.xml);a.ids=this.Ti;return a};
n.h.Pe.prototype.wa=function(a){n.h.Pe.A.wa.call(this,a);this.xml=n.R.Aj(a.xml);this.Ti=a.ids};n.h.Pe.prototype.run=function(a){var c=ba(this);if(a)a=n.g.xml.createElement("xml"),a.appendChild(this.xml),n.R.qm(a,c);else{a=0;for(var d;d=this.Ti[a];a++){var e=c.ad(d);e?e.H(!1):d==this.fc&&console.warn("Can't uncreate non-existent block: "+d)}}};
n.h.xf=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");n.h.xf.A.constructor.call(this,a);this.Cu=a.D.ta?n.R.ns(a):n.R.Dg(a);this.Ti=n.h.kz(a)}};n.g.object.S(n.h.xf,n.h.vf);n.h.dC=n.h.xf;n.h.xf.prototype.type=n.h.wl;n.h.xf.prototype.Wa=function(){var a=n.h.xf.A.Wa.call(this);a.ids=this.Ti;return a};n.h.xf.prototype.wa=function(a){n.h.xf.A.wa.call(this,a);this.Ti=a.ids};
n.h.xf.prototype.run=function(a){var c=ba(this);if(a){a=0;for(var d;d=this.Ti[a];a++){var e=c.ad(d);e?e.H(!1):d==this.fc&&console.warn("Can't delete non-existent block: "+d)}}else a=n.g.xml.createElement("xml"),a.appendChild(this.Cu),n.R.qm(a,c)};n.h.si=function(a){a&&(n.h.si.A.constructor.call(this,a),a=da(this),this.xA=a.GA,this.wA=a.Uz,this.zu=a.zy)};n.g.object.S(n.h.si,n.h.vf);n.h.tl=n.h.si;b=n.h.si.prototype;b.type=n.h.Gl;
b.Wa=function(){var a=n.h.si.A.Wa.call(this);this.mj&&(a.newParentId=this.mj);this.lj&&(a.newInputName=this.lj);this.Qh&&(a.newCoordinate=Math.round(this.Qh.x)+","+Math.round(this.Qh.y));return a};b.wa=function(a){n.h.si.A.wa.call(this,a);this.mj=a.newParentId;this.lj=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Qh=new n.g.O(Number(a[0]),Number(a[1])))};b.pj=function(){var a=da(this);this.mj=a.GA;this.lj=a.Uz;this.Qh=a.zy};
function da(a){var c=ba(a).ad(a.fc);a={};var d=c.getParent();if(d){if(a.GA=d.id,c=ea(d,c))a.Uz=c.name}else a.zy=c.Ua();return a}b.bj=function(){return this.xA==this.mj&&this.wA==this.lj&&n.g.O.Of(this.zu,this.Qh)};
b.run=function(a){var c=ba(this),d=c.ad(this.fc);if(d){var e=a?this.mj:this.xA,f=a?this.lj:this.wA;a=a?this.Qh:this.zu;var h=null;if(e&&(h=c.ad(e),!h)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&w(d);if(a)f=d.Ua(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.L||d.V;if(f){if(c=x(h,f))var k=c.connection}else d.type==n.Ve&&(k=h.T);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.fc)};n.C=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Jn=a;this.Ok=n.C.bH(a);this.pa=c;this.Hq=null;(a=d||null)&&a.GB&&(this.Hq=a.GB)};n.C.types={Qb:"field",Bd:"block",ke:"input",ui:"output",Hd:"next",Id:"previous",zf:"stack",Df:"workspace"};n.C.uh=!1;n.C.wC=-20;n.C.bH=function(a){switch(a){case n.C.types.Id:case n.C.types.Hd:case n.C.types.ke:case n.C.types.ui:return!0}return!1};n.C.pk=function(a){return a?new n.C(n.C.types.Qb,a):null};
n.C.Kf=function(a){return a?a.type==n.lb||a.type==n.gb&&a.Rf()?n.C.Ei(a.Rf()):a.type==n.gb?new n.C(n.C.types.Hd,a):a.type==n.Ue?new n.C(n.C.types.ui,a):a.type==n.Ve?new n.C(n.C.types.Id,a):null:null};n.C.Ei=function(a){return a&&a.connection?new n.C(n.C.types.ke,a.connection):null};n.C.Jf=function(a){return a?new n.C(n.C.types.Bd,a):null};n.C.lm=function(a){return a?new n.C(n.C.types.zf,a):null};n.C.qk=function(a,c){return c&&a?new n.C(n.C.types.Df,a,{GB:c}):null};
n.C.Ds=function(a){var c=a.V||a.L;return c?n.C.Kf(c):n.C.Jf(a)};b=n.C.prototype;b.Ya=function(){return this.Jn};function fa(a,c){a=a.pa;a instanceof n.nd||(a=a.X());if(!a||!a.D)return null;var d=a.cd();a=d.D.jc(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:n.C.lm(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function ha(a){if(!a)return null;do var c=a.V&&a.V.na();while(c&&u(c)==a&&(a=c));return(c=a.V||a.L)&&c.ka&&c.ka.Rf()?n.C.Ei(c.ka.Rf()):n.C.lm(a)}b.X=function(){return this.Ya()===n.C.types.Bd?this.pa:this.Ya()===n.C.types.zf?this.pa:this.Ya()===n.C.types.Df?null:this.pa.X()};
b.next=function(){switch(this.Jn){case n.C.types.zf:return fa(this,!0);case n.C.types.ui:var a=this.pa;return n.C.Jf(a.X());case n.C.types.Qb:a:{var c=this.pa,d=c.Rf();a=c.X();c=d.cb.indexOf(c)+1;d=a.P.indexOf(d);for(var e;e=a.P[d];d++){for(var f=e.cb;c<f.length;){if(ia(f[c])||n.C.uh){a=n.C.pk(f[c]);break a}c++}c=0;if(e.connection){a=n.C.Ei(e);break a}}a=null}return a;case n.C.types.ke:a:{c=this.pa.Rf();a=c.X();for(c=a.P.indexOf(c)+1;d=a.P[c];c++){e=d.cb;f=0;for(var h;h=e[f];f++)if(ia(h)||n.C.uh){a=
n.C.pk(h);break a}if(d.connection){a=n.C.Ei(d);break a}}a=null}return a;case n.C.types.Bd:return n.C.Kf(this.pa.T);case n.C.types.Id:return a=this.pa,n.C.Jf(a.X());case n.C.types.Hd:return a=this.pa,n.C.Kf(a.ka)}return null};
b.Vf=function(){switch(this.Jn){case n.C.types.Df:var a=this.pa.jc(!0);if(0<a.length)return n.C.lm(a[0]);break;case n.C.types.zf:a=this.pa;var c=a.V||a.L;return c?n.C.Kf(c):n.C.Jf(a);case n.C.types.Bd:a=this.pa;a:{a=a.P;c=0;for(var d;d=a[c];c++){for(var e=d.cb,f=0,h;h=e[f];f++)if(ia(h)||n.C.uh){a=n.C.pk(h);break a}if(d.connection){a=n.C.Ei(d);break a}}a=null}return a;case n.C.types.ke:return n.C.Kf(this.pa.ka)}return null};
b.Je=function(){switch(this.Jn){case n.C.types.zf:return fa(this,!1);case n.C.types.Qb:a:{var a=this.pa;var c=a.Rf();var d=a.X();a=c.cb.indexOf(a)-1;for(var e=d.P.indexOf(c),f;f=d.P[e];e--){if(f.connection&&f!==c){c=n.C.Ei(f);break a}for(f=f.cb;-1<a;){if(ia(f[a])||n.C.uh){c=n.C.pk(f[a]);break a}a--}0<=e-1&&(a=d.P[e-1].cb.length-1)}c=null}return c;case n.C.types.ke:a:{c=this.pa.Rf();d=c.X();for(a=d.P.indexOf(c);e=d.P[a];a--){if(e.connection&&e!==c){c=n.C.Ei(e);break a}e=e.cb;f=e.length-1;for(var h;h=
e[f];f--)if(ia(h)||n.C.uh){c=n.C.pk(h);break a}}c=null}return c;case n.C.types.Bd:return c=this.pa,n.C.Kf(c.V||c.L);case n.C.types.Id:c=this.pa;if((c=c.ka)&&!c.Rf())return n.C.Kf(c);break;case n.C.types.Hd:return c=this.pa,n.C.Jf(c.X())}return null};
b.Zf=function(){switch(this.Jn){case n.C.types.zf:var a=this.pa,c=a.Ua();return n.C.qk(a.D,new n.g.O(c.x,c.y+n.C.wC));case n.C.types.ui:return a=this.pa,(c=a.ka)?n.C.Kf(c):n.C.lm(a.X());case n.C.types.Qb:return n.C.Jf(this.pa.X());case n.C.types.ke:return a=this.pa,n.C.Jf(a.X());case n.C.types.Bd:return a=this.pa,ha(a);case n.C.types.Id:return a=this.pa,ha(a.X());case n.C.types.Hd:return a=this.pa,ha(a.X())}return null};n.g.j={};n.g.j.Go="http://www.w3.org/2000/svg";n.g.j.dr="http://www.w3.org/1999/xhtml";n.g.j.Kc="http://www.w3.org/1999/xlink";n.g.j.sg={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};n.g.j.Ze=null;n.g.j.rs=0;n.g.j.Uo=null;n.g.j.K=function(a,c,d){a=document.createElementNS(n.g.j.Go,a);for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
n.g.j.vb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};n.g.j.Ac=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};n.g.j.Ht=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};
n.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};n.g.j.Wi=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};n.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&n.g.j.sg.DOCUMENT_POSITION_CONTAINED_BY)};n.g.j.sn=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};n.g.j.yn=function(){n.g.j.rs++;n.g.j.Ze||(n.g.j.Ze={})};
n.g.j.zn=function(){n.g.j.rs--;n.g.j.rs||(n.g.j.Ze=null)};n.g.j.BM=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(n.g.j.Ze&&(d=n.g.j.Ze[c]))return d;try{d=n.g.userAgent.Qe||n.g.userAgent.oi?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}n.g.j.Ze&&(n.g.j.Ze[c]=d);return d};n.g.j.vt=function(a,c,d,e){return n.g.j.vG(a,c+"pt",d,e)};
n.g.j.vG=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var h;if(n.g.j.Ze&&(h=n.g.j.Ze[a]))return h;n.g.j.Uo||(h=document.createElement("canvas"),h.className="blocklyComputeCanvas",document.body.appendChild(h),n.g.j.Uo=h.getContext("2d"));n.g.j.Uo.font=d+" "+c+" "+e;h=n.g.j.Uo.measureText(f).width;n.g.j.Ze&&(n.g.j.Ze[a]=h);return h};
n.g.j.wH=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.Ye=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};n.hb={};n.hb.Ts=0;n.hb.ip=null;n.hb.PF=function(a){var c=a.D,d=a.Da();c.Nd.play("delete");a=ja(c,d);d=d.cloneNode(!0);d.WI=a.x;d.XI=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");y(c).appendChild(d);d.Yx=d.getBBox();n.hb.Ry(d,c.J,new Date,c.scale)};n.hb.Ry=function(a,c,d,e){var f=(new Date-d)/150;1<f?n.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.WI+(c?-1:1)*a.Yx.width*e/2*f)+","+(a.XI+a.Yx.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(n.hb.Ry,10,a,c,d,e))};
n.hb.qF=function(a){var c=a.D,d=c.scale;c.Nd.play("click");if(!(1>d)){var e=ja(c,a.Da());a.L?(e.x+=(a.J?3:-3)*d,e.y+=13*d):a.V&&(e.x+=(a.J?-23:23)*d,e.y+=3*d);a=n.g.j.K("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},y(c));n.hb.ty(a,new Date,d)}};n.hb.ty=function(a,c,d){var e=(new Date-c)/150;1<e?n.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,n.hb.Ts=setTimeout(n.hb.ty,10,a,c,d))};
n.hb.OF=function(a){a.D.Nd.play("disconnect");if(!(1>a.D.scale)){var c=ka(a).height;c=Math.atan(10/c)/Math.PI*180;a.J||(c*=-1);n.hb.Qy(a.Da(),c,new Date)}};n.hb.Qy=function(a,c,d){var e=(new Date-d)/200;1<e?a.xn="":(a.xn="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",n.hb.ip=a,n.hb.Ts=setTimeout(n.hb.Qy,10,a,c,d));a.setAttribute("transform",a.Hn+a.xn)};n.hb.Us=function(){if(n.hb.ip){clearTimeout(n.hb.Ts);var a=n.hb.ip;a.xn="";a.setAttribute("transform",a.Hn);n.hb.ip=null}};n.h.Rb=function(a,c,d,e){n.h.Rb.A.constructor.call(this);this.fc=a?a.id:null;this.Cb=a?a.D.id:void 0;this.element=c;this.oldValue=d;this.newValue=e;this.zc=!1};n.g.object.S(n.h.Rb,n.h.Abstract);n.h.Rb.prototype.type=n.h.Tl;n.h.Rb.prototype.Wa=function(){var a=n.h.Rb.A.Wa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.fc&&(a.blockId=this.fc);return a};
n.h.Rb.prototype.wa=function(a){n.h.Rb.A.wa.call(this,a);this.element=a.element;this.newValue=a.newValue;this.fc=a.blockId};
n.Re=function(a){this.gh=n.selected=a;this.s=a.D;this.Tk=this.Wt=null;this.vm=ma(this,this.gh);this.Pc=this.Gb=null;this.jg=!1;this.tm=this.Lt=this.fj=null;this.Ro=na(this)};n.Re.Wj={hr:0,cD:1,qx:2};n.Re.prototype.H=function(){this.Ro.length=0;n.h.disable();try{this.vm&&this.vm.H(),this.Tk&&this.Tk.H()}finally{n.h.enable()}};
n.Re.prototype.update=function(a,c){var d=this.Gb&&this.Pc?n.lC:n.Jd;for(var e=null,f=null,h=0;h<this.Ro.length;h++){var k=this.Ro[h],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.lq)}e=(d={closest:e,local:f,lq:d},!!d.closest)&&c!=n.mw;if((this.jg=!!c&&!this.gh.getParent()&&this.gh.Yd()&&!e)||oa(this,d,a)){n.h.disable();d.closest?(a=this.Gb!=d.closest,c=this.Pc!=d.local,this.Gb&&this.Pc&&(a||c||this.jg)&&pa(this)):pa(this);this.Pc=this.Gb=this.fj=null;if(!this.jg&&(a=d.closest,c=d.local,
a))if(a==this.Gb||a.X().mf())console.log("Trying to connect to an insertion marker");else{this.Gb=a;this.Pc=c;a=this.Gb;d=this.Pc;c=this.gh;d.type==n.Ue||d.type==n.Ve?((e=!a.isConnected())||(e=a.na(),d.type==n.Ue?(d=e.L,c=n.sa.fA(c,e)):(d=e.V,c=c.Op()),e=c?qa(d,c):!1),c=e?n.Re.Wj.hr:n.Re.Wj.qx):c=n.Re.Wj.hr;switch(c){case n.Re.Wj.cD:this.Lt=this.Gb.X();break;case n.Re.Wj.hr:e=this.Pc;c=this.Gb;d=this.Wt&&e==this.Wt?this.Tk:this.vm;e=d.xt(e.X(),e);if(e==this.fj)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");
d.xa();d.ta=!0;d.Da().setAttribute("visibility","visible");e&&c&&ra(d,e,c);c&&e.connect(c);this.fj=e;break;case n.Re.Wj.qx:this.tm=this.Gb.na(),sa(this.tm.yb,"blocklyReplaceable",!0)}a&&(d=a.I.D.ob.Z(),c=ta(d,a),a.type==n.lb||a.type==n.Ue?(d=d.ak,c=n.g.B.moveBy(0,-d)+n.g.B.aa("v",d)+c.Ie+n.g.B.aa("v",d)):(d=d.Il-d.rb,c=n.g.B.moveBy(-d,0)+n.g.B.aa("h",d)+c.Uh+n.g.B.aa("h",d)),d=a.I.Ua(),n.sa.Rz=n.g.j.K("path",{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-
d.y)+")"+(a.I.J?" scale(-1 1)":"")},a.I.Da()))}n.h.enable()}};function ma(a,c){var d=c.type;n.h.disable();try{var e=a.s.Vk(d);e.cB(!0);if(c.yc){var f=c.yc();f&&e.xe(f)}for(a=0;a<c.P.length;a++){var h=c.P[a];if(h.name!=n.nd.ul){var k=e.P[a];for(d=0;d<h.cb.length;d++)k.cb[d].setValue(h.cb[d].getValue())}}e.ai(c.isCollapsed());e.vj(ua(c));e.Wf();e.Da().setAttribute("visibility","hidden")}finally{n.h.enable()}return e}
function na(a){var c=a.gh.jf(!1),d=a.gh.Op();d&&d!=a.gh.T&&(c.push(d),a.Wt=d,a.Tk=ma(a,d.X()));return c}
function oa(a,c,d){var e=c.local,f=c.closest;c=c.lq;if(e&&f){if(a.Pc&&a.Gb){if(a.Gb==f&&a.Pc==e)return!1;e=a.Pc.x+d.x-a.Gb.x;a=a.Pc.y+d.y-a.Gb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-n.qC)}if(a.Pc||a.Gb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Pc||!a.Gb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function pa(a){a.Gb&&a.Gb.na()&&(n.g.j.removeNode(n.sa.Rz),delete n.sa.Rz);if(a.tm)sa(a.tm.yb,"blocklyReplaceable",!1),a.tm=null;else if(a.Lt)a.Lt=null;else if(a.fj)if(a.fj){var c=a.fj,d=c.X(),e=d.T,f=d.V,h=d.L;h=c.type==n.lb&&!(h&&h.ka);!(c!=e||f&&f.ka)||h?w(c.na(),!1):c.type==n.gb&&c!=e?(e=c.ka,w(e.X(),!1),f=f?f.ka:null,w(d,!0),f&&f.connect(e)):w(d,!0);if(c.ka)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.fj=null;d.Da().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
n.Re.prototype.Ek=function(){var a=[];this.vm&&a.push(this.vm);this.Tk&&a.push(this.Tk);return a};n.ki=function(a,c){this.mb=a;this.s=c;this.Nf=new n.Re(this.mb);this.Gi=null;this.jg=!1;this.gg=this.mb.Ua();this.kp=n.ki.YG(a)};n.ki.prototype.H=function(){this.kp.length=0;this.Nf&&this.Nf.H()};n.ki.YG=function(a){var c=[];a=t(a,!1);for(var d=0,e;e=a[d];d++){e=va(e);for(var f=0;f<e.length;f++)c.push({location:e[f].Gm,icon:e[f]})}return c};
function wa(a,c,d){d=a.Xk(d);var e=n.g.O.sum(a.gg,d);a.mb.tu(e);for(e=0;e<a.kp.length;e++){var f=a.kp[e];xa(f.icon,n.g.O.sum(f.location,d))}a.Gi=ya(a.s,c);a.Nf.update(d,a.Gi);a.jg=a.Nf.jg;c=a.s.Ec;a.jg?(za(a.mb,!0),a.Gi==n.Vq&&c&&Aa(c,!0)):(za(a.mb,!1),c&&Aa(c,!1))}
function Ba(a,c,d){wa(a,c,d);a.kp=[];c=new n.h.Rb(a.mb,"dragStop",t(a.mb,!1),null);n.h.Ca(c);n.g.j.zn();n.hb.Us();d=a.Xk(d);c=n.g.O.sum(a.gg,d);var e=a.mb;e.On&&(e.translate(c.x,c.y),e.D.Od.Xo(e.D.qb));c=a.s.Ec;a.jg?(c&&setTimeout(c.close.bind(c),100),a.um(),a.mb.H(!1,!0),n.zk=[]):c&&c.close();a.jg||(Ca(a.mb,d.x,d.y),a.mb.bi(!1),a.um(),a.Nf.Gb?(d=a.Nf,d.Gb&&(n.h.disable(),pa(d),n.h.enable(),d.Pc.connect(d.Gb),d.gh.ta&&(n.hb.qF((Da(d.Pc)?d.Gb:d.Pc).X()),Ea(d.gh.cd())))):a.mb.xa(),Fa(a.mb));a.s.pc(!0);
(d=a.s.qa)&&"function"==typeof d.oq&&d.oq(a.mb.Yd()?"blocklyToolboxDelete":"blocklyToolboxGrab");n.h.ca(!1)}n.ki.prototype.um=function(){var a=new n.h.tl(this.mb);a.zu=this.gg;a.pj();n.h.Ca(a)};n.ki.prototype.Xk=function(a){a=new n.g.O(a.x/this.s.scale,a.y/this.s.scale);this.s.Pm&&a.scale(1/this.s.options.nc.scale);return a};n.ki.prototype.Ek=function(){return this.Nf&&this.Nf.Ek?this.Nf.Ek():[]};n.Touch={};n.Touch.Cx="ontouchstart"in n.g.global||!!(n.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!n.g.global.navigator||!n.g.global.navigator.maxTouchPoints&&!n.g.global.navigator.msMaxTouchPoints);n.Touch.Gn=null;n.Touch.Af={};
n.g.global.PointerEvent?n.Touch.Af={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:n.Touch.Cx&&(n.Touch.Af={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});n.Pp=0;
n.tH=function(a,c){n.Nh();a.changedTouches&&1!=a.changedTouches.length||(n.Pp=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&Ga(c,a)},n.tD))};n.Nh=function(){n.Pp&&(clearTimeout(n.Pp),n.Pp=0)};n.Touch.cm=function(){n.Touch.Gn=null};n.Touch.wv=function(a){return!n.Touch.gH(a)||n.Touch.gF(a)};
n.Touch.yp=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};n.Touch.gF=function(a){var c=n.Touch.yp(a);return void 0!==n.Touch.Gn&&null!==n.Touch.Gn?n.Touch.Gn==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(n.Touch.Gn=c,!0):!1};
n.Touch.xI=function(a){if(n.g.Ta.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};n.Touch.gH=function(a){return n.g.Ta.startsWith(a.type,"touch")||n.g.Ta.startsWith(a.type,"mouse")||n.g.Ta.startsWith(a.type,"pointer")};n.Touch.Np=function(a){return n.g.Ta.startsWith(a.type,"touch")||n.g.Ta.startsWith(a.type,"pointer")};
n.Touch.II=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};
n.g.AK=function(){};
n.Rl=function(a){this.s=a;this.Ce=new n.Pa(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.Oe=new n.Pa(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.im=n.g.j.K("rect",{height:n.Pa.Bc,width:n.Pa.Bc,"class":"blocklyScrollbarBackground"},null);n.g.j.Wi(this.im,a.eh);this.zb=null};n.Rl.prototype.H=function(){n.g.j.removeNode(this.im);this.zb=this.s=this.im=null;this.Ce.H();this.Ce=null;this.Oe.H();this.Oe=null};
n.Rl.prototype.resize=function(){var a=this.s.Vd();if(a){var c=!1,d=!1;this.zb&&this.zb.Bb==a.Bb&&this.zb.Ib==a.Ib&&this.zb.Lc==a.Lc&&this.zb.vc==a.vc?(this.zb&&this.zb.cf==a.cf&&this.zb.Jb==a.Jb&&this.zb.Nc==a.Nc||(c=!0),this.zb&&this.zb.qd==a.qd&&this.zb.Pb==a.Pb&&this.zb.wc==a.wc||(d=!0)):d=c=!0;c&&this.Ce.resize(a);d&&this.Oe.resize(a);this.zb&&this.zb.Bb==a.Bb&&this.zb.vc==a.vc||this.im.setAttribute("x",this.Oe.position.x);this.zb&&this.zb.Ib==a.Ib&&this.zb.Lc==a.Lc||this.im.setAttribute("y",
this.Ce.position.y);this.zb=a}};n.Rl.prototype.set=function(a,c){var d={};a*=this.Ce.ratio;c*=this.Oe.ratio;var e=this.Oe.Ke,f=a/this.Ce.Ke;d.x=isNaN(f)?0:f;e=c/e;d.y=isNaN(e)?0:e;this.s.tn(d);Ha(this.Ce,a);Ha(this.Oe,c)};
n.Pa=function(a,c,d,e){this.s=a;this.Wk=d||!1;this.Si=c;this.ratio=this.zb=null;this.jm(e);this.position=new n.g.O(0,0);a=n.Pa.Bc;c?(this.Dc.setAttribute("height",a),this.$f.setAttribute("height",a),this.yd.setAttribute("height",a-5),this.yd.setAttribute("y",2.5),this.Qm="width",this.KA="x"):(this.Dc.setAttribute("width",a),this.$f.setAttribute("width",a),this.yd.setAttribute("width",a-5),this.yd.setAttribute("x",2.5),this.Qm="height",this.KA="y");this.DA=n.va(this.Dc,"mousedown",this,this.XH);this.EA=
n.va(this.yd,"mousedown",this,this.YH)};b=n.Pa.prototype;b.Ku=new n.g.O(0,0);b.jB=0;b.Ke=0;b.Fh=0;b.Cm=0;b.Vg=!0;b.Ci=!0;n.Pa.Bc=15;n.Touch.Cx&&(n.Pa.Bc=25);n.Pa.xH=function(a,c){return a&&c&&a.Bb==c.Bb&&a.Ib==c.Ib&&a.Jb==c.Jb&&a.Pb==c.Pb&&a.Lc==c.Lc&&a.vc==c.vc&&a.cf==c.cf&&a.qd==c.qd&&a.Nc==c.Nc&&a.wc==c.wc?!0:!1};
n.Pa.prototype.H=function(){Ia();n.Za(this.DA);this.DA=null;n.Za(this.EA);this.EA=null;n.g.j.removeNode(this.$f);this.Dc=this.N=this.$f=null;this.yd&&(this.s.bc.unsubscribe(this.yd),this.yd=null);this.s=null};function Ha(a,c){a.Cm=c;a.yd.setAttribute(a.KA,a.Cm)}function Ja(a,c){a.Ke=c;a.$f.setAttribute(a.Qm,a.Ke);a.Dc.setAttribute(a.Qm,a.Ke)}n.Rl.prototype.tj=function(a){this.Ce.tj(a);this.Oe.tj(a)};b=n.Pa.prototype;
b.setPosition=function(a,c){this.position.x=a;this.position.y=c;n.g.j.sn(this.$f,"translate("+(this.position.x+this.Ku.x)+"px,"+(this.position.y+this.Ku.y)+"px)")};b.resize=function(a){if(!a&&(a=this.s.Vd(),!a))return;n.Pa.xH(a,this.zb)||(this.zb=a,this.Si?Ka(this,a):La(this,a),Ma(this))};function Ka(a,c){var d=c.Bb-1;a.Wk&&(d-=n.Pa.Bc);Ja(a,Math.max(0,d));d=c.vc+.5;a.Wk&&a.s.J&&(d+=n.Pa.Bc);a.setPosition(d,c.Lc+c.Ib-n.Pa.Bc-.5);Na(a,c)}
function Na(a,c){a.Wk||a.pb(a.Ke<c.cf);a.ratio=a.Ke/c.cf;if(-Infinity==a.ratio||Infinity==a.ratio||isNaN(a.ratio))a.ratio=0;a.Fh=Math.max(0,c.Bb*a.ratio);a.yd.setAttribute(a.Qm,a.Fh);Ha(a,Oa(a,(c.Jb-c.Nc)*a.ratio))}function La(a,c){var d=c.Ib-1;a.Wk&&(d-=n.Pa.Bc);Ja(a,Math.max(0,d));d=c.vc+.5;a.s.J||(d+=c.Bb-n.Pa.Bc-1);a.setPosition(d,c.Lc+.5);Pa(a,c)}
function Pa(a,c){a.Wk||a.pb(a.Ke<c.qd);a.ratio=a.Ke/c.qd;if(-Infinity==a.ratio||Infinity==a.ratio||isNaN(a.ratio))a.ratio=0;a.Fh=Math.max(0,c.Ib*a.ratio);a.yd.setAttribute(a.Qm,a.Fh);Ha(a,Oa(a,(c.Pb-c.wc)*a.ratio))}
b.jm=function(a){var c="blocklyScrollbar"+(this.Si?"Horizontal":"Vertical");a&&(c+=" "+a);this.$f=n.g.j.K("svg",{"class":c},null);this.N=n.g.j.K("g",{},this.$f);this.Dc=n.g.j.K("rect",{"class":"blocklyScrollbarBackground"},this.N);a=Math.floor((n.Pa.Bc-5)/2);this.yd=n.g.j.K("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.N);this.s.bc.subscribe(this.yd,"scrollbarColour","fill");this.s.bc.subscribe(this.yd,"scrollbarOpacity","fill-opacity");n.g.j.Wi(this.$f,y(this.s))};b.isVisible=function(){return this.Vg};
b.tj=function(a){var c=a!=this.Ci;this.Ci=a;c&&this.Kn()};b.pb=function(a){var c=a!=this.isVisible();if(this.Wk)throw Error("Unable to toggle visibility of paired scrollbars.");this.Vg=a;c&&this.Kn()};b.Kn=function(){this.Ci&&this.isVisible()?this.$f.setAttribute("display","block"):this.$f.setAttribute("display","none")};
b.XH=function(a){Ra(this.s);n.Touch.cm();Ia();if(n.g.cj(a))a.stopPropagation();else{var c=n.g.Zm(a,y(this.s),Sa(this.s));c=this.Si?c.x:c.y;var d=n.g.Am(this.yd);d=this.Si?d.x:d.y;var e=this.Cm,f=.95*this.Fh;c<=d?e-=f:c>=d+this.Fh&&(e+=f);Ha(this,Oa(this,e));Ma(this);a.stopPropagation();a.preventDefault()}};
b.YH=function(a){Ra(this.s);Ia();n.g.cj(a)?a.stopPropagation():(this.JI=this.Cm,Ta(this.s),this.jB=this.Si?a.clientX:a.clientY,n.Pa.Th=n.va(document,"mouseup",this,this.bI),n.Pa.Sh=n.va(document,"mousemove",this,this.ZH),a.stopPropagation(),a.preventDefault())};b.ZH=function(a){Ha(this,Oa(this,this.JI+((this.Si?a.clientX:a.clientY)-this.jB)));Ma(this)};b.bI=function(){Ua(this.s);n.Touch.cm();Ia()};function Ia(){n.Vb(!0);n.Pa.Th&&(n.Za(n.Pa.Th),n.Pa.Th=null);n.Pa.Sh&&(n.Za(n.Pa.Sh),n.Pa.Sh=null)}
function Oa(a,c){return c=0>=c||isNaN(c)||a.Ke<a.Fh?0:Math.min(c,a.Ke-a.Fh)}function Ma(a){var c=a.Cm/a.Ke;isNaN(c)&&(c=0);var d={};a.Si?d.x=c:d.y=c;a.s.tn(d)}b.set=function(a){Ha(this,Oa(this,a*this.ratio));Ma(this)};n.g.$d={};n.g.$d.Ev=function(a){return a*Math.PI/180};n.g.$d.GN=function(a){return 180*a/Math.PI};n.g.$d.bm=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};n.ga={};n.ga.In={};n.ga.kw="default";n.ga.Kb=function(a){this.uu=a};n.ga.Kb.prototype.toString=function(){return this.uu};n.ga.Kb.RENDERER=new n.ga.Kb("renderer");n.ga.Kb.Qb=new n.ga.Kb("field");n.ga.Kb.bk=new n.ga.Kb("toolbox");n.ga.Kb.Bx=new n.ga.Kb("theme");
n.ga.register=function(a,c,d){if(!(a instanceof n.ga.Kb)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var e=n.ga.In[a];e||(e=n.ga.In[a]={});n.ga.bJ(a,d);if(e[c])throw Error('Name "'+c+'" with type "'+
a+'" already registered.');e[c]=d};n.ga.bJ=function(a,c){switch(a){case String(n.ga.Kb.Qb):if("function"!=typeof c.wa)throw Error('Type "'+a+'" must have a fromJson function');}};n.ga.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=n.ga.In[a];d?d[c]?delete n.ga.In[a][c]:console.warn('No name "'+c+'" with type "'+a+'" found'):console.warn('No type "'+a+'" found')};
n.ga.pz=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=n.ga.In[a];return d?d[c]?d[c]:(console.warn('No name "'+c+'" with type "'+a+'" found'),null):(console.warn('No type "'+a+'" found'),null)};n.ga.st=function(a,c){return n.ga.pz(a,c)};n.ga.qz=function(a){return n.ga.pz(n.ga.Kb.Bx,a)};n.ga.nG=function(a){var c=n.ga.Kb.bk;a=a.plugins[c.toString()]||n.ga.kw;return"function"==typeof a?a:n.ga.st(c,a)};n.xi=function(a,c,d,e){this.name=a;this.xh=c||Object.create(null);this.Vo=d||Object.create(null);this.py=e||Object.create(null);this.fontStyle=Object.create(null);this.zv=null;n.ga.register(n.ga.Kb.Bx,a,this)};n.xi.prototype.hf=function(){return this.name+"-theme"};function Va(a,c){return(c=a.py[c])&&"string"==typeof propertyValue&&Va(a,c)?Va(a,c):c?String(c):null}
n.xi.GF=function(a,c){var d=new n.xi(a),e=c.base;e&&("string"==typeof e&&(e=n.ga.qz(e)),e instanceof n.xi&&(n.g.object.tk(d,e),d.name=a));n.g.object.tk(d.xh,c.blockStyles);n.g.object.tk(d.Vo,c.categoryStyles);n.g.object.tk(d.py,c.componentStyles);n.g.object.tk(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.zv=c.startHats);return d};n.Ag={};n.Ag.lh={};n.Ag.lh.DF={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
n.Ag.lh.Vo={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};n.Ag.lh=new n.xi("classic",n.Ag.lh.DF,n.Ag.lh.Vo);n.g.ma={NL:0,uK:3,WB:8,iE:9,EK:12,mo:13,Xj:16,AJ:17,QB:18,nL:19,tJ:20,Xq:27,vx:32,QD:33,PD:34,HC:35,WC:36,kr:37,Ko:38,Ir:39,lo:40,qL:43,rL:44,gr:45,wl:46,ZERO:48,ONE:49,HL:50,CL:51,eK:52,dK:53,AL:54,yL:55,HJ:56,CK:57,bK:59,$J:61,ZJ:173,aK:163,sL:63,pJ:64,Rv:65,qJ:66,eC:67,jw:68,E:69,LJ:70,fK:71,iK:72,$C:73,nK:74,jD:75,oK:76,tK:77,BK:78,UK:79,mL:80,Q:81,tL:82,sx:83,hE:84,JL:85,rE:86,Lx:87,Rx:88,BE:89,DE:90,BD:91,OL:92,zJ:93,TK:96,MK:97,SK:98,RK:99,IK:100,HK:101,QK:102,PK:103,GK:104,LK:105,KK:106,OK:107,
JK:109,NK:110,FK:111,MJ:112,QJ:113,RJ:114,SJ:115,TJ:116,UJ:117,VJ:118,WJ:119,XJ:120,NJ:121,OJ:122,PJ:123,DK:144,wL:145,cK:166,pK:183,xL:186,BJ:189,KJ:187,yJ:188,oL:190,BL:191,nJ:192,DL:192,zL:222,VK:219,rJ:220,wJ:221,ML:224,vK:224,wK:91,xK:93,LL:229,KL:252,pL:255};n.Ia={};n.Ia.Fa={};n.Ia.Fa.ej={};n.Ia.Fa.Ph={Xj:"Shift",nC:"Control",QB:"Alt",BD:"Meta"};n.Ia.Fa.sN=function(a,c){var d=n.Ia.Fa.xG(c);d&&delete n.Ia.Fa.ej[d];n.Ia.Fa.ej[a]=c};n.Ia.Fa.zI=function(a){n.Ia.Fa.ej=a};n.Ia.Fa.uM=function(){var a={};n.g.object.ae(a,n.Ia.Fa.ej);return a};n.Ia.Fa.hG=function(a){return n.Ia.Fa.ej[a]};n.Ia.Fa.xG=function(a){for(var c=Object.keys(n.Ia.Fa.ej),d=0,e;e=c[d];d++)if(n.Ia.Fa.ej[e].name===a.name)return e;return null};
n.Ia.Fa.vI=function(a){for(var c=n.g.object.values(n.Ia.Fa.Ph),d="",e=0,f;f=c[e];e++)a.getModifierState(f)&&(d+=f);return d+=a.keyCode};n.Ia.Fa.eF=function(a,c){for(var d=0,e;e=a[d];d++)if(0>c.indexOf(e))throw Error(e+" is not a valid modifier key.");};n.Ia.Fa.km=function(a,c){var d="",e=n.g.object.values(n.Ia.Fa.Ph);n.Ia.Fa.eF(c,e);for(var f=0,h;h=e[f];f++)-1<c.indexOf(h)&&(d+=h);return d+a};
n.Ia.Fa.rF=function(){var a={},c=n.Ia.Fa.km(n.g.ma.jD,[n.Ia.Fa.Ph.nC,n.Ia.Fa.Ph.Xj]),d=n.Ia.Fa.km(n.g.ma.Lx,[n.Ia.Fa.Ph.Xj]),e=n.Ia.Fa.km(n.g.ma.Rv,[n.Ia.Fa.Ph.Xj]),f=n.Ia.Fa.km(n.g.ma.sx,[n.Ia.Fa.Ph.Xj]),h=n.Ia.Fa.km(n.g.ma.jw,[n.Ia.Fa.Ph.Xj]);a[n.g.ma.Lx]=n.navigation.Sn;a[n.g.ma.Rv]=n.navigation.Uv;a[n.g.ma.sx]=n.navigation.Rn;a[n.g.ma.jw]=n.navigation.Tv;a[n.g.ma.$C]=n.navigation.JB;a[n.g.ma.mo]=n.navigation.KB;a[n.g.ma.Rx]=n.navigation.IB;a[n.g.ma.hE]=n.navigation.PB;a[n.g.ma.E]=n.navigation.Iq;
a[n.g.ma.Xq]=n.navigation.Iq;a[c]=n.navigation.Vv;a[d]=n.navigation.OB;a[e]=n.navigation.MB;a[f]=n.navigation.LB;a[h]=n.navigation.NB;return a};n.g.Pj={};n.g.Pj.NH=0;n.g.Pj.zt=function(){return"blockly-"+(n.g.Pj.NH++).toString(36)};n.g.Ne={};n.g.Ne.cp=function(a){return a?Array.isArray(a)&&a.length&&!a[0].nodeType?(n.g.Ne.Ik(a)&&console.warn("Due to some performance issues, defining a toolbox usingJSON is not ready yet. Please define your toolbox using xml."),a):n.g.Ne.rB(a):null};
n.g.Ne.rB=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},h=e.tagName.toUpperCase();f.kind=h;"BLOCK"==h?f.blockxml=e:"CATEGORY"==h&&(f.contents=n.g.Ne.rB(e));for(h=0;h<e.attributes.length;h++){var k=e.attributes[h];f[k.nodeName]=k.value}c.push(f)}return c};n.g.Ne.Ik=function(a){return Array.isArray(a)?!(!a.length||"CATEGORY"!=a[0].kind.toUpperCase()):!(!a||!a.getElementsByTagName("category").length)};n.h.Mj=function(a){this.Cb=a.id;this.group=n.h.Tb();this.zc=!1};n.g.object.S(n.h.Mj,n.h.Rb);n.h.Mj.prototype.type=n.h.ww;n.h.Mj.prototype.Wa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Cb&&(a.workspaceId=this.Cb);return a};n.h.Mj.prototype.wa=function(a){this.Cb=a.workspaceId;this.group=a.group};n.h.Bg=function(a){n.h.Bg.A.constructor.call(this);this.ei=a.Qa();this.Cb=a.D.id};n.g.object.S(n.h.Bg,n.h.Abstract);n.h.Bg.prototype.Wa=function(){var a=n.h.Bg.A.Wa.call(this);a.varId=this.ei;return a};n.h.Bg.prototype.wa=function(a){n.h.Bg.A.Wa.call(this);this.ei=a.varId};n.h.qe=function(a){a&&(n.h.qe.A.constructor.call(this,a),this.Ej=a.type,this.Dj=a.name)};n.g.object.S(n.h.qe,n.h.Bg);n.h.qe.prototype.type=n.h.Gx;
n.h.qe.prototype.Wa=function(){var a=n.h.qe.A.Wa.call(this);a.varType=this.Ej;a.varName=this.Dj;return a};n.h.qe.prototype.wa=function(a){n.h.qe.A.wa.call(this,a);this.Ej=a.varType;this.Dj=a.varName};n.h.qe.prototype.run=function(a){var c=ba(this);a?c.df(this.Dj,this.Ej,this.ei):c.Hi(this.ei)};n.h.Xe=function(a){a&&(n.h.Xe.A.constructor.call(this,a),this.Ej=a.type,this.Dj=a.name)};n.g.object.S(n.h.Xe,n.h.Bg);n.h.Xe.prototype.type=n.h.Hx;
n.h.Xe.prototype.Wa=function(){var a=n.h.Xe.A.Wa.call(this);a.varType=this.Ej;a.varName=this.Dj;return a};n.h.Xe.prototype.wa=function(a){n.h.Xe.A.wa.call(this,a);this.Ej=a.varType;this.Dj=a.varName};n.h.Xe.prototype.run=function(a){var c=ba(this);a?c.Hi(this.ei):c.df(this.Dj,this.Ej,this.ei)};n.h.Cf=function(a,c){a&&(n.h.Cf.A.constructor.call(this,a),this.Bu=a.name,this.vu=c)};n.g.object.S(n.h.Cf,n.h.Bg);n.h.Cf.prototype.type=n.h.Jx;
n.h.Cf.prototype.Wa=function(){var a=n.h.Cf.A.Wa.call(this);a.oldName=this.Bu;a.newName=this.vu;return a};n.h.Cf.prototype.wa=function(a){n.h.Cf.A.wa.call(this,a);this.Bu=a.oldName;this.vu=a.newName};n.h.Cf.prototype.run=function(a){var c=ba(this);a?c.rj(this.ei,this.vu):c.rj(this.ei,this.Bu)};n.R={};n.R.kJ=function(){var a=z,c=n.g.xml.createElement("xml"),d=n.R.eJ(n.ba.Wx(a));d.hasChildNodes()&&c.appendChild(d);var e=[].concat(a.Aq);1<e.length&&(a.fg.offset=Math.sin(n.g.$d.Ev(n.ub.tx)),a.J&&(a.fg.offset*=-1),e.sort(a.fg));d=0;for(var f;f=e[d];d++)c.appendChild(f.pB(!0));a=a.jc(!0);for(d=0;e=a[d];d++)c.appendChild(n.R.ns(e,!0));return c};
n.R.eJ=function(a){for(var c=n.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=n.g.xml.createElement("variable");f.appendChild(n.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.Qa();c.appendChild(f)}return c};n.R.ns=function(a,c){if(a.mf()&&(a=a.ye(!1)[0],!a))return new DocumentFragment;var d;a.D.J&&(d=a.D.Qg());c=n.R.Dg(a,c);var e=a.Ua();c.setAttribute("x",Math.round(a.D.J?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
n.R.$F=function(a){var c=!1;a.name&&(a.Ol?c=!0:a.xl&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=n.g.xml.createElement("field"),c.setAttribute("name",a.name||""),a.oB(c)):null};n.R.IE=function(a,c){for(var d=0,e;e=a.P[d];d++)for(var f=0,h;h=e.cb[f];f++)(h=n.R.$F(h))&&c.appendChild(h)};
n.R.Dg=function(a,c){if(a.mf())return(a=a.ye(!1)[0])?n.R.Dg(a):new DocumentFragment;var d=n.g.xml.createElement(a.Ra?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.yc){var e=a.yc();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}n.R.IE(a,d);if(e=a.af.text){var f=a.af.size,h=a.af.JA,k=n.g.xml.createElement("comment");k.appendChild(n.g.xml.createTextNode(e));k.setAttribute("pinned",h);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=n.g.xml.createElement("data"),e.appendChild(n.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.P[e];e++){var l;h=!0;if(f.type!=n.og){var m=f.connection.na();f.type==n.lb?l=n.g.xml.createElement("value"):f.type==n.gb&&(l=n.g.xml.createElement("statement"));k=f.connection.eg;!k||m&&m.Ra||l.appendChild(n.R.ky(k,c));m&&(k=n.R.Dg(m,c),k.nodeType==n.g.j.sg.ELEMENT_NODE&&(l.appendChild(k),h=!1));l.setAttribute("name",f.name);h||d.appendChild(l)}}void 0!=a.Rg&&a.Rg!=a.$G&&d.setAttribute("inline",
a.Rg);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Yd()||a.Ra||d.setAttribute("deletable",!1);a.wd()||a.Ra||d.setAttribute("movable",!1);a.vd()||d.setAttribute("editable",!1);if(e=u(a))k=n.R.Dg(e,c),k.nodeType==n.g.j.sg.ELEMENT_NODE&&(l=n.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.T&&a.T.eg;!k||e&&e.Ra||l.appendChild(n.R.ky(k,c));return d};
n.R.ky=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==n.g.j.sg.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&n.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==n.g.j.sg.TEXT_NODE&&""==e.data.trim()&&n.g.j.removeNode(e))}return a};
n.R.Td=function(a){a=n.g.xml.Td(a);var c=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var d=a;a=a.replace(c,"$1&#10;$2")}while(a!=d);return a.replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};n.R.cM=function(a){a=n.R.Td(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};
n.R.Aj=function(a){var c=n.g.xml.OI(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};n.R.YL=function(a,c){c.pc(!1);c.clear();a=n.R.qm(a,c);c.pc(!0);return a};
n.R.qm=function(a,c){if(a instanceof n.ub){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.J&&(e=c.Qg());d=[];n.g.j.yn();var f=n.h.Tb();f||n.h.ca(!0);c.pc&&c.pc(!1);var h=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),p=l;if("block"==m||"shadow"==m&&!n.h.zc){var q=n.R.yk(p,c);d.push(q.id);var r=p.hasAttribute("x")?parseInt(p.getAttribute("x"),10):10,v=p.hasAttribute("y")?parseInt(p.getAttribute("y"),10):10;isNaN(r)||
isNaN(v)||q.moveBy(c.J?e-r:r,v);h=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.ta?n.ek?n.ek.xm(p):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):n.yE?n.yE.xm(p):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(h)n.R.SF(p,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
h=!1}}}}finally{f||n.h.ca(!1),n.g.j.zn()}c.pc&&c.pc(!0);n.h.Ca(new n.h.Mj(c));return d};n.R.VL=function(a,c){var d;c.hasOwnProperty("scale")&&(d=Wa(c));a=n.R.qm(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.J?d.right:d.left;var h=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.ad(a[d]).Ua();m.y<l&&(l=m.y);m.x<h&&(h=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.J?f-k:f-h;for(d=0;d<a.length;d++)c.ad(a[d]).moveBy(f,e)}return a};
n.R.yk=function(a,c){if(a instanceof n.ub){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}n.h.disable();d=c.Mi();try{var e=n.R.Ys(a,c),f=t(e,!1);if(c.ta){Xa(e,!1);for(var h=f.length-1;0<=h;h--)f[h].Wf();for(h=f.length-1;0<=h;h--)f[h].xa(!1);setTimeout(function(){e.ff||Xa(e,!0)},1);Ya(e);Za(c)}else for(h=f.length-1;0<=h;h--)f[h].Ui()}finally{n.h.enable()}if(n.h.isEnabled()){a=n.ba.iz(c,d);for(h=0;h<a.length;h++)n.h.Ca(new n.h.qe(a[h]));n.h.Ca(new n.h.Xn(e))}return e};
n.R.SF=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==n.g.j.sg.ELEMENT_NODE){var f=e.getAttribute("type"),h=e.getAttribute("id");c.df(e.textContent,f,h)}};
n.R.Ys=function(a,c){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=c.Vk(e,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=n.g.j.sg.TEXT_NODE){var l=h=null;var m=0;for(var p;p=k.childNodes[m];m++)p.nodeType==n.g.j.sg.ELEMENT_NODE&&("block"==p.nodeName.toLowerCase()?h=p:"shadow"==p.nodeName.toLowerCase()&&(l=p));!h&&l&&(h=l);p=k.getAttribute("name");m=k;switch(k.nodeName.toLowerCase()){case "mutation":d.xe&&
(d.xe(m),d.Wf&&d.Wf());break;case "comment":if(!n.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}h=m.textContent;l="true"==m.getAttribute("pinned");k=parseInt(m.getAttribute("w"),10);m=parseInt(m.getAttribute("h"),10);d.al(h);d.af.JA=l;isNaN(k)||isNaN(m)||(d.af.size=new n.g.Ld(k,m));l&&d.oG&&!d.Oc&&setTimeout(function(){d.Ff.pb(!0)},1);break;case "data":d.data=k.textContent;break;case "title":case "field":n.R.RF(d,p,m);break;case "value":case "statement":m=
x(d,p);if(!m){console.warn("Ignoring non-existent input "+p+" in block "+e);break}l&&(m.connection.eg=l);if(h)if(h=n.R.Ys(h,c),h.L)m.connection.connect(h.L);else if(h.V)m.connection.connect(h.V);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.T&&(d.T.eg=l);if(h){if(!d.T)throw TypeError("Next statement does not exist.");if(d.T.isConnected())throw TypeError("Next statement is already connected.");h=n.R.Ys(h,c);if(!h.V)throw TypeError("Next block does not have previous statement.");
d.T.connect(h.V)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.vj("true"==f);(f=a.getAttribute("disabled"))&&d.qf("true"!=f&&"disabled"!=f);if(f=a.getAttribute("deletable"))d.Ks="true"==f;(f=a.getAttribute("movable"))&&d.rq("true"==f);(f=a.getAttribute("editable"))&&d.kv("true"==f);(f=a.getAttribute("collapsed"))&&d.ai("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.ye(!1);for(f=0;c=a[f];f++)if(!c.Ra)throw TypeError("Shadow block not allowed non-shadow child.");
if($a(d).length)throw TypeError("Shadow blocks cannot have variable references.");d.pv(!0)}return d};n.R.RF=function(a,c,d){var e=ca(a,c);e?e.xm(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};n.R.HF=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};n.rc=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,h=!1,k=!1,l=!1,m=!1;else{d=a.toolbox;Array.isArray(d)||(d=n.rc.HA(d||null));d=n.g.Ne.cp(d);e=n.g.Ne.Ik(d);f=a.trashcan;void 0===f&&(f=e);var p=a.maxTrashcanContents;f?void 0===p&&(p=32):p=0;h=a.collapse;void 0===h&&(h=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var q=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var v=a.toolboxPosition;v="end"!==v;v=r?v?n.zg:n.ck:v==q?n.yg:n.Md;var B=
a.css;void 0===B&&(B=!0);var H="https://blockly-demo.appspot.com/static/media/";a.media?H=a.media:a.path&&(H=a.path+"media/");var la=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,Qa=a.keyMap||n.Ia.Fa.rF(),nf=a.renderer||"geras",of=a.plugins||{};this.J=q;this.cn=la;this.collapse=h;this.kF=k;this.disable=l;this.readOnly=c;this.nu=a.maxBlocks||Infinity;this.Sp=a.maxInstances;this.dn=H;this.Ik=e;this.mc=n.rc.eI(a,e);this.Mz=f;this.Tp=p;this.SG=m;this.PG=B;this.dd=r;this.Yf=d;this.Hz=n.rc.dI(a);this.eb=
n.rc.gI(a);this.Ka=v;this.RI=n.rc.fI(a);this.Fa=Qa;this.on=nf;this.pn=a.rendererOverrides;this.Et=null;this.nc=a.parentWorkspace;this.plugins=of};n.sJ=function(){};n.rc.eI=function(a,c){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?c:!!d.scrollbars||!!a.scrollbars;e.ii=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.Ch=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
n.rc.gI=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.ii=void 0===a.wheel?!1:!!a.wheel;c.LI=void 0===a.startScale?1:Number(a.startScale);c.Um=void 0===a.maxScale?3:Number(a.maxScale);c.Wm=void 0===a.minScale?.3:Number(a.minScale);c.tI=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.Ru=void 0===a.pinch?c.ii||c.controls:!!a.pinch;return c};
n.rc.dI=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.ib=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.yN=0<c.spacing&&!!a.snap;return c};n.rc.fI=function(a){a=a.theme||n.Ag.lh;return"string"==typeof a?n.ga.qz(a):a instanceof n.xi?a:n.xi.GF(a.name||"builtin"+n.g.Pj.zt(),a)};
n.rc.HA=function(a){if(a){if("string"!=typeof a&&(n.g.userAgent.Qe&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=n.R.Aj(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};n.Wr=function(a){this.La=Object.create(null);this.D=a};b=n.Wr.prototype;b.clear=function(){this.La=Object.create(null)};b.$u=function(a,c){var d=this.Ae(c,a.type),e=ab(this.D);n.h.ca(!0);try{if(d&&d.Qa()!=a.Qa()){var f=a.type;c!=d.name&&bb(d,c,e);for(c=0;c<e.length;c++)for(var h=void 0,k=e[c],l=a.Qa(),m=d.Qa(),p=0;h=k.P[p];p++)for(var q=0,r;r=h.cb[q];q++)r.nq()&&l==r.getValue()&&r.setValue(m);n.h.Ca(new n.h.Xe(a));this.La[f].splice(this.Bm(f).indexOf(a),1)}else bb(a,c,e)}finally{n.h.ca(!1)}};
b.rj=function(a,c){var d=this.Pg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.$u(d,c)};function bb(a,c,d){n.h.Ca(new n.h.Cf(a,c));a.name=c;for(c=0;c<d.length;c++)for(var e,f=d[c],h=a,k=0;e=f.P[k];k++)for(var l=0,m;m=e.cb[l];l++)m.nq()&&h.Qa()==m.getValue()&&cb(m)}
b.df=function(a,c,d){var e=this.Ae(a,c);if(e){if(d&&e.Qa()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.Qa()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Pg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||n.g.Mg();c=c||"";e=new n.Ul(this.D,a,c,e);a=this.La[c]||[];a.push(e);delete this.La[c];this.La[c]=a;return e};
b.Hi=function(a){var c=this.Pg(a);if(c){var d=c.name,e=this.Dt(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=A(f,"NAME");d=n.m.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);n.alert(d);return}var h=this;1<e.length?(d=n.m.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),n.confirm(d,function(k){k&&c&&db(h,c,e)})):db(h,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function db(a,c,d){var e=n.h.Tb();e||n.h.ca(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var h=a.La[c.type];a=0;for(var k;k=h[a];a++)if(k.Qa()==c.Qa()){h.splice(a,1);n.h.Ca(new n.h.Xe(c));break}}finally{e||n.h.ca(!1)}}b.Ae=function(a,c){if(c=this.La[c||""])for(var d=0,e;e=c[d];d++)if(n.oe.Of(e.name,a))return e;return null};b.Pg=function(a){for(var c=Object.keys(this.La),d=0;d<c.length;d++)for(var e=c[d],f=0,h;h=this.La[e][f];f++)if(h.Qa()==a)return h;return null};
b.Bm=function(a){return(a=this.La[a||""])?a.slice():[]};b.Ct=function(a){var c={};n.g.object.ae(c,this.La);a&&a.Vh&&n.g.object.ae(c,a.Vh.La);a=Object.keys(c);c=!1;for(var d=0;d<a.length;d++)""==a[d]&&(c=!0);c||a.push("");return a};b.Mi=function(){var a=[],c;for(c in this.La)a=a.concat(this.La[c]);return a};b.ot=function(){var a=[],c;for(c in this.La)for(var d=this.La[c],e=0,f;f=d[e];e++)a.push(f.name);return a};
b.Dt=function(a){for(var c=[],d=ab(this.D),e=0;e<d.length;e++){var f=$a(d[e]);if(f)for(var h=0;h<f.length;h++)f[h].Qa()==a&&c.push(d[e])}return c};n.ub=function(a){this.id=n.g.Mg();n.ub.Wl[this.id]=this;this.options=a||new n.rc({});this.J=!!this.options.J;this.dd=!!this.options.dd;this.Ka=this.options.Ka;this.Fn=[];this.Aq=[];this.$o=Object.create(null);this.gd=[];this.ll=[];this.mq=[];this.ls=Object.create(null);this.ih=Object.create(null);this.La=new n.Wr(this);this.Vh=null};b=n.ub.prototype;b.ta=!1;b.Tt=!1;b.Qw=1024;b.bp=null;b.H=function(){this.gd.length=0;this.clear();delete n.ub.Wl[this.id]};n.ub.tx=3;b=n.ub.prototype;
b.fg=function(a,c){a=a.Ua();c=c.Ua();return a.y+n.ub.prototype.fg.offset*a.x-(c.y+n.ub.prototype.fg.offset*c.x)};b.Oo=function(a){this.Fn.push(a)};b.pq=function(a){if(!n.g.$l(this.Fn,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.jc=function(a){var c=[].concat(this.Fn);a&&1<c.length&&(this.fg.offset=Math.sin(n.g.$d.Ev(n.ub.tx)),this.J&&(this.fg.offset*=-1),c.sort(this.fg));return c};function eb(a,c){return a.ih[c]?a.ih[c].slice(0):[]}
function ab(a){var c=a.jc(!1);for(a=0;a<c.length;a++)c.push.apply(c,c[a].ye(!1));return c.filter(function(d){return!d.mf()})}b.clear=function(){this.Tt=!0;try{var a=n.h.Tb();for(a||n.h.ca(!0);this.Fn.length;)this.Fn[0].H(!1);for(;this.Aq.length;)this.Aq[this.Aq.length-1].H(!1);a||n.h.ca(!1);this.La.clear();this.Vh&&this.Vh.clear()}finally{this.Tt=!1}};b.rj=function(a,c){this.La.rj(a,c)};b.df=function(a,c,d){return this.La.df(a,c,d)};b.Dt=function(a){return this.La.Dt(a)};b.Hi=function(a){this.La.Hi(a)};
b.Ae=function(a,c){return this.La.Ae(a,c)};b.Pg=function(a){return this.La.Pg(a)};b.Bm=function(a){return this.La.Bm(a)};b.Ct=function(){return this.La.Ct(this)};b.Mi=function(){return this.La.Mi()};b.ot=function(){return this.La.ot()};b.Qg=function(){return 0};b.Vk=function(a,c){return new n.nd(this,a,c)};function fb(a){return isNaN(a.options.nu)?Infinity:a.options.nu-ab(a).length}
function gb(a,c){if(!hb(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.Sp?(void 0!==a.options.Sp[e]?a.options.Sp[e]:Infinity)-eb(a,e).length:Infinity))return!1;d+=c[e]}return d>fb(a)?!1:!0}function hb(a){return Infinity!=a.options.nu||!!a.options.Sp}
b.Cq=function(a){var c=a?this.mq:this.ll,d=a?this.ll:this.mq,e=c.pop();if(e){for(var f=[e];c.length&&e.group&&e.group==c[c.length-1].group;)f.push(c.pop());for(c=0;e=f[c];c++)d.push(e);f=n.h.filter(f,a);n.h.zc=!1;try{for(c=0;e=f[c];c++)e.run(a)}finally{n.h.zc=!0}}};function ib(a,c){a.gd.push(c)}function jb(a,c){n.g.$l(a.gd,c)}b.ad=function(a){return this.ls[a]||null};b.tv=function(a){this.La=a};n.ub.Wl=Object.create(null);n.ub.ym=function(a){return n.ub.Wl[a]||null};
n.ub.getAll=function(){var a=[],c;for(c in n.ub.Wl)a.push(n.ub.Wl[c]);return a};n.ua=function(a,c,d,e,f,h){this.s=a;this.Jg=c;this.CI=d;this.Gu=this.Fu=this.su=this.XA=null;this.ff=!1;d=n.ua.UB;this.s.J&&(d=-d);this.LE=n.g.$d.Ev(d);a.eh.appendChild(this.jm(c,!(!f||!h)));this.Lb=e;this.bv&&kb(this);f&&h||(a=this.Jg.getBBox(),f=a.width+2*n.ua.Cd,h=a.height+2*n.ua.Cd);lb(this,f,h);kb(this);mb(this);this.bv=!0};n.ua.Cd=6;n.ua.VB=5;n.ua.UB=20;n.ua.$v=4;n.ua.RB=8;n.ua.Th=null;n.ua.Sh=null;n.ua.Jv=function(){n.ua.Th&&(n.Za(n.ua.Th),n.ua.Th=null);n.ua.Sh&&(n.Za(n.ua.Sh),n.ua.Sh=null)};
n.ua.YE=function(){n.Touch.cm();n.ua.Jv()};b=n.ua.prototype;b.bv=!1;b.Lb=null;b.cg=0;b.Xh=0;b.kb=0;b.xc=0;b.hs=!0;
b.jm=function(a,c){this.te=n.g.j.K("g",{},null);var d={filter:"url(#"+this.s.ob.Z().lp+")"};n.g.userAgent.iD&&(d={});d=n.g.j.K("g",d,this.te);this.$x=n.g.j.K("path",{},d);this.So=n.g.j.K("rect",{"class":"blocklyDraggable",x:0,y:0,rx:n.ua.Cd,ry:n.ua.Cd},d);c?(this.Yg=n.g.j.K("g",{"class":this.s.J?"blocklyResizeSW":"blocklyResizeSE"},this.te),c=2*n.ua.Cd,n.g.j.K("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Yg),n.g.j.K("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/
3},this.Yg),n.g.j.K("line",{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Yg)):this.Yg=null;this.s.options.readOnly||(this.Fu=n.va(this.So,"mousedown",this,this.XE),this.Yg&&(this.Gu=n.va(this.Yg,"mousedown",this,this.qI)));this.te.appendChild(a);return this.te};b.Da=function(){return this.te};function nb(a,c){a.te.dataset&&(a.te.dataset.blockId=c)}
b.XE=function(a){var c=this.s.Dh(a);if(c){if(c.Pi)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.ee||(c.ee=this);c.Ee=a}};b.vn=function(){};b.Yd=function(){return!1};b.qI=function(a){var c=this.te.parentNode;c.lastChild!==this.te&&c.appendChild(this.te);n.ua.Jv();n.g.cj(a)||(this.s.yv(a,new n.g.O(this.s.J?-this.kb:this.kb,this.xc)),n.ua.Th=n.va(document,"mouseup",this,n.ua.YE),n.ua.Sh=n.va(document,"mousemove",this,this.rI),n.Vb());a.stopPropagation()};
b.rI=function(a){this.hs=!1;var c=this.s;a=n.g.Zm(a,y(c),Sa(c));a.x/=c.scale;a.y/=c.scale;c=n.g.O.sum(c.Wy,a);lb(this,this.s.J?-c.x:c.x,c.y);this.s.J&&kb(this)};function ob(a,c){a.su=c}function pb(a,c,d){var e=a.s.J?a.Lb.x-c.x-a.kb:c.x+a.Lb.x;c=c.y+a.Lb.y;return Math.max(0,Math.min(1,(Math.min(e+a.kb,d.Jb+d.Bb)-Math.max(e,d.Jb))*(Math.min(c+a.xc,d.Pb+d.Ib)-Math.max(c,d.Pb))/(a.kb*a.xc)))}function kb(a){var c=a.Lb.x;c=a.s.J?c-(a.cg+a.kb):c+a.cg;a.moveTo(c,a.Xh+a.Lb.y)}
b.moveTo=function(a,c){this.te.setAttribute("transform","translate("+a+","+c+")")};b.bi=function(a){!a&&this.su&&this.su()};
function lb(a,c,d){var e=2*n.ua.Cd;c=Math.max(c,e+45);d=Math.max(d,e+20);a.kb=c;a.xc=d;a.So.setAttribute("width",c);a.So.setAttribute("height",d);a.Yg&&(a.s.J?a.Yg.setAttribute("transform","translate("+2*n.ua.Cd+","+(d-e)+") scale(-1 1)"):a.Yg.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.hs){c=a.s.Vd();c.Jb/=a.s.scale;c.Bb/=a.s.scale;c.Pb/=a.s.scale;c.Ib/=a.s.scale;d=-a.kb/4;if(!(a.kb>c.Bb)){if(a.s.J){e=a.Lb.x-d;var f=e-a.kb;var h=c.Jb+c.Bb,k=c.Jb+n.Pa.Bc/a.s.scale}else f=d+a.Lb.x,
e=f+a.kb,k=c.Jb,h=c.Jb+c.Bb-n.Pa.Bc/a.s.scale;a.s.J?f<k?d=-(k-a.Lb.x+a.kb):e>h&&(d=-(h-a.Lb.x)):f<k?d=k-a.Lb.x:e>h&&(d=h-a.Lb.x-a.kb)}f=d;d=-a.xc/4;if(!(a.xc>c.Ib)){e=a.Lb.y+d;h=e+a.xc;k=c.Pb;var l=c.Pb+c.Ib-n.Pa.Bc/a.s.scale,m=a.Lb.y;e<k?d=k-m:h>l&&(d=l-m-a.xc)}k=d;h=a.CI.getBBox();d={x:f,y:-a.xc-a.s.ob.Z().Fl};e={x:-a.kb-30,y:k};k={x:h.width,y:k};l={x:f,y:h.height};f=h.width<h.height?k:l;h=h.width<h.height?l:k;k=pb(a,d,c);l=pb(a,e,c);m=pb(a,f,c);c=Math.max(k,l,m,pb(a,h,c));k==c?(a.cg=d.x,a.Xh=d.y):
l==c?(a.cg=e.x,a.Xh=e.y):m==c?(a.cg=f.x,a.Xh=f.y):(a.cg=h.x,a.Xh=h.y)}kb(a);mb(a);a.XA&&a.XA()}
function mb(a){var c=[],d=a.kb/2,e=a.xc/2,f=-a.cg,h=-a.Xh;if(d==f&&e==h)c.push("M "+d+","+e);else{h-=e;f-=d;a.s.J&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var p=Math.sin(m),q=Math.cos(m),r=new n.g.Ld(a.kb,a.xc);m=(r.width+r.height)/n.ua.VB;m=Math.min(m,r.width,r.height)/4;r=1-n.ua.RB/k;f=d+r*f;h=e+r*h;r=d+m*q;var v=e+m*p;d-=m*q;e-=m*p;p=l+a.LE;p>2*Math.PI&&(p-=2*Math.PI);l=Math.sin(p)*k/n.ua.$v;k=Math.cos(p)*k/n.ua.$v;c.push("M"+
r+","+v);c.push("C"+(r+k)+","+(v+l)+" "+f+","+h+" "+f+","+h);c.push("C"+f+","+h+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.$x.setAttribute("d",c.join(" "))}b.kd=function(a){this.So.setAttribute("fill",a);this.$x.setAttribute("fill",a)};b.H=function(){this.Fu&&n.Za(this.Fu);this.Gu&&n.Za(this.Gu);n.ua.Jv();n.g.j.removeNode(this.te);this.ff=!0};b.tu=function(a,c){a?a.Bj(c.x,c.y):this.moveTo(c.x,c.y);this.cg=this.s.J?this.Lb.x-c.x-this.kb:c.x-this.Lb.x;this.Xh=c.y-this.Lb.y;mb(this)};
b.Ua=function(){return new n.g.O(this.s.J?-this.cg+this.Lb.x-this.kb:this.Lb.x+this.cg,this.Lb.y+this.Xh)};n.h.kg=function(a){this.Gf=a.id;this.Cb=a.D.id;this.group=n.h.Tb();this.zc=n.h.zc};n.g.object.S(n.h.kg,n.h.Abstract);n.h.kg.prototype.Wa=function(){var a=n.h.kg.A.Wa.call(this);this.Gf&&(a.commentId=this.Gf);return a};n.h.kg.prototype.wa=function(a){n.h.kg.A.wa.call(this,a);this.Gf=a.commentId};n.h.Jj=function(a,c,d){a&&(n.h.Jj.A.constructor.call(this,a),this.vA=c,this.Yp=d)};n.g.object.S(n.h.Jj,n.h.kg);b=n.h.Jj.prototype;b.type=n.h.fw;
b.Wa=function(){var a=n.h.Jj.A.Wa.call(this);a.newContents=this.Yp;return a};b.wa=function(a){n.h.Jj.A.wa.call(this,a);this.Yp=a.newValue};b.bj=function(){return this.vA==this.Yp};b.run=function(a){var c;(c=ba(this).$o[this.Gf]||null)?c.tN(a?this.Yp:this.vA):console.warn("Can't change non-existent comment: "+this.Gf)};n.h.lg=function(a){a&&(n.h.lg.A.constructor.call(this,a),this.xml=a.pB())};n.g.object.S(n.h.lg,n.h.kg);n.h.lg.prototype.type=n.h.$n;
n.h.lg.prototype.Wa=function(){var a=n.h.lg.A.Wa.call(this);a.xml=n.R.Td(this.xml);return a};n.h.lg.prototype.wa=function(a){n.h.lg.A.wa.call(this,a);this.xml=n.R.Aj(a.xml)};n.h.lg.prototype.run=function(a){n.h.iw(this,a)};n.h.iw=function(a,c){var d=ba(a);c?(c=n.g.xml.createElement("xml"),c.appendChild(a.xml),n.R.qm(c,d)):(d=d.$o[a.Gf]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Gf)};n.h.mg=function(a){a&&(n.h.mg.A.constructor.call(this,a),this.xml=a.pB())};
n.g.object.S(n.h.mg,n.h.kg);n.h.mg.prototype.type=n.h.gw;n.h.mg.prototype.Wa=function(){return n.h.mg.A.Wa.call(this)};n.h.mg.prototype.wa=function(a){n.h.mg.A.wa.call(this,a)};n.h.mg.prototype.run=function(a){n.h.iw(this,!a)};n.h.mi=function(a){a&&(n.h.mi.A.constructor.call(this,a),this.As=a,this.Au=a.Gz(),this.kj=null)};n.g.object.S(n.h.mi,n.h.kg);b=n.h.mi.prototype;
b.pj=function(){if(!this.As)throw Error("Tried to record the new position of a comment on the same event twice.");this.kj=this.As.Gz();this.As=null};b.type=n.h.ao;b.Wa=function(){var a=n.h.mi.A.Wa.call(this);this.kj&&(a.newCoordinate=Math.round(this.kj.x)+","+Math.round(this.kj.y));return a};b.wa=function(a){n.h.mi.A.wa.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.kj=new n.g.O(Number(a[0]),Number(a[1])))};b.bj=function(){return n.g.O.Of(this.Au,this.kj)};
b.run=function(a){var c;if(c=ba(this).$o[this.Gf]||null){a=a?this.kj:this.Au;var d=c.Gz();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Gf)};n.Yn=function(a,c){this.$b=a;this.s=c;this.Gi=null;this.Gq=!1;this.gg=this.$b.Ua();this.Ji=n.g.Xi()&&c.Od?c.Od:null};n.Yn.prototype.H=function(){this.Ji=this.s=this.$b=null};function qb(a,c,d){d=a.Xk(d);d=n.g.O.sum(a.gg,d);a.$b.tu(a.Ji,d);a.$b.Yd()&&(a.Gi=ya(a.s,c),a.Gq=a.Gi!=n.lw,c=a.s.Ec,a.Gq?(za(a.$b,!0),a.Gi==n.Vq&&c&&Aa(c,!0)):(za(a.$b,!1),c&&Aa(c,!1)))}
function rb(a,c,d){qb(a,c,d);c=a.Xk(d);c=n.g.O.sum(a.gg,c);a.$b.moveTo(c.x,c.y);c=a.s.Ec;a.Gq?(c&&setTimeout(c.close.bind(c),100),a.um(),a.$b.H(!1,!0)):c&&c.close();a.Gq||(a.Ji&&a.Ji.Xo(a.s.eh),a.$b.bi&&a.$b.bi(!1),a.um());a.s.pc(!0);(c=a.s.qa)&&"function"==typeof c.oq&&c.oq(a.$b.Yd()?"blocklyToolboxDelete":"blocklyToolboxGrab");n.h.ca(!1)}n.Yn.prototype.um=function(){if(this.$b.KM){var a=new n.h.mi(this.$b);a.Au=this.gg;a.pj();n.h.Ca(a)}};
n.Yn.prototype.Xk=function(a){a=new n.g.O(a.x/this.s.scale,a.y/this.s.scale);this.s.Pm&&a.scale(1/this.s.options.nc.scale);return a};n.Xl=function(a){this.s=a;this.kB=new n.g.O(a.scrollX,a.scrollY)};n.Xl.prototype.H=function(){this.s=null};n.Xl.prototype.yv=function(){n.selected&&sb(n.selected);Ta(this.s)};n.Xl.prototype.Ch=function(a){a=n.g.O.sum(this.kB,a);this.s.scroll(a.x,a.y)};n.so=function(a){n.so.A.constructor.call(this,a.s);this.aB=a.Ha;this.Lk=a.dd};n.g.object.S(n.so,n.Xl);n.so.prototype.Ch=function(a){a=n.g.O.sum(this.kB,a);this.Lk?this.aB.set(-a.x):this.aB.set(-a.y)};n.md=function(a){this.name=a};n.navigation={};n.navigation.Uk=null;n.navigation.zx=1;n.navigation.Ql=2;n.navigation.Rr=3;n.navigation.Ox=40;n.navigation.Fi=n.navigation.Ql;n.navigation.Aa={Id:"previous",Hd:"next",to:"in",Do:"out",gr:"insert",pr:"mark",ow:"disconnect",bk:"toolbox",Yq:"exit",Sr:"toggle_keyboard_nav",Vw:"move workspace cursor up",Sw:"move workspace cursor down",Tw:"move workspace cursor left",Uw:"move workspace cursor right"};n.navigation.El="local_marker_1";n.navigation.bd=function(){return n.navigation.Nb().bd(n.navigation.El)};
n.navigation.Nb=function(){return n.Qf()};n.navigation.fz=function(){var a=n.navigation.Nb().qa;a&&(n.navigation.Fi=n.navigation.Rr,n.navigation.WA(!1),n.navigation.bd().Va||n.navigation.ju(),a.Fc.ce||tb(a.Fc))};n.navigation.ez=function(){n.navigation.Fi=n.navigation.zx;var a=n.navigation.Nb();var c=a.qa;a=c?c.Mb():a.Mb();n.navigation.bd().Va||n.navigation.ju();a&&a.s&&(a=a.s.jc(!0),0<a.length&&(a=a[0],a=n.C.lm(a),C(n.navigation.Dk(),a)))};
n.navigation.pp=function(){n.Vb();var a=n.navigation.Nb(),c=a.xb(),d=!!a.qa,e=a.jc(!0);n.navigation.WA(d);n.navigation.Fi=n.navigation.Ql;0<e.length?C(c,n.C.Ds(e[0])):(a=n.C.qk(a,new n.g.O(100,100)),C(c,a))};n.navigation.Dk=function(){var a=n.navigation.Nb(),c=null;a.ta&&(c=(a=(c=a.qa)?c.Mb():a.Mb())?a.s.xb():null);return c};
n.navigation.aH=function(){var a=n.navigation.Nb(),c=a.Mb();if(c&&c.isVisible()){var d=n.navigation.Dk().Va.pa;d.isEnabled()?(c=ub(c,d),c.xa(),Xa(c,!0),C(a.xb(),n.C.Jf(c)),n.navigation.qA()||n.navigation.Sc("Something went wrong while inserting a block from the flyout."),n.navigation.pp(),C(a.xb(),n.C.Ds(c)),n.navigation.mI()):n.navigation.Sc("Can't insert a disabled block.")}else n.navigation.Sc("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
n.navigation.WA=function(a){n.navigation.Dk()&&(n.navigation.Dk().Ea(),a&&n.navigation.Nb().Mb().Ea())};
n.navigation.zH=function(){var a=n.navigation.bd().Va,c=n.navigation.Nb().xb().Va;if(!a)return n.navigation.Sc("Cannot insert with no marked node."),!1;if(!c)return n.navigation.Sc("Cannot insert with no cursor node."),!1;a=a.Ya();c=c.Ya();return a==n.C.types.Qb?(n.navigation.Sc("Should not have been able to mark a field."),!1):a==n.C.types.Bd?(n.navigation.Sc("Should not have been able to mark a block."),!1):a==n.C.types.zf?(n.navigation.Sc("Should not have been able to mark a stack."),!1):c==n.C.types.Qb?
(n.navigation.Sc("Cannot attach a field to anything else."),!1):c==n.C.types.Df?(n.navigation.Sc("Cannot attach a workspace to anything else."),!1):!0};n.navigation.FH=function(a,c){if(!a)return!1;if(a.Ra)return n.navigation.Sc("Cannot move a shadow block to the workspace."),!1;a.getParent()&&w(a,!1);a.moveTo(c.Hq);return!0};
n.navigation.qA=function(){var a=n.navigation.bd().Va,c=n.navigation.Nb().xb().Va;if(!n.navigation.zH())return!1;var d=a.Ya(),e=c.Ya(),f=c.pa,h=a.pa;if(a.Ok&&c.Ok)return n.navigation.bf(f,h);if(a.Ok&&(e==n.C.types.Bd||e==n.C.types.zf))return n.navigation.Wz(f,h);if(d==n.C.types.Df)return c=c?c.X():null,n.navigation.FH(c,a);n.navigation.Sc("Unexpected state in Blockly.navigation.modify_.");return!1};
n.navigation.NF=function(a,c){var d=a.X(),e=c.X();d.cd()==e.cd()&&(-1<t(d,!1).indexOf(e)?n.navigation.up(c).disconnect():n.navigation.up(a).disconnect())};n.navigation.qu=function(a,c){if(!a||!c)return!1;var d=a.X();return vb(c,a)==n.sa.Zn?(n.navigation.NF(a,c),Da(c)||ra(d.cd(),a,c),c.connect(a),!0):!1};n.navigation.up=function(a){var c=a.X();return Da(a)?c.V?c.V:c.L?c.L:null:a};n.navigation.Cz=function(a){return Da(a)?a:a.ka?a.ka:null};
n.navigation.bf=function(a,c){if(!a||!c)return!1;var d=n.navigation.up(a),e=n.navigation.Cz(c),f=n.navigation.Cz(a),h=n.navigation.up(c);if(d&&e&&n.navigation.qu(d,e)||f&&h&&n.navigation.qu(f,h)||n.navigation.qu(a,c))return!0;try{wb(c,a)}catch(k){n.navigation.Sc("Connection failed with error: "+k)}return!1};
n.navigation.Wz=function(a,c){switch(c.type){case n.Ve:if(n.navigation.bf(a.T,c))return!0;break;case n.gb:if(n.navigation.bf(a.V,c))return!0;break;case n.lb:if(n.navigation.bf(a.L,c))return!0;break;case n.Ue:for(var d=0;d<a.P.length;d++){var e=a.P[d].connection;if(e&&e.type===n.lb&&n.navigation.bf(e,c))return!0}if(a.L&&n.navigation.bf(a.L,c))return!0}n.navigation.Sc("This block can not be inserted at the marked location.");return!1};
n.navigation.MF=function(){var a=n.navigation.Nb(),c=a.xb().Va;if(c.Ok){var d=c.pa;d.isConnected()?(c=Da(d)?d:d.ka,d=Da(d)?d.ka:d,d.X().Ra?n.navigation.bu("Cannot disconnect a shadow block"):(c.disconnect(),xb(d,c),Ea(c.X().cd()),c=n.C.Kf(c),C(a.xb(),c))):n.navigation.bu("Cannot disconnect unconnected connection")}else n.navigation.bu("Cannot disconnect blocks when the cursor is not on a connection")};n.navigation.ju=function(){C(n.navigation.bd(),n.navigation.Nb().xb().Va)};
n.navigation.mI=function(){var a=n.navigation.bd();C(a,null);a.Ea()};n.navigation.Ab=function(a){n.navigation.Fi=a};n.navigation.GH=function(a){var c=n.navigation.Nb();if(c&&(c=c.xb())){var d=c.Va;d=d?d.X():null;d===a?d.getParent()?(a=d.V||d.L)&&C(c,n.C.Kf(a.ka)):C(c,n.C.qk(d.D,d.Ua())):d&&-1<a.ye(!1).indexOf(d)&&C(c,n.C.qk(d.D,d.Ua()))}};n.navigation.HH=function(a){var c=n.navigation.Nb().xb();if(c){var d=c.Va;d=d?d.X():null;d===a&&C(c,n.C.Jf(d))}};
n.navigation.XF=function(){var a=n.navigation.Nb();a.ac||(a.ac=!0,n.navigation.pp())};n.navigation.KF=function(){var a=n.navigation.Nb();a.ac&&(a.ac=!1,a.xb().Ea(),n.navigation.bd().Ea(),n.navigation.Dk()&&n.navigation.Dk().Ea())};n.navigation.bu=function(a){n.navigation.Uk?n.navigation.Uk("log",a):console.log(a)};n.navigation.Sc=function(a){n.navigation.Uk?n.navigation.Uk("warn",a):console.warn(a)};n.navigation.eM=function(a){n.navigation.Uk?n.navigation.Uk("error",a):console.error(a)};
n.navigation.CA=function(a){a=n.Ia.Fa.vI(a);return(a=n.Ia.Fa.hG(a))?n.navigation.Qc(a):!1};n.navigation.Qc=function(a){var c=n.navigation.Nb(),d=c.options.readOnly,e=!1;c.ac?d?-1<n.navigation.VD.indexOf(a)&&(e=n.navigation.Jz(a)):e=n.navigation.Jz(a):a.name===n.navigation.Aa.Sr&&(n.navigation.XF(),e=!0);return e};
n.navigation.Jz=function(a){return a.name==n.navigation.Aa.bk||n.navigation.Fi==n.navigation.Rr?n.navigation.TI(a):a.name==n.navigation.Aa.Sr?(n.navigation.KF(),!0):n.navigation.Fi==n.navigation.Ql?n.navigation.jJ(a):n.navigation.Fi==n.navigation.zx?n.navigation.eG(a):!1};
n.navigation.eG=function(a){var c=n.navigation.Nb(),d=c.qa;if((c=d?d.Mb():c.Mb())&&c.Qc(a))return!0;switch(a.name){case n.navigation.Aa.Do:return n.navigation.fz(),!0;case n.navigation.Aa.pr:return n.navigation.aH(),!0;case n.navigation.Aa.Yq:return n.navigation.pp(),!0;default:return!1}};
n.navigation.TI=function(a){var c=n.navigation.Nb(),d=c.qa;return d&&"function"==typeof d.Qc&&d.Qc(a)?!0:a.name===n.navigation.Aa.bk?(c.qa?n.navigation.fz():n.navigation.ez(),!0):a.name===n.navigation.Aa.to?(n.navigation.ez(),!0):a.name===n.navigation.Aa.Yq?(n.navigation.pp(),!0):!1};n.navigation.Xp=function(a,c){var d=n.navigation.Nb(),e=d.xb(),f=d.xb().Va;if(f.Ya()!==n.C.types.Df)return!1;f=f.Hq;C(e,n.C.qk(d,new n.g.O(a*n.navigation.Ox+f.x,c*n.navigation.Ox+f.y)));return!0};
n.navigation.jJ=function(a){if(n.navigation.Nb().xb().Qc(a))return!0;switch(a.name){case n.navigation.Aa.gr:return n.navigation.qA(),!0;case n.navigation.Aa.pr:return n.navigation.HG(),!0;case n.navigation.Aa.ow:return n.navigation.MF(),!0;case n.navigation.Aa.Vw:return n.navigation.Xp(0,-1);case n.navigation.Aa.Sw:return n.navigation.Xp(0,1);case n.navigation.Aa.Tw:return n.navigation.Xp(-1,0);case n.navigation.Aa.Uw:return n.navigation.Xp(1,0);default:return!1}};
n.navigation.HG=function(){var a=n.navigation.Nb().xb().Va,c=a.Ya();c==n.C.types.Qb?(a=a.pa,ia(a)&&a.wj(void 0)):a.Ok||c==n.C.types.Df?n.navigation.ju():c==n.C.types.Bd?n.navigation.Sc("Cannot mark a block."):c==n.C.types.zf&&n.navigation.Sc("Cannot mark a stack.")};n.navigation.Sn=new n.md(n.navigation.Aa.Id);n.navigation.Uv=new n.md(n.navigation.Aa.Do);n.navigation.Rn=new n.md(n.navigation.Aa.Hd);n.navigation.Tv=new n.md(n.navigation.Aa.to);n.navigation.JB=new n.md(n.navigation.Aa.gr);
n.navigation.KB=new n.md(n.navigation.Aa.pr);n.navigation.IB=new n.md(n.navigation.Aa.ow);n.navigation.PB=new n.md(n.navigation.Aa.bk);n.navigation.Iq=new n.md(n.navigation.Aa.Yq);n.navigation.Vv=new n.md(n.navigation.Aa.Sr);n.navigation.MB=new n.md(n.navigation.Aa.Tw);n.navigation.NB=new n.md(n.navigation.Aa.Uw);n.navigation.OB=new n.md(n.navigation.Aa.Vw);n.navigation.LB=new n.md(n.navigation.Aa.Sw);n.navigation.VD=[n.navigation.Sn,n.navigation.Uv,n.navigation.Tv,n.navigation.Rn,n.navigation.Vv];n.G={};n.G.visible=!1;n.G.jk=!1;n.G.mD=50;n.G.sA=0;n.G.wn=0;n.G.Yt=0;n.G.Zt=0;n.G.Ja=null;n.G.gn=null;n.G.ax=0;n.G.bx=10;n.G.UD=10;n.G.XC=750;n.G.nr=5;n.G.Xa=null;n.G.Ga=function(){n.G.Xa||(n.G.Xa=document.createElement("div"),n.G.Xa.className="blocklyTooltipDiv",(n.iq||document.body).appendChild(n.G.Xa))};n.G.ik=function(a){a.DH=n.ec(a,"mouseover",null,n.G.aI);a.BH=n.ec(a,"mouseout",null,n.G.$H);a.addEventListener("mousemove",n.G.FA,!1)};
n.G.Kv=function(a){a&&(n.Za(a.DH),n.Za(a.BH),a.removeEventListener("mousemove",n.G.FA))};n.G.aI=function(a){if(!n.G.jk){for(a=a.currentTarget;"string"!=typeof a.tf&&"function"!=typeof a.tf;)a=a.tf;n.G.Ja!=a&&(n.G.Ea(),n.G.gn=null,n.G.Ja=a);clearTimeout(n.G.sA)}};n.G.$H=function(){n.G.jk||(n.G.sA=setTimeout(function(){n.G.Ja=null;n.G.gn=null;n.G.Ea()},1),clearTimeout(n.G.wn))};
n.G.FA=function(a){if(n.G.Ja&&n.G.Ja.tf&&!n.G.jk)if(n.G.visible){var c=n.G.Yt-a.pageX;a=n.G.Zt-a.pageY;Math.sqrt(c*c+a*a)>n.G.UD&&n.G.Ea()}else n.G.gn!=n.G.Ja&&(clearTimeout(n.G.wn),n.G.Yt=a.pageX,n.G.Zt=a.pageY,n.G.wn=setTimeout(n.G.EI,n.G.XC))};n.G.H=function(){n.G.Ja=null;n.G.gn=null;n.G.Ea()};n.G.Ea=function(){n.G.visible&&(n.G.visible=!1,n.G.Xa&&(n.G.Xa.style.display="none"));n.G.wn&&clearTimeout(n.G.wn)};n.G.block=function(){n.G.Ea();n.G.jk=!0};n.G.ZI=function(){n.G.jk=!1};
n.G.EI=function(){if(!n.G.jk&&(n.G.gn=n.G.Ja,n.G.Xa)){n.G.Xa.textContent="";for(var a=n.G.Ja.tf;"function"==typeof a;)a=a();a=n.g.Ta.EB(a,n.G.mD);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));n.G.Xa.appendChild(d)}a=n.G.Ja.J;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;n.G.Xa.style.direction=a?"rtl":"ltr";n.G.Xa.style.display="block";n.G.visible=!0;var e=n.G.Yt;e=a?e-(n.G.ax+n.G.Xa.offsetWidth):
e+n.G.ax;var f=n.G.Zt+n.G.bx;f+n.G.Xa.offsetHeight>d+window.scrollY&&(f-=n.G.Xa.offsetHeight+2*n.G.bx);a?e=Math.max(n.G.nr-window.scrollX,e):e+n.G.Xa.offsetWidth>c+window.scrollX-2*n.G.nr&&(e=c-n.G.Xa.offsetWidth-2*n.G.nr);n.G.Xa.style.top=f+"px";n.G.Xa.style.left=e+"px"}};n.pi=function(a,c){this.rA=null;this.Zc=new n.g.O(0,0);this.Wb=this.Xb=this.dl=this.fl=this.ee=null;this.Es=c;this.Km=this.Zi=this.Lm=this.Oi=!1;this.Ee=a;this.$=this.Gj=this.Ef=this.yh=this.gq=this.fq=null;this.Ip=this.Pi=this.ey=!1;this.Nz=!n.BC};b=n.pi.prototype;b.H=function(){n.Touch.cm();n.G.ZI();this.Es.ic=null;this.fq&&n.Za(this.fq);this.gq&&n.Za(this.gq);this.Ef&&this.Ef.H();this.Gj&&this.Gj.H();this.yh&&this.yh.H()};
function yb(a,c){a.Zc=n.g.O.wk(new n.g.O(c.clientX,c.clientY),a.rA);if(a.Oi)var d=!1;else a.Oi=n.g.O.vH(a.Zc)>(a.$?n.OC:n.AC),d=a.Oi;if(d){if(a.ey)throw Error("updateIsDragging_ should only be called once per gesture.");a.ey=!0;if(a.ee){a.Km=!0;a.yh=new n.Yn(a.ee,a.Wb);d=a.yh;n.h.Tb()||n.h.ca(!0);d.s.pc(!1);d.$b.hs=!1;d.Ji&&(d.$b.moveTo(0,0),d.Ji.Bj(d.gg.x,d.gg.y),zb(d.Ji,d.$b.Da()));d.$b.bi&&d.$b.bi(!0);var e=d.s.qa;e&&"function"==typeof e.No&&e.No(d.$b.Yd()?"blocklyToolboxDelete":"blocklyToolboxGrab");
qb(a.yh,a.Ee,a.Zc);d=!0}else d=!1;if(!d){if(a.Xb)if(a.$?(a.Xb&&a.Xb.isEnabled()?((d=!Ab(a.$))||(d=a.Zc,d=Math.atan2(d.y,d.x)/Math.PI*180,e=a.$.TF,d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1),d?(a.Wb=a.$.jb,Bb(a.Wb),n.h.Tb()||n.h.ca(!0),a.dl=null,a.Xb=ub(a.$,a.Xb),a.Xb.select(),d=!0):d=!1):d=!1,a.Zi=d):a.Xb.wd()&&(a.Zi=!0),a.Zi){a.Ef=new n.ki(a.Xb,a.Wb);d=a.Ef;e=a.Zc;var f=a.Nz;n.h.Tb()||n.h.ca(!0);var h=new n.h.Rb(d.mb,"dragStart",null,t(d.mb,!1));n.h.Ca(h);d.s.Pm&&Ea(d.mb);n.g.j.yn();d.s.pc(!1);n.hb.Us();
if(d.mb.getParent()||f&&d.mb.T&&d.mb.T.na())w(d.mb,f),e=d.Xk(e),e=n.g.O.sum(d.gg,e),d.mb.translate(e.x,e.y),n.hb.OF(d.mb),e=d.Nf,e.Ro=na(e);d.mb.bi(!0);e=d.mb;e.On&&(f=e.Ua(),e.Da().removeAttribute("transform"),e.D.Od.Bj(f.x,f.y),(f=e.Da())&&zb(e.D.Od,f));(e=d.s.qa)&&"function"==typeof e.No&&e.No(d.mb.Yd()?"blocklyToolboxDelete":"blocklyToolboxGrab");wa(a.Ef,a.Ee,a.Zc);d=!0}else d=!1;else d=!1;if(d=!d)if(a.$)d=Ab(a.$);else if(d=a.Wb)d=a.Wb,d=d.options.mc&&d.options.mc.Ch;d&&(a.Gj=a.$?new n.so(a.$):
new n.Xl(a.Wb),a.Lm=!0,a.Gj.yv())}n.Nh()}a.Ee=c}
b.Xs=function(a){n.g.Lp(a)?this.cancel():(this.Pi=!0,n.hb.Us(),Bb(this.Wb),this.Wb.Pm&&this.Wb.resize(),n.Vb(!!this.$),Ra(this.Wb),this.Ee=a,n.G.block(),this.Xb&&(!this.Xb.Oc&&a.shiftKey&&this.Xb.D.ac?C(this.Es.xb(),n.C.Ds(this.Xb)):this.Xb.select()),n.g.cj(a)?Ga(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||n.tH(a,this),this.rA=new n.g.O(a.clientX,a.clientY),this.Nz=a.altKey||a.ctrlKey||a.metaKey,this.ik(a)))};
b.ik=function(a){this.fq=n.va(document,"mousemove",null,this.Hk.bind(this));this.gq=n.va(document,"mouseup",null,this.zp.bind(this));a.preventDefault();a.stopPropagation()};b.Hk=function(a){yb(this,a);this.Lm?this.Gj.Ch(this.Zc):this.Zi?wa(this.Ef,this.Ee,this.Zc):this.Km&&qb(this.yh,this.Ee,this.Zc);a.preventDefault();a.stopPropagation()};
b.zp=function(a){yb(this,a);n.Nh();if(this.Ip)console.log("Trying to end a gesture recursively.");else{this.Ip=!0;if(this.Km)rb(this.yh,a,this.Zc);else if(this.Zi)Ba(this.Ef,a,this.Zc);else if(this.Lm){var c=this.Gj;c.Ch(this.Zc);Ua(c.s)}else if(this.ee&&!this.Oi)this.ee.yI&&this.ee.yI(),this.ee.select&&this.ee.select();else if(Cb(this)){c=this.fl;var d=this.Ee;ia(c)&&c.wj(d);Db(this)}else!this.dl||this.Oi||Cb(this)?this.dl||this.ee||this.fl||this.Oi||(c=this.Es,a.shiftKey&&c.ac?(d=n.g.uI(c,new n.g.O(a.clientX,
a.clientY)),d=n.C.qk(c,d),C(c.xb(),d)):n.selected&&sb(n.selected),d=new n.h.Rb(null,"workspaceClick",null,null),d.Cb=c.id,n.h.Ca(d)):(this.$&&this.$.hk?this.Xb.isEnabled()&&(n.h.Tb()||n.h.ca(!0),Fa(ub(this.$,this.Xb))):n.h.Ca(new n.h.Rb(this.dl,"click",void 0,void 0)),Db(this),n.h.ca(!1));a.preventDefault();a.stopPropagation();this.H()}};
b.cancel=function(){if(!this.Ip){n.Nh();if(this.Km)rb(this.yh,this.Ee,this.Zc);else if(this.Zi)Ba(this.Ef,this.Ee,this.Zc);else if(this.Lm){var a=this.Gj;a.Ch(this.Zc);Ua(a.s)}this.H()}};function Ga(a,c){a.Xb?(Db(a),n.Vb(!!a.$),a.Xb.vn(c)):a.ee?a.ee.vn(c):a.Wb&&!a.$&&(n.Vb(),a.Wb.vn(c));c.preventDefault();c.stopPropagation();a.H()}
function Eb(a,c,d){if(a.Pi)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Wb||(a.Wb=d);a.Ee=c;a.Xs(c);a.Wb.ac&&n.navigation.Ab(n.navigation.Ql)}function Fb(a,c,d){if(a.Pi)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.$||(a.$=d);Eb(a,c,d.s)}function Db(a){a.Xb&&!a.$&&Ea(a.Xb)}function Gb(a,c){a.dl||a.ee||(a.dl=c,c.Oc&&c!=c.cd()?Hb(a,c.cd()):Hb(a,c))}
function Hb(a,c){c.Ra?Hb(a,c.getParent()):a.Xb=c}function Cb(a){return(a.fl?ia(a.fl):!1)&&!a.Oi&&(!a.$||!a.$.hk)}b.kc=function(){return this.Lm||this.Zi||this.Km};b.Ek=function(){return this.Ef?this.Ef.Ek():[]};n.pi.Cp=function(){for(var a=n.ub.getAll(),c=0,d;d=a[c];c++)if(d.ic)return!0;return!1};n.Ed=function(a,c,d){this.Gc=this.vl;this.sB=this.Pn=null;this.Cc=new n.g.Ld(0,0);this.v=this.pu=this.zj=this.Rc=this.Fb=this.sd=this.Xg=this.Kg=null;d&&this.ve(d);this.setValue(a);c&&(this.Pn=c)};b=n.Ed.prototype;b.vl=null;b.name=void 0;b.ff=!1;b.pA=50;b.I=null;b.Sg=!0;b.gi=!0;b.xs=null;n.Ed.Yw="\u00a0";b=n.Ed.prototype;b.xl=!0;b.Ol=!1;b.ve=function(a){var c=a.tooltip;"string"==typeof c&&(c=n.g.oc(a.tooltip));c&&this.ld(c)};
b.qv=function(a){if(this.I)throw Error("Field already bound to a block.");this.I=a};b.Z=function(){!this.v&&this.I&&this.I.D&&this.I.D.ta&&(this.v=this.I.D.ob.Z());return this.v};b.X=function(){return this.I};b.ra=function(){this.sd||(this.sd=n.g.j.K("g",{},null),this.isVisible()||(this.sd.style.display="none"),this.I.Da().appendChild(this.sd),this.Hm(),this.Cj(),this.ld(this.sB),n.G.ik(Ib(this)),this.pu=n.va(Ib(this),"mousedown",this,this.Rh),this.Ui())};b.Hm=function(){Jb(this);Kb(this)};b.Ui=function(){};
function Jb(a){a.Fb=n.g.j.K("rect",{rx:a.Z().oo,ry:a.Z().oo,x:0,y:0,height:a.Cc.height,width:a.Cc.width,"class":"blocklyFieldRect"},a.sd)}function Kb(a){a.Rc=n.g.j.K("text",{"class":"blocklyText"},a.sd);a.Z().cr&&a.Rc.setAttribute("dominant-baseline","central");a.zj=document.createTextNode("");a.Rc.appendChild(a.zj)}b.xm=function(a){this.setValue(a.textContent)};b.oB=function(a){a.textContent=this.getValue();return a};
b.H=function(){n.F.Em(this);n.W.Em(this);n.G.Kv(Ib(this));this.pu&&n.Za(this.pu);n.g.j.removeNode(this.sd);this.ff=!0};b.Cj=function(){var a=this.sd;this.xl&&a&&(this.I.vd()?(n.g.j.vb(a,"blocklyEditableText"),n.g.j.Ac(a,"blocklyNonEditableText"),a.style.cursor=this.hw):(n.g.j.vb(a,"blocklyNonEditableText"),n.g.j.Ac(a,"blocklyEditableText"),a.style.cursor=""))};function ia(a){return!!a.I&&a.I.vd()&&!!a.wj&&"function"===typeof a.wj}b.isVisible=function(){return this.gi};
b.pb=function(a){if(this.gi!=a){this.gi=a;var c=this.Da();c&&(c.style.display=a?"block":"none")}};function Lb(a,c){a.Pn=c}b.Ez=function(){return this.Pn};b.Da=function(){return this.sd};b.Sb=function(){};b.Yh=function(){this.zj&&(this.zj.nodeValue=Mb(this));this.yB()};b.yB=function(){var a=this.Z(),c=this.Fb?this.Z().yl:0,d=2*c,e=a.po,f=0;this.Rc&&(f=n.g.j.vt(this.Rc,a.nh,a.oh,a.mh),d+=f);this.Fb&&(e=Math.max(e,a.tw));this.Cc.height=e;this.Cc.width=d;Nb(this,c,f);Ob(this)};
function Nb(a,c,d){if(a.Rc){var e=a.Z(),f=a.Cc.height/2;a.Rc.setAttribute("x",a.I.J?a.Cc.width-d-c:c);a.Rc.setAttribute("y",e.cr?f:f-e.po/2+e.vw)}}function Ob(a){a.Fb&&(a.Fb.setAttribute("width",a.Cc.width),a.Fb.setAttribute("height",a.Cc.height),a.Fb.setAttribute("rx",a.Z().oo),a.Fb.setAttribute("ry",a.Z().oo))}
b.Ng=function(){if(!this.isVisible())return new n.g.Ld(0,0);this.Sg?(this.Yh(),this.Sg=!1):this.gi&&0==this.Cc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Yh());return this.Cc};
function Pb(a){if(a.Fb)c=a.Fb.getBoundingClientRect(),a=n.g.style.Eh(a.Fb),e=c.width,c=c.height;else{var c=ka(a.I),d=a.I.D.scale;a=n.g.style.Eh(Ib(a));var e=c.width*d;c=c.height*d;n.g.userAgent.TC?(a.x+=1.5*d,a.y+=1.5*d):n.g.userAgent.oi||n.g.userAgent.Qe||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}return new n.g.Rect(a.y,a.y+c,a.x,a.x+e)}function Mb(a){var c=a.kf();if(!c)return n.Ed.Yw;c.length>a.pA&&(c=c.substring(0,a.pA-2)+"\u2026");c=c.replace(/\s/g,n.Ed.Yw);a.I&&a.I.J&&(c+="\u200f");return c}
b.kf=function(){if(this.xp){var a=this.xp.call(this);if(null!==a)return String(a)}return String(this.getValue())};b.rv=function(){throw Error("setText method is deprecated");};b.Tm=function(){this.Sg=!0;this.v=null};function cb(a){a.Sg=!0;a.I&&a.I.ta&&(a.I.xa(),a.I.hc(),a.Mv())}
b.setValue=function(a){if(null!==a){var c=this.Ii(a);a=Qb(this,a,c);if(!(a instanceof Error)){if(c=this.Ez())if(c=c.call(this,a),a=Qb(this,a,c),a instanceof Error)return;c=this.I;if(!c||!c.ff){var d=this.getValue();d!==a&&(c&&n.h.isEnabled()&&n.h.Ca(new n.h.jh(c,"field",this.name||null,d,a)),this.Bh(a),this.Sg&&cb(this))}}}};function Qb(a,c,d){if(null===d)return a.Vy(),a.Sg&&cb(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.Gc};
b.Ii=function(a){return null===a||void 0===a?null:a};b.Bh=function(a){this.Gc=a;this.Sg=!0};b.Vy=function(){};b.Rh=function(a){if(this.I&&this.I.D&&(a=this.I.D.Dh(a))){if(a.Pi)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.fl||(a.fl=this)}};b.ld=function(a){var c=Ib(this);c?c.tf=a||""===a?a:this.I:this.sB=a};function Ib(a){return a.xs||a.Da()}b.nq=function(){return!1};
b.Rf=function(){for(var a=null,c=this.I,d=c.P,e=0;e<c.P.length;e++)for(var f=d[e],h=f.cb,k=0;k<h.length;k++)if(h[k]===this){a=f;break}return a};b.nz=function(){return!1};b.dA=function(){return!1};b.Qc=function(){return!1};b.$g=function(a){a?(this.sd.appendChild(a),this.Kg=a):this.Kg=null};b.ah=function(a){a?(this.sd.appendChild(a),this.Xg=a):this.Xg=null};b.Mv=function(){var a=this.I.D;a.ac&&this.Kg&&a.xb().draw();a.ac&&this.Xg&&a.bd(n.navigation.El).draw()};n.Pf={};n.Pf.register=function(a,c){n.ga.register(n.ga.Kb.Qb,a,c)};n.Pf.unregister=function(a){n.ga.unregister(n.ga.Kb.Qb,a)};n.Pf.wa=function(a){var c=n.ga.st(n.ga.Kb.Qb,a.type);return c?c.wa(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};n.g.U={};n.g.U.TB="aria-";n.g.U.WD="role";n.g.U.xg={gK:"grid",hK:"gridcell",yw:"group",nD:"listbox",zD:"menu",AD:"menuitem",zK:"menuitemcheckbox",KD:"option",SD:"presentation",Lr:"row",nE:"tree",oE:"treeitem"};n.g.U.State={Wv:"activedescendant",xJ:"colcount",yC:"disabled",Zq:"expanded",Gw:"invalid",kD:"label",Mw:"labelledby",lD:"level",MD:"orientation",RD:"posinset",vL:"rowcount",Nr:"selected",ZD:"setsize",tE:"valuemax",uE:"valuemin"};n.g.U.Le=function(a,c){a.setAttribute(n.g.U.WD,c)};
n.g.U.Ab=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(n.g.U.TB+c,d)};n.qr=function(){this.nf=[];this.sj=this.Ja=this.aq=this.Vp=this.Up=this.Gg=this.Wp=this.Hh=this.Ju=null};b=n.qr.prototype;b.Yr=function(a){this.nf.push(a)};
b.xa=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.sj&&n.g.U.Le(c,this.sj);this.Ja=c;for(var d=0,e;e=this.nf[d];d++)c.appendChild(e.Ga());this.Wp=n.va(c,"mouseover",this,this.MG,!0);this.Gg=n.va(c,"click",this,this.GG,!0);this.Up=n.va(c,"mouseenter",this,this.JG,!0);this.Vp=n.va(c,"mouseleave",this,this.LG,!0);this.aq=n.va(c,"keydown",this,this.Ft);a.appendChild(c)};b.Ma=function(){return this.Ja};
b.focus=function(){var a=this.Ma();a&&(a.focus({preventScroll:!0}),n.g.j.vb(a,"blocklyFocused"))};b.Le=function(a){this.sj=a};b.H=function(){this.Wp&&(n.Za(this.Wp),this.Wp=null);this.Gg&&(n.Za(this.Gg),this.Gg=null);this.Up&&(n.Za(this.Up),this.Up=null);this.Vp&&(n.Za(this.Vp),this.Vp=null);this.aq&&(n.Za(this.aq),this.aq=null);for(var a=0,c;c=this.nf[a];a++)c.H();this.Ja=null};
function Rb(a,c){for(var d=a.Ma();c&&c!=d;){if(n.g.j.Ht(c,"blocklyMenuItem"))for(var e=0,f;f=a.nf[e];e++)if(f.Ma()==c)return f;c=c.parentElement}return null}b.rf=function(a){var c=this.Hh;c&&(c.rf(!1),this.Hh=null);a&&(a.rf(!0),this.Hh=a,c=this.Ma(),n.g.style.$A(a.Ma(),c),n.g.U.Ab(c,n.g.U.State.Wv,a.Qa()))};function Sb(a){var c=a.nf.indexOf(a.Hh);Tb(a,0>c?a.nf.length:c,-1)}function Tb(a,c,d){c+=d;for(var e;e=a.nf[c];){if(e.isEnabled()){a.rf(e);break}c+=d}}
b.MG=function(a){(a=Rb(this,a.target))&&(a.isEnabled()?this.Hh!=a&&this.rf(a):this.rf(null))};b.GG=function(a){var c=this.Ju;this.Ju=null;c&&"number"==typeof a.clientX&&1>n.g.O.Ws(c,new n.g.O(a.clientX,a.clientY))||(a=Rb(this,a.target))&&a.isEnabled()&&a.Yl&&a.Yl(a)};b.JG=function(){this.focus()};b.LG=function(){if(this.Ma()){var a=this.Ma();a&&(a.blur(),n.g.j.Ac(a,"blocklyFocused"));this.rf(null)}};
b.Ft=function(a){if(this.nf.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.Hh;switch(a.keyCode){case n.g.ma.mo:case n.g.ma.vx:c&&c.isEnabled()&&c.Yl&&c.Yl(c);break;case n.g.ma.Ko:Sb(this);break;case n.g.ma.lo:Tb(this,this.nf.indexOf(this.Hh),1);break;case n.g.ma.QD:case n.g.ma.WC:Tb(this,-1,1);break;case n.g.ma.PD:case n.g.ma.HC:Tb(this,this.nf.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.Ng=function(){var a=this.Ma(),c=n.g.style.Ng(a);c.height=a.scrollHeight;return c};n.rr=function(a,c){this.Jg=a;this.Gc=c;this.mp=!0;this.Ja=null;this.Zh=!1;this.sj=null;this.Qz=this.vs=this.us=!1;this.Yl=null};b=n.rr.prototype;
b.Ga=function(){var a=document.createElement("div");a.id=n.g.Pj.zt();this.Ja=a;a.className="blocklyMenuItem goog-menuitem "+(this.mp?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.vs?"blocklyMenuItemSelected goog-option-selected ":"")+(this.Qz?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Zh?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.us){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.Jg;"string"==typeof this.Jg&&(d=document.createTextNode(this.Jg));c.appendChild(d);a.appendChild(c);this.sj&&n.g.U.Le(a,this.sj);n.g.U.Ab(a,n.g.U.State.Nr,this.us&&this.vs||!1);n.g.U.Ab(a,n.g.U.State.yC,!this.mp);return a};b.H=function(){this.Ja=null};b.Ma=function(){return this.Ja};b.Qa=function(){return this.Ja.id};b.getValue=function(){return this.Gc};b.Le=function(a){this.sj=a};
b.rf=function(a){this.Qz=a;var c=this.Ma();c&&this.isEnabled()&&(a?(n.g.j.vb(c,"blocklyMenuItemHighlight"),n.g.j.vb(c,"goog-menuitem-highlight")):(n.g.j.Ac(c,"blocklyMenuItemHighlight"),n.g.j.Ac(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.mp};b.qf=function(a){this.mp=a};function Ub(a,c,d){a.Yl=c.bind(d)};n.$a=function(a,c,d){"function"!=typeof a&&n.$a.AB(a);this.jj=a;this.Dv=this.Tu=this.sp=null;a=this.jj;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var h=a[f][0];"string"==typeof h?a[f][0]=n.g.oc(h):(null!=h.alt&&(a[f][0].alt=n.g.oc(h.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=n.g.Ta.uv(e);h=n.g.Ta.lF(e,f);var k=n.g.Ta.mF(e,f);!h&&!k||f<=h+k||(h&&(this.Tu=e[0].substring(0,h-1)),k&&(this.Dv=e[0].substr(1-k)),this.jj=n.$a.KE(a,h,k))}}this.$k=this.getOptions(!1)[0];
n.$a.A.constructor.call(this,this.$k[1],c,d);this.hl=this.se=this.ed=this.lc=this.qn=null};n.g.object.S(n.$a,n.Ed);n.$a.wa=function(a){return new n.$a(a.options,void 0,a)};n.$a.prototype.Ol=!0;n.$a.uJ=25;n.$a.yK=.45;n.$a.aD=5;n.$a.bD=2*n.$a.aD;n.$a.Mq=n.g.userAgent.rl?"\u25bc":"\u25be";b=n.$a.prototype;b.hw="default";
b.Hm=function(){this.vv()?Jb(this):this.xs=this.I.Da();Kb(this);this.ed=n.g.j.K("image",{},this.sd);this.Z().KC?(this.hl=n.g.j.K("image",{height:this.Z().zl+"px",width:this.Z().zl+"px"},this.sd),this.hl.setAttributeNS(n.g.j.Kc,"xlink:href",this.Z().LC)):(this.se=n.g.j.K("tspan",{},this.Rc),this.se.appendChild(document.createTextNode(this.I.J?n.$a.Mq+" ":" "+n.$a.Mq)),this.I.J?this.Rc.insertBefore(this.se,this.zj):this.Rc.appendChild(this.se));this.Fb&&n.g.j.vb(this.Fb,"blocklyDropdownRect")};
b.vv=function(){return!this.Z().$q||this.Z().$q&&!this.I.Ra};
b.wj=function(a){var c=new n.qr;c.Le(n.g.U.xg.nD);var d=this.getOptions(!1);this.qn=null;for(var e=0;e<d.length;e++){var f=d[e][0],h=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new n.rr(f,h);f.Le(n.g.U.xg.KD);f.Zh=this.I.J;f.us=!0;c.Yr(f);f.vs=h==this.Gc;h==this.Gc&&(this.qn=f);Ub(f,this.IG,this)}this.lc=c;this.lc.Ju=a&&"number"===typeof a.clientX?new n.g.O(a.clientX,a.clientY):null;this.lc.xa(n.F.sG());a=this.lc.Ma();n.g.j.vb(a,"blocklyDropdownMenu");
this.Z().JC&&(a=this.I.Ra?this.I.getParent().tt():this.I.tt(),c=this.I.Ra?this.I.getParent().style.Ig:this.I.style.Ig,n.F.kd(a,c));n.F.DI(this,this.WF.bind(this));this.lc.focus();this.qn&&this.lc.rf(this.qn);this.Sb()};b.WF=function(){this.lc&&this.lc.H();this.qn=this.lc=null;this.Sb()};b.IG=function(a){n.F.Em(this,!0);this.BA(a)};b.BA=function(a){this.setValue(a.getValue())};n.$a.KE=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var h=a[f][0],k=a[f][1];h=h.substring(c,h.length-d);e[f]=[h,k]}return e};
b=n.$a.prototype;b.getOptions=function(a){return"function"==typeof this.jj?(this.sp&&a||(this.sp=this.jj.call(this),n.$a.AB(this.sp)),this.sp):this.jj};b.Ii=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.I&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.I.type+", Field name: "+this.name+", Value: "+a),null)};
b.Bh=function(a){n.$a.A.Bh.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.Gc&&(this.$k=d)};b.Sb=function(){this.Fb&&(this.Fb.setAttribute("stroke",this.I.style.Ig),this.lc?this.Fb.setAttribute("fill",this.I.style.Ig):this.Fb.setAttribute("fill","transparent"));this.I&&this.se&&(this.se.style.fill=this.I.Ra?this.I.style.Zo:this.I.style.zh)};
b.Yh=function(){this.zj.nodeValue="";this.ed.style.display="none";var a=this.$k&&this.$k[0];if(a&&"object"==typeof a){this.ed.style.display="";this.ed.setAttributeNS(n.g.j.Kc,"xlink:href",a.src);this.ed.setAttribute("height",a.height);this.ed.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Fb,e=Math.max(d?this.Z().uw:0,c+n.$a.bD);d=d?this.Z().yl:0;var f=this.hl?Vb(this,a+d,e/2-this.Z().zl/2):n.g.j.vt(this.se,this.Z().nh,this.Z().oh,this.Z().mh);this.Cc.width=a+
f+2*d;this.Cc.height=e;var h=0;this.I.J?this.ed.setAttribute("x",d+f):(h=a+f,this.Rc.setAttribute("text-anchor","end"),this.ed.setAttribute("x",d));this.ed.setAttribute("y",e/2-c/2);Nb(this,h+d,a+f)}else this.zj.nodeValue=Mb(this),n.g.j.vb(this.Rc,"blocklyDropdownText"),this.Rc.setAttribute("text-anchor","start"),e=!!this.Fb,c=Math.max(e?this.Z().uw:0,this.Z().po),a=n.g.j.vt(this.Rc,this.Z().nh,this.Z().oh,this.Z().mh),e=e?this.Z().yl:0,d=0,this.hl&&(d=Vb(this,a+e,c/2-this.Z().zl/2)),this.Cc.width=
a+d+2*e,this.Cc.height=c,Nb(this,e,a);Ob(this)};function Vb(a,c,d){if(!a.hl)return 0;var e=a.Fb?a.Z().yl:0,f=a.Z().MC,h=a.Z().zl;a.hl.setAttribute("transform","translate("+(a.I.J?e:c+f)+","+d+")");return h+f}b.xp=function(){if(!this.$k)return null;var a=this.$k[0];return"object"==typeof a?a.alt:a};
n.$a.AB=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};n.$a.prototype.Qc=function(a){if(this.lc){if(a===n.navigation.Sn)return Sb(this.lc),!0;if(a===n.navigation.Rn)return a=this.lc,Tb(a,a.nf.indexOf(a.Hh),1),!0}return n.$a.A.Qc.call(this,a)};n.Pf.register("field_dropdown",n.$a);n.uc=function(a){this.s=a;this.Di=[];this.Ki=null;if(!(0>=this.s.options.Tp)){a=new n.rc({scrollbars:!0,parentWorkspace:this.s,rtl:this.s.J,oneBasedIndex:this.s.options.cn,renderer:this.s.options.on,rendererOverrides:this.s.options.pn});if(this.s.dd){a.Ka=this.s.Ka==n.zg?n.ck:n.zg;if(!n.Cl)throw Error("Missing require for Blockly.HorizontalFlyout");this.Ki=new n.Cl(a)}else{a.Ka=this.s.Ka==n.yg?n.Md:n.yg;if(!n.Cg)throw Error("Missing require for Blockly.VerticalFlyout");this.Ki=new n.Cg(a)}ib(this.s,
this.TH.bind(this))}};b=n.uc.prototype;b.Vl=47;b.Vn=44;b.Sj=16;b.wD=20;b.Ow=20;b.wo=10;b.Pr=0;b.Qr=32;b.UC=.1;n.uc.SB=80;n.uc.Zv=4;n.uc.ex=.4;n.uc.ID=.8;n.uc.Pw=45;b=n.uc.prototype;b.Kp=!1;b.ou=0;b.N=null;b.yq=null;b.$t=0;b.Mh=0;b.hA=0;b.tB=0;
b.Ga=function(){this.N=n.g.j.K("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=n.g.j.K("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.N);n.g.j.K("rect",{width:this.Vl,height:this.Vn,y:this.Sj},c);var d=n.g.j.K("image",{width:n.Yj.width,x:-this.Pr,height:n.Yj.height,y:-this.Qr,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.N);d.setAttributeNS(n.g.j.Kc,"xlink:href",this.s.options.dn+n.Yj.url);c=n.g.j.K("clipPath",{id:"blocklyTrashLidClipPath"+a},this.N);
n.g.j.K("rect",{width:this.Vl,height:this.Sj},c);this.yq=n.g.j.K("image",{width:n.Yj.width,x:-this.Pr,height:n.Yj.height,y:-this.Qr,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.N);this.yq.setAttributeNS(n.g.j.Kc,"xlink:href",this.s.options.dn+n.Yj.url);n.va(this.N,"mouseup",this,this.click);n.ec(d,"mouseover",this,this.EH);n.ec(d,"mouseout",this,this.CH);this.bs();return this.N};
b.ra=function(a){0<this.s.options.Tp&&(n.g.j.Wi(this.Ki.Ga("svg"),y(this.s)),this.Ki.ra(this.s));this.Fq=this.wD+a;Aa(this,!1);return this.Fq+this.Vn+this.Sj};b.H=function(){this.N&&(n.g.j.removeNode(this.N),this.N=null);this.s=this.yq=null;clearTimeout(this.$t)};
b.position=function(){if(this.Fq){var a=this.s.Vd();a&&(this.hA=a.Ka==n.Md||this.s.dd&&!this.s.J?a.Bb+a.vc-this.Vl-this.Ow-n.Pa.Bc:this.Ow+n.Pa.Bc,this.tB=a.Ka==n.ck?this.Fq:a.Ib+a.Lc-(this.Vn+this.Sj)-this.Fq,this.N.setAttribute("transform","translate("+this.hA+","+this.tB+")"))}};b.Bk=function(){if(!this.N)return null;var a=this.N.getBoundingClientRect(),c=a.top+this.Qr-this.wo;a=a.left+this.Pr-this.wo;return new n.g.Rect(c,c+this.Sj+this.Vn+2*this.wo,a,a+this.Vl+2*this.wo)};
function Aa(a,c){a.Kp!=c&&(clearTimeout(a.$t),a.Kp=c,a.bs())}b.bs=function(){var a=1/(n.uc.Zv+1);this.Mh+=this.Kp?a:-a;this.Mh=Math.min(Math.max(this.Mh,this.ou),1);Wb(this,this.Mh*n.uc.Pw);this.N.style.opacity=n.uc.ex+this.Mh*(n.uc.ID-n.uc.ex);this.Mh>this.ou&&1>this.Mh&&(this.$t=setTimeout(this.bs.bind(this),n.uc.SB/n.uc.Zv))};function Wb(a,c){var d=a.s.Ka==n.yg||a.s.dd&&a.s.J;a.yq.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.Vl-4)+","+(a.Sj-2)+")")}b.close=function(){Aa(this,!1)};
b.click=function(){if(this.Di.length){for(var a=[],c=0,d;d=this.Di[c];c++)a[c]=n.R.Aj(d);this.Ki.show(a)}};b.EH=function(){this.Di.length&&Aa(this,!0)};b.CH=function(){Aa(this,!1)};
b.TH=function(a){if(!(0>=this.s.options.Tp)&&a.type==n.h.cw&&"shadow"!=a.Cu.tagName.toLowerCase()){for(var c=a=a.Cu.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=n.R.Td(a);if(-1==this.Di.indexOf(a)){for(this.Di.unshift(a);this.Di.length>
this.s.options.Tp;)this.Di.pop();this.ou=a=this.UC;this.Kp||Wb(this,a*n.uc.Pw)}}};n.Dd={};n.Dd.Pt=!1;n.Dd.register=function(a){if(n.Dd.Pt)throw Error("CSS already injected");Array.prototype.push.apply(n.Dd.Tq,a);a.length=0};n.Dd.Vi=function(a,c){if(!n.Dd.Pt){n.Dd.Pt=!0;var d=n.Dd.Tq.join("\n");n.Dd.Tq.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};n.Dd.jv=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See issue #981 for context")};
n.Dd.Tq=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;",
"border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {",
"fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",
'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {",
"display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;",
"-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;",
"height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;",
"}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {",
"fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;",
"}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);",
"}",".blocklyDropDownDiv .blocklyMenu {",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;",
"width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];n.Tc=function(){this.Zh=n.Tc.Iy;this.Mk=null;this.fd=!1;this.xd=this.Ja=null;this.Zb=[];this.ws={};this.Sy=!1};n.Tc.Iy=!1;n.Tc.Error={Yv:"Component already rendered",Cr:"Unable to set parent component",fC:"Child component index out of bounds",Sv:"Unimplemented abstract method"};b=n.Tc.prototype;b.Qa=function(){return this.Mk||(this.Mk=n.g.Pj.zt())};b.Ma=function(){return this.Ja};
b.bl=function(a){if(this==a)throw Error(n.Tc.Error.Cr);var c;if(c=a&&this.xd&&this.Mk)c=(c=this.Mk)?this.xd.ws[c]||null:null;if(c&&this.xd!=a)throw Error(n.Tc.Error.Cr);this.xd=a};b.getParent=function(){return this.xd};b.Ga=function(){throw Error(n.Tc.Error.Sv);};b.xa=function(a){this.Yh(a)};b.Yh=function(a,c){if(this.fd)throw Error(n.Tc.Error.Yv);this.Ja||this.Ga();a?a.insertBefore(this.Ja,c||null):document.body.appendChild(this.Ja);this.xd&&!this.xd.fd||this.Lg()};
b.Lg=function(){this.fd=!0;Xb(this,function(a){!a.fd&&a.Ma()&&a.Lg()})};b.Ak=function(){Xb(this,function(a){a.fd&&a.Ak()});this.fd=!1};b.H=function(){this.Sy||(this.Sy=!0,this.Vs())};b.Vs=function(){this.fd&&this.Ak();Xb(this,function(a){a.H()});this.Ja&&n.g.j.removeNode(this.Ja);this.xd=this.Ja=this.ws=this.Zb=null};b.Yr=function(a){this.Lo(a,this.Zb.length,void 0)};
b.Lo=function(a,c,d){if(a.fd&&(d||!this.fd))throw Error(n.Tc.Error.Yv);if(0>c||c>this.Zb.length)throw Error(n.Tc.Error.fC);this.ws[a.Qa()]=a;if(a.getParent()==this){var e=this.Zb.indexOf(a);-1<e&&this.Zb.splice(e,1)}a.bl(this);this.Zb.splice(c,0,a);a.fd&&this.fd&&a.getParent()==this?(d=this.Ja,c=d.childNodes[c]||null,c!=a.Ma()&&d.insertBefore(a.Ma(),c)):d?(this.Ja||this.Ga(),c=this.Zb[c+1]||null,a.Yh(this.Ja,c?c.Ja:null)):this.fd&&!a.fd&&a.Ja&&a.Ja.parentNode&&a.Ja.parentNode.nodeType==n.g.j.sg.ELEMENT_NODE&&
a.Lg()};function Yb(a){return 0!=a.Zb.length}function Xb(a,c){for(var d=0;d<a.Zb.length;d++)c.call(void 0,a.Zb[d],d)};n.ya={};n.ya.Hc=function(a,c){n.Tc.call(this);this.content=a;this.Xc=c;this.$c=this.rn=!1;this.Ls=-1};n.g.object.S(n.ya.Hc,n.Tc);n.ya.Hc.$r={};b=n.ya.Hc.prototype;b.Vs=function(){n.ya.Hc.A.Vs.call(this);this.ya&&(this.ya=null);this.Ja=null};
b.Dp=function(){var a=this.Ma();if(a){var c=Zb(this);c&&!c.id&&(c.id=this.Qa()+".label");n.g.U.Le(a,n.g.U.xg.oE);n.g.U.Ab(a,n.g.U.State.Nr,!1);n.g.U.Ab(a,n.g.U.State.lD,this.Ck());c&&n.g.U.Ab(a,n.g.U.State.Mw,c.id);(c=this.wt())&&n.g.U.Le(c,n.g.U.xg.SD);if(c=$b(this))if(n.g.U.Le(c,n.g.U.xg.yw),c.hasChildNodes())for(n.g.U.Ab(a,n.g.U.State.Zq,!1),a=this.Zb.length,c=1;c<=a;c++){var d=(this.Zb[c-1]||null).Ma();n.g.U.Ab(d,n.g.U.State.ZD,a);n.g.U.Ab(d,n.g.U.State.RD,c)}}};
b.Ga=function(){var a=document.createElement("div");a.appendChild(ac(this));this.Ja=a};b.Lg=function(){n.ya.Hc.A.Lg.call(this);n.ya.Hc.$r[this.Qa()]=this;this.Dp()};b.Ak=function(){n.ya.Hc.A.Ak.call(this);delete n.ya.Hc.$r[this.Qa()]};
b.Lo=function(a,c){var d=this.Zb[c-1]||null,e=this.Zb[c]||null;n.ya.Hc.A.Lo.call(this,a,c);a.Zk=d;a.xu=e;d&&(d.xu=a);e&&(e.Zk=a);(c=this.lf())&&bc(a,c);cc(a,this.Ck()+1);if(c=this.Ma())if(this.Dq(),n.g.U.Ab(c,n.g.U.State.Zq,this.$c),this.$c){c=$b(this);a.Ma()||a.Ga();var f=a.Ma(),h=e&&e.Ma();c.insertBefore(f,h);this.fd&&a.Lg();e||(d?d.Dq():(n.g.style.mv(c,!0),this.uj(this.$c)))}};b.add=function(a){if(a.getParent())throw Error(n.Tc.Error.Cr);this.Lo(a,this.Zb.length)};b.lf=function(){return null};
b.Ck=function(){var a=this.Ls;0>a&&(a=(a=this.getParent())?a.Ck()+1:0,cc(this,a));return a};function cc(a,c){if(c!=a.Ls){a.Ls=c;var d=dc(a);if(d){var e=ec(a)+"px";a.Zh?d.style.paddingRight=e:d.style.paddingLeft=e}Xb(a,function(f){cc(f,c+1)})}}b.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};b.ye=function(){var a=[];Xb(this,function(c){a.push(c)});return a};b.getParent=function(){return n.ya.Hc.A.getParent.call(this)};b.select=function(){var a=this.lf();a&&fc(a,this)};
function gc(a,c){if(a.rn!=c){a.rn=c;hc(a);var d=a.Ma();d&&(n.g.U.Ab(d,n.g.U.State.Nr,c),c&&(c=a.lf().Ma(),n.g.U.Ab(c,n.g.U.State.Wv,a.Qa())))}}
b.uj=function(a){var c=a!=this.$c,d;this.$c=a;var e=this.lf(),f=this.Ma();if(Yb(this)){if(!a&&e&&this.contains(e.ce)&&this.select(),f){if(d=$b(this))n.g.style.mv(d,a),n.g.U.Ab(f,n.g.U.State.Zq,a),a&&this.fd&&!d.hasChildNodes()&&(Xb(this,function(h){d.appendChild(ac(h))}),Xb(this,function(h){h.Lg()}));this.Dq()}}else(d=$b(this))&&n.g.style.mv(d,!1);f&&(this.wt().className=this.tp());c&&(a?this.Uy():this.Ty())};b.Uy=function(){};b.Ty=function(){};b.toggle=function(){this.uj(!this.$c)};
function ac(a){var c=a.$c&&Yb(a),d=document.createElement("div");d.style.backgroundPosition=ic(a);c||(d.style.display="none");c&&Xb(a,function(e){d.appendChild(ac(e))});c=document.createElement("div");c.id=a.Qa();c.appendChild(jc(a));c.appendChild(d);return c}function ec(a){return Math.max(0,(a.Ck()-1)*a.Xc.Tz)}function jc(a){var c=document.createElement("div");c.className=a.wp();c.style["padding-"+(a.Zh?"right":"left")]=ec(a)+"px";c.appendChild(kc(a));c.appendChild(lc(a));return c}
b.wp=function(){var a="";this.rn&&(a=" "+(this.Xc.CF||""));return this.Xc.Ey+a};function lc(a){var c=document.createElement("span");c.className=a.Xc.zF||"";c.textContent=a.content;return c}function kc(a){var c=document.createElement("span");c.style.display="inline-block";c.className=a.tp();return c}b.tp=function(){throw Error(n.Tc.Error.Sv);};function ic(a){return(a.xu?(a.Ck()-1)*a.Xc.Tz:"-100")+"px 0"}
b.Ma=function(){var a=n.ya.Hc.A.Ma.call(this);a||(this.Ja=a=document.getElementById(this.Qa()));return a};function dc(a){return(a=a.Ma())?a.firstChild:null}b.wt=function(){var a=dc(this);return a?a.firstChild:null};function Zb(a){return(a=dc(a))&&a.lastChild?a.lastChild.previousSibling:null}function $b(a){return(a=a.Ma())?a.lastChild:null}function hc(a){var c=dc(a);c&&(c.className=a.wp())}b.Dq=function(){var a=$b(this);a&&(a.style.backgroundPosition=ic(this))};b.AA=function(a){a.preventDefault()};
b.$m=function(a){switch(a.keyCode){case n.g.ma.Ir:var c=tb(this);break;case n.g.ma.kr:c=mc(this);break;case n.g.ma.lo:c=nc(this);break;case n.g.ma.Ko:c=oc(this);break;case n.g.ma.mo:case n.g.ma.vx:this.toggle();c=!0;break;default:c=!1}c&&a.preventDefault();return c};function nc(a){a:if(Yb(a)&&a.$c)a=a.Zb[0]||null;else{for(var c=a,d;c!=a.lf();){d=c.xu;if(null!=d){a=d;break a}c=c.getParent()}a=null}a&&a.select();return!0}
function oc(a){var c=a.Zk;if(null!=c)a=pc(c);else{c=a.getParent();var d=a.lf();a=c==d||a==d?null:c}a&&a.select();return!0}function mc(a){if(Yb(a)&&a.$c)a.uj(!1);else{var c=a.getParent();a=a.lf();c&&c!=a&&c.select()}return!0}function tb(a){return Yb(a)?(a.$c?(a.Zb[0]||null).select():a.uj(!0),!0):!1}function pc(a){return a.$c&&Yb(a)?pc(a.Zb[a.Zb.length-1]||null):a}function bc(a,c){a.ya!=c&&(a.ya=c,Xb(a,function(d){bc(d,c)}))};n.ya.wh=function(a,c,d){this.qa=a;n.ya.Hc.call(this,c,d);this.Hu=null};n.g.object.S(n.ya.wh,n.ya.Hc);b=n.ya.wh.prototype;b.lf=function(){if(this.ya)return this.ya;var a=this.getParent();return a&&(a=a.lf())?(bc(this,a),a):null};b.tp=function(){var a=this.$c;if(a&&this.gt)return this.gt;var c=this.VG;if(!a&&c)return c;c=this.Xc;if(Yb(this)){if(a&&c.By)return c.Gs+" "+c.By;if(!a&&c.xF)return c.Gs+" "+c.xF}else if(c.Cy)return c.Gs+" "+c.Cy;return""};
b.AA=function(){Yb(this)?(this.toggle(),this.select()):this.rn?fc(this.lf(),null):this.select();hc(this)};b.$m=function(a){if(this.ya.qa.Lk){var c={},d=n.g.ma.lo,e=n.g.ma.Ko;c[n.g.ma.Ir]=this.Zh?e:d;c[n.g.ma.kr]=this.Zh?d:e;c[n.g.ma.Ko]=n.g.ma.kr;c[n.g.ma.lo]=n.g.ma.Ir;Object.defineProperties(a,{keyCode:{value:c[a.keyCode]||a.keyCode}})}return n.ya.wh.A.$m.call(this,a)};b.YA=function(){this.Hu&&this.Hu.call(this.qa)};b.Uy=n.ya.wh.prototype.YA;b.Ty=n.ya.wh.prototype.YA;n.ya.Ai=function(a,c){this.qa=a;this.eq=this.Zp=null;n.ya.Hc.call(this,"",c);this.rn=this.$c=!0;this.ce=this;this.Du=this.Eu=null};n.g.object.S(n.ya.Ai,n.ya.Hc);b=n.ya.Ai.prototype;b.lf=function(){return this};b.Ck=function(){return 0};b.uj=function(a){this.$c=a};b.wt=function(){var a=dc(this);return a?a.firstChild:null};b.Dq=function(){};b.wp=function(){return n.ya.Ai.A.wp.call(this)+" "+this.Xc.yF};b.tp=function(){var a=this.$c;if(a&&this.gt)return this.gt;var c=this.VG;return!a&&c?c:""};
function fc(a,c){if(c!=a.ce&&(!a.Eu||a.Eu.call(a.qa,c))){var d=a.ce;a.ce&&gc(a.ce,!1);(a.ce=c)&&gc(c,!0);a.Du&&a.Du.call(a.qa,d,c)}}b.Dp=function(){n.ya.Ai.A.Dp.call(this);var a=this.Ma();n.g.U.Le(a,n.g.U.xg.nE);n.g.U.Ab(a,n.g.U.State.Mw,Zb(this).id)};b.Lg=function(){n.ya.Ai.A.Lg.call(this);var a=this.Ma();a.className=this.Xc.BF;a.setAttribute("hideFocus","true");a=this.Ma();a.tabIndex=0;this.Zp=n.va(a,"click",this,this.KG);this.eq=n.ec(a,"keydown",this,this.Ft);this.Dp()};
b.Ak=function(){n.ya.Ai.A.Ak.call(this);this.Zp&&(n.Za(this.Zp),this.Zp=null);this.eq&&(n.Za(this.eq),this.eq=null)};b.KG=function(a){var c;a:{for(var d=a.target;d;){if(c=n.ya.Hc.$r[d.id])break a;if(d==this.Ma())break;if(d.getAttribute("role")==n.g.U.xg.yw)break;d=d.parentNode}c=null}c&&"click"==a.type&&c.AA(a)};b.Ft=function(a){var c=!(!this.ce||!this.ce.$m(a));c&&(n.g.style.$A(this.ce.Ma(),this.Ma().parentNode),a.preventDefault());return c};
b.createNode=function(a){return new n.ya.wh(this.qa,a||"",this.Xc)};n.yi=function(a){this.s=a;this.J=a.options.J;this.Lk=a.options.dd;this.Ka=a.options.Ka;this.Xc={Tz:19,BF:"blocklyTreeRoot",yF:"blocklyHidden",Ey:"blocklyTreeRow",zF:"blocklyTreeLabel",Gs:"blocklyTreeIcon",By:"blocklyTreeIconOpen",Cy:"blocklyTreeIconNone",CF:"blocklyTreeSelected"};this.uB={Ey:"blocklyTreeSeparator"};this.Lk&&(this.Xc.cssTreeRow+=a.J?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.uB.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.J?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.Xc.cssTreeIcon="");this.$=null;this.height=this.width=0;this.Sk=null};b=n.yi.prototype;
b.ra=function(){var a=this.s,c=y(this.s);this.Ic=document.createElement("div");this.Ic.className="blocklyToolboxDiv blocklyNonSelectable";this.Ic.setAttribute("dir",a.J?"RTL":"LTR");c.parentNode.insertBefore(this.Ic,c);var d=a.bc;d.subscribe(this.Ic,"toolboxBackgroundColour","background-color");d.subscribe(this.Ic,"toolboxForegroundColour","color");n.va(this.Ic,"mousedown",this,function(e){n.g.cj(e)||e.target==this.Ic?n.Vb(!1):n.Vb(!0);n.Touch.cm()},!1,!0);d=new n.rc({parentWorkspace:a,rtl:a.J,oneBasedIndex:a.options.cn,
horizontalLayout:a.dd,renderer:a.options.on,rendererOverrides:a.options.pn});d.Ka=a.options.Ka;if(a.dd){if(!n.Cl)throw Error("Missing require for Blockly.HorizontalFlyout");this.$=new n.Cl(d)}else{if(!n.Cg)throw Error("Missing require for Blockly.VerticalFlyout");this.$=new n.Cg(d)}if(!this.$)throw Error("One of Blockly.VerticalFlyout or Blockly.Horizontal must berequired.");n.g.j.Wi(this.$.Ga("svg"),c);this.$.ra(a);this.Xc.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.J?"Rtl":"Ltr");this.xa(a.options.Yf)};
b.xa=function(a){this.Fc&&(this.Fc.H(),this.Sk=null);var c=new n.ya.Ai(this,this.Xc);this.Fc=c;fc(c,null);c.Eu=this.FG;c.Du=this.EG;var d=null;if(a){this.Fc.Sd=[];this.It=!1;d=qc(this,a,this.Fc);if(this.Fc.Sd.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");Za(this.s)}c.xa(this.Ic);d&&fc(c,d);rc(this);this.position();this.Lk&&n.g.U.Ab(this.Fc.Ma(),n.g.U.State.MD,"horizontal")};
function qc(a,c,d){var e=null,f=null;if(!c)return null;for(var h=0,k;k=c[h];h++)switch(k.kind.toUpperCase()){case "CATEGORY":var l=a;f=k;var m=d,p=null,q=n.g.oc(f.name),r=l.Fc.createNode(q);r.Hu=l.NG;r.Sd=[];m.add(r);(m=f.custom)?r.Sd=m:p=qc(l,f.contents,r)||p;m=r;var v=f.categorystyle,B=f.colour;B&&v?(m.Qi="",console.warn('Toolbox category "'+q+'" must not have both a style and a colour')):v?sc(l,v,m,q):tc(l,B,m,q);q=null;"true"==f.expanded?(r.Sd.length&&(q=r),r.uj(!0)):r.uj(!1);e=(p=q||p)||e;f=
k;break;case "SEP":p=d;f&&"CATEGORY"==f.kind.toUpperCase()?(p.add(new n.yi.Vr(a.uB)),k=null):p.Sd.push(k);f=k||f;break;case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.Sd.push(k),f=k}return e}b.FG=function(a){if(a==this.Fc)return!1;this.Sk&&(dc(this.Sk).style.backgroundColor="");if(a){var c=a.Qi||"#57e";dc(a).style.backgroundColor=c;rc(this,a)}return!0};
b.EG=function(a,c){c&&c.Sd&&c.Sd.length?(this.$.show(c.Sd),this.Sk!=c&&this.$.Ha.set(0),this.s.ac&&n.navigation.Ab(n.navigation.Rr)):(this.$.Ea(),!this.s.ac||c instanceof n.yi.Vr||n.navigation.Ab(n.navigation.Ql));a!=c&&a!=this&&(a=new n.h.Rb(null,"category",a&&a.content,c&&c.content),a.Cb=this.s.id,n.h.Ca(a));c&&(this.Sk=c)};b.NG=function(){n.il(this.s)};
b.Qc=function(a){var c=this.Fc.ce;if(!c)return!1;switch(a.name){case n.navigation.Aa.Id:return oc(c);case n.navigation.Aa.Do:return mc(c);case n.navigation.Aa.Hd:return nc(c);case n.navigation.Aa.to:return tb(c);default:return!1}};b.H=function(){this.$.H();this.Fc.H();this.s.bc.unsubscribe(this.Ic);n.g.j.removeNode(this.Ic);this.Sk=null};b.pb=function(a){this.Ic.style.display=a?"block":"none"};b.Qg=function(){return this.width};b.oz=function(){return this.height};b.Mb=function(){return this.$};
b.position=function(){var a=this.Ic;if(a){var c=n.mB(y(this.s));this.Lk?(a.style.left="0",a.style.height="auto",a.style.width=c.width+"px",this.height=a.offsetHeight,this.Ka==n.zg?a.style.top="0":a.style.bottom="0"):(this.Ka==n.yg?a.style.right="0":a.style.left="0",a.style.height=c.height+"px",this.width=a.offsetWidth);this.$.position()}};
function tc(a,c,d,e){c=n.g.oc(c);if(null===c||""===c)d.Qi="";else{var f=Number(c);isNaN(f)?(f=n.g.ib.parse(c))?(d.Qi=f,a.It=!0):(d.Qi="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+c)):(d.Qi=n.UG(f),a.It=!0)}}function sc(a,c,d,e){d.lB=c;var f=a.s.Og();c&&f&&((f=f.Vo[c])&&f.ib?tc(a,f.ib,d,e):console.warn('Style "'+c+'" must exist and contain a colour value'))}function uc(a,c){if(c=c||a.Fc){c=c.ye(!1);for(var d=0,e;e=c[d];d++)e.lB&&(sc(a,e.lB,e,""),rc(a)),uc(a,e)}}
b.Xu=function(){var a=this.Fc;if(a&&(uc(this,a),a=a.ce)){var c=a.Qi||"#57e";dc(a).style.backgroundColor=c;rc(this,a)}};function rc(a,c){c=(c||a.Fc).ye(!1);for(var d=0,e;e=c[d];d++){var f=dc(e);if(f){var h=a.It?"8px solid "+(e.Qi||"#ddd"):"none";a.s.J?f.style.borderRight=h:f.style.borderLeft=h}rc(a,e)}}b.No=function(a){n.g.j.vb(this.Ic,a)};b.oq=function(a){n.g.j.Ac(this.Ic,a)};
b.Bk=function(){if(!this.Ic)return null;var a=this.Ic.getBoundingClientRect(),c=a.top,d=c+a.height,e=a.left;a=e+a.width;return this.Ka==n.zg?new n.g.Rect(-1E7,d,-1E7,1E7):this.Ka==n.ck?new n.g.Rect(c,1E7,-1E7,1E7):this.Ka==n.Md?new n.g.Rect(-1E7,1E7,-1E7,a):new n.g.Rect(-1E7,1E7,e,1E7)};n.yi.Vr=function(a){n.ya.wh.call(this,null,"",a)};n.g.object.S(n.yi.Vr,n.ya.wh);
n.Dd.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {",
"height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;",
"margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {",
"background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',
"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]);n.ga.register(n.ga.Kb.bk,n.ga.kw,n.yi);n.tb=Object.create(null);n.sa=function(a,c){this.I=a;this.type=c};n.sa.Zn=0;n.sa.lx=1;n.sa.ox=2;n.sa.nx=3;n.sa.jx=4;n.sa.kx=5;n.sa.mx=6;b=n.sa.prototype;b.ka=null;b.ff=!1;b.$e=null;b.eg=null;b.x=0;b.y=0;
b.bf=function(a){var c=this,d=c.X(),e=a.X();a.isConnected()&&a.disconnect();if(c.isConnected()){var f=c.na(),h=c.eg;c.eg=null;if(f.Ra)h=n.R.Dg(f),f.H(!1),f=null;else if(c.type==n.lb){if(!f.L)throw Error("Orphan block does not have an output connection.");var k=n.sa.fA(e,f);k&&(f.L.connect(k),f=null)}else if(c.type==n.gb){if(!f.V)throw Error("Orphan block does not have a previous connection.");for(k=e;k.T;){var l=u(k);if(l&&!l.Ra)k=l;else{qa(f.V,k.T)&&(k.T.connect(f.V),f=null);break}}}if(f&&(c.disconnect(),
n.h.zc)){var m=n.h.Tb();setTimeout(function(){f.D&&!f.getParent()&&(n.h.ca(m),f.L?f.L.$p(c):f.V&&f.V.$p(c),n.h.ca(!1))},n.Qq)}c.eg=h}var p;n.h.isEnabled()&&(p=new n.h.tl(e));n.sa.pF(c,a);e.bl(d);p&&(p.pj(),n.h.Ca(p))};b.H=function(){if(this.isConnected()){this.eg=null;var a=this.na();a.Ra?a.H(!1):w(a)}this.ff=!0};b.X=function(){return this.I};function Da(a){return a.type==n.lb||a.type==n.gb}b.isConnected=function(){return!!this.ka};
function vb(a,c){if(!c)return n.sa.nx;if(Da(a))var d=a.I,e=c.X();else e=a.I,d=c.X();return d&&d==e?n.sa.lx:c.type!=n.Uj[a.type]?n.sa.ox:d&&e&&d.D!==e.D?n.sa.kx:qa(a,c)?d.Ra&&!e.Ra?n.sa.mx:n.sa.Zn:n.sa.jx}
function wb(a,c){switch(vb(a,c)){case n.sa.Zn:break;case n.sa.lx:throw Error("Attempted to connect a block to itself.");case n.sa.kx:throw Error("Blocks not on same workspace.");case n.sa.ox:throw Error("Attempt to connect incompatible types.");case n.sa.nx:throw Error("Target connection is null.");case n.sa.jx:throw Error("Connection checks failed. "+(a+" expected "+a.$e+", found "+c.$e));case n.sa.mx:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}}
b.Gp=function(a){if(a.I.mf()||vb(this,a)!=n.sa.Zn)return!1;switch(a.type){case n.Ve:return this.ka||-1!=n.zk.indexOf(a)?a=!1:a.ka?(a=a.na(),a=a.mf()?!(a.V&&a.V.na()):!1):a=!0,a;case n.Ue:if(a.isConnected()&&!a.na().mf()||this.isConnected())return!1;break;case n.lb:if(a.isConnected()&&!a.na().wd()&&!a.na().Ra)return!1;break;case n.gb:if(a.isConnected()&&!this.I.T&&!a.na().Ra&&a.na().T)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=n.zk.indexOf(a)?!1:
!0};b.$p=function(){};b.connect=function(a){if(this.ka!=a){wb(this,a);var c=n.h.Tb();c||n.h.ca(!0);Da(this)?this.bf(a):a.bf(this);c||n.h.ca(!1)}};n.sa.pF=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.ka=c;c.ka=a};n.sa.FI=function(a,c){for(var d=null,e=0;e<a.P.length;e++){var f=a.P[e].connection;if(f&&f.type==n.lb&&qa(c.L,f)){if(d)return null;d=f}}return d};n.sa.fA=function(a,c){for(var d;d=n.sa.FI(a,c);)if(a=d.na(),!a||a.Ra)return d;return null};b=n.sa.prototype;
b.disconnect=function(){var a=this.ka;if(!a)throw Error("Source connection not connected.");if(a.ka!=this)throw Error("Target connection not connected to source connection.");if(Da(this)){var c=this.I;var d=a.X();a=this}else c=a.X(),d=this.I;var e=n.h.Tb();e||n.h.ca(!0);this.Ss(c,d);a.ev();e||n.h.ca(!1)};b.Ss=function(a,c){var d;n.h.isEnabled()&&(d=new n.h.tl(c));this.ka=this.ka.ka=null;c.bl(null);d&&(d.pj(),n.h.Ca(d))};
b.ev=function(){var a=this.X(),c=this.eg;if(a.D&&c&&n.h.zc)if(a=n.R.yk(c,a.D),a.L)this.connect(a.L);else if(a.V)this.connect(a.V);else throw Error("Child block does not have output or previous statement.");};b.na=function(){return this.isConnected()?this.ka.X():null};function qa(a,c){if(!a.$e||!c.$e)return!0;for(var d=0;d<a.$e.length;d++)if(-1!=c.$e.indexOf(a.$e[d]))return!0;return!1}b.zA=function(){!this.isConnected()||this.ka&&qa(this,this.ka)||w(Da(this)?this.na():this.I)};
b.jd=function(a){a?(Array.isArray(a)||(a=[a]),this.$e=a,this.zA()):this.$e=null;return this};b.uA=function(){return[]};b.Rf=function(){for(var a=null,c=this.I,d=c.P,e=0;e<c.P.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.I;if(a)if(a.L==this)var c="Output Connection of ";else if(a.V==this)c="Previous Connection of ";else if(a.T==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.P[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};n.Y={};n.Y.ql={};n.Y.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(n.Y.ql[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');n.Y.ql[a]=c};n.Y.Yu=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');n.Y.register(a,function(){this.ae(c)})};
n.Y.Zu=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';n.Y.gy(f,c.xe,"domToMutation");n.Y.gy(f,c.yc,"mutationToDom");var h=n.Y.jy(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');n.Y.register(a,function(){if(h){if(!n.Se)throw Error(f+"Missing require for Blockly.Mutator");this.dB(new n.Se(e||[]))}this.ae(c);d&&d.apply(this)})};n.Y.unregister=function(a){n.Y.ql[a]?delete n.Y.ql[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
n.Y.apply=function(a,c,d){var e=n.Y.ql[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)n.Y.fF(a,c);else var f=n.Y.yt(c);e.apply(c);if(d)n.Y.cF('Error after applying mutator "'+a+'": ',c);else if(!n.Y.KH(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
n.Y.gy=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};n.Y.fF=function(a,c){if(n.Y.yt(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
n.Y.jy=function(a,c){var d=void 0!==a.em,e=void 0!==a.om;if(d&&e){if("function"!=typeof a.em)throw Error(c+"compose must be a function.");if("function"!=typeof a.om)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
n.Y.cF=function(a,c){if("function"!=typeof c.xe)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.yc)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');n.Y.jy(c,a)};n.Y.yt=function(a){var c=[];void 0!==a.xe&&c.push(a.xe);void 0!==a.yc&&c.push(a.yc);void 0!==a.em&&c.push(a.em);void 0!==a.om&&c.push(a.om);return c};n.Y.KH=function(a,c){c=n.Y.yt(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
n.Y.To=function(a,c){var d=[];"object"==typeof document&&n.g.ZA(function(){for(var e in c)n.g.iy(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(n.Y.dF(this,a,c),d.push(this.type));this.ld(function(){var e=String(A(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=n.g.oc(f);return f}.bind(this))}};
n.Y.dF=function(a,c,d){var e=ca(a,c);if("function"!=typeof e.jj){e=e.getOptions();for(var f=0;f<e.length;++f){var h=e[f][1];null==d[h]&&console.warn("No tooltip mapping for value "+h+" of field "+c+" of block type "+a.type)}}};n.Y.qs=function(a){"object"==typeof document&&n.g.ZA(function(){n.g.iy(a)});return function(){this.ld(function(){var c=ca(this,"VAR");return n.g.oc(a).replace("%1",c?c.kf():"")}.bind(this))}};
n.Y.ZF=function(){this.UI=this.tf;this.ld(function(){var a=this.getParent();return a&&ua(a)&&a.tf||this.UI}.bind(this))};n.Y.register("parent_tooltip_when_inline",n.Y.ZF);n.od=function(a,c,d){this.Wo=null;n.od.A.constructor.call(this,a,null,d);d||(this.Wo=c||null)};n.g.object.S(n.od,n.Ed);n.od.prototype.vl="";n.od.wa=function(a){var c=n.g.oc(a.text);return new n.od(c,void 0,a)};n.od.prototype.xl=!1;n.od.prototype.ve=function(a){n.od.A.ve.call(this,a);this.Wo=a["class"]};n.od.prototype.Hm=function(){Kb(this);this.Wo&&n.g.j.vb(this.Rc,this.Wo)};n.od.prototype.Ii=function(a){return null===a||void 0===a?null:String(a)};n.Pf.register("field_label",n.od);n.Kw=function(a,c,d,e){if(a!=n.og&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.I=d;this.connection=e;this.cb=[]};b=n.Kw.prototype;b.align=n.Kq;b.gi=!0;b.X=function(){return this.I};function D(a,c,d){vc(a,a.cb.length,c,d);return a}
function vc(a,c,d,e){if(0>c||c>a.cb.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=new n.od(d));d.qv(a.I);a.I.ta&&d.ra();d.name=e;d.pb(a.isVisible());e=d;e.Tu&&(c=vc(a,c,e.Tu));a.cb.splice(c,0,d);++c;e.Dv&&(c=vc(a,c,e.Dv));a.I.ta&&(a.I=a.I,a.I.xa(),a.I.hc());return c}b.isVisible=function(){return this.gi};
b.pb=function(a){if(this.gi!=a){this.gi=a;for(var c=0,d;d=this.cb[c];c++)d.pb(a);if(this.connection){this.connection=this.connection;if(a)wc(this.connection);else if(c=this.connection,xc(c,!1),c.ka)for(c=t(c.na(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.jf(!0),h=0;h<f.length;h++)xc(f[h],!1);e=va(e);for(h=0;h<e.length;h++)e[h].pb(!1)}if(c=this.connection.na())c.Da().style.display=a?"block":"none"}}};b.Tm=function(){for(var a=0,c;c=this.cb[a];a++)c.Tm()};
b.jd=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.jd(a);return this};function yc(a,c){a.align=c;a.I.ta&&(a.I=a.I,a.I.xa());return a}b.ra=function(){if(this.I.D.ta)for(var a=0;a<this.cb.length;a++)this.cb[a].ra()};b.H=function(){for(var a=0,c;c=this.cb[a];a++)c.H();this.connection&&this.connection.H();this.I=null};n.nd=function(a,c,d){if(n.Generator&&"undefined"!=typeof n.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.ad(d)?d:n.g.Mg();a.ls[this.id]=this;this.V=this.T=this.L=null;this.P=[];this.Rg=void 0;this.disabled=!1;this.tf="";this.contextMenu=!0;this.ag=null;this.Fg=[];this.Zy=this.tA=this.Ks=!0;this.Hg=this.Ra=!1;this.af={text:null,JA:!1,size:new n.g.Ld(160,80)};this.HB=new n.g.O(0,0);this.D=a;this.Oc=a.Xf;this.J=a.J;this.Nm=!1;
this.Sf=void 0;this.ta=null;if(c){this.type=c;d=n.tb[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);n.g.object.ae(this,d)}a.Oo(this);a.ih[this.type]||(a.ih[this.type]=[]);a.ih[this.type].push(this);"function"==typeof this.ra&&this.ra();this.$G=this.Rg;if(n.h.isEnabled()){(a=n.h.Tb())||n.h.ca(!0);try{n.h.Ca(new n.h.Xn(this))}finally{a||n.h.ca(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.an&&
jb(this.D,this.an);if(this.onchange=a)this.an=a.bind(this),ib(this.D,this.an)}};n.nd.ul="_TEMP_COLLAPSED_INPUT";n.nd.Sq="_TEMP_COLLAPSED_FIELD";b=n.nd.prototype;b.data=null;b.ff=!1;b.ue="#000000";b.xj=null;
b.H=function(a){if(this.D){this.an&&jb(this.D,this.an);w(this,a);n.h.isEnabled()&&n.h.Ca(new n.h.dC(this));n.h.disable();try{if(this.D){this.D.pq(this);var c=this.D;c.ih[this.type].splice(c.ih[this.type].indexOf(this),1);c.ih[this.type].length||delete c.ih[this.type];delete this.D.ls[this.id];this.D=null}n.selected==this&&(n.selected=null);for(var d=this.Fg.length-1;0<=d;d--)this.Fg[d].H(!1);d=0;for(var e;e=this.P[d];d++)e.H();this.P.length=0;var f=this.jf(!0);d=0;for(var h;h=f[d];d++)h.H()}finally{n.h.enable(),
this.ff=!0}}};b.Ui=function(){for(var a=0,c;c=this.P[a];a++)for(var d=0,e;e=c.cb[d];d++)e.Ui&&e.Ui()};
function w(a,c){if(a.L){var d=null;a.L.isConnected()&&(d=a.L.ka,a.L.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.P.length;e++){var f=a.P[e].connection;if(f&&f.type==n.lb&&f.ka){if(c){a=null;break a}c=f}}a=c}a&&a.isConnected()&&!a.na().Ra&&(a=a.ka,a.disconnect(),qa(a,d)?d.connect(a):a.$p(d))}}else a.V&&(d=null,a.V.isConnected()&&(d=a.V.ka,a.V.disconnect()),e=u(a),c&&e&&!e.Ra&&(a=a.T.ka,a.disconnect(),d&&qa(d,a)&&d.connect(a)))}
b.jf=function(){var a=[];this.L&&a.push(this.L);this.V&&a.push(this.V);this.T&&a.push(this.T);for(var c=0,d;d=this.P[c];c++)d.connection&&a.push(d.connection);return a};b.Op=function(){for(var a=this.T;a;){var c=a.na();if(!c)return a;a=c.T}return null};b.hc=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")};b.getParent=function(){return this.ag};
function ea(a,c){for(var d=0,e;e=a.P[d];d++)if(e.connection&&e.connection.na()==c)return e;return null}function zc(a){do{var c=a;a=a.getParent();if(!a)return null}while(u(a)==c);return a}function u(a){return a.T&&a.T.na()}b.cd=function(){var a=this;do{var c=a;a=c.ag}while(a);return c};b.ye=function(a){if(!a)return this.Fg;a=[];for(var c=0,d;d=this.P[c];c++)d.connection&&(d=d.connection.na())&&a.push(d);(c=u(this))&&a.push(c);return a};
b.bl=function(a){if(a!=this.ag){if(this.ag){n.g.$l(this.ag.Fg,this);if(this.V&&this.V.isConnected())throw Error("Still connected to previous block.");if(this.L&&this.L.isConnected())throw Error("Still connected to parent block.");this.ag=null}else this.D.pq(this);(this.ag=a)?a.Fg.push(this):this.D.Oo(this)}};function t(a,c){var d=[a];a=a.ye(c);for(var e,f=0;e=a[f];f++)d.push.apply(d,t(e,c));return d}b.Yd=function(){return this.Ks&&!this.Ra&&!(this.D&&this.D.options.readOnly)};
b.wd=function(){return this.tA&&!this.Ra&&!(this.D&&this.D.options.readOnly)};b.rq=function(a){this.tA=a};b.pv=function(a){this.Ra=a};b.mf=function(){return this.Nm};b.cB=function(a){this.Nm=a};b.vd=function(){return this.Zy&&!(this.D&&this.D.options.readOnly)};b.kv=function(a){this.Zy=a;a=0;for(var c;c=this.P[a];a++)for(var d=0,e;e=c.cb[d];d++)e.Cj()};
b.xt=function(a,c){var d=this.jf(!0);a=a.jf(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.ld=function(a){this.tf=a};b.tt=function(){return this.ue};b.kd=function(a){this.ue=n.g.jq(a).Dm};b.dh=function(a){this.xj=a};function ca(a,c){for(var d=0,e;e=a.P[d];d++)for(var f=0,h;h=e.cb[f];f++)if(h.name==c)return h;return null}
function $a(a){for(var c=[],d=0,e;e=a.P[d];d++)for(var f=0,h;h=e.cb[f];f++)h.nq()&&(h=a.D.Pg(h.getValue()))&&c.push(h);return c}function A(a,c){return(a=ca(a,c))?a.getValue():null}b.dg=function(a,c){if(a){void 0===c&&(c=null);if(!this.V){if(this.L)throw Error("Remove output connection prior to adding previous connection.");this.V=this.Sm(n.Ve)}this.V.jd(c)}else if(this.V){if(this.V.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.V.H();this.V=null}};
b.bh=function(a,c){if(a)void 0===c&&(c=null),this.T||(this.T=this.Sm(n.gb)),this.T.jd(c);else if(this.T){if(this.T.isConnected())throw Error("Must disconnect next statement before removing connection.");this.T.H();this.T=null}};
b.nv=function(a,c){if(a){void 0===c&&(c=null);if(!this.L){if(this.V)throw Error("Remove previous connection prior to adding output connection.");this.L=this.Sm(n.Ue)}this.L.jd(c)}else if(this.L){if(this.L.isConnected())throw Error("Must disconnect output value before removing connection.");this.L.H();this.L=null}};b.vj=function(a){this.Rg!=a&&(n.h.Ca(new n.h.jh(this,"inline",null,this.Rg,a)),this.Rg=a)};
function ua(a){if(void 0!=a.Rg)return a.Rg;for(var c=1;c<a.P.length;c++)if(a.P[c-1].type==n.og&&a.P[c].type==n.og)return!1;for(c=1;c<a.P.length;c++)if(a.P[c-1].type==n.lb&&a.P[c].type==n.og)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.qf=function(a){this.isEnabled()!=a&&(n.h.Ca(new n.h.jh(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Ac(a){for(a=zc(a);a;){if(a.disabled)return!0;a=zc(a)}return!1}b.isCollapsed=function(){return this.Hg};
b.ai=function(a){this.Hg!=a&&(n.h.Ca(new n.h.jh(this,"collapsed",null,this.Hg,a)),this.Hg=a)};
b.toString=function(a,c){function d(p){var q=p.$e;!q&&p.ka&&(q=p.ka.$e);return!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function e(){k&&k.Ya()==l.Ya()&&k.pa==l.pa&&(k=null)}var f=[];c=c||"?";var h=n.C.uh;n.C.uh=!0;for(var k=n.C.Jf(this),l=k;k;){switch(k.Ya()){case n.C.types.ke:var m=k.pa;k.Vf()?d(m)&&f.push("("):f.push(c);break;case n.C.types.Qb:m=k.pa,m.name!=n.nd.Sq&&f.push(m.kf())}m=k;k=m.Vf()||m.next();if(!k){k=m.Zf();for(e();k&&!k.next();)k=k.Zf(),e(),k&&k.Ya()==n.C.types.ke&&
d(k.pa)&&f.push(")");k&&(k=k.next())}}n.C.uh=h;c=2;for(h=f.length;c<h;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2),h-=2);f=f.join(" ").replace(/(\() | (\))/gmi,"$1$2").trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function Bc(a,c){return a.Zl(n.lb,c)}function Cc(a,c){return a.Zl(n.gb,c)}function Dc(a,c){return a.Zl(n.og,c||"")}
function Ec(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.Sf&&(a.Sf=c.style.Sf,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.dh(e)}catch(H){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.kd(e)}catch(H){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){for(var f=a,h=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,m=n.g.SI(c["message"+e]),p=[],q=0,r=[],v=0;v<m.length;v++){var B=m[v];if("number"==typeof B){if(0>=B||B>h.length)throw Error('Block "'+f.type+'": Message index %'+B+" out of range.");if(p[B])throw Error('Block "'+f.type+'": Message index %'+B+" duplicated.");p[B]=!0;q++;r.push(h[B-1])}else(B=B.trim())&&r.push(B)}if(q!=h.length)throw Error('Block "'+f.type+'": Message does not reference all '+
h.length+" arg(s).");r.length&&("string"==typeof r[r.length-1]||n.g.Ta.startsWith(r[r.length-1].type,"field_"))&&(v={type:"input_dummy"},k&&(v.align=k),r.push(v));k={LEFT:n.Kq,RIGHT:n.ji,CENTRE:n.Jq,CENTER:n.Jq};h=[];for(v=0;v<r.length;v++)if(p=r[v],"string"==typeof p)h.push([p,void 0]);else{m=q=null;do if(B=!1,"string"==typeof p)q=new n.od(p);else switch(p.type){case "input_value":m=Bc(f,p.name);break;case "input_statement":m=Cc(f,p.name);break;case "input_dummy":m=Dc(f,p.name);break;default:q=n.Pf.wa(p),
!q&&p.alt&&(p=p.alt,B=!0)}while(B);if(q)h.push([q,p.name]);else if(m){p.check&&m.jd(p.check);p.align&&(q=k[p.align.toUpperCase()],void 0===q?console.warn(l+"Illegal align value: ",p.align):yc(m,q));for(p=0;p<h.length;p++)D(m,h[p][0],h[p][1]);h.length=0}}e++}void 0!==c.inputsInline&&a.vj(c.inputsInline);void 0!==c.output&&a.nv(!0,c.output);void 0!==c.previousStatement&&a.dg(!0,c.previousStatement);void 0!==c.nextStatement&&a.bh(!0,c.nextStatement);void 0!==c.tooltip&&(e=c.tooltip,e=n.g.oc(e),a.ld(e));
void 0!==c.enableContextMenu&&(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=n.g.oc(e),a.Kk=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&n.Y.apply(c.mutator,a,!0);if(Array.isArray(c.extensions))for(c=c.extensions,d=0;d<c.length;++d)n.Y.apply(c[d],a,!1)}
b.ae=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}n.g.object.ae(this,a)};b.Zl=function(a,c){var d=null;if(a==n.lb||a==n.gb)d=this.Sm(a);a=new n.Kw(a,c,this,d);this.P.push(a);return a};
b.qj=function(a,c){for(var d=0,e;e=this.P[d];d++)if(e.name==a)return e.H(),this.P.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function x(a,c){for(var d=0,e;e=a.P[d];d++)if(e.name==c)return e;return null}function Fc(a,c){return(a=x(a,c))&&a.connection&&a.connection.na()}b.al=function(a){this.af.text!=a&&(n.h.Ca(new n.h.jh(this,"comment",null,this.af.text,a)),this.af.text=a)};b.tq=function(){};b.dB=function(){};b.Ua=function(){return this.HB};
b.moveBy=function(a,c){if(this.ag)throw Error("Block has parent.");var d=new n.h.tl(this);this.HB.translate(a,c);d.pj();n.h.Ca(d)};b.Sm=function(a){return new n.sa(this,a)};n.i={};n.i.Nn=!1;n.i.register=function(a,c){n.ga.register(n.ga.Kb.RENDERER,a,c)};n.i.unregister=function(a){n.ga.unregister(n.ga.Kb.RENDERER,a)};n.i.zN=function(){n.i.Nn=!0};n.i.AN=function(){n.i.Nn=!1};n.i.ra=function(a,c,d){a=new (n.ga.st(n.ga.Kb.RENDERER,a))(a);a.ra(c,d);return a};n.Hl=function(){this.rd=this.Va=this.ib=null;this.type="marker"};function C(a,c){var d=a.Va;a.Va=c;a.rd&&a.rd.draw(d,a.Va)}n.Hl.prototype.draw=function(){this.rd&&this.rd.draw(this.Va,this.Va)};n.Hl.prototype.Ea=function(){this.rd&&this.rd.Ea()};n.Hl.prototype.H=function(){this.rd&&this.rd.H()};n.Lj=function(){n.Lj.A.constructor.call(this);this.type="cursor"};n.g.object.S(n.Lj,n.Hl);b=n.Lj.prototype;b.next=function(){var a=this.Va;if(!a)return null;for(a=a.next();a&&a.next()&&(a.Ya()==n.C.types.Hd||a.Ya()==n.C.types.Bd);)a=a.next();a&&C(this,a);return a};b.Vf=function(){var a=this.Va;if(!a)return null;if(a.Ya()==n.C.types.Id||a.Ya()==n.C.types.ui)a=a.next();(a=a.Vf())&&C(this,a);return a};
b.Je=function(){var a=this.Va;if(!a)return null;for(a=a.Je();a&&a.Je()&&(a.Ya()==n.C.types.Hd||a.Ya()==n.C.types.Bd);)a=a.Je();a&&C(this,a);return a};b.Zf=function(){var a=this.Va;if(!a)return null;(a=a.Zf())&&a.Ya()==n.C.types.Bd&&(a=a.Je()||a);a&&C(this,a);return a};
b.Qc=function(a){if(this.Va&&this.Va.Ya()===n.C.types.Qb&&this.Va.pa.Qc(a))return!0;switch(a.name){case n.navigation.Aa.Id:return this.Je(),!0;case n.navigation.Aa.Do:return this.Zf(),!0;case n.navigation.Aa.Hd:return this.next(),!0;case n.navigation.Aa.to:return this.Vf(),!0;default:return!1}};n.qo=function(){n.qo.A.constructor.call(this)};n.g.object.S(n.qo,n.Lj);b=n.qo.prototype;b.Qc=function(a){switch(a.name){case n.navigation.Aa.Id:return this.Je(),!0;case n.navigation.Aa.Hd:return this.next(),!0;default:return!1}};b.next=function(){var a=this.Va;if(!a)return null;(a=a.next())&&C(this,a);return a};b.Vf=function(){return null};b.Je=function(){var a=this.Va;if(!a)return null;(a=a.Je())&&C(this,a);return a};b.Zf=function(){return null};n.i.lK=function(){};n.za={};n.za.fp=null;n.za.lc=null;n.za.show=function(a,c,d){n.W.show(n.za,d,n.za.H);if(c.length){var e=n.za.hI(c,d);n.za.lc=e;n.za.jI(e,a,d);setTimeout(function(){e.focus()},1);n.za.fp=null}else n.za.Ea()};n.za.hI=function(a,c){var d=new n.qr;d.Le(n.g.U.xg.zD);for(var e=0,f;f=a[e];e++){var h=new n.rr(f.text);h.Zh=c;h.Le(n.g.U.xg.AD);d.Yr(h);h.qf(f.enabled);f.enabled&&Ub(h,function(){n.za.Ea();this.Yb()},f)}return d};
n.za.jI=function(a,c,d){var e=n.g.DG();c=new n.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);n.za.wF(a);var f=a.Ng();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);n.W.iI(e,c,f,d);a.focus()};n.za.wF=function(a){a.xa(n.W.Xa);var c=a.Ma();n.g.j.vb(c,"blocklyContextMenu");n.va(c,"contextmenu",null,n.g.OH);a.focus()};n.za.Ea=function(){n.W.Em(n.za);n.za.fp=null};n.za.H=function(){n.za.lc&&(n.za.lc.H(),n.za.lc=null)};
n.za.aF=function(a,c){return function(){n.h.disable();try{var d=n.R.yk(c,a.D),e=a.Ua();e.x=a.J?e.x-n.Jd:e.x+n.Jd;e.y+=2*n.Jd;d.moveBy(e.x,e.y)}finally{n.h.enable()}n.h.isEnabled()&&!d.Ra&&n.h.Ca(new n.h.Xn(d));d.select()}};n.za.TE=function(a){var c=t(a,!1).length,d=u(a);d&&(c-=t(d,!1).length);return{text:1==c?n.m.DELETE_BLOCK:n.m.DELETE_X_BLOCKS.replace("%1",String(c)),enabled:!0,Yb:function(){n.h.ca(!0);a.H(!0,!0);n.h.ca(!1)}}};
n.za.VE=function(a){return{enabled:!("function"==typeof a.Kk?!a.Kk():!a.Kk),text:n.m.HELP,Yb:function(){a.showHelp()}}};n.za.UE=function(a){var c=hb(a.D)?gb(a.D,n.g.qt(a,!0)):!0;return{text:n.m.DUPLICATE_BLOCK,enabled:c,Yb:function(){n.duplicate(a)}}};n.za.SE=function(a){var c={enabled:!n.g.userAgent.Qe};a.Ff?(c.text=n.m.REMOVE_COMMENT,c.Yb=function(){a.al(null)}):(c.text=n.m.ADD_COMMENT,c.Yb=function(){a.al("")});return c};
n.za.ZL=function(a){return{text:n.m.REMOVE_COMMENT,enabled:!0,Yb:function(){n.h.ca(!0);a.H(!0,!0);n.h.ca(!1)}}};n.za.$L=function(a){return{text:n.m.DUPLICATE_COMMENT,enabled:!0,Yb:function(){n.duplicate(a)}}};
n.za.NN=function(a,c){if(!n.ek)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!n.g.userAgent.Qe};d.text=n.m.ADD_COMMENT;d.Yb=function(){var e=new n.ek(a,n.m.WORKSPACE_COMMENT_DEFAULT_TEXT,n.ek.xC,n.ek.xC),f=aa(a).getBoundingClientRect();f=new n.g.O(c.clientX-f.left,c.clientY-f.top);var h=n.g.Am(a.qb);f=n.g.O.wk(f,h);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.ta&&(e.Wf(),e.xa(),e.select())};return d};n.Eb=function(a,c){n.Eb.A.constructor.call(this,a,c);this.Lf=a.D.bp[c];this.Gy=a.D.bp[n.Uj[c]];this.nj=new n.g.O(0,0);this.hh=n.Eb.Bf.Mx;this.ka=null};n.g.object.S(n.Eb,n.sa);n.Eb.Bf={Mx:-1,Fx:0,dk:1};b=n.Eb.prototype;b.H=function(){n.Eb.A.H.call(this);this.hh==n.Eb.Bf.dk&&Gc(this.Lf,this,this.y)};b.X=function(){return n.Eb.A.X.call(this)};b.na=function(){return n.Eb.A.na.call(this)};function Hc(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function xb(a,c){if(!a.I.D.kc()){var d=a.I.cd();if(!d.Oc){var e=!1;if(!d.wd()){d=c.X().cd();if(!d.wd())return;c=a;e=!0}var f=n.selected==d;f||d.Mo();var h=c.x+n.Jd+Math.floor(Math.random()*n.Rq)-a.x,k=c.y+n.Jd+Math.floor(Math.random()*n.Rq)-a.y;e&&(k=-k);d.J&&(h=c.x-n.Jd-Math.floor(Math.random()*n.Rq)-a.x);d.moveBy(h,k);f||d.nn()}}}
b.moveTo=function(a,c){if(this.hh==n.Eb.Bf.Mx){var d=this.Lf;d.Hb.splice(Ic(d,c),0,this);this.hh=n.Eb.Bf.dk}else this.hh==n.Eb.Bf.dk&&(Gc(this.Lf,this,this.y),d=this.Lf,d.Hb.splice(Ic(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function Jc(a,c){a.moveTo(c.x+a.nj.x,c.y+a.nj.y)}function Kc(a,c,d){a.nj.x=c;a.nj.y=d}
function Lc(a){var c=a.ka.x-a.x,d=a.ka.y-a.y;if(0!=c||0!=d){a=a.na();var e=a.Da();if(!e)throw Error("block is not rendered.");e=n.g.ze(e);a.Da().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Ca(a,-c,-d)}}
b.closest=function(a,c){var d=this.Gy;if(d.Hb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var h=Ic(d,this.y);c=null;for(var k=a,l,m=h-1;0<=m&&Math.abs(d.Hb[m].y-this.y)<=a;)l=d.Hb[m],this.Gp(l,k)&&(c=l,k=Hc(l,this)),m--;for(;h<d.Hb.length&&Math.abs(d.Hb[h].y-this.y)<=a;)l=d.Hb[h],this.Gp(l,k)&&(c=l,k=Hc(l,this)),h++;this.x=f;this.y=e;a={connection:c,lq:k}}else a={connection:null,lq:a};return a};
function xc(a,c){c&&a.hh==n.Eb.Bf.dk||!c&&a.hh==n.Eb.Bf.Fx||a.I.Oc||(c?(c=a.Lf,c.Hb.splice(Ic(c,a.y),0,a),a.hh=n.Eb.Bf.dk):(a.hh==n.Eb.Bf.dk&&Gc(a.Lf,a,a.y),a.hh=n.Eb.Bf.Fx))}function wc(a){xc(a,!0);var c=[];if(a.type!=n.lb&&a.type!=n.gb)return c;if(a=a.na()){if(a.isCollapsed()){var d=[];a.L&&d.push(a.L);a.T&&d.push(a.T);a.V&&d.push(a.V)}else d=a.jf(!0);for(var e=0;e<d.length;e++)c.push.apply(c,wc(d[e]));c.length||(c[0]=a)}return c}b.Gp=function(a,c){return Hc(this,a)>c?!1:n.Eb.A.Gp.call(this,a)};
b.$p=function(a){xb(this,a)};b.Ss=function(a,c){n.Eb.A.Ss.call(this,a,c);a.ta&&a.xa();c.ta&&(Ya(c),c.xa(),c.Da().style.display="block")};b.ev=function(){var a=this.X(),c=this.eg;if(a.D&&c&&n.h.zc){n.Eb.A.ev.call(this);c=this.na();if(!c)throw Error("Couldn't respawn the shadow block that should exist here.");c.Wf();c.xa(!1);a.ta&&a.xa()}};b.uA=function(a){return Mc(this.Gy,this,a)};
b.bf=function(a){n.Eb.A.bf.call(this,a);var c=this.X();a=a.X();var d=c.ta,e=a.ta;d&&Ya(c);e&&Ya(a);d&&e&&(this.type==n.gb||this.type==n.Ve?a.xa():c.xa());if(c=ea(c,a))c=c.isVisible(),a.Da().style.display=c?"block":"none"};b.zA=function(){!this.isConnected()||this.ka&&qa(this,this.ka)||(w(Da(this)?this.na():this.I),this.I.hc())};n.Wn=function(){n.Wn.A.constructor.call(this)};n.g.object.S(n.Wn,n.Lj);b=n.Wn.prototype;b.next=function(){var a=this.Va;if(!a)return null;(a=Nc(this,a,this.Nv))&&C(this,a);return a};b.Vf=function(){return this.next()};b.Je=function(){var a=this.Va;if(!a)return null;(a=Oc(this,a,this.Nv))&&C(this,a);return a};b.Zf=function(){return this.Je()};function Nc(a,c,d){if(!c)return null;var e=c.Vf()||c.next();if(d(e))return e;if(e)return Nc(a,e,d);c=Pc(a,c.Zf());return d(c)?c:c?Nc(a,c,d):null}
function Oc(a,c,d){if(!c)return null;var e=c.Je();e=e?Qc(a,e):c.Zf();return d(e)?e:e?Oc(a,e,d):null}b.Nv=function(a){var c=!1;a=a&&a.Ya();if(a==n.C.types.ui||a==n.C.types.ke||a==n.C.types.Qb||a==n.C.types.Hd||a==n.C.types.Id||a==n.C.types.Df)c=!0;return c};function Pc(a,c){if(!c)return null;var d=c.next();return d?d:Pc(a,c.Zf())}function Qc(a,c){if(!c.Vf())return c;for(c=c.Vf();c.next();)c=c.next();return Qc(a,c)};n.Jo=function(){n.Jo.A.constructor.call(this)};n.g.object.S(n.Jo,n.Wn);n.Jo.prototype.Nv=function(a){var c=!1,d=a&&a.Ya();a&&(a=a.pa,d==n.C.types.Qb&&a&&a.dA()&&ia(a)&&(c=!0));return c};n.fb=function(a,c,d){this.N=n.g.j.K("g",{},null);this.N.Hn="";this.style=Rc(a.ob.Z(),null);this.yb=a.ob.nA(this.N,this.style);this.av=this.ta=!1;this.D=a;this.V=this.T=this.L=null;this.On=n.g.Xi()&&!!a.Od;var e=this.yb.Db;e.tf=this;n.G.ik(e);n.fb.A.constructor.call(this,a,c,d);this.N.dataset&&(this.N.dataset.id=this.id)};n.g.object.S(n.fb,n.nd);n.fb.prototype.height=0;n.fb.prototype.width=0;n.fb.prototype.Ad=null;n.fb.kK=-1;n.fb.iC="TEMP_COLLAPSED_WARNING_";b=n.fb.prototype;
b.Wf=function(){if(!this.D.ta)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.P[a];a++)c.ra();c=va(this);for(a=0;a<c.length;a++)Sc(c[a]);this.Sb();sa(this.yb,"blocklyDraggable",this.wd());a=this.Da();this.D.options.readOnly||this.YF||!a||n.va(a,"mousedown",this,this.Rh);this.YF=!0;a.parentNode||this.D.qb.appendChild(a)};
b.select=function(){if(this.Ra&&this.getParent())this.getParent().select();else if(n.selected!=this){var a=null;if(n.selected){a=n.selected.id;n.h.disable();try{sb(n.selected)}finally{n.h.enable()}}a=new n.h.Rb(null,"selected",a,this.id);a.Cb=this.D.id;n.h.Ca(a);n.selected=this;this.Mo()}};function sb(a){if(n.selected==a){var c=new n.h.Rb(null,"selected",a.id,null);c.Cb=a.D.id;n.h.Ca(c);n.selected=null;a.nn()}}b.Fe=null;b.Ff=null;b.ge=null;
function va(a){var c=[];a.Fe&&c.push(a.Fe);a.Ff&&c.push(a.Ff);a.ge&&c.push(a.ge);return c}b.bl=function(a){var c=this.ag;if(a!=c){n.g.j.yn();n.fb.A.bl.call(this,a);n.g.j.zn();var d=this.Da();if(!this.D.Tt&&d){var e=this.Ua();a?(a.Da().appendChild(d),a=this.Ua(),Ca(this,a.x-e.x,a.y-e.y)):c&&(this.D.qb.appendChild(d),this.translate(e.x,e.y));this.Sb()}}};
b.Ua=function(){var a=0,c=0,d=this.On?this.D.Od.Tb():null,e=this.Da();if(e){do{var f=n.g.ze(e);a+=f.x;c+=f.y;this.On&&this.D.Od.Mf.firstChild==e&&(f=this.D.Od.Bt(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.D.qb&&e!=d)}return new n.g.O(a,c)};b.moveBy=function(a,c){if(this.ag)throw Error("Block has parent.");var d=n.h.isEnabled();if(d)var e=new n.h.tl(this);var f=this.Ua();this.translate(f.x+a,f.y+c);Ca(this,a,c);d&&(e.pj(),n.h.Ca(e));Za(this.D)};
b.translate=function(a,c){this.Da().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Ua();this.moveBy(a.x-c.x,a.y-c.y)};b.tu=function(a){this.On?this.D.Od.Bj(a.x,a.y):(this.N.Hn="translate("+a.x+","+a.y+")",this.N.setAttribute("transform",this.N.Hn+this.N.xn))};
function Tc(a){if(a.D&&!a.D.kc()&&!a.getParent()&&!a.Oc){var c=a.D.Be;if(c&&c.GI){var d=c.xv,e=d/2,f=a.Ua();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function Uc(a){var c=a.Ua(),d=ka(a);if(a.J){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new n.g.Rect(c.y,c.y+d.height,a,e)}b.Tm=function(){this.yb.nk=this.D.ob.Z();for(var a=0,c;c=this.P[a];a++)c.Tm()};
b.ai=function(a){this.Hg!=a&&(n.fb.A.ai.call(this,a),a?this.ta&&this.xa():Vc(this))};function Vc(a){for(var c=a.isCollapsed(),d=0,e;e=a.P[d];d++)e.name!=n.nd.ul&&e.pb(!c);if(c){e=va(a);for(d=0;c=e[d];d++)c.pb(!1);d=a.toString(n.jC);(e=ca(a,n.nd.Sq))?e.setValue(d):(e=x(a,n.nd.ul)||Dc(a,n.nd.ul),D(e,new n.od(d),n.nd.Sq))}else a.qj(n.nd.ul)}
b.Rh=function(a){var c=this.D&&this.D.Dh(a);if(c){if(c.Pi)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Gb(c,this);c.Ee=a}};b.showHelp=function(){var a="function"==typeof this.Kk?this.Kk():this.Kk;a&&window.open(a)};
function Wc(a){if(a.D.options.readOnly||!a.contextMenu)return null;var c=[];if(!a.Oc){a.Yd()&&a.wd()&&c.push(n.za.UE(a));a.D.options.kF&&!a.Hg&&a.vd()&&c.push(n.za.SE(a));if(a.wd())if(a.Hg)a.D.options.collapse&&(d={enabled:!0},d.text=n.m.EXPAND_BLOCK,d.Yb=function(){a.ai(!1)},c.push(d));else{for(var d=1;d<a.P.length;d++)if(a.P[d-1].type!=n.gb&&a.P[d].type!=n.gb){d={enabled:!0};var e=ua(a);d.text=e?n.m.EXTERNAL_INPUTS:n.m.INLINE_INPUTS;d.Yb=function(){a.vj(!e)};c.push(d);break}a.D.options.collapse&&
(d={enabled:!0},d.text=n.m.COLLAPSE_BLOCK,d.Yb=function(){a.ai(!0)},c.push(d))}a.D.options.disable&&a.vd()&&(d={text:a.isEnabled()?n.m.DISABLE_BLOCK:n.m.ENABLE_BLOCK,enabled:!Ac(a),Yb:function(){var f=n.h.Tb();f||n.h.ca(!0);a.qf(!a.isEnabled());f||n.h.ca(!1)}},c.push(d));a.Yd()&&c.push(n.za.TE(a))}c.push(n.za.VE(a));a.Fy&&a.Fy(c);return c}b.vn=function(a){var c=Wc(this);c&&c.length&&(n.za.show(a,c,this.J),n.za.fp=this)};
function Ca(a,c,d){if(a.ta){for(var e=a.jf(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=va(a);for(f=0;f<e.length;f++)Xc(e[f]);for(f=0;f<a.Fg.length;f++)Ca(a.Fg[f],c,d)}}b.bi=function(a){if(a){var c=this.Da();c.Hn="";c.xn="";n.zk=n.zk.concat(this.jf(!0));n.g.j.vb(this.N,"blocklyDragging")}else n.zk=[],n.g.j.Ac(this.N,"blocklyDragging");for(c=0;c<this.Fg.length;c++)this.Fg[c].bi(a)};b.rq=function(a){n.fb.A.rq.call(this,a);sa(this.yb,"blocklyDraggable",a)};
b.kv=function(a){n.fb.A.kv.call(this,a);a=va(this);for(var c=0;c<a.length;c++)a[c].Cj()};b.pv=function(a){n.fb.A.pv.call(this,a);this.Sb()};b.cB=function(a){this.Nm!=a&&(this.Nm=a)&&(this.kd(this.D.ob.Z().ir),sa(this.yb,"blocklyInsertionMarker",!0))};b.Da=function(){return this.N};
b.H=function(a,c){if(this.D){n.G.H();n.G.Kv(this.yb.Db);n.g.j.yn();var d=this.D;if(n.selected==this){sb(this);var e=this.D;e.ic&&e.ic.cancel()}n.za.fp==this&&n.za.Ea();this.D.ac&&n.navigation.GH(this);c&&this.ta&&(w(this,a),n.hb.PF(this));this.ta=!1;if(this.Ad){for(var f in this.Ad)clearTimeout(this.Ad[f]);this.Ad=null}c=va(this);for(e=0;e<c.length;e++)c[e].H();n.fb.A.H.call(this,!!a);n.g.j.removeNode(this.N);Za(d);this.N=null;n.g.j.zn()}};
b.Sb=function(){this.yb.Sb(this);for(var a=va(this),c=0;c<a.length;c++)a[c].Sb();for(a=0;c=this.P[a];a++)for(var d=0,e;e=c.cb[d];d++)e.Sb()};function Ya(a){var c=a.ye(!1);a.Sb();a=0;for(var d;d=c[a];a++)Ya(d)}b.oG=function(){return this.Ff};b.al=function(a){if(!n.Comment)throw Error("Missing require for Blockly.Comment");this.af.text!=a&&(n.fb.A.al.call(this,a),a=null!=a,!!this.Ff==a?this.Ff.KN():(a?this.Ff=new n.Comment(this):(this.Ff.H(),this.Ff=null),this.ta&&(this.xa(),this.hc())))};
b.tq=function(a,c){if(!n.re)throw Error("Missing require for Blockly.Warning");this.Ad||(this.Ad=Object.create(null));var d=c||"";if(d)this.Ad[d]&&(clearTimeout(this.Ad[d]),delete this.Ad[d]);else for(var e in this.Ad)clearTimeout(this.Ad[e]),delete this.Ad[e];if(this.D.kc()){var f=this;this.Ad[d]=setTimeout(function(){f.D&&(delete f.Ad[d],f.tq(a,d))},100)}else{this.Oc&&(a=null);c=!1;if("string"==typeof a){e=zc(this);for(var h=null;e;)e.isCollapsed()&&(h=e),e=zc(e);h&&h.tq(n.m.COLLAPSED_WARNINGS_WARNING,
n.fb.iC);this.ge||(this.ge=new n.re(this),c=!0);this.ge.rv(a,d)}else this.ge&&!d?(this.ge.H(),c=!0):this.ge&&(c=this.ge.kf(),this.ge.rv("",d),(e=this.ge.kf())||this.ge.H(),c=c!=e);c&&this.ta&&(this.xa(),this.hc())}};b.dB=function(a){this.Fe&&this.Fe!==a&&this.Fe.H();a&&(a.M=this,this.Fe=a,Sc(a));this.ta&&(this.xa(),this.hc())};b.qf=function(a){this.isEnabled()!=a&&(n.fb.A.qf.call(this,a),this.ta&&!Ac(this)&&Ya(this))};b.rf=function(a){this.ta&&this.yb.vB(a)};
b.Mo=function(){sa(this.yb,"blocklySelected",!0)};b.nn=function(){sa(this.yb,"blocklySelected",!1)};function za(a,c){sa(a.yb,"blocklyDraggingDelete",c)}b.tt=function(){return this.style.zh};b.kd=function(a){n.fb.A.kd.call(this,a);a=Yc(this.D.ob.Z(),this.ue);this.yb.dh(a.style);this.style=a.style;this.xj=a.name;this.Sb()};b.dh=function(a){var c=Rc(this.D.ob.Z(),a);this.xj=a;if(c)this.Sf=c.Sf,this.yb.dh(c),this.ue=c.zh,this.style=c,this.Sb();else throw Error("Invalid style name: "+a);};
function Ea(a){do{var c=a.Da(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.dg=function(a,c){n.fb.A.dg.call(this,a,c);this.ta&&(this.xa(),this.hc())};b.bh=function(a,c){n.fb.A.bh.call(this,a,c);this.ta&&(this.xa(),this.hc())};b.nv=function(a,c){n.fb.A.nv.call(this,a,c);this.ta&&(this.xa(),this.hc())};b.vj=function(a){n.fb.A.vj.call(this,a);this.ta&&(this.xa(),this.hc())};b.qj=function(a,c){a=n.fb.A.qj.call(this,a,c);this.ta&&(this.xa(),this.hc());return a};
b.Zl=function(a,c){a=n.fb.A.Zl.call(this,a,c);this.ta&&(this.xa(),this.hc());return a};function Xa(a,c){a.V&&xc(a.V,c);a.L&&xc(a.L,c);if(a.T){xc(a.T,c);var d=a.T.na();d&&Xa(d,c)}if(!a.Hg)for(d=0;d<a.P.length;d++){var e=a.P[d].connection;e&&(xc(e,c),(e=e.na())&&Xa(e,c))}}b.jf=function(a){var c=[];if(a||this.ta)if(this.L&&c.push(this.L),this.V&&c.push(this.V),this.T&&c.push(this.T),a||!this.Hg){a=0;for(var d;d=this.P[a];a++)d.connection&&c.push(d.connection)}return c};b.Op=function(){return n.fb.A.Op.call(this)};
b.xt=function(a,c){return n.fb.A.xt.call(this,a,c)};b.Sm=function(a){return new n.Eb(this,a)};b.hc=function(){if(this.D&&!this.D.kc()){var a=this.cd();if(!a.Oc)for(var c=this.jf(!1),d=0,e;e=c[d];d++){e.isConnected()&&Da(e)&&e.na().hc();for(var f=e.uA(n.Jd),h=0,k;k=f[h];h++)e.isConnected()&&k.isConnected()||k.X().cd()!=a&&(Da(e)?xb(k,e):xb(e,k))}}};function Fa(a){var c=n.h.Tb();setTimeout(function(){n.h.ca(c);Tc(a);n.h.ca(!1)},n.Qq/2);setTimeout(function(){n.h.ca(c);a.hc();n.h.ca(!1)},n.Qq)}
function ra(a,c,d){c.type!=n.gb&&c.type!=n.lb||a.moveBy(d.x-c.x,d.y-c.y)}b.getParent=function(){return n.fb.A.getParent.call(this)};b.cd=function(){return n.fb.A.cd.call(this)};
b.xa=function(a){if(!this.av){this.av=!0;try{this.ta=!0;n.g.j.yn();this.isCollapsed()&&Vc(this);this.D.ob.xa(this);var c=this.Ua();this.V&&Jc(this.V,c);this.L&&Jc(this.L,c);for(var d=0;d<this.P.length;d++){var e=this.P[d].connection;e&&(Jc(e,c),e.isConnected()&&Lc(e))}this.T&&(Jc(this.T,c),this.T.isConnected()&&Lc(this.T));if(!1!==a){var f=this.getParent();f?f.xa(!0):Za(this.D)}n.g.j.zn();this.Mv()}finally{this.av=!1}}};
b.Mv=function(){this.D.ac&&this.yb.nm&&this.D.xb().draw();this.D.ac&&this.yb.lu&&this.D.bd(n.navigation.El).draw()};b.$g=function(a){this.yb.$g(a)};b.ah=function(a){this.yb.ah(a)};function ka(a){var c=a.height,d=a.width,e=u(a);e&&(e=ka(e),a=a.D.ob.Z().Zw,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};n.Kj=function(){this.Hb=[]};function Zc(a,c,d){if(!a.Hb.length)return-1;var e=Ic(a,d);if(e>=a.Hb.length)return-1;d=c.y;for(var f=e;0<=f&&a.Hb[f].y==d;){if(a.Hb[f]==c)return f;f--}for(;e<a.Hb.length&&a.Hb[e].y==d;){if(a.Hb[e]==c)return e;e++}return-1}function Ic(a,c){if(!a.Hb.length)return 0;for(var d=0,e=a.Hb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Hb[f].y<c)d=f+1;else if(a.Hb[f].y>c)e=f;else{d=f;break}}return d}
function Gc(a,c,d){c=Zc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.Hb.splice(c,1)}function Mc(a,c,d){function e(p){var q=h-f[p].x,r=k-f[p].y;Math.sqrt(q*q+r*r)<=d&&m.push(f[p]);return r<d}var f=a.Hb,h=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}n.Kj.ra=function(){var a=[];a[n.lb]=new n.Kj;a[n.Ue]=new n.Kj;a[n.gb]=new n.Kj;a[n.Ve]=new n.Kj;return a};n.ri=function(a,c){this.Gk=a;this.xv=c.spacing;this.iA=c.length;this.nH=(this.au=a.firstChild)&&this.au.nextSibling;this.GI=c.snap};n.ri.prototype.$h=1;n.ri.prototype.H=function(){this.Gk=null};n.ri.prototype.update=function(a){this.$h=a;var c=this.xv*a||100;this.Gk.setAttribute("width",c);this.Gk.setAttribute("height",c);c=Math.floor(this.xv/2)+.5;var d=c-this.iA/2,e=c+this.iA/2;c*=a;d*=a;e*=a;$c(this.au,a,d,e,c,c);$c(this.nH,a,c,c,d,e)};
function $c(a,c,d,e,f,h){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",h))}n.ri.prototype.moveTo=function(a,c){this.Gk.setAttribute("x",a);this.Gk.setAttribute("y",c);(n.g.userAgent.Qe||n.g.userAgent.oi)&&this.update(this.$h)};
n.ri.Ga=function(a,c,d){a=n.g.j.K("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(n.g.j.K("line",{stroke:c.colour},a),1<c.length&&n.g.j.K("line",{stroke:c.colour},a)):n.g.j.K("line",{},a);return a};n.Ww=function(a){this.Kg=this.ef=null;this.ij={};this.s=a};function ad(a,c){var d=a.ij[c];if(d)d.H(),delete a.ij[c];else throw Error("Marker with id "+c+" does not exist. Can only unregistermarkers that exist.");}b=n.Ww.prototype;b.xb=function(){return this.ef};b.bd=function(a){return this.ij[a]};b.jv=function(a){this.ef&&this.ef.rd&&this.ef.rd.H();if(this.ef=a)a=this.ef,a=new n.i.rg(this.s,this.s.ob.Z(),a),this.ef.rd=a,this.$g(this.ef.rd.Ga())};
b.$g=function(a){a?(this.s.qb.appendChild(a),this.Kg=a):this.Kg=null};b.ah=function(a){a?this.s.qb&&(this.Kg?this.s.qb.insertBefore(a,this.Kg):this.s.qb.appendChild(a)):this.Xg=null};b.H=function(){for(var a=Object.keys(this.ij),c=0,d;d=a[c];c++)ad(this,d);this.ij=null;this.ef.H();this.ef=null};n.Ex=function(a,c){this.s=a;this.fh=c;this.An=[];this.Hf=Object.create(null)};b=n.Ex.prototype;b.Og=function(){return this.fh};b.un=function(a){var c=this.fh;this.fh=a;if(a=aa(this.s))c&&n.g.j.Ac(a,c.hf()),n.g.j.vb(a,this.fh.hf());for(c=0;a=this.An[c];c++)a.Xu();c=0;a=Object.keys(this.Hf);for(var d;d=a[c];c++)for(var e=0,f;f=this.Hf[d][e];e++)f.element.style[f.propertyName]=this.fh&&Va(this.fh,d)||"";n.Vb()};
b.subscribe=function(a,c,d){this.Hf[c]||(this.Hf[c]=[]);this.Hf[c].push({element:a,propertyName:d});a.style[d]=this.fh&&Va(this.fh,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.Hf),d=0,e;e=c[d];d++){for(var f=this.Hf[e],h=f.length-1;0<=h;h--)f[h].element===a&&f.splice(h,1);this.Hf[e].length||delete this.Hf[e]}};b.H=function(){this.Hf=this.An=this.fh=this.He=null};n.pd=function(a,c){n.pd.A.constructor.call(this,a,c);this.Jp=!1;this.Qd=Object.create(null);this.iB=this.kn=0;this.bA=this.Iu=null};n.g.object.S(n.pd,n.pi);n.pd.EE=5;n.pd.FE=6;b=n.pd.prototype;b.Xs=function(a){this.bA=this.Wb.options.eb&&this.Wb.options.eb.Ru;n.pd.A.Xs.call(this,a);!this.Ip&&n.Touch.Np(a)&&bd(this,a)};
b.ik=function(a){this.Iu=n.va(document,"mousedown",null,this.OG.bind(this),!0);this.fq=n.va(document,"mousemove",null,this.Hk.bind(this),!0);this.gq=n.va(document,"mouseup",null,this.zp.bind(this),!0);a.preventDefault();a.stopPropagation()};b.OG=function(a){!this.kc()&&n.Touch.Np(a)&&(bd(this,a),this.Jp&&n.Nh())};
b.Hk=function(a){if(this.kc())n.Touch.wv(a)&&n.pd.A.Hk.call(this,a);else if(this.Jp){if(n.Touch.Np(a)){this.Qd[n.Touch.yp(a)]=cd(this,a);var c=Object.keys(this.Qd);if(this.bA&&2===c.length){c=Object.keys(this.Qd);c=n.g.O.Ws(this.Qd[c[0]],this.Qd[c[1]])/this.iB;if(0<this.kn&&Infinity>this.kn){var d=c-this.kn;d=0<d?d*n.pd.EE:d*n.pd.FE;var e=this.Wb,f=n.g.Zm(a,y(e),Sa(e));e.zoom(f.x,f.y,d)}this.kn=c;a.preventDefault()}else n.pd.A.Hk.call(this,a)}n.Nh()}else n.pd.A.Hk.call(this,a)};
b.zp=function(a){if(n.Touch.Np(a)&&!this.kc()){var c=n.Touch.yp(a);this.Qd[c]&&delete this.Qd[c];2>Object.keys(this.Qd).length&&(this.Qd=Object.create(null),this.kn=0)}!this.Jp||this.kc()?n.Touch.wv(a)&&n.pd.A.zp.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){n.pd.A.H.call(this);this.Iu&&n.Za(this.Iu)};function bd(a,c){a.Qd[n.Touch.yp(c)]=cd(a,c);var d=Object.keys(a.Qd);2==d.length&&(a.iB=n.g.O.Ws(a.Qd[d[0]],a.Qd[d[1]]),a.Jp=!0,c.preventDefault())}
function cd(a,c){return a.Wb?new n.g.O(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};n.Px=function(a){this.Nu=a;this.Pl=Object.create(null)};b=n.Px.prototype;b.Xt=null;b.H=function(){this.Pl=this.Nu=null};b.load=function(a,c){if(a.length){try{var d=new n.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new n.g.global.Audio(h);break}}e&&e.play&&(this.Pl[c]=e)}};
b.preload=function(){for(var a in this.Pl){var c=this.Pl[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(n.g.userAgent.Oj||n.g.userAgent.Iw)break}};b.play=function(a,c){var d=this.Pl[a];d?(a=new Date,null!=this.Xt&&a-this.Xt<n.aE||(this.Xt=a,d=n.g.userAgent.Oj||n.g.userAgent.rl?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.Nu&&this.Nu.Nd.play(a,c)};n.Qx=function(a){this.hm=a;this.Ga()};b=n.Qx.prototype;b.sb=null;b.hm=null;b.Ga=function(){this.sb||(this.sb=n.g.j.K("svg",{xmlns:n.g.j.Go,"xmlns:html":n.g.j.dr,"xmlns:xlink":n.g.j.Kc,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.hm.appendChild(this.sb))};b.Bj=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.sb.style.display="block";n.g.j.sn(this.sb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Bt=function(){return n.g.ze(this.sb)};
b.Xo=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.sb.childNodes[0],d=this.sb.childNodes[1];if(!(c&&d&&n.g.j.Ht(c,"blocklyBlockCanvas")&&n.g.j.Ht(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Zk?n.g.j.Wi(c,this.Zk):a.insertBefore(c,a.firstChild);n.g.j.Wi(d,c);this.sb.style.display="none";if(this.sb.childNodes.length)throw Error("Drag surface was not cleared.");n.g.j.sn(this.sb,
"");this.Zk=null};
n.bb=function(a,c,d){n.bb.A.constructor.call(this,a);this.Vd=a.Vd||n.bb.BG;this.tn=a.tn||n.bb.BI;this.bp=n.Kj.ra();c&&(this.Od=c);d&&(this.Fj=d);this.Eq=!!this.Fj&&n.g.Xi();this.Fm=[];this.Nd=new n.Px(a.nc);this.Be=this.options.Et?new n.ri(this.options.Et,a.Hz):null;this.Zd=new n.Ww(this);this.Gv={};this.cz={};n.ba&&n.ba.Li&&dd(this,n.Jc,n.ba.Li);n.Kx&&n.Kx.Li&&dd(this,n.vE,n.Kx.Li);n.ab&&n.ab.Li&&(dd(this,n.Er,n.ab.Li),ib(this,n.ab.JH));this.bc=this.options.nc?this.options.nc.bc:new n.Ex(this,this.options.RI||
n.Ag.lh);this.bc.An.push(this);this.ob=n.i.ra(this.options.on||"geras",this.Og(),this.options.pn);this.ss=null;this.ac=!1;this.zq=[]};n.g.object.S(n.bb,n.ub);b=n.bb.prototype;b.qq=null;b.ta=!0;b.Vg=!0;b.Xf=!1;b.Pm=!1;b.dv=!0;b.scrollX=0;b.scrollY=0;b.Wy=null;b.scale=1;b.Ec=null;b.Ha=null;b.$=null;b.qa=null;b.ic=null;b.Od=null;b.Fj=null;b.Eq=!1;b.Hp=!1;b.Qt=null;b.gA=null;b.jb=null;b.Yz=null;b.St=!0;b.$g=function(a){this.Zd.$g(a)};b.ah=function(a){this.Zd.ah(a)};
b.bd=function(a){return this.Zd?this.Zd.bd(a):null};b.xb=function(){return this.Zd?this.Zd.xb():null};b.Og=function(){return this.bc.Og()};b.un=function(a){a||(a=n.Ag.lh);this.bc.un(a)};b.Xu=function(){this.N&&this.ob.Wu(this.N,this.Og());ed(ab(this).filter(function(c){return void 0!==c.xj}));fd(this);this.qa&&this.qa.Xu();this.isVisible()&&this.pb(!0);var a=new n.h.Rb(null,"theme",null,null);a.Cb=this.id;n.h.Ca(a)};
function ed(a){for(var c=0,d;d=a[c];c++){var e=d.xj;if(e&&(d.dh(e),d.Fe)){var f=d.Fe.s;if(f&&ab(f)){var h=ab(f);for(d=0;d<h.length;d++)e=h[d],e.dh(e.xj);f=ab(f.Mb().s);for(d=0;d<f.length;d++)e=f[d],e.dh(e.xj)}}}}function Sa(a){if(a.St){var c=y(a).getScreenCTM();c&&(a.Yz=c.inverse(),a.St=!1)}return a.Yz}b.Ln=function(){this.St=!0};b.isVisible=function(){return this.Vg};
function ja(a,c){var d=0,e=0,f=1;if(n.g.j.containsNode(a.qb,c)||n.g.j.containsNode(a.eh,c))f=a.scale;do{var h=n.g.ze(c);if(c==a.qb||c==a.eh)f=1;d+=h.x*f;e+=h.y*f;c=c.parentNode}while(c&&c!=y(a));return new n.g.O(d,e)}function aa(a){if(!a.Qt)for(var c=a.N;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Qt=c;break}c=c.parentNode}return a.Qt}
b.Ga=function(a){this.N=n.g.j.K("g",{"class":"blocklyWorkspace"},null);a&&(this.Dc=n.g.j.K("rect",{height:"100%",width:"100%","class":a},this.N),"blocklyMainBackground"==a&&this.Be?this.Dc.style.fill="url(#"+this.Be.Gk.id+")":this.bc.subscribe(this.Dc,"workspaceBackgroundColour","fill"));this.qb=n.g.j.K("g",{"class":"blocklyBlockCanvas"},this.N);this.eh=n.g.j.K("g",{"class":"blocklyBubbleCanvas"},this.N);this.Xf||(n.va(this.N,"mousedown",this,this.Rh,!1,!0),n.va(this.N,"wheel",this,this.cI));if(this.options.Ik){if(!n.yi)throw Error("Missing require for Blockly.Toolbox");
this.qa=new (n.ga.nG(this.options))(this)}this.Be&&this.Be.update(this.scale);gd(this);this.Zd.jv(new n.Lj);a=this.Zd;var c=n.navigation.El,d=new n.Hl;a.ij[c]&&ad(a,c);var e=new n.i.rg(a.s,a.s.ob.Z(),d);d.rd=e;a.ah(d.rd.Ga());a.ij[c]=d;this.ob.Ga(this.N,this.Og());return this.N};
b.H=function(){this.ta=!1;this.ic&&this.ic.cancel();this.N&&(n.g.j.removeNode(this.N),this.N=null);this.eh=this.qb=null;this.qa&&(this.qa.H(),this.qa=null);this.$&&(this.$.H(),this.$=null);this.Ec&&(this.Ec.H(),this.Ec=null);this.Ha&&(this.Ha.H(),this.Ha=null);this.Hj&&(this.Hj.H(),this.Hj=null);this.Nd&&(this.Nd.H(),this.Nd=null);this.Be&&(this.Be.H(),this.Be=null);this.ob.H();this.Zd&&(this.Zd.H(),this.Zd=null);n.bb.A.H.call(this);if(this.bc){var a=this.bc,c=a.An.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.An.splice(c,1);this.bc.unsubscribe(this.Dc);this.options.nc||(this.bc.H(),this.bc=null)}this.cz=this.Gv=this.bp=null;this.options.nc||(a=y(this).parentNode)&&n.g.j.removeNode(a);this.qq&&(n.Za(this.qq),this.qq=null)};b.Vk=function(a,c){return new n.fb(this,a,c)};function hd(a){if(!n.uc)throw Error("Missing require for Blockly.Trashcan");a.Ec=new n.uc(a);var c=a.Ec.Ga();a.N.insertBefore(c,a.qb)}
function id(a){if(!n.GE)throw Error("Missing require for Blockly.ZoomControls");a.Hj=new n.GE(a);var c=a.Hj.Ga();a.N.appendChild(c)}
function jd(a,c){var d=new n.rc({parentWorkspace:a,rtl:a.J,oneBasedIndex:a.options.cn,horizontalLayout:a.dd,renderer:a.options.on,rendererOverrides:a.options.pn});d.Ka=a.options.Ka;if(a.dd){if(!n.Cl)throw Error("Missing require for Blockly.HorizontalFlyout");a.$=new n.Cl(d)}else{if(!n.Cg)throw Error("Missing require for Blockly.VerticalFlyout");a.$=new n.Cg(d)}a.$.hk=!1;a.$.s.pb(!0);return a.$.Ga(c)}b.Mb=function(a){return this.$||a?this.$:this.qa?this.qa.Mb():null};
function Za(a){a.dv&&a.ta&&(a.Ha&&a.Ha.resize(),a.Ln())}b.resize=function(){this.qa&&this.qa.position();this.$&&this.$.position();this.Ec&&this.Ec.position();this.Hj&&this.Hj.position();this.Ha&&this.Ha.resize();this.Ln();gd(this)};function Bb(a){var c=n.g.uG();n.g.O.Of(a.gA,c)||(a.gA=c,a.Ln(),gd(a))}function y(a){if(!a.ss)for(var c=a.N;c;){if("svg"==c.tagName){a.ss=c;break}c=c.parentNode}return a.ss}
b.translate=function(a,c){if(this.Eq&&this.Hp)this.Fj.Bj(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.qb.setAttribute("transform",d);this.eh.setAttribute("transform",d)}if(this.Od){d=this.Od;var e=this.scale;d.$h=e;d.Mf.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.Be&&this.Be.moveTo(a,c)};
function Ua(a){if(a.Eq){a.Hp=!1;var c=a.Fj.Bt();a.Fj.Xo(a.N);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.qb.setAttribute("transform",c);a.eh.setAttribute("transform",c)}}
function Ta(a){if(a.Eq&&!a.Hp){a.Hp=!0;var c=a.qb.previousSibling,d=parseInt(y(a).getAttribute("width"),10),e=parseInt(y(a).getAttribute("height"),10),f=n.g.ze(a.qb),h=a.Fj,k=a.qb,l=a.eh,m=a.scale;if(h.sb.childNodes.length)throw Error("Already dragging a block.");h.Zk=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");h.sb.setAttribute("width",d);h.sb.setAttribute("height",e);h.sb.appendChild(k);h.sb.appendChild(l);h.sb.style.display=
"block";a.Fj.Bj(f.x,f.y)}}b.Qg=function(){var a=this.Vd();return a?a.Bb/this.scale:0};b.pb=function(a){this.Vg=a;if(this.N)if(this.Ha&&this.Ha.tj(a),this.Mb()&&this.Mb().tj(a),y(this).style.display=a?"block":"none",this.qa&&this.qa.pb(a),a){a=ab(this);for(var c=a.length-1;0<=c;c--)a[c].Tm();this.xa();this.qa&&this.qa.position()}else n.Vb(!0)};b.xa=function(){for(var a=ab(this),c=a.length-1;0<=c;c--)a[c].xa(!1);if(this.ic)for(a=this.ic.Ek(),c=0;c<a.length;c++)a[c].xa(!1);c=this.Zd;c.s.ac&&c.Kg&&c.s.xb().draw()};
function kd(a,c){var d=z;if(void 0===c){for(var e=0,f;f=d.Fm[e];e++)f.rf(!1);d.Fm.length=0}if(f=a?d.ad(a):null)(a=void 0===c||c)?-1==d.Fm.indexOf(f)&&d.Fm.push(f):n.g.$l(d.Fm,f),f.rf(a)}
function ld(a){var c=n.dm;if(a.ta&&!(c.getElementsByTagName("block").length>=fb(a)))if(a.ic&&a.ic.cancel(),"comment"==c.tagName.toLowerCase()){n.h.disable();try{var d=n.ek.xm(c),e=parseInt(c.getAttribute("x"),10),f=parseInt(c.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.J&&(e=-e),d.moveBy(e+50,f+50))}finally{n.h.enable()}d.select()}else a:{n.h.disable();try{var h=n.R.yk(c,a),k=a.bd(n.navigation.El).Va;if(a.ac&&k&&k.Ok){n.navigation.Wz(h,k.pa);break a}var l=parseInt(c.getAttribute("x"),10),m=parseInt(c.getAttribute("y"),
10);if(!isNaN(l)&&!isNaN(m)){a.J&&(l=-l);do{c=!1;var p=ab(a);d=0;for(var q;q=p[d];d++){var r=q.Ua();if(1>=Math.abs(l-r.x)&&1>=Math.abs(m-r.y)){c=!0;break}}if(!c){var v=h.jf(!1);d=0;for(var B;B=v[d];d++)if(B.closest(n.Jd,new n.g.O(l,m)).connection){c=!0;break}}c&&(l=a.J?l-n.Jd:l+n.Jd,m+=2*n.Jd)}while(c);h.moveBy(l,m)}}finally{n.h.enable()}n.h.isEnabled()&&!h.Ra&&n.h.Ca(new n.h.Xn(h));h.select()}}
function fd(a){if((a=a.Xf?a.jb:a)&&!a.ic&&a.qa&&a.qa.Mb()){a=a.qa;var c=a.Fc.ce;c&&c.Sd&&a.$.show(c.Sd)}}b.rj=function(a,c){n.bb.A.rj.call(this,a,c);fd(this)};b.Hi=function(a){n.bb.A.Hi.call(this,a);fd(this)};b.df=function(a,c,d){a=n.bb.A.df.call(this,a,c,d);fd(this);return a};function gd(a){a.Ky=a.Ec&&a.N.parentNode?a.Ec.Bk():null;a.Jy=a.$?a.$.Bk():a.qa&&"function"==typeof a.qa.Bk?a.qa.Bk():null}
function ya(a,c){return a.Ky&&a.Ky.contains(c.clientX,c.clientY)?n.Vq:a.Jy&&a.Jy.contains(c.clientX,c.clientY)?n.mw:n.lw}b.Rh=function(a){var c=this.Dh(a);c&&Eb(c,a,this)};b.yv=function(a,c){a=n.g.Zm(a,y(this),Sa(this));a.x/=this.scale;a.y/=this.scale;this.Wy=n.g.O.wk(c,a)};b.kc=function(){return null!=this.ic&&this.ic.kc()};
function md(a){return a.options.mc&&a.options.mc.scrollbars||a.options.mc&&a.options.mc.ii||a.options.mc&&a.options.mc.Ch||a.options.eb&&a.options.eb.controls||a.options.eb&&a.options.eb.ii||a.options.eb&&a.options.eb.Ru}b.wd=function(){return this.options.mc&&this.options.mc.scrollbars||this.options.mc&&this.options.mc.ii||this.options.mc&&this.options.mc.Ch||this.options.eb&&this.options.eb.ii||this.options.eb&&this.options.eb.Ru};
b.cI=function(a){if(n.pi.Cp())a.preventDefault(),a.stopPropagation();else{var c=this.options.eb&&this.options.eb.ii,d=this.options.mc&&this.options.mc.ii;if(c||d){var e=n.g.yz(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=n.g.Zm(a,y(this),Sa(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function Wa(a){a=[].concat(a.zq);if(!a.length)return new n.g.Rect(0,0,0,0);for(var c=Uc(a[0]),d=1;d<a.length;d++){var e=Uc(a[d]);e.top<c.top&&(c.top=e.top);e.bottom>c.bottom&&(c.bottom=e.bottom);e.left<c.left&&(c.left=e.left);e.right>c.right&&(c.right=e.right)}return c}b.hF=function(){this.pc(!1);n.h.ca(!0);for(var a=this.jc(!0),c=0,d=0,e;e=a[d];d++)if(e.wd()){var f=e.Ua();e.moveBy(-f.x,c-f.y);Tc(e);c=e.Ua().y+ka(e).height+this.ob.Z().Fl}n.h.ca(!1);this.pc(!0)};
b.vn=function(a){function c(B){if(B.Yd())v=v.concat(t(B,!1));else{B=B.ye(!1);for(var H=0;H<B.length;H++)c(B[H])}}function d(){n.h.ca(h);var B=v.shift();B&&(B.D?(B.H(!1,!0),setTimeout(d,10)):d());n.h.ca(!1)}if(!this.options.readOnly&&!this.Xf){var e=[],f=this.jc(!0),h=n.g.Mg(),k=this,l={};l.text=n.m.UNDO;l.enabled=0<this.ll.length;l.Yb=this.Cq.bind(this,!1);e.push(l);l={};l.text=n.m.REDO;l.enabled=0<this.mq.length;l.Yb=this.Cq.bind(this,!0);e.push(l);this.wd()&&(l={},l.text=n.m.CLEAN_UP,l.enabled=
1<f.length,l.Yb=this.hF.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,p=0;p<f.length;p++)for(var q=f[p];q;)q.isCollapsed()?l=!0:m=!0,q=u(q);var r=function(B){for(var H=0,la=0;la<f.length;la++)for(var Qa=f[la];Qa;)setTimeout(Qa.ai.bind(Qa,B),H),Qa=u(Qa),H+=10};m={enabled:m};m.text=n.m.COLLAPSE_ALL;m.Yb=function(){r(!0)};e.push(m);l={enabled:l};l.text=n.m.EXPAND_ALL;l.Yb=function(){r(!1)};e.push(l)}var v=[];for(p=0;p<f.length;p++)c(f[p]);l={text:1==v.length?n.m.DELETE_BLOCK:n.m.DELETE_X_BLOCKS.replace("%1",
String(v.length)),enabled:0<v.length,Yb:function(){k.ic&&k.ic.cancel();2>v.length?d():n.confirm(n.m.DELETE_ALL_BLOCKS.replace("%1",v.length),function(B){B&&d()})}};e.push(l);this.nF&&this.nF(e,a);n.za.show(a,e,this.J)}};function Ra(a){if(a.options.nc)Ra(a.options.nc);else{n.Rm=a;document.activeElement&&document.activeElement.blur();try{y(a).focus({preventScroll:!0})}catch(c){try{y(a).parentNode.setActive()}catch(d){y(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.eb.tI,d);var e=this.scale*d;if(this.scale!=e){e>this.options.eb.Um?d=this.options.eb.Um/this.scale:e<this.options.eb.Wm&&(d=this.options.eb.Wm/this.scale);var f=this.qb.getCTM(),h=y(this).createSVGPoint();h.x=a;h.y=c;h=h.matrixTransform(f.inverse());a=h.x;c=h.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.eb.Um&&a>this.options.eb.Um?a=this.options.eb.Um:this.options.eb.Wm&&a<this.options.eb.Wm&&(a=this.options.eb.Wm);this.scale=a;n.Vb(!1);this.$&&(this.$.Vu(),gd(this));this.Be&&this.Be.update(this.scale);a=this.Vd();this.scrollX-=a.vc;this.scrollY-=a.Lc;a.Jb+=a.vc;a.Pb+=a.Lc;this.scroll(this.scrollX,this.scrollY);this.Ha&&(this.$?(Ka(this.Ha.Ce,a),La(this.Ha.Oe,a)):(Na(this.Ha.Ce,a),Pa(this.Ha.Oe,a)))};
function nd(a){return a.options.nc?nd(a.options.nc):a.scale}b.scroll=function(a,c){n.Vb(!0);var d=this.Vd(),e=d.cf+d.Nc-d.Bb,f=d.qd+d.wc-d.Ib;a=Math.min(a,-d.Nc);c=Math.min(c,-d.wc);a=Math.max(a,-e);c=Math.max(c,-f);this.scrollX=a;this.scrollY=c;this.Ha&&(Ha(this.Ha.Ce,-(a+d.Nc)*this.Ha.Ce.ratio),Ha(this.Ha.Oe,-(c+d.wc)*this.Ha.Oe.ratio));a+=d.vc;c+=d.Lc;this.translate(a,c)};n.bb.lz=function(a){var c=0,d=0;a&&(c=a.Qg(),d=a.oz());return new n.g.Ld(c,d)};
n.bb.rG=function(a,c){return md(a)?n.bb.qG(a,c):n.bb.jz(a)};n.bb.jz=function(a){var c=Wa(a),d=a.scale;a=c.top*d;var e=c.bottom*d,f=c.left*d;c=c.right*d;return{top:a,bottom:e,left:f,right:c,width:c-f,height:e-a}};n.bb.qG=function(a,c){a=n.bb.jz(a);var d=c.width;c=c.height;var e=d/2,f=c/2,h=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-c);return{left:h,top:k,height:Math.max(a.bottom+f,a.top+c)-k,width:Math.max(a.right+e,a.left+d)-h}};
n.bb.BG=function(){var a=n.bb.lz(this.qa),c=n.bb.lz(this.$),d=n.mB(y(this)),e={height:d.height,width:d.width};if(this.qa)if(this.Ka==n.zg||this.Ka==n.ck)e.height-=a.height;else{if(this.Ka==n.Md||this.Ka==n.yg)e.width-=a.width}else if(this.$)if(this.Ka==n.zg||this.Ka==n.ck)e.height-=c.height;else if(this.Ka==n.Md||this.Ka==n.yg)e.width-=c.width;var f=n.bb.rG(this,e),h=0;this.qa&&this.Ka==n.Md?h=a.width:this.$&&this.Ka==n.Md&&(h=c.width);var k=0;this.qa&&this.Ka==n.zg?k=a.height:this.$&&this.Ka==n.zg&&
(k=c.height);return{qd:f.height,cf:f.width,wc:f.top,Nc:f.left,Ib:e.height,Bb:e.width,Pb:-this.scrollY,Jb:-this.scrollX,Lc:k,vc:h,CN:d.height,DN:d.width,qB:a.width,IN:a.height,Ka:this.Ka,lM:c.width,kM:c.height}};n.bb.BI=function(a){var c=this.Vd();"number"==typeof a.x&&(this.scrollX=-c.cf*a.x-c.Nc);"number"==typeof a.y&&(this.scrollY=-c.qd*a.y-c.wc);this.translate(this.scrollX+c.vc,this.scrollY+c.Lc)};b=n.bb.prototype;b.ad=function(a){return n.bb.A.ad.call(this,a)};
b.jc=function(a){return n.bb.A.jc.call(this,a)};b.Oo=function(a){this.zq.push(a);n.bb.A.Oo.call(this,a)};b.pq=function(a){n.g.$l(this.zq,a);n.bb.A.pq.call(this,a)};b.pc=function(a){var c=!this.dv&&a;this.dv=a;c&&Za(this)};b.clear=function(){this.pc(!1);n.bb.A.clear.call(this);this.zq=[];this.pc(!0)};function od(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.cz.CREATE_VARIABLE=c}
function dd(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Gv[c]=d}b.Dh=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.ic;return d?c&&d.Pi?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.ic=new n.pd(a,this):null};n.Bl=function(a){a.Vd=this.vp.bind(this);a.tn=this.AI.bind(this);this.s=new n.bb(a);this.s.Xf=!0;this.s.pb(this.Vg);this.J=!!a.J;this.dd=!1;this.kl=a.Ka;this.ft=[];this.Rp=[];this.am=[];this.gd=[];this.Qu=[];this.jl=this.s.ob.Z().Io;this.jb=null};b=n.Bl.prototype;b.hk=!0;b.Vg=!1;b.Ci=!0;b.rb=8;b.rh=n.Bl.prototype.rb;b.RC=3*n.Bl.prototype.rh;b.SC=3*n.Bl.prototype.rh;b.Mr=2;b.kb=0;b.xc=0;b.TF=70;
b.Ga=function(a){this.N=n.g.j.K(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Dc=n.g.j.K("path",{"class":"blocklyFlyoutBackground"},this.N);this.N.appendChild(this.s.Ga());this.s.bc.subscribe(this.Dc,"flyoutBackgroundColour","fill");this.s.bc.subscribe(this.Dc,"flyoutOpacity","fill-opacity");this.s.Zd.jv(new n.qo);return this.N};
b.ra=function(a){this.jb=a;this.s.jb=a;this.Ha=new n.Pa(this.s,this.dd,!1,"blocklyFlyoutScrollbar");this.Ea();Array.prototype.push.apply(this.ft,n.va(this.N,"wheel",this,this.fJ));this.hk||(this.op=this.ht.bind(this),ib(this.jb,this.op));Array.prototype.push.apply(this.ft,n.va(this.Dc,"mousedown",this,this.Rh));this.s.Dh=this.jb.Dh.bind(this.jb);this.s.tv(this.jb.La);a=this.s;a.Vh=new n.Wr(a)};
b.H=function(){this.Ea();n.Za(this.ft);this.op&&(jb(this.jb,this.op),this.op=null);this.Ha&&(this.Ha.H(),this.Ha=null);this.s&&(this.s.bc.unsubscribe(this.Dc),this.s.jb=null,this.s.H(),this.s=null);this.N&&(n.g.j.removeNode(this.N),this.N=null);this.jb=this.Dc=null};b.Qg=function(){return this.kb};b.oz=function(){return this.xc};b.isVisible=function(){return this.Vg};b.pb=function(a){var c=a!=this.isVisible();this.Vg=a;c&&this.Kn()};b.tj=function(a){var c=a!=this.Ci;this.Ci=a;c&&this.Kn()};
b.Kn=function(){var a=this.Ci?this.isVisible():!1;this.N.style.display=a?"block":"none";this.Ha.tj(a)};b.Ea=function(){if(this.isVisible()){this.pb(!1);for(var a=0,c;c=this.gd[a];a++)n.Za(c);this.gd.length=0;this.Wh&&(jb(this.s,this.Wh),this.Wh=null)}};
b.show=function(a){this.s.pc(!1);this.Ea();pd(this);if("string"==typeof a){a=this.s.jb.Gv[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.s.jb);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.pb(!0);a=n.g.Ne.cp(a);a=qd(this,a);rd(this,a.Sd,a.fG);this.gd.push(n.va(this.Dc,"mouseover",this,function(){for(var c=this.s.jc(!1),d=0,e;e=c[d];d++)e.nn()}));this.dd?this.xc=0:
this.kb=0;this.s.pc(!0);this.Vu();this.ht();this.position();this.Wh=this.Vu.bind(this);ib(this.s,this.Wh)};
function qd(a,c){var d=[],e=[];a.Qu.length=0;for(var f=a.dd?a.RC:a.SC,h=0,k;k=c[h];h++)switch(k.kind.toUpperCase()){case "BLOCK":var l=k;var m=l;k=null;var p=m.blockxml;p&&"string"!=typeof p?k=p:p&&"string"==typeof p?k=n.R.Aj(p):m.type&&(k=n.g.xml.createElement("xml"),k.setAttribute("type",m.type),k.setAttribute("disabled",m.disabled));if(!k)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");m=k;k=a;p=n.R.yk(m,k.s);p.isEnabled()||k.Qu.push(p);k=p;l=parseInt(l.gap||
m.getAttribute("gap"),10);e.push(isNaN(l)?f:l);d.push({type:"block",block:k});break;case "SEP":l=e;m=f;k=parseInt(k.gap,10);!isNaN(k)&&0<l.length?l[l.length-1]=k:l.push(m);break;case "LABEL":l=sd(a,k,!0);d.push({type:"button",button:l});e.push(f);break;case "BUTTON":l=sd(a,k,!1),d.push({type:"button",button:l}),e.push(f)}return{Sd:d,fG:e}}function sd(a,c,d){if(!n.QC)throw Error("Missing require for Blockly.FlyoutButton");return new n.QC(a.s,a.jb,c,d)}
function pd(a){for(var c=a.s.jc(!1),d=0,e;e=c[d];d++)e.D==a.s&&e.H(!1,!1);for(d=0;d<a.Rp.length;d++)if(c=a.Rp[d])n.G.Kv(c),n.g.j.removeNode(c);for(d=a.Rp.length=0;c=a.am[d];d++)c.H();a.am.length=0;a.s.Vh.clear()}function td(a,c){return function(d){var e=a.jb.Dh(d);e&&(Gb(e,c),Fb(e,d,a))}}b.Rh=function(a){var c=this.jb.Dh(a);c&&Fb(c,a,this)};
function ub(a,c){var d=null;n.h.disable();var e=a.jb.Mi();a.jb.pc(!1);try{var f=a.jb;if(!c.Da())throw Error("oldBlock is not rendered.");var h=n.R.Dg(c,!0);f.pc(!1);var k=n.R.yk(h,f);if(!k.Da())throw Error("block is not rendered.");var l=n.g.Am(f.qb),m=n.g.Am(a.s.qb),p=c.Ua();p.scale(a.s.scale);var q=n.g.O.sum(m,p),r=n.g.O.wk(q,l);r.scale(1/f.scale);k.moveBy(r.x,r.y);d=k;n.Vb()}finally{n.h.enable()}c=n.ba.iz(a.jb,e);if(n.h.isEnabled())for(n.h.ca(!0),n.h.Ca(new n.h.Pe(d)),e=0;e<c.length;e++)n.h.Ca(new n.h.qe(c[e]));
a.hk?a.Ea():a.ht();return d}b.ht=function(){for(var a=this.s.jc(!1),c=0,d;d=a[c];c++)if(-1==this.Qu.indexOf(d))for(var e=gb(this.jb,n.g.qt(d));d;)d.qf(e),d=u(d)};
b.Vu=function(){this.Wh&&jb(this.s,this.Wh);this.s.scale=this.jb.scale;for(var a=0,c=this.s.jc(!1),d=0,e;e=c[d];d++){var f=ka(e).width;e.L&&(f-=this.jl);a=Math.max(a,f)}for(d=0;e=this.am[d];d++)a=Math.max(a,e.width);a+=1.5*this.rh+this.jl;a*=this.s.scale;a+=n.Pa.Bc;if(this.kb!=a){for(d=0;e=c[d];d++){if(this.J){f=e.Ua().x;var h=a/this.s.scale-this.rh;e.L||(h-=this.jl);e.moveBy(h-f,0)}e.dz&&(f=e.dz,h=e,e=ka(h),f.setAttribute("width",e.width),f.setAttribute("height",e.height),h=h.Ua(),f.setAttribute("y",
h.y),f.setAttribute("x",this.J?h.x-e.width:h.x))}if(this.J)for(d=0;e=this.am[d];d++)c=e.yM().y,e.moveTo(a/this.s.scale-e.width-this.rh-this.jl,c);this.kb=a;this.position()}this.Wh&&ib(this.s,this.Wh)};function Ab(a){return a.Ha?a.Ha.isVisible():!1}b.Qc=function(a){return this.s.xb().Qc(a)};n.W={};n.W.He=null;n.W.jp=null;n.W.pf="";n.W.sf="";n.W.Ga=function(){n.W.Xa||(n.W.Xa=document.createElement("div"),n.W.Xa.className="blocklyWidgetDiv",(n.iq||document.body).appendChild(n.W.Xa))};n.W.show=function(a,c,d){n.W.Ea();n.W.He=a;n.W.jp=d;a=n.W.Xa;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=n.Qf();n.W.pf=c.ob.hf();n.W.sf=c.Og().hf();n.g.j.vb(a,n.W.pf);n.g.j.vb(a,n.W.sf)};
n.W.Ea=function(){if(n.W.isVisible()){n.W.He=null;var a=n.W.Xa;a.style.display="none";a.style.left="";a.style.top="";n.W.jp&&n.W.jp();n.W.jp=null;a.textContent="";n.W.pf&&(n.g.j.Ac(a,n.W.pf),n.W.pf="");n.W.sf&&(n.g.j.Ac(a,n.W.sf),n.W.sf="");Ra(n.Qf())}};n.W.isVisible=function(){return!!n.W.He};n.W.Em=function(a){n.W.He==a&&n.W.Ea()};n.W.hn=function(a,c,d){n.W.Xa.style.left=a+"px";n.W.Xa.style.top=c+"px";n.W.Xa.style.height=d+"px"};
n.W.iI=function(a,c,d,e){var f=n.W.$E(a,c,d);a=n.W.ZE(a,c,d,e);0>f?n.W.hn(a,0,d.height+f):n.W.hn(a,f,d.height)};n.W.ZE=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};n.W.$E=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};n.Cg=function(a){n.Cg.A.constructor.call(this,a)};n.g.object.S(n.Cg,n.Bl);b=n.Cg.prototype;b.vp=function(){if(!this.isVisible())return null;try{var a=this.s.qb.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var c=this.Mr,d=this.xc-2*this.Mr,e=this.kb;this.J||(e-=this.Mr);return{qd:a.height*this.s.scale+2*this.rh,cf:a.width*this.s.scale+2*this.rh,wc:a.y,Nc:a.x,Ib:d,Bb:e,Pb:-this.s.scrollY+a.y,Jb:-this.s.scrollX,Lc:c,vc:0}};
b.AI=function(a){var c=this.vp();c&&("number"==typeof a.y&&(this.s.scrollY=-c.qd*a.y),this.s.translate(this.s.scrollX+c.vc,this.s.scrollY+c.Lc))};
b.position=function(){if(this.isVisible()){var a=this.jb.Vd();if(a){this.xc=a.Ib;var c=this.kb-this.rb,d=a.Ib-2*this.rb,e=this.kl==n.yg,f=c+this.rb;f=["M "+(e?f:0)+",0"];f.push("h",e?-c:c);f.push("a",this.rb,this.rb,0,0,e?0:1,e?-this.rb:this.rb,this.rb);f.push("v",Math.max(0,d));f.push("a",this.rb,this.rb,0,0,e?0:1,e?this.rb:-this.rb,this.rb);f.push("h",e?c:-c);f.push("z");this.Dc.setAttribute("d",f.join(" "));c=this.xc;a=this.jb.Ka==this.kl?a.qB?this.kl==n.Md?a.qB:a.Bb-this.kb:this.kl==n.Md?0:a.Bb:
this.kl==n.Md?0:a.Bb+a.vc-this.kb;this.N.setAttribute("width",this.kb);this.N.setAttribute("height",c);"svg"==this.N.tagName?n.g.j.sn(this.N,"translate("+a+"px,0px)"):this.N.setAttribute("transform","translate("+a+",0)");this.Ha&&(this.Ha.Ku=new n.g.O(a,0),this.Ha.resize(),this.Ha.setPosition(this.Ha.position.x,this.Ha.position.y))}}};
b.fJ=function(a){var c=n.g.yz(a);if(c.y){var d=this.vp();c=d.Pb-d.wc+c.y;c=Math.min(c,d.qd-d.Ib);c=Math.max(c,0);this.Ha.set(c);n.W.Ea();n.F.Ri()}a.preventDefault();a.stopPropagation()};
function rd(a,c,d){a.s.scale=a.jb.scale;for(var e=a.rh,f=a.J?e:e+a.jl,h=0,k;k=c[h];h++)if("block"==k.type){k=k.block;for(var l=t(k,!1),m=0,p;p=l[m];m++)p.Oc=!0;k.xa();p=k.Da();l=ka(k);m=k.L?f-a.jl:f;k.moveBy(m,e);var q=a,r=k,v=h;m=n.g.j.K("rect",{"fill-opacity":0,x:a.J?m-l.width:m,y:e,height:l.height,width:l.width},null);m.tf=r;n.G.ik(m);q.s.qb.insertBefore(m,r.Da());r.dz=m;q.Rp[v]=m;q=a;q.gd.push(n.va(p,"mousedown",null,td(q,k)));q.gd.push(n.va(m,"mousedown",null,td(q,k)));q.gd.push(n.ec(p,"mouseenter",
k,k.Mo));q.gd.push(n.ec(p,"mouseleave",k,k.nn));q.gd.push(n.ec(m,"mouseenter",k,k.Mo));q.gd.push(n.ec(m,"mouseleave",k,k.nn));e+=l.height+d[h]}else"button"==k.type&&(l=a,m=k.button,p=f,q=e,r=m.Ga(),m.moveTo(p,q),m.show(),l.gd.push(n.va(r,"mousedown",l,l.Rh)),l.am.push(m),e+=k.button.height+d[h])}b.Bk=function(){if(!this.N)return null;var a=this.N.getBoundingClientRect(),c=a.left;return this.kl==n.Md?new n.g.Rect(-1E9,1E9,-1E9,c+a.width):new n.g.Rect(-1E9,1E9,c,1E9)};n.ew=function(a){this.hm=a;this.Ga()};b=n.ew.prototype;b.sb=null;b.Mf=null;b.hm=null;b.$h=1;b.Bn=null;b.Ga=function(){this.sb||(this.sb=n.g.j.K("svg",{xmlns:n.g.j.Go,"xmlns:html":n.g.j.dr,"xmlns:xlink":n.g.j.Kc,version:"1.1","class":"blocklyBlockDragSurface"},this.hm),this.Mf=n.g.j.K("g",{},this.sb))};function zb(a,c){if(a.Mf.childNodes.length)throw Error("Already dragging a block.");a.Mf.appendChild(c);a.sb.style.display="block";a.Bn=new n.g.O(0,0)}
b.Bj=function(a,c){this.Bn=new n.g.O(a*this.$h,c*this.$h);a=this.Bn.x;c=this.Bn.y;a=a.toFixed(0);c=c.toFixed(0);this.sb.style.display="block";n.g.j.sn(this.sb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Bt=function(){var a=n.g.ze(this.sb);return new n.g.O(a.x/this.$h,a.y/this.$h)};b.Tb=function(){return this.Mf};
b.Xo=function(a){a?a.appendChild(this.Mf.firstChild):this.Mf.removeChild(this.Mf.firstChild);this.sb.style.display="none";if(this.Mf.childNodes.length)throw Error("Drag group was not cleared.");this.Bn=null};
n.F=function(){};n.F.ps=null;n.F.He=null;n.F.PA=null;n.F.Un=16;n.F.dw=1;n.F.aw=12;n.F.hx=16;n.F.Lq=.25;n.F.ds=null;n.F.oj=null;n.F.pf="";n.F.sf="";
n.F.Ga=function(){if(!n.F.wf){var a=document.createElement("div");a.className="blocklyDropDownDiv";(n.iq||document.body).appendChild(a);n.F.wf=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);n.F.Jg=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);n.F.se=c;n.F.wf.style.opacity=0;n.F.wf.style.transition="transform "+n.F.Lq+"s, opacity "+n.F.Lq+"s";a.addEventListener("focusin",function(){n.g.j.vb(a,"blocklyFocused")});a.addEventListener("focusout",
function(){n.g.j.Ac(a,"blocklyFocused")})}};n.F.wI=function(a){n.F.ps=a};n.F.sG=function(){return n.F.Jg};n.F.iF=function(){n.F.Jg.textContent="";n.F.Jg.style.width=""};n.F.kd=function(a,c){n.F.wf.style.backgroundColor=a;n.F.wf.style.borderColor=c};n.F.xN=function(a,c,d,e){return n.F.eB(n.F.vz(c),a,d,e)};n.F.DI=function(a,c){n.F.PA=!0;n.F.eB(n.F.wz(a),a,c,void 0)};
n.F.vz=function(a){var c=a.Da(),d=c.getBBox(),e=a.D.scale;a=d.height*e;d=d.width*e;c=n.g.style.Eh(c);return new n.g.Rect(c.y,c.y+a,c.x,c.x+d)};n.F.wz=function(a){a=Pb(a);return new n.g.Rect(a.top,a.bottom,a.left,a.right)};n.F.eB=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,h=a.bottom;a=a.top;e&&(a+=e);e=c.X();for(var k=e.D;k.options.nc;)k=k.options.nc;n.F.wI(y(k).parentNode);return n.F.show(c,e.J,f,h,f,a,d)};
n.F.show=function(a,c,d,e,f,h,k){n.F.He=a;n.F.oj=k||null;a=n.F.wf;a.style.direction=c?"rtl":"ltr";c=n.Qf();n.F.pf=c.ob.hf();n.F.sf=c.Og().hf();n.g.j.vb(a,n.F.pf);n.g.j.vb(a,n.F.sf);return n.F.hn(d,e,f,h)};n.F.kG=function(){var a=n.g.style.Eh(n.F.ps),c=n.g.style.Ng(n.F.ps);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};
n.F.yG=function(a,c,d,e){var f=n.F.kG(),h=n.g.style.Ng(n.F.wf);return c+h.height<f.bottom?n.F.uz(a,c,f,h):e-h.height>f.top?n.F.sz(d,e,f,h):c+h.height<document.documentElement.clientHeight?n.F.uz(a,c,f,h):e-h.height>document.documentElement.clientTop?n.F.sz(d,e,f,h):n.F.zG(a,f,h)};n.F.uz=function(a,c,d,e){a=n.F.At(a,d.left,d.right,e.width);return{Nt:a.xk,Ot:c,jt:a.xk,kt:c+n.F.hx,fk:a.fk,gs:-(n.F.Un/2+n.F.dw),Qo:!0,fs:!0}};
n.F.sz=function(a,c,d,e){a=n.F.At(a,d.left,d.right,e.width);return{Nt:a.xk,Ot:c-e.height,jt:a.xk,kt:c-e.height-n.F.hx,fk:a.fk,gs:e.height-2*n.F.dw-n.F.Un/2,Qo:!1,fs:!0}};n.F.zG=function(a,c,d){a=n.F.At(a,c.left,c.right,d.width);return{Nt:a.xk,Ot:0,jt:a.xk,kt:0,Qo:null,fk:null,gs:null,fs:!1}};n.F.At=function(a,c,d,e){var f=a;a=n.g.$d.bm(c,a-e/2,d-e);f-=n.F.Un/2;c=n.g.$d.bm(n.F.aw,f-a,e-n.F.aw-n.F.Un);return{fk:c,xk:a}};n.F.isVisible=function(){return!!n.F.He};
n.F.Em=function(a,c){n.F.He===a&&(c?n.F.Ri():n.F.Ea())};n.F.Ea=function(){var a=n.F.wf;a.style.transform="translate(0, 0)";a.style.opacity=0;n.F.ds=setTimeout(function(){n.F.Ri()},1E3*n.F.Lq);n.F.oj&&(n.F.oj(),n.F.oj=null)};
n.F.Ri=function(){if(n.F.isVisible()){n.F.ds&&clearTimeout(n.F.ds);var a=n.F.wf;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";n.F.oj&&(n.F.oj(),n.F.oj=null);n.F.iF();n.F.He=null;n.F.pf&&(n.g.j.Ac(a,n.F.pf),n.F.pf="");n.F.sf&&(n.g.j.Ac(a,n.F.sf),n.F.sf="");Ra(n.Qf())}};
n.F.hn=function(a,c,d,e){a=n.F.yG(a,c,d,e);a.fs?(n.F.se.style.display="",n.F.se.style.transform="translate("+a.fk+"px,"+a.gs+"px) rotate(45deg)",n.F.se.setAttribute("class",a.Qo?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):n.F.se.style.display="none";c=Math.floor(a.Nt);d=Math.floor(a.Ot);e=Math.floor(a.jt);var f=Math.floor(a.kt),h=n.F.wf;h.style.left=c+"px";h.style.top=d+"px";h.style.display="block";h.style.opacity=1;h.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.Qo};n.F.mN=function(){if(n.F.He){var a=n.F.He,c=a.X();a=n.F.PA?n.F.wz(a):n.F.vz(c);c=a.left+(a.right-a.left)/2;n.F.hn(c,a.bottom,c,a.top)}else n.F.Ea()};n.Vi=function(a,c){n.bF();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!n.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new n.rc(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;n.g.U.Ab(d,n.g.U.State.kD,n.m.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=n.jm(d,c);var e=new n.ew(d),f=new n.Qx(d),h=n.sF(a,c,e,f);n.Ia.Fa.zI(c.Fa);n.ZG(h);n.Rm=h;n.il(h);d.addEventListener("focusin",function(){n.Rm=
h});return h};n.jm=function(a,c){a.setAttribute("dir","LTR");n.Tc.Iy=c.J;n.Dd.Vi(c.PG,c.dn);a=n.g.j.K("svg",{xmlns:n.g.j.Go,"xmlns:html":n.g.j.dr,"xmlns:xlink":n.g.j.Kc,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=n.g.j.K("defs",{},a);c.Et=n.ri.Ga(String(Math.random()).substring(2),c.Hz,d);return a};
n.sF=function(a,c,d,e){c.nc=null;var f=new n.bb(c,d,e);c=f.options;f.scale=c.eb.LI;a.appendChild(f.Ga("blocklyMainBackground"));n.g.j.vb(aa(f),f.ob.hf());n.g.j.vb(aa(f),f.Og().hf());!c.Ik&&c.Yf&&(d=jd(f,"svg"),n.g.j.Wi(d,a));c.Mz&&hd(f);c.eb&&c.eb.controls&&id(f);f.bc.subscribe(a,"workspaceBackgroundColour","background-color");f.translate(0,0);c.readOnly||f.wd()||ib(f,function(h){if(!f.kc()&&!f.wd()&&-1!=n.h.cC.indexOf(h.type)){var k=Object.create(null),l=f.Vd(),m=f.scale;k.J=f.J;k.Jb=l.Jb/m;k.Pb=
l.Pb/m;k.DB=(l.Jb+l.Bb)/m;k.CB=(l.Pb+l.Ib)/m;md(f)?(l=Wa(f),k.Nc=l.left,k.wc=l.top,k.yy=l.right,k.vy=l.bottom):(k.Nc=l.Nc/m,k.wc=l.wc/m,k.yy=(l.Nc+l.cf)/m,k.vy=(l.wc+l.qd)/m);if(k.wc<k.Pb||k.vy>k.CB||k.Nc<k.Jb||k.yy>k.DB){l=null;h&&(l=n.h.Tb(),n.h.ca(h.group));switch(h.type){case n.h.Nq:case n.h.Oq:var p=f.ad(h.fc);p&&(p=p.cd());break;case n.h.$n:case n.h.ao:p=f.$o[h.Gf]||null}if(p){m=Uc(p);m.height=m.bottom-m.top;m.width=m.right-m.left;var q=k.Pb,r=k.CB-m.height;r=Math.max(q,r);q=n.g.$d.bm(q,m.top,
r)-m.top;r=k.Jb;var v=k.DB-m.width;k.J?r=Math.min(v,r):v=Math.max(r,v);p.moveBy(n.g.$d.bm(r,m.left,v)-m.left,q)}h&&(!h.group&&p&&console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==l&&n.h.ca(l))}}});n.il(f);n.W.Ga();n.F.Ga();n.G.Ga();return f};
n.ZG=function(a){var c=a.options,d=y(a);n.va(d.parentNode,"contextmenu",null,function(f){n.g.Lp(f)||f.preventDefault()});d=n.va(window,"resize",null,function(){n.Vb(!0);n.il(a)});a.qq=d;n.Vi.PE();if(c.Yf){d=a.qa;var e=a.Mb(!0);d?d.ra():e&&(e.ra(a),e.show(c.Yf),e.Ha.set(0))}d=n.Pa.Bc;c.Mz&&(d=a.Ec.ra(d));c.eb&&c.eb.controls&&a.Hj.ra(d);c.mc&&c.mc.scrollbars?(a.Ha=new n.Rl(a),a.Ha.resize()):a.tn({x:.5,y:.5});c.SG&&n.Vi.rH(c.dn,a)};
n.Vi.PE=function(){n.QF||(n.va(document,"scroll",null,function(){for(var a=n.ub.getAll(),c=0,d;d=a[c];c++)d.Ln&&d.Ln()}),n.va(document,"keydown",null,n.$m),n.ec(document,"touchend",null,n.Nh),n.ec(document,"touchcancel",null,n.Nh),n.g.userAgent.Oj&&n.va(window,"orientationchange",document,function(){n.il(n.Qf())}));n.QF=!0};
n.Vi.rH=function(a,c){function d(){for(;f.length;)n.Za(f.pop());e.preload()}var e=c.Nd;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(n.va(document,"mousemove",null,d,!0));f.push(n.va(document,"touchstart",null,d,!0))};n.oe=function(a,c){this.BB=c||"";this.VA=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.VA[a[c]]=!0;this.reset()};n.oe.Wq="DEVELOPER_VARIABLE";n.oe.prototype.reset=function(){this.Lf=Object.create(null);this.Hy=Object.create(null);this.La=null};n.oe.prototype.tv=function(a){this.La=a};
function ud(a,c){var d=n.o.fe;if(c==n.Jc){var e=a;d.La?e=(e=d.La.Pg(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+c;var f=c==n.Jc||c==n.oe.Wq?d.BB:"";if(e in d.Lf)return f+d.Lf[e];a=vd(d,a,c);d.Lf[e]=a.substr(f.length);return a}
function vd(a,c,d){c?(c=encodeURI(c.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(c[0])&&(c="my_"+c)):c=n.m.UNNAMED_KEY||"unnamed";for(var e="";a.Hy[c+e]||c+e in a.VA;)e=e?e+1:2;c+=e;a.Hy[c]=!0;return(d==n.Jc||d==n.oe.Wq?a.BB:"")+c}n.oe.Of=function(a,c){return a.toLowerCase()==c.toLowerCase()};n.ab={};n.ab.Xw=n.Er;n.ab.vC="x";n.ab.JE=function(a){var c=eb(a,"procedures_defnoreturn").map(function(d){return d.Fk()});a=eb(a,"procedures_defreturn").map(function(d){return d.Fk()});c.sort(n.ab.RA);a.sort(n.ab.RA);return[c,a]};n.ab.RA=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};n.ab.aG=function(a,c){if(c.Oc)return a;for(a=a||n.m.UNNAMED_KEY||"unnamed";!n.ab.fH(a,c.D,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
n.ab.fH=function(a,c,d){return!n.ab.hH(a,c,d)};n.ab.hH=function(a,c,d){c=ab(c);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].Fk){var f=c[e].Fk();if(n.oe.Of(f[0],a))return!0}return!1};n.ab.iN=function(a){a=a.trim();var c=n.ab.aG(a,this.X()),d=this.getValue();if(d!=a&&d!=c){a=ab(this.X().D);for(var e=0;e<a.length;e++)a[e].oI&&a[e].oI(d,c)}return c};
n.ab.Li=function(a){function c(h,k){for(var l=0;l<h.length;l++){var m=h[l][0],p=h[l][1],q=n.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=n.g.xml.createElement("mutation");r.setAttribute("name",m);q.appendChild(r);for(m=0;m<p.length;m++){var v=n.g.xml.createElement("arg");v.setAttribute("name",p[m]);r.appendChild(v)}d.push(q)}}var d=[];if(n.tb.procedures_defnoreturn){var e=n.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=n.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(n.g.xml.createTextNode(n.m.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}n.tb.procedures_defreturn&&(e=n.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=n.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(n.g.xml.createTextNode(n.m.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));n.tb.procedures_ifreturn&&(e=n.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=n.ab.JE(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
n.ab.wB=function(a){for(var c=[],d=eb(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(A(f,"NAME"));d=n.g.xml.createElement("xml");e=n.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=n.g.xml.createElement("field");f.setAttribute("name","NAME");c=n.g.xml.createTextNode(n.ba.hz(n.ab.vC,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);c=d;Array.isArray(c)||(c=n.rc.HA(c));if(c=n.g.Ne.cp(c)){if(!a.options.Yf)throw Error("Existing toolbox is null.  Can't create new toolbox.");
if(n.g.Ne.Ik(c)){if(!a.qa)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.Yf=c;a.qa.xa(c)}else{if(!a.$)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.Yf=c;a.$.show(c)}}else if(a.options.Yf)throw Error("Can't nullify an existing toolbox.");};
n.ab.JH=function(a){if(a.type==n.h.Tl&&"mutatorOpen"==a.element&&a.newValue){a=n.ub.ym(a.Cb).ad(a.fc);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.Fe.s,n.ab.wB(a),ib(a,n.ab.IH)}};n.ab.IH=function(a){a.type!=n.h.Nq&&a.type!=n.h.cw&&a.type!=n.h.YB||n.ab.wB(n.ub.ym(a.Cb))};n.ab.lG=function(a,c){var d=[];c=ab(c);for(var e=0;e<c.length;e++)if(c[e].AG){var f=c[e].AG();f&&n.oe.Of(f,a)&&d.push(c[e])}return d};
n.ab.YM=function(a){var c=n.h.zc,d=a.Fk()[0],e=a.yc(!0);a=n.ab.lG(d,a.D);d=0;for(var f;f=a[d];d++){var h=f.yc();h=h&&n.R.Td(h);f.xe(e);var k=f.yc();k=k&&n.R.Td(k);h!=k&&(n.h.zc=!1,n.h.Ca(new n.h.jh(f,"mutation",null,h,k)),n.h.zc=c)}};n.ab.pM=function(a,c){c=c.jc(!1);for(var d=0;d<c.length;d++)if(c[d].Fk){var e=c[d].Fk();if(e&&n.oe.Of(e[0],a))return c[d]}return null};n.Ul=function(a,c,d,e){this.D=a;this.name=c;this.type=d||"";this.Mk=e||n.g.Mg();n.h.Ca(new n.h.qe(this))};n.Ul.prototype.Qa=function(){return this.Mk};n.Ul.oy=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};n.ba={};n.ba.Xw=n.Jc;n.ba.Wx=function(a){var c=ab(a);a=Object.create(null);for(var d=0;d<c.length;d++){var e=$a(c[d]);if(e)for(var f=0;f<e.length;f++){var h=e[f],k=h.Qa();k&&(a[k]=h)}}c=[];for(k in a)c.push(a[k]);return c};n.ba.TL=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};n.ba.Xv={};
n.ba.HE=function(a){a=ab(a);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.qM;!f&&e.tG&&(f=e.tG,n.ba.Xv[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),n.ba.Xv[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
n.ba.Li=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");od(a,function(e){n.ba.Ay(e.AM())});c.push(d);a=n.ba.dG(a);return c=c.concat(a)};
n.ba.dG=function(a){a=a.Bm("");var c=[];if(0<a.length){var d=a[a.length-1];if(n.tb.variables_set){var e=n.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",n.tb.math_change?8:24);e.appendChild(n.ba.rp(d));c.push(e)}n.tb.math_change&&(e=n.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",n.tb.variables_get?20:8),e.appendChild(n.ba.rp(d)),d=n.R.Aj('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(n.tb.variables_get){a.sort(n.Ul.oy);d=0;for(var f;f=a[d];d++)e=n.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(n.ba.rp(f)),c.push(e)}}return c};n.ba.Ix="ijkmnopqrstuvwxyzabcdefgh";n.ba.gG=function(a){return n.ba.hz(n.ba.Ix.charAt(0),a.ot())};
n.ba.hz=function(a,c){if(!c.length)return a;for(var d=n.ba.Ix,e="",f=d.indexOf(a);;){for(var h=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){h=!0;break}if(!h)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
n.ba.Ay=function(a,c,d){function e(h){n.ba.SA(n.m.NEW_VARIABLE_TITLE,h,function(k){if(k){var l=n.ba.LH(k,a);if(l){if(l.type==f)var m=n.m.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=n.m.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);n.alert(m,function(){e(k)})}else a.df(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};n.ba.df=n.ba.Ay;
n.ba.$u=function(a,c){function d(e){var f=n.m.RENAME_VARIABLE_TITLE.replace("%1",c.name);n.ba.SA(f,e,function(h){if(h){var k=n.ba.MH(h,c.type,a);k?(k=n.m.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),n.alert(k,function(){d(h)})):a.rj(c.Qa(),h)}})}d("")};n.ba.SA=function(a,c,d){n.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==n.m.RENAME_VARIABLE||e==n.m.NEW_VARIABLE)&&(e=null);d(e)})};
n.ba.MH=function(a,c,d){d=d.La.Mi();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};n.ba.LH=function(a,c){c=c.La.Mi();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};n.ba.rp=function(a){var c=n.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.Qa());c.setAttribute("variabletype",a.type);a=n.g.xml.createTextNode(a.name);c.appendChild(a);return c};
n.ba.rz=function(a,c,d,e){var f=n.ba.Ae(a,c,d,e);f||(f=n.ba.vF(a,c,d,e));return f};n.ba.Ae=function(a,c,d,e){var f=a.Vh,h=null;if(c&&(h=a.Pg(c),!h&&f&&(h=f.Pg(c)),h))return h;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");h=a.Ae(d,e);!h&&f&&(h=f.Ae(d,e))}return h};n.ba.vF=function(a,c,d,e){var f=a.Vh;d||(d=n.ba.gG(a.Xf?a.jb:a));return f?f.df(d,e,c):a.df(d,e,c)};
n.ba.iz=function(a,c){a=a.Mi();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};n.VERSION="uncompiled";n.Rm=null;n.selected=null;n.zk=[];n.dm=null;n.Yo=null;n.ys=null;n.WL=null;n.iq=null;n.mB=function(a){return new n.g.Ld(a.by,a.ay)};n.oN=function(a){Za(a)};n.il=function(a){for(;a.options.nc;)a=a.options.nc;var c=y(a),d=c.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.by!=e&&(c.setAttribute("width",e+"px"),c.by=e);c.ay!=d&&(c.setAttribute("height",d+"px"),c.ay=d);a.resize()}};
n.$m=function(a){var c=n.Rm;if(c&&!(n.g.Lp(a)||c.ta&&!c.isVisible()))if(c.options.readOnly)n.navigation.CA(a);else{var d=!1;if(a.keyCode==n.g.ma.Xq)n.Vb(),n.navigation.Qc(n.navigation.Iq);else{if(!n.pi.Cp()&&n.navigation.CA(a))return;if(a.keyCode==n.g.ma.WB||a.keyCode==n.g.ma.wl){a.preventDefault();if(n.pi.Cp())return;n.selected&&n.selected.Yd()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(n.pi.Cp())return;n.selected&&n.selected.Yd()&&n.selected.wd()&&(a.keyCode==n.g.ma.eC?(n.Vb(),n.Bs(n.selected)):
a.keyCode!=n.g.ma.Rx||n.selected.D.Xf||(n.Bs(n.selected),d=!0));a.keyCode==n.g.ma.rE?n.dm&&(a=n.Yo,a.Xf&&(a=a.jb),n.ys&&gb(a,n.ys)&&(n.h.ca(!0),ld(a),n.h.ca(!1))):a.keyCode==n.g.ma.DE?(n.Vb(),c.Cq(a.shiftKey)):a.ctrlKey&&a.keyCode==n.g.ma.BE&&(n.Vb(),c.Cq(!0))}}d&&!n.selected.D.Xf&&(n.h.ca(!0),n.Vb(),n.selected.H(!0,!0),n.h.ca(!1))}};n.Bs=function(a){var c=n.R.Dg(a,!0);n.R.HF(c);var d=a.Ua();c.setAttribute("x",a.J?-d.x:d.x);c.setAttribute("y",d.y);d=a.D;a=n.g.qt(a,!0);n.dm=c;n.Yo=d;n.ys=a};
n.duplicate=function(a){var c=n.dm,d=n.Yo;n.Bs(a);ld(a.D);n.dm=c;n.Yo=d};n.dN=function(a){n.g.Lp(a)||a.preventDefault()};n.Vb=function(a){n.G.Ea();n.W.Ea();n.F.Ri();a||(a=n.Qf(),a.Ec&&a.Ec.Ki&&a.Ec.Ki.Ea(),(a=a.qa)&&a.Mb()&&a.Mb().hk&&fc(a.Fc,null))};n.Qf=function(){return n.Rm};n.alert=function(a,c){alert(a);c&&c()};n.confirm=function(a,c){c(confirm(a))};n.prompt=function(a,c,d){d(prompt(a,c))};n.mH=function(a){return function(){Ec(this,a)}};
n.gp=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(n.tb[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),n.tb[e]={ra:n.mH(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};
n.va=function(a,c,d,e,f,h){function k(v){var B=!f;v=n.Touch.II(v);for(var H=0,la;la=v[H];H++)if(!B||n.Touch.wv(la))n.Touch.xI(la),d?e.call(d,la):e(la),l=!0}var l=!1,m=[];if(n.g.global.PointerEvent&&c in n.Touch.Af)for(var p=0,q;q=n.Touch.Af[c][p];p++)a.addEventListener(q,k,!1),m.push([a,q,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in n.Touch.Af){var r=function(v){k(v);var B=!h;l&&B&&v.preventDefault()};for(p=0;q=n.Touch.Af[c][p];p++)a.addEventListener(q,r,!1),m.push([a,q,r])}return m};
n.ec=function(a,c,d,e){function f(p){d?e.call(d,p):e(p)}var h=[];if(n.g.global.PointerEvent&&c in n.Touch.Af)for(var k=0,l;l=n.Touch.Af[c][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f]);else if(a.addEventListener(c,f,!1),h.push([a,c,f]),c in n.Touch.Af){var m=function(p){if(p.changedTouches&&1==p.changedTouches.length){var q=p.changedTouches[0];p.clientX=q.clientX;p.clientY=q.clientY}f(p);p.preventDefault()};for(k=0;l=n.Touch.Af[c][k];k++)a.addEventListener(l,m,!1),h.push([a,l,m])}return h};
n.Za=function(a){for(;a.length;){var c=a.pop();c[0].removeEventListener(c[1],c[2],!1)}};n.Ug=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};n.UG=function(a){return n.g.ib.Sz(a)};
n.bF=function(){n.Mc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);n.Mc("LOGIC_HUE",["Constants","Logic","HUE"],210);n.Mc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);n.Mc("LOOPS_HUE",["Constants","Loops","HUE"],120);n.Mc("MATH_HUE",["Blocks","math","HUE"],void 0);n.Mc("MATH_HUE",["Constants","Math","HUE"],230);n.Mc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);n.Mc("TEXTS_HUE",["Constants","Text","HUE"],160);n.Mc("LISTS_HUE",["Blocks","lists","HUE"],void 0);n.Mc("LISTS_HUE",["Constants","Lists","HUE"],
260);n.Mc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);n.Mc("COLOUR_HUE",["Constants","Colour","HUE"],20);n.Mc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);n.Mc("VARIABLES_HUE",["Constants","Variables","HUE"],330);n.Mc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);n.Mc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
n.Mc=function(a,c,d){for(var e="Blockly",f=n,h=0;h<c.length;++h)e+="."+c[h],f&&(f=f[c[h]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};n.vN=function(a){n.iq=a};var wd,xd,yd={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",
fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",
pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",
yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},zd="ace ar fa he mzn ps ur".split(" "),Ad=window.BlocklyGamesLang,Bd=window.BlocklyGamesLanguages,Cd=/\.html$/.test(window.location.pathname);function Dd(a,c,d){var e=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";e=e(a);return isNaN(e)?c:n.g.$d.bm(c,e,d)}var E=Dd("level",1,10);
function Ed(){document.title=document.getElementById("title").textContent;document.dir=-1!=zd.indexOf(Ad)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",Ad);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<Bd.length;d++){var e=Bd[d];c.push([yd[e],e])}c.sort(function(h,k){return h[0]>k[0]?1:h[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==Ad&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}wd=window.innerWidth/2133>(window.innerHeight-document.getElementById("BClogo").offsetHeight)/1084?(window.innerHeight-document.getElementById("BClogo").offsetHeight)/1084:window.innerWidth/2133;(a=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");document.getElementById("coinanimation");Fd();setTimeout(function(){Gd()},200);setTimeout(Hd,1)}xd;
function Fd(){var a=document.getElementById("coin").getContext("2d"),c=new Image;c.src="common/coin.png";var d,e=0;setInterval(function(){e=++e%10;d=44*e;a.clearRect(0,0,45,45);a.drawImage(c,d,0,44,40,0,0,45,45)},100)}function Gd(){var a=document.getElementById("coinvalue").getContext("2d");a.clearRect(0,0,80,45);a.fillStyle="Black";a.font="35px Arial";a.fillText(xd,0,35)}function Id(){var a=Jd;try{var c=window.localStorage[a+1]}catch(d){}return c}
function F(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}function Kd(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function Hd(){if(!Cd){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};n.g.B={};n.g.B.Na=function(a,c){return" "+a+","+c+" "};n.g.B.curve=function(a,c){return" "+a+c.join("")};n.g.B.moveTo=function(a,c){return" M "+a+","+c+" "};n.g.B.moveBy=function(a,c){return" m "+a+","+c+" "};n.g.B.lineTo=function(a,c){return" l "+a+","+c+" "};n.g.B.line=function(a){return" l"+a.join("")};n.g.B.aa=function(a,c){return" "+a+" "+c+" "};n.g.B.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};n.i.ng=function(){this.yf=0;this.$D=3;this.ne=5;this.Rw=8;this.Vc=10;this.Ax=this.ne;this.Sl=15;this.ak=5;this.Io=8;this.HD=15;this.Zw=4;this.CD=12;this.DC=16;this.CC=this.pw=this.Sl;this.rb=8;this.fE=this.Il=15;this.eE=0;this.yx=20;this.XB=4;this.kE=this.ne;this.lE=this.Vc;this.aC=this.ne;this.$B=this.Vc;this.Tn=!1;this.cE=15;this.dE=100;this.bE=15;this.Fl=24;this.FC=14.5;this.EC=this.Sl+11;this.IC=2;this.GC=this.Fl;this.wx=n.g.B.moveBy(0,0);this.gD=12;this.hD=6;this.nh=11;this.oh="normal";this.mh=
"sans-serif";this.vw=this.po=-1;this.oo=4;this.tw=16;this.yl=5;this.sw="#fff";this.cr=!n.g.userAgent.Qe&&!n.g.userAgent.oi;this.uw=this.tw;this.KC=this.JC=this.$q=!1;this.MC=this.yl;this.zl=12;this.LC="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.NC=!1;this.mn=String(Math.random()).substring(2);this.lp="";this.et=null;this.Py="";this.mm=this.Hs=this.Qs=null;this.ho="#cc0a0a";this.xo="#4286f4";this.jo=100;this.Nx=5;this.io=10;this.rC=2;this.tC=4;this.xw=!1;this.ir="#000000";this.uo=.2;this.ux={TD:1,Tj:2}};b=n.i.ng.prototype;
b.ra=function(){this.Rj=this.du();this.Tj=this.fu();this.Zj=this.iu();this.Fr=this.gu();var a=this.rb,c=n.g.B.arc("a","0 0,0",a,n.g.B.Na(-a,a)),d=n.g.B.arc("a","0 0,0",a,n.g.B.Na(a,a));this.vo={width:a,height:a,Ou:c,kq:d};a=this.rb;c=n.g.B.moveBy(0,a)+n.g.B.arc("a","0 0,1",a,n.g.B.Na(a,-a));d=n.g.B.arc("a","0 0,1",a,n.g.B.Na(a,a));var e=n.g.B.arc("a","0 0,1",a,n.g.B.Na(-a,-a)),f=n.g.B.arc("a","0 0,1",a,n.g.B.Na(-a,a));this.Nl={Hv:c,VI:d,WE:f,os:e,sI:a}};
b.un=function(a){this.xh={};var c=a.xh,d;for(d in c)this.xh[d]=Ld(c[d]);this.mh=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.mh;this.oh=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.oh;this.nh=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.nh;c=n.g.j.wH(this.nh+"pt",this.oh,this.mh);this.po=c.height;this.vw=c.Ye;this.ho=Va(a,"cursorColour")||this.ho;this.xo=Va(a,"markerColour")||this.xo;this.ir=Va(a,"insertionMarkerColour")||this.ir;this.uo=Number(Va(a,
"insertionMarkerOpacity"))||this.uo;this.Tn=null!=a.zv?a.zv:this.Tn};function Yc(a,c){var d="auto_"+c;a.xh[d]||(a.xh[d]=Ld({colourPrimary:c}));return{style:a.xh[d],name:d}}function Rc(a,c){return a.xh[c||""]||(c&&0==c.indexOf("auto_")?Yc(a,c.substring(5)).style:Ld({colourPrimary:"#000000"}))}
function Ld(a){var c={};a&&n.g.object.ae(c,a);a=n.g.jq(c.colourPrimary||"#000");c.zh=a.Dm;c.colourSecondary?a=n.g.jq(c.colourSecondary).Dm:(a=c.zh,a=n.g.ib.ks("#fff",a,.6)||a);c.Zo=a;c.colourTertiary?a=n.g.jq(c.colourTertiary).Dm:(a=c.zh,a=n.g.ib.ks("#fff",a,.3)||a);c.Ig=a;c.Sf=c.hat||"";return c}b.H=function(){this.et&&n.g.j.removeNode(this.et);this.Qs&&n.g.j.removeNode(this.Qs);this.Hs&&n.g.j.removeNode(this.Hs);this.mm=null};
b.du=function(){var a=this.gD,c=this.hD,d=n.g.B.line([n.g.B.Na(c,a/4),n.g.B.Na(2*-c,a/2),n.g.B.Na(c,a/4)]);return{height:a,width:c,path:d}};b.iu=function(){var a=this.cE,c=this.dE,d=n.g.B.curve("c",[n.g.B.Na(30,-a),n.g.B.Na(70,-a),n.g.B.Na(c,0)]);return{height:a,width:c,path:d}};
b.gu=function(){function a(h){h=h?-1:1;var k=-h,l=d/2,m=n.g.B.Na(c,h*l);return n.g.B.curve("c",[n.g.B.Na(0,h*(l+2.5)),n.g.B.Na(-c,k*(l+.5)),n.g.B.Na(-c,h*l)])+n.g.B.curve("s",[n.g.B.Na(c,2.5*k),m])}var c=this.Io,d=this.Sl,e=a(!0),f=a(!1);return{type:this.ux.TD,width:c,height:d,Ie:f,fn:e}};b.fu=function(){function a(k){return n.g.B.line([n.g.B.Na(k*e,d),n.g.B.Na(3*k,0),n.g.B.Na(k*e,-d)])}var c=this.HD,d=this.Zw,e=(c-3)/2,f=a(1),h=a(-1);return{type:this.ux.Tj,width:c,height:d,Uh:f,IA:h}};
function ta(a,c){switch(c.type){case n.lb:case n.Ue:return a.Fr;case n.Ve:case n.gb:return a.Tj;default:throw Error("Unknown connection type");}}
b.Ga=function(a,c,d){d=this.rt(d);c="blockly-renderer-style-"+c;this.mm=document.getElementById(c);var e=d.join("\n");this.mm?this.mm.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.mm=d);a=n.g.j.K("defs",{},a);c=n.g.j.K("filter",{id:"blocklyEmbossFilter"+this.mn},a);n.g.j.K("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=n.g.j.K("feSpecularLighting",
{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);n.g.j.K("fePointLight",{x:-5E3,y:-1E4,z:2E4},d);n.g.j.K("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);n.g.j.K("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.lp=c.id;this.et=c;c=n.g.j.K("pattern",{id:"blocklyDisabledPattern"+this.mn,patternUnits:"userSpaceOnUse",width:10,height:10},a);n.g.j.K("rect",
{width:10,height:10,fill:"#aaa"},c);n.g.j.K("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);this.Py=c.id;this.Qs=c;n.i.qw&&(a=n.g.j.K("filter",{id:"blocklyDebugFilter"+this.mn,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),c=n.g.j.K("feComponentTransfer",{result:"outBlur"},a),n.g.j.K("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),n.g.j.K("feFlood",{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),n.g.j.K("feComposite",{"in":"outColor",in2:"outBlur",
operator:"in",result:"outGlow"},a),this.Hs=a)};
b.rt=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.oh+" "+this.nh+"pt "+this.mh+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.sw+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.mh+";","font-weight: "+this.oh+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.uo+
";","stroke: none;","}"]};n.i.rg=function(a,c,d){this.s=a;this.mu=d;this.xd=null;this.v=c;this.rk=null;a=Md(this)?this.v.ho:this.v.xo;this.ue=d.ib||a};n.i.rg.sC="blocklyCursor";n.i.rg.xD="blocklyMarker";n.i.rg.VC=.75;b=n.i.rg.prototype;b.Da=function(){return this.N};b.bd=function(){return this.mu};function Md(a){return"cursor"==a.mu.type}
b.Ga=function(){this.N=n.g.j.K("g",{"class":Md(this)?n.i.rg.sC:n.i.rg.xD},null);this.Xg=n.g.j.K("g",{width:this.v.jo,height:this.v.Nx},this.N);this.Oh=n.g.j.K("rect",{width:this.v.jo,height:this.v.Nx,style:"display: none"},this.Xg);this.hj=n.g.j.K("rect",{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.Xg);this.gj=n.g.j.K("path",{transform:"",style:"display: none"},this.Xg);this.Wg=n.g.j.K("path",{transform:"",style:"display: none",fill:"none","stroke-width":this.v.tC},this.Xg);
if(Md(this)){var a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.ue+";transparent;transparent;",repeatCount:"indefinite"};n.g.j.K("animate",a,this.Oh);n.g.j.K("animate",a,this.gj);a.attributeName="stroke";n.g.j.K("animate",a,this.Wg)}return this.N};function Nd(a,c){Md(a)?(a.xd&&a.xd.$g(null),c.$g(a.Da())):(a.xd&&a.xd.ah(null),c.ah(a.Da()));a.xd=c}
b.draw=function(a,c){if(c){this.v=this.s.ob.Z();var d=Md(this)?this.v.ho:this.v.xo;this.ue=this.mu.ib||d;this.Oh.setAttribute("fill",this.ue);this.hj.setAttribute("stroke",this.ue);this.gj.setAttribute("fill",this.ue);this.Wg.setAttribute("stroke",this.ue);Md(this)&&(d=this.ue+";transparent;transparent;",this.Oh.firstChild.setAttribute("values",d),this.gj.firstChild.setAttribute("values",d),this.Wg.firstChild.setAttribute("values",d));d=c.pa;if(c.Ya()==n.C.types.Bd)Od(this,c);else if(c.Ya()==n.C.types.ui)Od(this,
c);else if(d.type==n.lb){var e=c.pa;d=e.X();var f=e.nj.x,h=e.nj.y;e=n.g.B.moveTo(0,0)+ta(this.v,e).Ie;this.gj.setAttribute("d",e);this.gj.setAttribute("transform","translate("+f+","+h+")"+(this.s.J?" scale(-1 1)":""));this.rk=this.gj;Nd(this,d);Pd(this)}else if(d.type==n.gb)h=c.pa,d=h.X(),f=0,h=h.nj.y,e=ka(d).width,this.s.J&&(f=-e),Qd(this,f,h,e),Nd(this,d),Pd(this);else if(c.Ya()==n.C.types.Id)Od(this,c);else if(c.Ya()==n.C.types.Qb)d=c.pa,f=d.Ng().width,h=d.Ng().height,Rd(this,0,0,f,h),Nd(this,
d),Pd(this);else if(c.Ya()==n.C.types.Df)f=c.Hq,d=f.x,f=f.y,this.s.J&&(d-=this.v.jo),Qd(this,d,f,this.v.jo),Nd(this,this.s),Pd(this);else if(c.Ya()==n.C.types.zf){d=c.pa;h=ka(d);f=h.width+this.v.io;h=h.height+this.v.io;var k=e=-this.v.io/2,l=-this.v.io/2;this.s.J&&(k=-(f+e));Rd(this,k,l,f,h);Nd(this,d);Pd(this)}d=c.X();a=new n.h.Rb(d,Md(this)?"cursorMove":"markerMove",a,c);c.Ya()==n.C.types.Df&&(a.Cb=c.pa.id);n.h.Ca(a);c=this.rk.childNodes[0];void 0!==c&&c.beginElement&&c.beginElement()}else this.Ea()};
function Od(a,c){c=c.X();var d=c.width,e=c.height,f=e*n.i.rg.VC,h=a.v.rC;if(c.V){var k=ta(a.v,c.V);e=k;d=n.g.B.moveBy(-h,f)+n.g.B.aa("V",-h)+n.g.B.aa("H",a.v.Il)+e.Uh+n.g.B.aa("H",d+2*h)+n.g.B.aa("V",f);a.Wg.setAttribute("d",d)}else c.L?(f=k=ta(a.v,c.L),d=n.g.B.moveBy(d,0)+n.g.B.aa("h",-(d-f.width))+n.g.B.aa("v",a.v.ak)+f.Ie+n.g.B.aa("V",e)+n.g.B.aa("H",d),a.Wg.setAttribute("d",d)):(d=n.g.B.moveBy(-h,f)+n.g.B.aa("V",-h)+n.g.B.aa("H",d+2*h)+n.g.B.aa("V",f),a.Wg.setAttribute("d",d));a.s.J&&a.wm(a.Wg);
a.rk=a.Wg;Nd(a,c);Pd(a)}function Pd(a){a.Ea();a.rk.style.display=""}function Qd(a,c,d,e){a.Oh.setAttribute("x",c);a.Oh.setAttribute("y",d);a.Oh.setAttribute("width",e);a.rk=a.Oh}function Rd(a,c,d,e,f){a.hj.setAttribute("x",c);a.hj.setAttribute("y",d);a.hj.setAttribute("width",e);a.hj.setAttribute("height",f);a.rk=a.hj}b.wm=function(a){a.setAttribute("transform","scale(-1 1)")};
b.Ea=function(){this.Oh.style.display="none";this.hj.style.display="none";this.gj.style.display="none";this.Wg.style.display="none"};b.H=function(){this.N&&n.g.j.removeNode(this.N)};n.i.u={NONE:0,Qb:1,zw:2,Dw:4,Or:8,bw:16,Hw:32,rw:64,ke:128,Ew:256,xx:512,mC:1024,Dr:2048,vr:4096,ND:8192,Uq:16384,mr:32768,lr:65536,Kr:131072,Jr:262144,Lw:524288,Lr:1048576,Ur:2097152,Pq:4194304,Fw:8388608};n.i.u.qK=n.i.u.mr|n.i.u.lr;n.i.u.uL=n.i.u.Kr|n.i.u.Jr;n.i.u.yu=16777216;n.i.u.Ya=function(){n.i.u.hasOwnProperty(void 0)||(n.i.u[void 0]=n.i.u.yu,n.i.u.yu<<=1);return n.i.u[void 0]};n.i.u.Tg=function(a){return a.type&n.i.u.Qb};n.i.u.aj=function(a){return a.type&n.i.u.zw};
n.i.u.Pk=function(a){return a.type&n.i.u.Dw};n.i.u.De=function(a){return a.type&n.i.u.Or};n.i.u.PM=function(a){return a.type&n.i.u.Hw};n.i.u.Jh=function(a){return a.type&n.i.u.ke};n.i.u.Mm=function(a){return a.type&n.i.u.rw};n.i.u.Ih=function(a){return a.type&n.i.u.Ew};n.i.u.dj=function(a){return a.type&n.i.u.xx};n.i.u.Rk=function(a){return a.type&n.i.u.Dr};n.i.u.Lh=function(a){return a.type&n.i.u.vr};n.i.u.jH=function(a){return a.type&(n.i.u.Dr|n.i.u.vr)};n.i.u.Kh=function(a){return a.type&n.i.u.lr};
n.i.u.cA=function(a){return a.type&n.i.u.Jr};n.i.u.Om=function(a){return a.type&n.i.u.mr};n.i.u.QM=function(a){return a.type&n.i.u.Kr};n.i.u.LM=function(a){return a.type&n.i.u.Uq};n.i.u.aA=function(a){return a.type&n.i.u.Lw};n.i.u.SM=function(a){return a.type&n.i.u.Lr};n.i.u.IM=function(a){return a.type&n.i.u.bw};n.i.u.Mp=function(a){return a.type&n.i.u.Ur};n.i.u.Fp=function(a){return a.type&n.i.u.Pq};n.i.u.kH=function(a){return a.type&(n.i.u.Ur|n.i.u.Pq)};n.i.u.eH=function(a){return a.type&n.i.u.Fw};n.i.sh=function(a){this.height=this.width=0;this.type=n.i.u.NONE;this.kk=this.Oa=0;this.v=a;this.Ge=this.v.Il};n.i.sa=function(a,c){n.i.sa.A.constructor.call(this,a);this.Yc=c;this.shape=ta(this.v,c);this.$i=!!this.shape.isDynamic;this.type|=n.i.u.mC};n.g.object.S(n.i.sa,n.i.sh);n.i.Br=function(a,c){n.i.Br.A.constructor.call(this,a,c);this.type|=n.i.u.ND;this.height=this.$i?0:this.shape.height;this.Me=this.width=this.$i?0:this.shape.width;this.Rd=this.v.ak;this.gm=0};n.g.object.S(n.i.Br,n.i.sa);
n.i.Gr=function(a,c){n.i.Gr.A.constructor.call(this,a,c);this.type|=n.i.u.Dr;this.height=this.shape.height;this.width=this.shape.width};n.g.object.S(n.i.Gr,n.i.sa);n.i.wr=function(a,c){n.i.wr.A.constructor.call(this,a,c);this.type|=n.i.u.vr;this.height=this.shape.height;this.width=this.shape.width};n.g.object.S(n.i.wr,n.i.sa);n.i.Dl=function(a,c){n.i.Dl.A.constructor.call(this,a,c.connection);this.type|=n.i.u.ke;this.input=c;this.align=c.align;(this.Ah=c.connection&&c.connection.na()?c.connection.na():null)?(a=ka(this.Ah),this.fm=a.width,this.ap=a.height):this.ap=this.fm=0;this.Rd=this.gm=0};n.g.object.S(n.i.Dl,n.i.sa);
n.i.qh=function(a,c){n.i.qh.A.constructor.call(this,a,c);this.type|=n.i.u.Ew;this.Ah?(this.width=this.fm,this.height=this.ap):(this.height=this.v.EC,this.width=this.v.FC);this.lk=this.$i?this.shape.height(this.height):this.shape.height;this.If=this.$i?this.shape.width(this.height):this.shape.width;this.Ah||(this.width+=this.If*(this.$i?2:1));this.Rd=this.$i?this.shape.Rd(this.lk):this.v.ak;this.gm=this.$i?this.shape.gm(this.If):0};n.g.object.S(n.i.qh,n.i.Dl);
n.i.vh=function(a,c){n.i.vh.A.constructor.call(this,a,c);this.type|=n.i.u.xx;this.height=this.Ah?this.ap+this.v.eE:this.v.GC;this.width=this.v.fE+this.shape.width};n.g.object.S(n.i.vh,n.i.Dl);n.i.no=function(a,c){n.i.no.A.constructor.call(this,a,c);this.type|=n.i.u.rw;this.height=this.Ah?this.ap-this.v.ak-this.v.ne:this.shape.height;this.width=this.shape.width+this.v.IC;this.Rd=this.v.ak;this.lk=this.shape.height;this.If=this.shape.width};n.g.object.S(n.i.no,n.i.Dl);n.i.le=function(a,c){n.i.le.A.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=n.i.u.Dw;a=new n.g.Ld(n.le.prototype.Fo,n.le.prototype.Fo-2);this.height=a.height;this.width=a.width};n.g.object.S(n.i.le,n.i.sh);n.i.jr=function(a){n.i.jr.A.constructor.call(this,a);this.type|=n.i.u.Lw;this.height=this.v.Rj.height;this.width=this.v.Rj.width};n.g.object.S(n.i.jr,n.i.sh);
n.i.Ed=function(a,c){n.i.Ed.A.constructor.call(this,a);this.az=c;this.vd=c.xl;this.cG=c.nz();this.type|=n.i.u.Qb;a=this.az.Ng();this.height=a.height;this.width=a.width};n.g.object.S(n.i.Ed,n.i.sh);n.i.er=function(a){n.i.er.A.constructor.call(this,a);this.type|=n.i.u.zw;this.height=this.v.Zj.height;this.width=this.v.Zj.width;this.gk=this.height};n.g.object.S(n.i.er,n.i.sh);
n.i.$j=function(a,c){n.i.$j.A.constructor.call(this,a);this.type=(c&&"left"!=c?n.i.u.Kr:n.i.u.mr)|n.i.u.Uq;this.width=this.height=this.v.yf};n.g.object.S(n.i.$j,n.i.sh);n.i.Eo=function(a,c){n.i.Eo.A.constructor.call(this,a);this.type=(c&&"left"!=c?n.i.u.Jr:n.i.u.lr)|n.i.u.Uq;this.width=this.v.rb;this.height=this.v.rb/2};n.g.object.S(n.i.Eo,n.i.sh);n.i.qg=function(a,c){n.i.qg.A.constructor.call(this,a);this.type=this.type|n.i.u.Or|n.i.u.Hw;this.width=c;this.height=this.v.bE};n.g.object.S(n.i.qg,n.i.sh);n.i.wi=function(a){this.type=n.i.u.Lr;this.elements=[];this.Oa=this.cc=this.uf=this.minWidth=this.minHeight=this.width=this.height=0;this.Kz=this.Jk=this.Jt=this.Ub=this.Gh=!1;this.v=a;this.Ge=this.v.Il;this.align=null};n.i.wi.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function Sd(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(n.i.u.Jh(d))return d;return null}n.i.wi.prototype.xq=function(){return!0};n.i.wi.prototype.sm=function(){return!0};
n.i.zi=function(a){n.i.zi.A.constructor.call(this,a);this.type|=n.i.u.Ur;this.gk=this.Eg=0;this.QG=!1;this.connection=null};n.g.object.S(n.i.zi,n.i.wi);n.i.zi.prototype.Kt=function(a){var c=(a.Sf?"cap"===a.Sf:this.v.Tn)&&!a.L&&!a.V,d=a.V&&a.V.na();return!!a.L||c||(d?u(d)==a:!1)};
n.i.zi.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,n.i.u.De(f)||(n.i.u.aj(f)?d=Math.max(d,f.gk):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Eg=this.gk=d;this.uf=this.width};n.i.zi.prototype.xq=function(){return!1};n.i.zi.prototype.sm=function(){return!1};n.i.li=function(a){n.i.li.A.constructor.call(this,a);this.type|=n.i.u.Pq;this.Lz=!1;this.connection=null;this.Ye=this.pm=0};
n.g.object.S(n.i.li,n.i.wi);n.i.li.prototype.Kt=function(a){return!!a.L||!!u(a)};n.i.li.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,n.i.u.De(f)||(n.i.u.Lh(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.pm=d;this.uf=this.width};n.i.li.prototype.xq=function(){return!1};n.i.li.prototype.sm=function(){return!1};
n.i.Ho=function(a,c,d){n.i.Ho.A.constructor.call(this,a);this.type=this.type|n.i.u.Or|n.i.u.bw;this.width=d;this.height=c;this.gz=!1;this.uf=0;this.elements=[new n.i.qg(this.v,d)]};n.g.object.S(n.i.Ho,n.i.wi);n.i.Ho.prototype.measure=function(){};n.i.Qj=function(a){n.i.Qj.A.constructor.call(this,a);this.type|=n.i.u.Fw;this.sy=0};n.g.object.S(n.i.Qj,n.i.wi);
n.i.Qj.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,n.i.u.Jh(d)&&(n.i.u.dj(d)?a+=d.fm:n.i.u.Mm(d)&&0!=d.fm&&(a+=d.fm-d.If)),n.i.u.De(d)||(this.height=Math.max(this.height,d.height));this.sy=a;this.uf=this.width+a};n.i.Qj.prototype.sm=function(){return!this.Gh&&!this.Ub};n.i.We=function(a,c){this.M=c;this.ob=a;this.v=this.ob.Z();this.L=c.L?new n.i.Br(this.v,c.L):null;this.Qk=ua(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.mf=c.mf();this.J=c.J;this.ci=this.width=this.ml=this.height=0;this.rows=[];this.Vz=[];this.Pz=[];this.Ob=new n.i.zi(this.v);this.wb=new n.i.li(this.v);this.wq=this.Me=0};b=n.i.We.prototype;
b.measure=function(){var a=!!this.M.V,c=(this.M.Sf?"cap"===this.M.Sf:this.v.Tn)&&!this.L&&!a;this.Ob.Kt(this.M)?this.Ob.elements.push(new n.i.$j(this.v)):this.Ob.elements.push(new n.i.Eo(this.v));c?(a=new n.i.er(this.v),this.Ob.elements.push(a),this.Ob.Eg=a.gk):a&&(this.Ob.QG=!0,this.Ob.connection=new n.i.Gr(this.v,this.M.V),this.Ob.elements.push(this.Ob.connection));this.M.P.length&&this.M.P[0].type==n.gb&&!this.M.isCollapsed()?this.Ob.minHeight=this.v.lE:this.Ob.minHeight=this.v.kE;this.Ob.elements.push(new n.i.$j(this.v,
"right"));this.rows.push(this.Ob);a=new n.i.Qj(this.v);this.Vz.push(a);var d=va(this.M);if(d.length){c=0;for(var e;e=d[c];c++){var f=new n.i.le(this.v,e);this.isCollapsed&&e.ny?this.Pz.push(f):a.elements.push(f)}}e=null;for(c=0;d=this.M.P[c];c++)if(d.isVisible()){!e||d.type!=n.gb&&e.type!=n.gb&&(d.type!=n.lb&&d.type!=n.og||this.Qk)||(this.rows.push(a),a=new n.i.Qj(this.v),this.Vz.push(a));for(e=0;f=d.cb[e];e++)a.elements.push(new n.i.Ed(this.v,f,d));this.Vx(d,a);e=d}this.isCollapsed&&(a.Kz=!0,a.elements.push(new n.i.jr(this.v)));
(a.elements.length||a.Jk)&&this.rows.push(a);this.Su();this.rows.push(this.wb);this.Ux();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)this.rows.push(a[c]),c!=a.length-1&&this.rows.push(Td(this,a[c],a[c+1]));for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Ub&&(a=Math.max(a,f.width-Sd(f).width)),d=Math.max(d,f.uf);this.ci=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Ub&&(f.ci=this.ci);this.ml=Math.max(c,d);this.L&&(this.Me=this.L.width,this.width+=this.L.width,this.ml+=this.L.width);
this.Zr();this.bz()};b.Su=function(){this.wb.Lz=!!this.M.T;this.wb.minHeight=this.M.P.length&&this.M.P[this.M.P.length-1].type==n.gb?this.v.$B:this.v.aC;this.wb.Kt(this.M)?this.wb.elements.push(new n.i.$j(this.v)):this.wb.elements.push(new n.i.Eo(this.v));this.wb.Lz&&(this.wb.connection=new n.i.wr(this.v,this.M.T),this.wb.elements.push(this.wb.connection));this.wb.elements.push(new n.i.$j(this.v,"right"))};
b.Vx=function(a,c){this.Qk&&a.type==n.lb?(c.elements.push(new n.i.qh(this.v,a)),c.Jt=!0):a.type==n.gb?(c.elements.push(new n.i.vh(this.v,a)),c.Ub=!0):a.type==n.lb?(c.elements.push(new n.i.no(this.v,a)),c.Gh=!0):a.type==n.og&&(c.minHeight=Math.max(c.minHeight,a.X()&&a.X().Ra?this.v.CC:this.v.pw),c.Jk=!0);null==c.align&&(c.align=a.align)};
b.Ux=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.xq()&&c.elements.push(new n.i.qg(this.v,this.Ni(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new n.i.qg(this.v,this.Ni(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.sm()&&c.elements.push(new n.i.qg(this.v,this.Ni(d[d.length-1],null)))}}};
b.Ni=function(a,c){if(!a&&c&&n.i.u.dj(c))return this.v.yx;if(a&&n.i.u.Jh(a)&&!c){if(n.i.u.Mm(a))return this.v.yf;if(n.i.u.Ih(a))return this.v.Vc;if(n.i.u.dj(a))return this.v.yf}return a&&n.i.u.Om(a)&&c&&(n.i.u.Rk(c)||n.i.u.Lh(c))?c.Ge:a&&n.i.u.Kh(a)&&c&&(n.i.u.Rk(c)||n.i.u.Lh(c))?c.Ge-this.v.rb:this.v.ne};b.Zr=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Ub)Ud(this,c);else{var d=this.zm(c)-c.width;0<d&&Vd(c,d);n.i.u.kH(c)&&(c.uf=c.width)}};b.zm=function(){return this.width-this.Me};
function Vd(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(n.i.u.De(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(n.i.u.De(f)){e=f;break a}e=null}if(a.Gh||a.Ub)a.uf+=c;a.align==n.Kq?e.width+=c:a.align==n.Jq?(d.width+=c/2,e.width+=c/2):a.align==n.ji?d.width+=c:e.width+=c;a.width+=c}
function Ud(a,c){var d=Sd(c),e=c.width-d.width,f=a.ci;e=f-e;0<e&&Vd(c,e);e=c.width;f=a.zm(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.uf=Math.max(c.width,a.ci+c.sy)}function Td(a,c,d){a=new n.i.Ho(a.v,a.Az(c,d),a.width-a.Me);c.Ub&&(a.gz=!0);d.Ub&&(a.fN=!0);return a}b.Az=function(){return this.v.ne};
b.mz=function(a,c){return n.i.u.De(c)?a.cc+c.height/2:n.i.u.Fp(a)?(a=a.cc+a.height-a.pm,n.i.u.Lh(c)?a+c.height/2:a-c.height/2):n.i.u.Mp(a)?n.i.u.aj(c)?a.Eg-c.height/2:a.Eg+c.height/2:a.cc+a.height/2};function Wd(a,c){for(var d=c.Oa,e=0,f;f=c.elements[e];e++)n.i.u.De(f)&&(f.height=c.height),f.Oa=d,f.kk=a.mz(c,f),d+=f.width}
b.bz=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.cc=c,e.Oa=this.Me,c+=e.height,a=Math.max(a,e.uf),Wd(this,e);this.L&&this.M.T&&this.M.T.isConnected()&&(a=Math.max(a,ka(this.M.T.na()).width));this.ml=a+this.Me;this.height=c;this.wq=this.Ob.Eg;this.wb.Ye=c-this.wb.pm};n.i.Uc=function(a,c){this.M=a;this.oa=c;a.Ua();this.Ep=this.Sa="";this.v=c.ob.Z()};b=n.i.Uc.prototype;b.draw=function(){Xd(this);Yd(this);Zd(this);this.M.yb.ov(this.Sa+"\n"+this.Ep);this.oa.J&&this.M.yb.mt();n.i.Nn&&this.M.cv.UF(this.M,this.oa);$d(this)};function $d(a){a.M.height=a.oa.height;a.M.width=a.oa.ml}function Xd(a){for(var c=0,d;d=a.oa.Pz[c];c++)d.icon.ud.setAttribute("display","none")}
function Yd(a){a.ct();for(var c=1;c<a.oa.rows.length-1;c++){var d=a.oa.rows[c];d.Kz?a.rm(d):d.Ub?a.bt(d):d.Gh?a.dt(d):a.Yy(d)}a.Zs();a.at()}
b.ct=function(){var a=this.oa.Ob,c=a.elements,d=this.oa.Ob;if(d.connection){var e=d.Oa+d.Ge;Kc(d.connection.Yc,this.oa.J?-e:e,0)}this.Sa+=n.g.B.moveBy(a.Oa,this.oa.wq);for(d=0;e=c[d];d++)n.i.u.Kh(e)?this.Sa+=this.v.Nl.Hv:n.i.u.cA(e)?this.Sa+=this.v.Nl.VI:n.i.u.Rk(e)?this.Sa+=e.shape.Uh:n.i.u.aj(e)?this.Sa+=this.v.Zj.path:n.i.u.De(e)&&(this.Sa+=n.g.B.aa("h",e.width));this.Sa+=n.g.B.aa("v",a.height)};b.rm=function(a){this.Sa+=this.v.Rj.path+n.g.B.aa("v",a.height-this.v.Rj.height)};
b.dt=function(a){var c=Sd(a);this.LA(a);var d="function"==typeof c.shape.Ie?c.shape.Ie(c.height):c.shape.Ie;this.Sa+=n.g.B.aa("H",c.Oa+c.width)+d+n.g.B.aa("v",a.height-c.lk)};b.bt=function(a){var c=Sd(a);this.Sa+=n.g.B.aa("H",c.Oa+c.Ge+c.shape.width)+(c.shape.IA+n.g.B.aa("h",-(c.Ge-this.v.vo.width))+this.v.vo.Ou)+n.g.B.aa("v",a.height-2*this.v.vo.height)+this.v.vo.kq+n.g.B.aa("H",a.Oa+a.width);this.OA(a)};b.Yy=function(a){this.Sa+=n.g.B.aa("V",a.cc+a.height)};
b.Zs=function(){var a=this.oa.wb,c=a.elements;this.NA();for(var d=0,e="",f=c.length-1,h;h=c[f];f--)n.i.u.Lh(h)?e+=h.shape.IA:n.i.u.Om(h)?e+=n.g.B.aa("H",a.Oa):n.i.u.Kh(h)?e+=this.v.Nl.os:n.i.u.cA(h)?(e+=this.v.Nl.WE,d=this.v.Nl.sI):n.i.u.De(h)&&(e+=n.g.B.aa("h",-1*h.width));this.Sa+=n.g.B.aa("V",a.Ye-d);this.Sa+=e};
b.at=function(){var a=this.oa.L;if(this.oa.L){var c=this.oa.Me+this.oa.L.gm;Kc(this.M.L,this.oa.J?-c:c,this.oa.L.Rd)}a&&(c=a.Rd+a.height,a="function"==typeof a.shape.fn?a.shape.fn(a.height):a.shape.fn,this.Sa+=n.g.B.aa("V",c)+a);this.Sa+="z"};
function Zd(a){for(var c=0,d;d=a.oa.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(n.i.u.Ih(f))a.$s(f);else if(n.i.u.Pk(f)||n.i.u.Tg(f)){var h=a;if(n.i.u.Tg(f))var k=f.az.Da();else n.i.u.Pk(f)&&(k=f.icon.ud);var l=f.kk-f.height/2,m=f.Oa,p="";h.oa.J&&(m=-(m+f.width),f.cG&&(m+=f.width,p="scale(-1 1)"));n.i.u.Pk(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),Xc(f.icon)):k.setAttribute("transform","translate("+m+","+l+")"+p);h.oa.mf&&k.setAttribute("display",
"none")}}b.$s=function(a){var c=a.width,d=a.height,e=a.Rd,f=a.lk+e;this.Ep+=n.g.B.moveTo(a.Oa+a.If,a.kk-d/2)+n.g.B.aa("v",e)+a.shape.Ie+n.g.B.aa("v",d-f)+n.g.B.aa("h",c-a.If)+n.g.B.aa("v",-d)+"z";this.MA(a)};b.MA=function(a){var c=a.kk-a.height/2;if(a.Yc){var d=a.Oa+a.If+a.gm;this.oa.J&&(d*=-1);Kc(a.Yc,d,c+a.Rd)}};b.OA=function(a){var c=Sd(a);if(c.Yc){var d=a.Oa+a.ci+c.Ge;this.oa.J&&(d*=-1);Kc(c.Yc,d,a.cc)}};b.LA=function(a){var c=Sd(a);if(c.Yc){var d=a.Oa+a.width;this.oa.J&&(d*=-1);Kc(c.Yc,d,a.cc)}};
b.NA=function(){var a=this.oa.wb;if(a.connection){var c=a.connection,d=c.Oa;Kc(c.Yc,this.oa.J?-d:d,a.Ye)}};n.i.vg=function(a,c,d){this.nk=d;this.hg=a;this.Db=n.g.j.K("path",{"class":"blocklyPath"},this.hg);this.style=c;this.lu=this.nm=null};b=n.i.vg.prototype;b.ov=function(a){this.Db.setAttribute("d",a)};b.mt=function(){this.Db.setAttribute("transform","scale(-1 1)")};b.$g=function(a){a?(this.hg.appendChild(a),this.nm=a):this.nm=null};b.ah=function(a){a?(this.nm?this.hg.insertBefore(a,this.nm):this.hg.appendChild(a),this.lu=a):this.lu=null};
b.Sb=function(a){this.Db.setAttribute("stroke",this.style.Ig);this.Db.setAttribute("fill",this.style.zh);this.xB(a.Ra);this.Lv(!a.isEnabled()||Ac(a))};b.dh=function(a){this.style=a};function sa(a,c,d){d?n.g.j.vb(a.hg,c):n.g.j.Ac(a.hg,c)}b.vB=function(a){a?this.Db.setAttribute("filter","url(#"+this.nk.lp+")"):this.Db.setAttribute("filter","none")};b.xB=function(a){a&&(this.Db.setAttribute("stroke","none"),this.Db.setAttribute("fill",this.style.Zo))};
b.Lv=function(a){sa(this,"blocklyDisabled",a);a&&this.Db.setAttribute("fill","url(#"+this.nk.Py+")")};n.i.wg=function(a){this.name=a;this.Mu=this.v=null};b=n.i.wg.prototype;b.hf=function(){return this.name+"-renderer"};b.ra=function(a,c){this.v=this.cu();c&&(this.Mu=c,n.g.object.ae(this.v,c));this.v.un(a);this.v.ra()};b.Ga=function(a,c){this.v.Ga(a,this.name+"-"+c.name,"."+this.hf()+"."+c.hf())};b.Wu=function(a,c){var d=this.Z();d.H();this.v=this.cu();this.Mu&&n.g.object.ae(this.v,this.Mu);this.v.mn=d.mn;this.v.un(c);this.v.ra();this.Ga(a,c)};b.H=function(){this.v&&this.v.H()};b.cu=function(){return new n.i.ng};
b.oA=function(a){return new n.i.We(this,a)};b.mA=function(a,c){return new n.i.Uc(a,c)};b.nA=function(a,c){return new n.i.vg(a,c,this.v)};b.Z=function(){return this.v};b.xa=function(a){if(n.i.Nn&&!a.cv){if(!n.i.qw)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new n.i.qw(this.Z());a.cv=c}c=this.oA(a);c.measure();this.mA(a,c).draw()};n.ea={};n.ea.ng=function(){n.ea.ng.A.constructor.call(this);this.cr=!1;this.qc=1;this.yD=30};n.g.object.S(n.ea.ng,n.i.ng);n.ea.ng.prototype.rt=function(a){return n.ea.ng.A.rt.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.uo+";","stroke: none;","}"])};n.ea.Cw=function(a){this.oa=a;this.Im=this.la="";this.tc=this.oa.J;a=a.ob;this.v=a.Z();this.Wd=a.Wd;this.td=this.Wd.OFFSET;this.Lu=this.Wd.OD;this.Nk=this.Wd.dD;this.ln=this.Wd.Fr;this.PH=this.Wd.Tj;this.KI=this.Wd.Zj;this.eA=this.Wd.Rj};n.ea.Cw.prototype.rm=function(a){this.oa.J&&(this.la+=this.eA.Uh+n.g.B.aa("v",a.height-this.eA.height-this.td))};
function ae(a,c){var d=c.Oa+c.width-a.td;c.gz&&(a.la+=n.g.B.aa("H",d));a.tc&&(a.la+=n.g.B.aa("H",d),c.height>a.td&&(a.la+=n.g.B.aa("V",c.cc+c.height-a.td)))};n.ea.qh=function(a,c){n.ea.qh.A.constructor.call(this,a,c);this.Ah&&(this.width+=this.v.qc,this.height+=this.v.qc)};n.g.object.S(n.ea.qh,n.i.qh);n.ea.vh=function(a,c){n.ea.vh.A.constructor.call(this,a,c);this.Ah&&(this.height+=this.v.qc)};n.g.object.S(n.ea.vh,n.i.vh);n.ea.We=function(a,c){n.ea.We.A.constructor.call(this,a,c)};n.g.object.S(n.ea.We,n.i.We);b=n.ea.We.prototype;b.Su=function(){n.ea.We.A.Su.call(this);this.M.P.length&&this.M.P[this.M.P.length-1].type==n.gb||(this.wb.minHeight=this.v.ne-this.v.qc)};
b.Vx=function(a,c){this.Qk&&a.type==n.lb?(c.elements.push(new n.ea.qh(this.v,a)),c.Jt=!0):a.type==n.gb?(c.elements.push(new n.ea.vh(this.v,a)),c.Ub=!0):a.type==n.lb?(c.elements.push(new n.i.no(this.v,a)),c.Gh=!0):a.type==n.og&&(c.minHeight=Math.max(c.minHeight,this.v.pw),c.Jk=!0);this.Qk||null!=c.align||(c.align=a.align)};
b.Ux=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.Gh&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.xq()&&d.elements.push(new n.i.qg(this.v,this.Ni(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var h=this.Ni(e[f],e[f+1]);d.elements.push(new n.i.qg(this.v,h))}d.elements.push(e[e.length-1]);d.sm()&&(h=this.Ni(e[e.length-1],null),a&&d.Jk&&(h+=this.v.Io),d.elements.push(new n.i.qg(this.v,h)))}}};
b.Ni=function(a,c){if(!a)return c&&n.i.u.Tg(c)&&c.vd?this.v.ne:c&&n.i.u.Ih(c)?this.v.Rw:c&&n.i.u.dj(c)?this.v.yx:this.v.Vc;if(!n.i.u.Jh(a)&&(!c||n.i.u.dj(c)))return n.i.u.Tg(a)&&a.vd?this.v.ne:n.i.u.Pk(a)?2*this.v.Vc+1:n.i.u.aj(a)?this.v.yf:n.i.u.jH(a)?this.v.Vc:n.i.u.Kh(a)?this.v.CD:n.i.u.aA(a)?this.v.yf:this.v.Vc;if(n.i.u.Jh(a)&&!c){if(n.i.u.Mm(a))return this.v.yf;if(n.i.u.Ih(a))return this.v.Vc;if(n.i.u.dj(a))return this.v.yf}if(!n.i.u.Jh(a)&&c&&n.i.u.Jh(c)){if(n.i.u.Tg(a)&&a.vd){if(n.i.u.Ih(c)||
n.i.u.Mm(c))return this.v.$D}else{if(n.i.u.Ih(c)||n.i.u.Mm(c))return this.v.Rw;if(n.i.u.dj(c))return this.v.Vc}return this.v.Vc-1}if(n.i.u.Pk(a)&&c&&!n.i.u.Jh(c))return this.v.Vc;if(n.i.u.Ih(a)&&c&&n.i.u.Tg(c))return c.vd?this.v.ne:this.v.Vc;if(n.i.u.Om(a)&&c){if(n.i.u.aj(c))return this.v.yf;if(n.i.u.Rk(c))return c.Ge;if(n.i.u.Lh(c))return a=(this.J?1:-1)*this.v.qc/2,c.Ge+a}if(n.i.u.Kh(a)&&c){if(n.i.u.Rk(c))return c.Ge-this.v.rb;if(n.i.u.Lh(c))return a=(this.J?1:-1)*this.v.qc/2,c.Ge-this.v.rb+a}return n.i.u.Tg(a)&&
c&&n.i.u.Tg(c)&&a.vd==c.vd||c&&n.i.u.aA(c)?this.v.Vc:this.v.ne};b.Az=function(a,c){return n.i.u.Mp(a)&&n.i.u.Fp(c)?this.v.DC:n.i.u.Mp(a)||n.i.u.Fp(c)?this.v.yf:a.Gh&&c.Gh?this.v.Vc:!a.Ub&&c.Ub?this.v.XB:a.Ub&&c.Ub||!a.Ub&&c.Jk||a.Jk?this.v.Vc:this.v.ne};
b.mz=function(a,c){if(n.i.u.De(c))return a.cc+c.height/2;if(n.i.u.Fp(a))return a=a.cc+a.height-a.pm,n.i.u.Lh(c)?a+c.height/2:a-c.height/2;if(n.i.u.Mp(a))return n.i.u.aj(c)?a.Eg-c.height/2:a.Eg+c.height/2;var d=a.cc;n.i.u.Tg(c)||n.i.u.Pk(c)?(d+=c.height/2,(a.Jt||a.Ub)&&c.height+this.v.Ax<=a.height&&(d+=this.v.Ax)):d=n.i.u.Ih(c)?d+c.height/2:d+a.height/2;return d};
b.Zr=function(){if(this.Qk){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.wu=a,n.i.u.eH(e)&&(e.Ub&&Ud(this,e),c&&c.Ub&&e.width<c.width?e.wu=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Ub?a=this.zm(e):n.i.u.De(e)?e.width=Math.max(a,e.wu):(a=Math.max(a,e.wu)-e.width,0<a&&Vd(e,a),a=e.width)}else n.ea.We.A.Zr.call(this)};b.zm=function(a){return this.Qk&&a.Ub?this.ci+this.v.yD+this.Me:n.ea.We.A.zm.call(this,a)};
b.bz=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.cc=c;e.Oa=this.Me;c+=e.height;a=Math.max(a,e.uf);var f=c-this.Ob.gk;e==this.wb&&f<this.v.Fl&&(f=this.v.Fl-f,this.wb.height+=f,c+=f);Wd(this,e)}this.L&&this.M.T&&this.M.T.isConnected()&&(a=Math.max(a,ka(this.M.T.na()).width-this.v.qc));this.wb.Ye=c-this.wb.pm;this.ml=a+this.Me+this.v.qc;this.width+=this.v.qc;this.height=c+this.v.qc;this.wq=this.Ob.Eg};n.ea.Uc=function(a,c){n.ea.Uc.A.constructor.call(this,a,c);this.Uf=new n.ea.Cw(c)};n.g.object.S(n.ea.Uc,n.i.Uc);b=n.ea.Uc.prototype;b.draw=function(){Xd(this);Yd(this);Zd(this);var a=this.M.yb;a.ov(this.Sa+"\n"+this.Ep);var c=this.Uf;a.yj.setAttribute("d",c.la+"\n"+c.Im);this.oa.J&&a.mt();n.i.Nn&&this.M.cv.UF(this.M,this.oa);$d(this)};
b.ct=function(){var a=this.Uf,c=this.oa.Ob;a.la+=n.g.B.moveBy(c.Oa,a.oa.wq);for(var d=0,e;e=c.elements[d];d++)n.i.u.Om(e)?a.la+=a.Wd.wx:n.i.u.Kh(e)?a.la+=a.Lu.Hv(a.tc):n.i.u.Rk(e)?a.la+=a.PH.Uh:n.i.u.aj(e)?a.la+=a.KI.path(a.tc):n.i.u.De(e)&&0!=e.width&&(a.la+=n.g.B.aa("H",e.Oa+e.width-a.td));a.la+=n.g.B.aa("H",c.Oa+c.width-a.td);ae(this.Uf,this.oa.Ob);n.ea.Uc.A.ct.call(this)};b.rm=function(a){this.Uf.rm(a);n.ea.Uc.A.rm.call(this,a)};
b.dt=function(a){var c=this.Uf,d=Sd(a);if(c.tc){var e=a.height-d.lk;c.la+=n.g.B.moveTo(d.Oa+d.width-c.td,a.cc)+c.ln.Ie(c.tc)+n.g.B.aa("v",e)}else c.la+=n.g.B.moveTo(d.Oa+d.width,a.cc)+c.ln.Ie(c.tc);n.ea.Uc.A.dt.call(this,a)};
b.bt=function(a){var c=this.Uf,d=Sd(a);if(c.tc){var e=a.height-2*c.Nk.height;c.la+=n.g.B.moveTo(d.Oa,a.cc)+c.Nk.Ou(c.tc)+n.g.B.aa("v",e)+c.Nk.kq(c.tc)+n.g.B.lineTo(a.width-d.Oa-c.Nk.width,0)}else c.la+=n.g.B.moveTo(d.Oa,a.cc+a.height)+c.Nk.kq(c.tc)+n.g.B.lineTo(a.width-d.Oa-c.Nk.width,0);n.ea.Uc.A.bt.call(this,a)};b.Yy=function(a){ae(this.Uf,a);this.Sa+=n.g.B.aa("H",a.Oa+a.width)+n.g.B.aa("V",a.cc+a.height)};
b.Zs=function(){var a=this.Uf,c=this.oa.wb;if(a.tc)a.la+=n.g.B.aa("V",c.Ye-a.td);else{var d=a.oa.wb.elements[0];n.i.u.Om(d)?a.la+=n.g.B.moveTo(c.Oa+a.td,c.Ye-a.td):n.i.u.Kh(d)&&(a.la+=n.g.B.moveTo(c.Oa,c.Ye),a.la+=a.Lu.os())}n.ea.Uc.A.Zs.call(this)};
b.at=function(){var a=this.Uf,c=a.oa.L;c&&(c=c.Rd+c.height,a.tc?a.la+=n.g.B.moveTo(a.oa.Me,c):(a.la+=n.g.B.moveTo(a.oa.Me+a.td,a.oa.wb.Ye-a.td),a.la+=n.g.B.aa("V",c)),a.la+=a.ln.fn(a.tc));a.tc||(c=a.oa.Ob,a.la=n.i.u.Kh(c.elements[0])?a.la+n.g.B.aa("V",a.Lu.height):a.la+n.g.B.aa("V",c.Eg+a.td));n.ea.Uc.A.at.call(this)};
b.$s=function(a){var c=this.Uf,d=c.td,e=a.Oa+a.If,f=a.kk-a.height/2,h=a.width-a.If,k=f+d;if(c.tc){f=a.Rd-d;var l=a.height-(a.Rd+a.lk)+d;c.Im+=n.g.B.moveTo(e-d,k)+n.g.B.aa("v",f)+c.ln.Ie(c.tc)+n.g.B.aa("v",l)+n.g.B.aa("h",h)}else c.Im+=n.g.B.moveTo(a.Oa+a.width+d,k)+n.g.B.aa("v",a.height)+n.g.B.aa("h",-h)+n.g.B.moveTo(e,f+a.Rd)+c.ln.Ie(c.tc);n.ea.Uc.A.$s.call(this,a)};b.MA=function(a){var c=a.kk-a.height/2;if(a.Yc){var d=a.Oa+a.If+this.v.qc;this.oa.J&&(d*=-1);Kc(a.Yc,d,c+a.Rd+this.v.qc)}};
b.OA=function(a){var c=Sd(a);if(c.Yc){var d=a.Oa+a.ci+c.Ge;d=this.oa.J?-1*d:d+this.v.qc;Kc(c.Yc,d,a.cc+this.v.qc)}};b.LA=function(a){var c=Sd(a);if(c.Yc){var d=a.Oa+a.width+this.v.qc;this.oa.J&&(d*=-1);Kc(c.Yc,d,a.cc)}};b.NA=function(){var a=this.oa.wb;if(a.connection){var c=a.connection,d=c.Oa;Kc(c.Yc,(this.oa.J?-d:d)+this.v.qc/2,a.Ye+this.v.qc)}};n.ea.Bw=function(a){this.mk=a;this.OFFSET=.5;this.wx=n.g.B.moveBy(this.OFFSET,this.OFFSET)};b=n.ea.Bw.prototype;b.ra=function(){this.dD=be(this);this.OD=ce(this);this.Fr=this.gu();this.Tj=this.fu();this.Rj=this.du();this.Zj=this.iu()};
function be(a){var c=a.mk.rb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=n.g.B.moveBy(d,d)+n.g.B.arc("a","0 0,0",c,n.g.B.Na(-d-a,c-d)),f=n.g.B.arc("a","0 0,0",c+a,n.g.B.Na(c+a,c+a)),h=n.g.B.moveBy(d,-d)+n.g.B.arc("a","0 0,0",c+a,n.g.B.Na(c-d,d+a));return{width:c+a,height:c,Ou:function(k){return k?e:""},kq:function(k){return k?f:h}}}
function ce(a){var c=a.mk.rb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=n.g.B.moveBy(d,d)+n.g.B.arc("a","0 0,1",c-a,n.g.B.Na(c-d,-d+a)),f=n.g.B.moveBy(a,c)+n.g.B.arc("a","0 0,1",c-a,n.g.B.Na(c,-c+a)),h=-d,k=n.g.B.moveBy(d,h)+n.g.B.arc("a","0 0,1",c-a,n.g.B.Na(-d+a,-h-c));return{height:c,Hv:function(l){return l?e:f},os:function(){return k}}}
b.gu=function(){var a=this.mk.Io,c=this.mk.Sl,d=n.g.B.moveBy(-2,-c+3.4)+n.g.B.lineTo(-.45*a,-2.1),e=n.g.B.aa("v",2.5)+n.g.B.moveBy(.97*-a,2.5)+n.g.B.curve("q",[n.g.B.Na(.05*-a,10),n.g.B.Na(.3*a,9.5)])+n.g.B.moveBy(.67*a,-1.9)+n.g.B.aa("v",2.5),f=n.g.B.aa("v",-1.5)+n.g.B.moveBy(-.92*a,-.5)+n.g.B.curve("q",[n.g.B.Na(-.19*a,-5.5),n.g.B.Na(0,-11)])+n.g.B.moveBy(.92*a,1),h=n.g.B.moveBy(-5,c-.7)+n.g.B.lineTo(.46*a,-2.1);return{width:a,height:c,fn:function(k){return k?d:f},Ie:function(k){return k?e:h}}};
b.fu=function(){return{Uh:n.g.B.aa("h",this.OFFSET)+this.mk.Tj.Uh}};b.du=function(){return{Uh:n.g.B.lineTo(5.1,2.6)+n.g.B.moveBy(-10.2,6.8)+n.g.B.lineTo(5.1,2.6),height:12,width:10.2}};b.iu=function(){var a=this.mk.Zj.height,c=n.g.B.moveBy(25,-8.7)+n.g.B.curve("c",[n.g.B.Na(29.7,-6.2),n.g.B.Na(57.2,-.5),n.g.B.Na(75,8.7)]),d=n.g.B.curve("c",[n.g.B.Na(17.8,-9.2),n.g.B.Na(45.3,-14.9),n.g.B.Na(75,-8.7)])+n.g.B.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};n.ea.vg=function(a,c,d){this.nk=d;this.hg=a;this.Dn=n.g.j.K("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.hg);this.Db=n.g.j.K("path",{"class":"blocklyPath"},this.hg);this.yj=n.g.j.K("path",{"class":"blocklyPathLight"},this.hg);this.zs="#000000";this.style=c};n.g.object.S(n.ea.vg,n.i.vg);b=n.ea.vg.prototype;b.ov=function(a){this.Db.setAttribute("d",a);this.Dn.setAttribute("d",a)};
b.mt=function(){this.Db.setAttribute("transform","scale(-1 1)");this.yj.setAttribute("transform","scale(-1 1)");this.Dn.setAttribute("transform","translate(1,1) scale(-1 1)")};b.Sb=function(a){this.yj.style.display="";this.Dn.style.display="";this.yj.setAttribute("stroke",this.style.Ig);this.Dn.setAttribute("fill",this.zs);n.ea.vg.A.Sb.call(this,a);this.Db.setAttribute("stroke","none")};b.dh=function(a){this.style=a;this.zs=n.g.ib.ks("#000",this.style.zh,.2)||this.zs};
b.vB=function(a){a?(this.Db.setAttribute("filter","url(#"+this.nk.lp+")"),this.yj.style.display="none"):(this.Db.setAttribute("filter","none"),this.yj.style.display="inline")};b.xB=function(a){a&&(this.yj.style.display="none",this.Dn.setAttribute("fill",this.style.Zo),this.Db.setAttribute("stroke","none"),this.Db.setAttribute("fill",this.style.Zo))};b.Lv=function(a){n.ea.vg.A.Lv.call(this,a);a&&this.Db.setAttribute("stroke","none")};n.ea.wg=function(a){n.ea.wg.A.constructor.call(this,a);this.Wd=null};n.g.object.S(n.ea.wg,n.i.wg);b=n.ea.wg.prototype;b.ra=function(a,c){n.ea.wg.A.ra.call(this,a,c);this.Wd=new n.ea.Bw(this.Z());this.Wd.ra()};b.Wu=function(a,c){n.ea.wg.A.Wu.call(this,a,c);this.Wd.ra()};b.cu=function(){return new n.ea.ng};b.oA=function(a){return new n.ea.We(this,a)};b.mA=function(a,c){return new n.ea.Uc(a,c)};b.nA=function(a,c){return new n.ea.vg(a,c,this.Z())};n.i.register("geras",n.ea.wg);n.m.ADD_COMMENT="Add Comment";n.m.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";n.m.CHANGE_VALUE_TITLE="Change value:";n.m.CLEAN_UP="Clean up Blocks";n.m.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";n.m.COLLAPSE_ALL="Collapse Blocks";n.m.COLLAPSE_BLOCK="Collapse Block";n.m.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";
n.m.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";n.m.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";n.m.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";n.m.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";n.m.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";n.m.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";
n.m.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";n.m.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";n.m.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";n.m.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";n.m.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";
n.m.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";n.m.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";n.m.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";n.m.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";n.m.CONTROLS_IF_MSG_ELSE="else";n.m.CONTROLS_IF_MSG_ELSEIF="else if";n.m.CONTROLS_IF_MSG_IF="if";n.m.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";
n.m.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";n.m.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";n.m.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";
n.m.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";n.m.CONTROLS_REPEAT_INPUT_DO="do";n.m.CONTROLS_REPEAT_TITLE="repeat %1 times";n.m.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";n.m.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";n.m.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";n.m.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";n.m.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";
n.m.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";n.m.DELETE_ALL_BLOCKS="Delete all %1 blocks?";n.m.DELETE_BLOCK="Delete Block";n.m.DELETE_VARIABLE="Delete the '%1' variable";n.m.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";n.m.DELETE_X_BLOCKS="Delete %1 Blocks";n.m.DISABLE_BLOCK="Disable Block";n.m.DUPLICATE_BLOCK="Duplicate";n.m.DUPLICATE_COMMENT="Duplicate Comment";n.m.ENABLE_BLOCK="Enable Block";n.m.EXPAND_ALL="Expand Blocks";
n.m.EXPAND_BLOCK="Expand Block";n.m.EXTERNAL_INPUTS="External Inputs";n.m.HELP="Help";n.m.INLINE_INPUTS="Inline Inputs";n.m.LOGIC_BOOLEAN_FALSE="false";n.m.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";n.m.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";n.m.LOGIC_BOOLEAN_TRUE="true";n.m.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";n.m.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";
n.m.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";n.m.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";n.m.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";n.m.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";n.m.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";
n.m.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";n.m.LOGIC_NEGATE_TITLE="not %1";n.m.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";n.m.LOGIC_NULL="null";n.m.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";n.m.LOGIC_NULL_TOOLTIP="Returns null.";n.m.LOGIC_OPERATION_AND="and";n.m.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";n.m.LOGIC_OPERATION_OR="or";
n.m.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";n.m.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";n.m.LOGIC_TERNARY_CONDITION="test";n.m.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";n.m.LOGIC_TERNARY_IF_FALSE="if false";n.m.LOGIC_TERNARY_IF_TRUE="if true";n.m.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";
n.m.MATH_ADDITION_SYMBOL="+";n.m.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";n.m.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";n.m.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";n.m.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";n.m.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";n.m.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";
n.m.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";n.m.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";n.m.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";n.m.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";n.m.MATH_CHANGE_TITLE="change %1 by %2";n.m.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";n.m.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";n.m.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";
n.m.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";n.m.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";n.m.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";n.m.MATH_DIVISION_SYMBOL="\u00f7";n.m.MATH_IS_DIVISIBLE_BY="is divisible by";n.m.MATH_IS_EVEN="is even";n.m.MATH_IS_NEGATIVE="is negative";n.m.MATH_IS_ODD="is odd";n.m.MATH_IS_POSITIVE="is positive";n.m.MATH_IS_PRIME="is prime";n.m.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";
n.m.MATH_IS_WHOLE="is whole";n.m.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";n.m.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";n.m.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";n.m.MATH_MULTIPLICATION_SYMBOL="\u00d7";n.m.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";n.m.MATH_NUMBER_TOOLTIP="A number.";n.m.MATH_ONLIST_HELPURL="";n.m.MATH_ONLIST_OPERATOR_AVERAGE="average of list";n.m.MATH_ONLIST_OPERATOR_MAX="max of list";
n.m.MATH_ONLIST_OPERATOR_MEDIAN="median of list";n.m.MATH_ONLIST_OPERATOR_MIN="min of list";n.m.MATH_ONLIST_OPERATOR_MODE="modes of list";n.m.MATH_ONLIST_OPERATOR_RANDOM="random item of list";n.m.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";n.m.MATH_ONLIST_OPERATOR_SUM="sum of list";n.m.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";n.m.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";
n.m.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";n.m.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";n.m.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";n.m.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";n.m.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";n.m.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";n.m.MATH_POWER_SYMBOL="^";
n.m.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";n.m.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";n.m.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";n.m.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";n.m.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";n.m.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";
n.m.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";n.m.MATH_ROUND_OPERATOR_ROUND="round";n.m.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";n.m.MATH_ROUND_OPERATOR_ROUNDUP="round up";n.m.MATH_ROUND_TOOLTIP="Round a number up or down.";n.m.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";n.m.MATH_SINGLE_OP_ABSOLUTE="absolute";n.m.MATH_SINGLE_OP_ROOT="square root";n.m.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";n.m.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";
n.m.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";n.m.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";n.m.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";n.m.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";n.m.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";n.m.MATH_SUBTRACTION_SYMBOL="-";n.m.MATH_TRIG_ACOS="acos";n.m.MATH_TRIG_ASIN="asin";n.m.MATH_TRIG_ATAN="atan";n.m.MATH_TRIG_COS="cos";n.m.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
n.m.MATH_TRIG_SIN="sin";n.m.MATH_TRIG_TAN="tan";n.m.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";n.m.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";n.m.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";n.m.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";n.m.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";n.m.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";n.m.NEW_VARIABLE="Create variable...";
n.m.NEW_VARIABLE_TITLE="New variable name:";n.m.PROCEDURES_DEFNORETURN_PROCEDURE="do something";n.m.REDO="Redo";n.m.REMOVE_COMMENT="Remove Comment";n.m.RENAME_VARIABLE="Rename variable...";n.m.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";n.m.UNDO="Undo";n.m.UNNAMED_KEY="unnamed";n.m.VARIABLES_DEFAULT_NAME="item";n.m.VARIABLES_SET_CREATE_GET="Create 'get %1'";n.m.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";n.m.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";
n.m.WORKSPACE_ARIA_LABEL="Blockly Workspace";n.m.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";n.m.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.m.CONTROLS_IF_MSG_ELSEIF;n.m.CONTROLS_IF_ELSE_TITLE_ELSE=n.m.CONTROLS_IF_MSG_ELSE;n.m.CONTROLS_IF_IF_TITLE_IF=n.m.CONTROLS_IF_MSG_IF;n.m.CONTROLS_IF_MSG_THEN=n.m.CONTROLS_REPEAT_INPUT_DO;n.m.MATH_CHANGE_TITLE_ITEM=n.m.VARIABLES_DEFAULT_NAME;n.m.PROCEDURES_DEFRETURN_PROCEDURE=n.m.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},de=null,ee=null;function fe(){var a=de();ge("xml="+encodeURIComponent(a))}var he={};function ge(a){var c=ie;he["/storage"]&&he["/storage"].abort();he["/storage"]=new XMLHttpRequest;he["/storage"].onload=function(){200===this.status?c&&c.call(this):je(F("Games_httpRequestError")+"\nXHR status: "+this.status);he["/storage"]=null};he["/storage"].open("POST","/storage");he["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");he["/storage"].send(a)}
function ie(){window.location.hash=this.responseText.trim();je(F("Games_linkAlert").replace("%1",window.location.href));ee=de()}function je(a){if("object"===typeof G){var c=document.getElementById("linkButton");G.NI(c,a)}else alert(a)};var ke,z=null,le="";
function me(){var a=document.createElement("script");a.src="./progressbar.js-master/dist/progressbar.js";a.type="text/javascript";document.head.appendChild(a);window.loadscreen();Ed();ke;if(a=document.getElementById("linkButton"))Cd?a.style.display="none":(de=ne,Kd(a,fe));xd=100;(a=document.getElementById("languageMenu"))&&a.addEventListener("change",oe,!0);xd=Dd("Coinval",0,800);switch(Jd){case "start":ke=1;break;case "circus":ke=2;break;case "bridge":ke=3;break;case "ocean":ke=4;break;case "mazeangle":ke=
5;break;case "maze":ke=6}}function ne(){var a=n.R.kJ();if(1==z.jc(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return n.R.Td(a)}function pe(){"object"==typeof BlocklyStorage&&null!==ee&&ee!=ne()&&(window.location.hash="",ee=null)}function qe(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;z=n.Vi("blockly",a);ib(z,pe)}var re="start.html circus.html bridge.html ocean.html mazeangle.html maze.html gamefinsihed.html mazeperimeter.html findfriend.html door.html".split(" ");
function se(){window.location=(Cd?"index.html":"./")+"?lang="+Ad}function oe(){window.sessionStorage&&(window.sessionStorage.qH=ne());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function te(){window.location=(Cd?re[ke]:"./")+"?lang="+Ad+"&level="+E+"&Coinval="+xd}function ue(a){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}kd(a,void 0)}function ve(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function we(a){if("click"==a.type&&"touchend"==xe&&ye+2E3>Date.now()||xe==a.type&&ye+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;xe=a.type;ye=Date.now();return!1}var xe=null,ye=0;
function ze(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function Ae(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};var G={Yi:!1,My:null,hp:null,cl:function(a,c,d,e,f,h){function k(){G.Yi&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);G.Yi&&G.Tf(!1);n.Qf()&&n.Vb(!0);G.Yi=!0;G.My=c;G.hp=h;var l=document.getElementById("dialog");h=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),p;for(p in f)l.style[p]=f[p];e&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),G.Ms=n.ec(e,"mousedown",null,G.IF));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(G.Qp(c,!1,.2),G.Qp(l,!0,.8),setTimeout(k,175)):k()},Ny:0,Oy:0,IF:function(a){G.Ps();if(!n.g.cj(a)){var c=document.getElementById("dialog");G.Ny=c.offsetLeft-a.clientX;G.Oy=c.offsetTop-a.clientY;G.Os=n.ec(document,"mouseup",null,G.Ps);G.Ns=n.ec(document,"mousemove",null,G.JF);a.stopPropagation()}},JF:function(a){var c=document.getElementById("dialog"),
d=G.Ny+a.clientX;a=G.Oy+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Ps:function(){G.Os&&(n.Za(G.Os),G.Os=null);G.Ns&&(n.Za(G.Ns),G.Ns=null)},Tf:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(G.Yi){G.Ps();G.Ms&&(n.Za(G.Ms),G.Ms=null);G.Yi=!1;G.hp&&G.hp();G.hp=null;var d=!1===a?
null:G.My;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(G.Qp(a,!1,.8),G.Qp(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Qp:function(a,c,d){function e(){f.style.width=h.width+"px";f.style.height=h.height+"px";f.style.left=h.x+"px";f.style.top=
h.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),h=G.iG(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},iG:function(a){var c=n.g.style.Eh(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},NI:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");G.cl(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},G.Cv);G.hB()},Tx:function(){if(!Id())if(G.Yi||z.kc())setTimeout(G.Tx,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",G.Tf,!0);c.addEventListener("touchend",G.Tf,!0);c=document.getElementById("abortOk");c.addEventListener("click",se,!0);c.addEventListener("touchend",se,!0);
G.cl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",G.Sx,!0)});document.body.addEventListener("keydown",G.Sx,!0)}},oF:function(){var a=document.getElementById("dialogDone");if(z){var c=document.getElementById("dialogLinesText");c.textContent="";var d=le;d=ve(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");
f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?F("Games_linesOfCode1"):F("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d="Are you ready for next level?";c=document.getElementById("doneOk");c.addEventListener("click",te,!0);c.addEventListener("touchend",te,!0);G.cl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",G.qy,!0)});document.body.addEventListener("keydown",
G.qy,!0);document.getElementById("dialogDoneText").textContent=d},Ly:function(a){!G.Yi||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(G.Tf(!0),a.stopPropagation(),a.preventDefault())},hB:function(){document.body.addEventListener("keydown",G.Ly,!0)},Cv:function(){document.body.removeEventListener("keydown",G.Ly,!0)},qy:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&te()},Sx:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)G.Tf(!0),
a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&se()}};window.BlocklyDialogs=G;G.hideDialog=G.Tf;n.Generator=function(a){this.uu=a;this.PC=new RegExp(this.ph,"g")};n.Generator.Xw="generated_function";b=n.Generator.prototype;b.Nj=null;b.pe=null;b.Kd=null;b.pg="  ";b.kC=60;b.Co=[];function Be(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function Ce(a,c){if(!c)return"";if(!c.isEnabled())return Ce(a,u(c));if(c.mf())return Ce(a,c.ye(!1)[0]);var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.uu+'" does not know how to generate  code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.L)throw TypeError("Expecting string from statement block: "+c.type);return[a.hv(c,d[0],void 0),d[1]]}if("string"==typeof d)return a.pe&&!c.di&&(d=De(a.pe,c)+d),a.Kd&&!c.di&&(d+=De(a.Kd,c)),a.hv(c,d,void 0);if(null===d)return"";
throw SyntaxError("Invalid code generated: "+d);}
function I(a,c,d){var e=n.o;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=Fc(a,c);if(!f)return"";c=Ce(e,f);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+f.type);a=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var h=Math.floor(d),k=Math.floor(c);if(h<=k&&(h!=k||0!=h&&99!=h))for(f=!0,h=0;h<e.Co.length;h++)if(e.Co[h][0]==d&&e.Co[h][1]==c){f=!1;break}f&&(a="("+
a+")");return a}function Ee(a,c){var d=n.o;a=Fc(a,c);c=Ce(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=Be(c,d.pg));return c}function Fe(a,c){var d=n.o;d.Nj&&(a=Be(De(d.Nj,c),d.pg)+a);d.Kd&&!c.di&&(a=Be(De(d.Kd,c),d.pg)+a);d.pe&&!c.di&&(a+=Be(De(d.pe,c),d.pg));return a}function De(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.Hr="";function Ge(a,c){a.Hr+=c+","}b.ph="{leCUI8hutHZI4480Dc}";
function He(a,c){var d=n.o;if(!d.vk[a]){var e=vd(d.fe,a,n.Er);d.nt[a]=e;c=c.join("\n").replace(d.PC,e);for(var f;f!=c;)f=c,c=c.replace(/^(( {2})*) {2}/gm,"$1\x00");c=c.replace(/\0/g,d.pg);d.vk[a]=c}return d.nt[a]}b.ra=function(){};b.hv=function(a,c){return c};b.finish=function(a){return a};b.bB=function(a){return a};n.o=new n.Generator("JavaScript");Ge(n.o,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(n.g.global).join(","));n.o.zo=0;n.o.hL=1.1;n.o.tg=1.2;n.o.Te=2;n.o.fL=3;n.o.bL=3;n.o.YK=4.1;n.o.jL=4.2;n.o.Ml=4.3;n.o.Bo=4.4;
n.o.iL=4.5;n.o.kL=4.6;n.o.cL=4.7;n.o.WK=4.8;n.o.dL=5;n.o.zr=5.1;n.o.Kl=5.2;n.o.Ll=5.3;n.o.Ar=6.1;n.o.Vj=6.2;n.o.$K=7;n.o.LD=8;n.o.eL=8;n.o.gL=8;n.o.gx=9;n.o.XK=10;n.o.aL=11;n.o.ZK=12;n.o.xr=13;n.o.yr=14;n.o.Ao=15;n.o.Jl=16;n.o.lL=17;n.o.Wc=18;n.o.ug=99;n.o.Co=[[n.o.Te,n.o.tg],[n.o.Te,n.o.Te],[n.o.tg,n.o.tg],[n.o.tg,n.o.Te],[n.o.Bo,n.o.Bo],[n.o.zr,n.o.zr],[n.o.Vj,n.o.Vj],[n.o.xr,n.o.xr],[n.o.yr,n.o.yr]];
n.o.ra=function(a){n.o.vk=Object.create(null);n.o.nt=Object.create(null);n.o.fe?n.o.fe.reset():n.o.fe=new n.oe(n.o.Hr);n.o.fe.tv(a.La);for(var c=[],d=n.ba.HE(a),e=0;e<d.length;e++)c.push(ud(d[e],n.oe.Wq));a=n.ba.Wx(a);for(e=0;e<a.length;e++)c.push(ud(a[e].Qa(),n.Jc));c.length&&(n.o.vk.variables="var "+c.join(", ")+";")};n.o.finish=function(a){var c=[],d;for(d in n.o.vk)c.push(n.o.vk[d]);delete n.o.vk;delete n.o.nt;n.o.fe.reset();return c.join("\n\n")+"\n\n\n"+a};n.o.bB=function(a){return a+";\n"};
n.o.kI=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};n.o.XM=function(a){return a.split(/\n/g).map(n.o.kI).join(" + '\\n' +\n")};
n.o.hv=function(a,c,d){var e="";if(!a.L||!a.L.ka){var f=a.af.text;f&&(f=n.g.Ta.EB(f,n.o.kC-3),e+=Be(f+"\n","// "));for(var h=0;h<a.P.length;h++)if(a.P[h].type==n.lb){var k=a.P[h].connection.na();if(k){f=[];k=t(k,!0);for(var l=0;l<k.length;l++){var m=k[l].af.text;m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Be(f,"// "))}}}a=a.T&&a.T.na();d=d?"":Ce(n.o,a);return e+c+d};
n.o.nM=function(a,c,d,e,f){d=d||0;f=f||n.o.ug;a.D.options.cn&&d--;var h=a.D.options.cn?"1":"0";a=0<d?I(a,c,n.o.Vj)||h:0>d?I(a,c,n.o.Ar)||h:e?I(a,c,n.o.Ml)||h:I(a,c,f)||h;if(n.Ug(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=n.o.Vj}else 0>d&&(a=a+" - "+-d,k=n.o.Ar);e&&(a=d?"-("+a+")":"-"+a,k=n.o.Ml);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};n.dc=function(a,c,d){this.gB=!0;n.dc.A.constructor.call(this,a,c,d);this.cq=this.bq=this.Xd=null;this.qp=!1;this.s=null};n.g.object.S(n.dc,n.Ed);n.dc.prototype.vl="";n.dc.wa=function(a){var c=n.g.oc(a.text);return new n.dc(c,void 0,a)};n.dc.prototype.Ol=!0;n.dc.ZB=4;b=n.dc.prototype;b.hw="text";b.ve=function(a){n.dc.A.ve.call(this,a);"boolean"==typeof a.spellcheck&&(this.gB=a.spellcheck)};
b.Hm=function(){if(this.Z().xw){for(var a=0,c=0,d=0,e;e=this.I.P[d];d++){for(var f=0;e.cb[f];f++)a++;e.connection&&c++}this.qp=1>=a&&this.I.L&&!c}else this.qp=!1;this.qp?this.xs=this.I.Da():Jb(this);Kb(this)};b.Ii=function(a){return null===a||void 0===a?null:String(a)};b.Vy=function(){if(this.Jm){this.Ut=!1;var a=this.Gc;this.Gc=this.Xd.$I;this.I&&n.h.isEnabled()&&n.h.Ca(new n.h.jh(this.I,"field",this.name||null,a,this.Gc))}};b.Bh=function(a){this.Ut=!0;this.Gc=a;this.Jm||(this.Sg=!0)};
b.Sb=function(){this.I&&this.Z().xw&&(this.Fb?this.Fb.setAttribute("stroke",this.I.style.Ig):this.I.yb.Db.setAttribute("fill",this.Z().sw))};b.Yh=function(){n.dc.A.Yh.call(this);if(this.Jm){Ie(this);var a=this.Xd;this.Ut?(n.g.j.Ac(a,"blocklyInvalidInput"),n.g.U.Ab(a,n.g.U.State.Gw,!1)):(n.g.j.vb(a,"blocklyInvalidInput"),n.g.U.Ab(a,n.g.U.State.Gw,!0))}};
b.wj=function(a,c){this.s=this.I.D;a=c||!1;!a&&(n.g.userAgent.DD||n.g.userAgent.rl||n.g.userAgent.Oj)?Je(this):(n.W.show(this,this.I.J,this.gJ.bind(this)),this.Xd=this.Ov(),this.Jm=!0,a||(this.Xd.focus({preventScroll:!0}),this.Xd.select()))};function Je(a){n.prompt(n.m.CHANGE_VALUE_TITLE,a.kf(),function(c){a.setValue(c)})}
b.Ov=function(){var a=n.W.Xa;n.g.j.vb(Ib(this),"editing");var c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.gB);var d=nd(this.s),e=this.Z().nh*d+"pt";a.style.fontSize=e;c.style.fontSize=e;e=n.dc.ZB*d+"px";if(this.qp){e=Pb(this);e=(e.bottom-e.top)/2+"px";var f=this.I.getParent()?this.I.getParent().style.Ig:this.I.style.Ig;c.style.border=1*d+"px solid "+f;a.style.borderRadius=e;a.style.transition="box-shadow 0.25s ease 0s";this.Z().NC&&(a.style.boxShadow=
"rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*d+"px")}c.style.borderRadius=e;a.appendChild(c);c.value=c.defaultValue=String(this.Gc);c.$I=this.Gc;c.yA=null;Ie(this);this.bq=n.va(c,"keydown",this,this.WH);this.cq=n.va(c,"input",this,this.VH);return c};
b.gJ=function(){this.Jm=!1;this.Ut=!0;cb(this);this.UH&&this.UH(this.Gc);this.bq&&(n.Za(this.bq),this.bq=null);this.cq&&(n.Za(this.cq),this.cq=null);var a=n.W.Xa.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.Xd=null;n.g.j.Ac(Ib(this),"editing")};
b.WH=function(a){if(a.keyCode==n.g.ma.mo)n.W.Ea(),n.F.Ri();else if(a.keyCode==n.g.ma.Xq)this.Xd.value=this.Xd.defaultValue,n.W.Ea(),n.F.Ri();else if(a.keyCode==n.g.ma.iE){n.W.Ea();n.F.Ri();var c=this.I,d=!a.shiftKey,e=new n.Jo;C(e,n.C.pk(this));var f=e.Va;e.Qc(d?n.navigation.Rn:n.navigation.Sn);(d=e.Va)&&d!==f&&(f=d.pa,ia(f)&&f.wj(void 0),c.D.ac&&C(c.D.xb(),d));a.preventDefault()}};b.VH=function(){var a=this.Xd.value;a!==this.Xd.yA&&(this.Xd.yA=a,n.h.ca(!0),this.setValue(a),cb(this),Ie(this),n.h.ca(!1))};
function Ie(a){var c=n.W.Xa,d=Pb(a);c.style.width=d.right-d.left+"px";c.style.height=d.bottom-d.top+"px";a=new n.g.O(a.I.J?d.right-c.offsetWidth:d.left,d.top);c.style.left=a.x+"px";c.style.top=a.y+"px"}n.dc.QH=function(a){console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.");if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);return isNaN(a)?null:String(a)};
n.dc.$M=function(a){(a=n.dc.QH(a))&&(a=String(Math.max(0,Math.floor(a))));return a};n.dc.prototype.dA=function(){return!0};n.dc.prototype.xp=function(){return this.Jm&&this.Xd?this.Xd.value:null};n.Pf.register("field_input",n.dc);n.je=function(a,c,d,e,f,h){this.Xm=-Infinity;this.Vm=Infinity;this.Yk=0;this.Is=null;n.je.A.constructor.call(this,a,f,h);h||(Ke(this,c),Le(this,d),Me(this,e),this.setValue(this.getValue()))};n.g.object.S(n.je,n.dc);n.je.prototype.vl=0;n.je.wa=function(a){return new n.je(a.value,void 0,void 0,void 0,void 0,a)};n.je.prototype.Ol=!0;n.je.prototype.ve=function(a){n.je.A.ve.call(this,a);Ke(this,a.min);Le(this,a.max);Me(this,a.precision)};
function Ke(a,c){null==c?a.Xm=-Infinity:(c=Number(c),isNaN(c)||(a.Xm=c))}function Le(a,c){null==c?a.Vm=Infinity:(c=Number(c),isNaN(c)||(a.Vm=c))}function Me(a,c){null==c?a.Yk=0:(c=Number(c),isNaN(c)||(a.Yk=c));var d=a.Yk.toString(),e=d.indexOf(".");a.Is=-1==e?c?0:null:d.length-e-1}
n.je.prototype.Ii=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.Xm),this.Vm);this.Yk&&isFinite(a)&&(a=Math.round(a/this.Yk)*this.Yk);null!=this.Is&&(a=Number(a.toFixed(this.Is)));return a};n.je.prototype.Ov=function(){var a=n.je.A.Ov.call(this);-Infinity<this.Xm&&n.g.U.Ab(a,n.g.U.State.uE,this.Xm);Infinity>this.Vm&&n.g.U.Ab(a,n.g.U.State.tE,this.Vm);return a};
n.Pf.register("field_number",n.je);n.Fd=function(a,c,d,e,f){this.jj=n.Fd.VF;this.FF=a||"";this.Cc=new n.g.Ld(0,0);f&&this.ve(f);c&&(this.Pn=c);f||Ne(this,d,e)};n.g.object.S(n.Fd,n.$a);n.Fd.wa=function(a){var c=n.g.oc(a.variable);return new n.Fd(c,void 0,void 0,void 0,a)};b=n.Fd.prototype;b.Ol=!0;b.ve=function(a){n.Fd.A.ve.call(this,a);Ne(this,a.variableTypes,a.defaultType)};b.Ui=function(){if(!this.zd){var a=n.ba.rz(this.I.D,null,this.FF,this.EF);this.Bh(a.Qa())}};
b.vv=function(){return n.Fd.A.vv.call(this)&&(!this.Z().$q||"variables_get"!=this.I.type)};b.xm=function(a){var c=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";c=n.ba.rz(this.I.D,c,d,e);if(null!=e&&e!==c.type)throw Error("Serialized variable type with id '"+c.Qa()+"' had type "+c.type+", and does not match variable field that references it: "+n.R.Td(a)+".");this.setValue(c.Qa())};
b.oB=function(a){this.Ui();a.id=this.zd.Qa();a.textContent=this.zd.name;this.zd.type&&a.setAttribute("variabletype",this.zd.type);return a};b.qv=function(a){if(a.Ra)throw Error("Variable fields are not allowed to exist on shadow blocks.");n.Fd.A.qv.call(this,a)};b.getValue=function(){return this.zd?this.zd.Qa():null};b.kf=function(){return this.zd?this.zd.name:""};b.Ae=function(){return this.zd};b.Ez=function(){return this.zd?this.Pn:null};
b.Ii=function(a){if(null===a)return null;var c=n.ba.Ae(this.I.D,a);if(!c)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;c=c.type;var d;a:if(d=Oe(this)){for(var e=0;e<d.length;e++)if(c==d[e]){d=!0;break a}d=!1}else d=!0;return d?a:(console.warn("Variable type doesn't match this field!  Type was "+c),null)};b.Bh=function(a){this.zd=n.ba.Ae(this.I.D,a);n.Fd.A.Bh.call(this,a)};
function Oe(a){var c=a.dJ;if(null===c&&a.I&&a.I.D)return a.I.D.Ct();c=c||[""];if(0==c.length)throw a=a.kf(),Error("'variableTypes' of field variable "+a+" was an empty list");return c}
function Ne(a,c,d){d=d||"";if(null==c||void 0==c)c=null;else if(Array.isArray(c)){for(var e=!1,f=0;f<c.length;f++)c[f]==d&&(e=!0);if(!e)throw Error("Invalid default type '"+d+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.EF=d;a.dJ=c}
n.Fd.VF=function(){if(!this.zd)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.kf(),c=[];if(this.I&&this.I.D)for(var d=Oe(this),e=0;e<d.length;e++)c=c.concat(this.I.D.Bm(d[e]));c.sort(n.Ul.oy);d=[];for(e=0;e<c.length;e++)d[e]=[c[e].name,c[e].Qa()];d.push([n.m.RENAME_VARIABLE,n.px]);n.m.DELETE_VARIABLE&&d.push([n.m.DELETE_VARIABLE.replace("%1",a),n.nw]);return d};
n.Fd.prototype.BA=function(a){a=a.getValue();if(this.I&&this.I.D){if(a==n.px){n.ba.$u(this.I.D,this.zd);return}if(a==n.nw){this.I.D.Hi(this.zd.Qa());return}}this.setValue(a)};n.Fd.prototype.nq=function(){return!0};n.Pf.register("field_variable",n.Fd);n.le=function(a){this.M=a};b=n.le.prototype;b.ny=!0;b.Fo=17;b.Pd=null;b.Gm=null;function Sc(a){a.ud||(a.ud=n.g.j.K("g",{"class":"blocklyIconGroup"},null),a.M.Oc&&n.g.j.vb(a.ud,"blocklyIconGroupReadonly"),a.Xy(a.ud),a.M.Da().appendChild(a.ud),n.va(a.ud,"mouseup",a,a.Mt),a.Cj())}b.H=function(){n.g.j.removeNode(this.ud);this.ud=null;this.pb(!1);this.M=null};b.Cj=function(){};b.isVisible=function(){return!!this.Pd};b.Mt=function(a){this.M.D.kc()||this.M.Oc||n.g.cj(a)||this.pb(!this.isVisible())};
b.Sb=function(){this.isVisible()&&this.Pd.kd(this.M.style.zh)};function xa(a,c){a.Gm=c;a.isVisible()&&(a=a.Pd,a.Lb=c,a.bv&&kb(a))}function Xc(a){var c=a.M.Ua(),d=n.g.ze(a.ud);c=new n.g.O(c.x+d.x+a.Fo/2,c.y+d.y+a.Fo/2);n.g.O.Of(a.Gm,c)||xa(a,c)};n.re=function(a){n.re.A.constructor.call(this,a);Sc(this);this.En={}};n.g.object.S(n.re,n.le);n.re.prototype.ny=!1;n.re.prototype.Xy=function(a){n.g.j.K("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);n.g.j.K("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);n.g.j.K("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
n.re.QI=function(a){var c=n.g.j.K("text",{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:n.ua.Cd},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=n.g.j.K("tspan",{dy:"1em",x:n.ua.Cd},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};
n.re.prototype.pb=function(a){if(a!=this.isVisible())if(n.h.Ca(new n.h.Rb(this.M,"warningOpen",!a,a)),a){this.hq=n.re.QI(this.kf());this.Pd=new n.ua(this.M.D,this.hq,this.M.yb.Db,this.Gm,null,null);nb(this.Pd,this.M.id);if(this.M.J){a=this.hq.getBBox().width;for(var c=0,d;d=this.hq.childNodes[c];c++)d.setAttribute("text-anchor","end"),d.setAttribute("x",a+n.ua.Cd)}this.Sb()}else this.Pd.H(),this.hq=this.Pd=null};
n.re.prototype.rv=function(a,c){this.En[c]!=a&&(a?this.En[c]=a:delete this.En[c],this.isVisible()&&(this.pb(!1),this.pb(!0)))};n.re.prototype.kf=function(){var a=[],c;for(c in this.En)a.push(this.En[c]);return a.join("\n")};n.re.prototype.H=function(){this.M.ge=null;n.le.prototype.H.call(this)};n.tb.uH={};n.Ba={};n.Ba.me={};n.Ba.me.Aw=120;
n.gp([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",
name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);n.Ba.me.wE={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};n.Y.register("controls_whileUntil_tooltip",n.Y.To("MODE",n.Ba.me.wE));n.Ba.me.bC={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};n.Y.register("controls_flow_tooltip",n.Y.To("FLOW",n.Ba.me.bC));
n.Ba.me.uC={Fy:function(a){if(!this.Oc){var c=ca(this,"VAR").Ae(),d=c.name;if(!this.isCollapsed()&&null!=d){var e={enabled:!0};e.text=n.m.VARIABLES_SET_CREATE_GET.replace("%1",d);c=n.ba.rp(c);d=n.g.xml.createElement("block");d.setAttribute("type","variables_get");d.appendChild(c);e.Yb=n.za.aF(this,d);a.push(e)}}}};n.Y.Yu("contextMenu_newGetVariableBlock",n.Ba.me.uC);n.Y.register("controls_for_tooltip",n.Y.qs("%{BKY_CONTROLS_FOR_TOOLTIP}"));n.Y.register("controls_forEach_tooltip",n.Y.qs("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
n.Ba.me.bo={uD:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],di:!0,Dz:function(a){do{if(-1!=n.Ba.me.bo.uD.indexOf(a.type))return a;a=zc(a)}while(a);return null},onchange:function(a){if(this.D.kc&&!this.D.kc()&&a.type==n.h.Oq&&a.fc==this.id){var c=n.Ba.me.bo.Dz(this);this.tq(c?null:n.m.CONTROLS_FLOW_STATEMENTS_WARNING);if(!this.Oc){var d=n.h.Tb();n.h.ca(a.group);this.qf(c);n.h.ca(d)}}}};n.Y.Yu("controls_flow_in_loop_check",n.Ba.me.bo);n.tb.$d={};n.Ba.Math={};n.Ba.Math.Aw=230;
n.gp([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],
["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",
extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",
options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},
{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",
helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}",
"RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",
message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,
output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",
style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
n.Ba.Math.Tr={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
n.Y.register("math_op_tooltip",n.Y.To("OP",n.Ba.Math.Tr));n.Ba.Math.eD={yc:function(){var a=n.g.xml.createElement("mutation"),c="DIVISIBLE_BY"==A(this,"PROPERTY");a.setAttribute("divisor_input",c);return a},xe:function(a){a="true"==a.getAttribute("divisor_input");this.Mn(a)},Mn:function(a){var c=x(this,"DIVISOR");a?c||Bc(this,"DIVISOR").jd("Number"):c&&this.qj("DIVISOR")}};n.Ba.Math.fD=function(){Lb(ca(this,"PROPERTY"),function(a){a="DIVISIBLE_BY"==a;this.X().Mn(a)})};
n.Y.Zu("math_is_divisibleby_mutator",n.Ba.Math.eD,n.Ba.Math.fD);n.Y.register("math_change_tooltip",n.Y.qs("%{BKY_MATH_CHANGE_TOOLTIP}"));n.Ba.Math.pD={zB:function(a){"MODE"==a?this.L.jd("Array"):this.L.jd("Number")},yc:function(){var a=n.g.xml.createElement("mutation");a.setAttribute("op",A(this,"OP"));return a},xe:function(a){this.zB(a.getAttribute("op"))}};n.Ba.Math.oD=function(){Lb(ca(this,"OP"),function(a){this.zB(a)}.bind(this))};n.Y.Zu("math_modes_of_list_mutator",n.Ba.Math.pD,n.Ba.Math.oD);n.Se=function(a){n.Se.A.constructor.call(this,null);this.TA=a};n.g.object.S(n.Se,n.le);b=n.Se.prototype;b.ol=0;b.Qn=0;
b.Xy=function(a){n.g.j.K("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);n.g.j.K("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
n.g.j.K("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};b.Mt=function(a){this.M.vd()&&n.le.prototype.Mt.call(this,a)};
function Pe(a){a.Cn=n.g.j.K("svg",{x:n.ua.Cd,y:n.ua.Cd},null);if(a.TA.length)for(var c=n.g.xml.createElement("xml"),d=0,e;e=a.TA[d];d++){var f=n.g.xml.createElement("block");f.setAttribute("type",e);c.appendChild(f)}else c=null;d=new n.rc({disable:!1,parentWorkspace:a.M.D,media:a.M.D.options.dn,rtl:a.M.J,horizontalLayout:!1,renderer:a.M.D.options.on,rendererOverrides:a.M.D.options.pn});d.Ka=a.M.J?n.yg:n.Md;if(e=!!c)d.Yf=n.g.Ne.cp(c),d.Vd=a.wG.bind(a);a.s=new n.bb(d);a.s.Pm=!0;ib(a.s,n.h.LF);c=e?jd(a.s,
"g"):null;d=a.s.Ga("blocklyMutatorBackground");c&&d.insertBefore(c,a.s.qb);a.Cn.appendChild(d);return a.Cn}b.Cj=function(){n.Se.A.Cj.call(this);this.M.Oc||(this.M.vd()?this.ud&&n.g.j.Ac(this.ud,"blocklyIconGroupReadonly"):(this.pb(!1),this.ud&&n.g.j.vb(this.ud,"blocklyIconGroupReadonly")))};
function Qe(a){var c=2*n.ua.Cd,d=a.s.qb.getBBox();var e=a.M.J?-d.x:d.width+d.x;d=d.height+3*c;var f=a.s.Mb();f&&(f=f.vp(),d=Math.max(d,f.qd+20));e+=3*c;if(Math.abs(a.ol-e)>c||Math.abs(a.Qn-d)>c)a.ol=e,a.Qn=d,lb(a.Pd,e+c,d+c),a.Cn.setAttribute("width",a.ol),a.Cn.setAttribute("height",a.Qn);a.M.J&&a.s.qb.setAttribute("transform","translate("+a.ol+",0)");a.s.resize()}b.SH=function(){this.s&&gd(this.s)};
b.pb=function(a){if(a!=this.isVisible())if(n.h.Ca(new n.h.Rb(this.M,"mutatorOpen",!a,a)),a){this.Pd=new n.ua(this.M.D,Pe(this),this.M.yb.Db,this.Gm,null,null);nb(this.Pd,this.M.id);ob(this.Pd,this.SH.bind(this));var c=this.s.options.Yf;a=this.s.Mb();c&&(a.ra(this.s),a.show(c));this.Zg=this.M.om(this.s);c=t(this.Zg,!1);for(var d=0,e;e=c[d];d++)e.xa();this.Zg.rq(!1);this.Zg.Ks=!1;a?(c=2*a.rb,a=a.Qg()+c):a=c=16;this.M.J&&(a=-a);this.Zg.moveBy(a,c);if(this.M.gv){var f=this,h=this.M;h.gv(this.Zg);this.uq=
function(){h.gv(f.Zg)};ib(this.M.D,this.uq)}Qe(this);ib(this.s,this.iJ.bind(this));this.Sb()}else this.Cn=null,this.s.H(),this.Zg=this.s=null,this.Pd.H(),this.Pd=null,this.Qn=this.ol=0,this.uq&&(jb(this.M.D,this.uq),this.uq=null)};
b.iJ=function(a){if(a.type!=n.h.Tl&&(a.type!=n.h.Ij||"disabled"!=a.element)){if(!this.s.kc())for(var c=this.s.jc(!1),d=0;a=c[d];d++){var e=a.Ua(),f=ka(a);20>e.y+f.height&&a.moveBy(0,20-f.height-e.y)}this.Zg.D==this.s&&(n.h.ca(!0),a=this.M,c=(c=a.yc())&&n.R.Td(c),a.em(this.Zg),a.Wf(),a.xa(),n.Qf().ac&&n.navigation.HH(a),d=(d=a.yc())&&n.R.Td(d),c!=d&&n.h.Ca(new n.h.jh(a,"mutation",null,c,d)),this.s.kc()||Qe(this),n.h.ca(!1))}};
b.wG=function(){return{qd:0,cf:0,wc:0,Nc:0,Ib:this.Qn,Bb:this.ol-this.s.Mb().Qg(),Pb:0,Jb:0,Lc:0,vc:this.s.J?0:this.s.Mb().Qg()}};b.H=function(){this.M.Fe=null;n.le.prototype.H.call(this)};n.Se.Uu=function(a,c,d){if(a&&a.X().D){d=x(c,d).connection;var e=a.na();e&&e!=c||d.ka==a||(d.isConnected()&&d.disconnect(),d.connect(a))}};n.Se.jM=function(a){var c=null;if(a&&a.options){var d=a.options.nc;a.Xf?d&&d.options&&(c=d.options.nc):d&&(c=d)}return c};n.tb.sH={};n.Ba.Gd={};n.Ba.Gd.Aw=210;
n.gp([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",
helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",
message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",
tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",
name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
n.gp([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",
tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);n.Ba.Gd.Tr={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};n.Y.register("logic_op_tooltip",n.Y.To("OP",n.Ba.Gd.Tr));
n.Ba.Gd.oC={Ud:0,gf:0,di:!0,yc:function(){if(!this.Ud&&!this.gf)return null;var a=n.g.xml.createElement("mutation");this.Ud&&a.setAttribute("elseif",this.Ud);this.gf&&a.setAttribute("else",1);return a},xe:function(a){this.Ud=parseInt(a.getAttribute("elseif"),10)||0;this.gf=parseInt(a.getAttribute("else"),10)||0;this.lI()},om:function(a){var c=a.Vk("controls_if_if");c.Wf();for(var d=c.T,e=1;e<=this.Ud;e++){var f=a.Vk("controls_if_elseif");f.Wf();d.connect(f.V);d=f.T}this.gf&&(a=a.Vk("controls_if_else"),
a.Wf(),d.connect(a.V));return c},em:function(a){a=a.T.na();this.gf=this.Ud=0;for(var c=[null],d=[null],e=null;a;){switch(a.type){case "controls_if_elseif":this.Ud++;c.push(a.cJ);d.push(a.Av);break;case "controls_if_else":this.gf++;e=a.Av;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.T&&a.T.na()}this.Mn();this.UA(c,d,e)},gv:function(a){a=a.T.na();for(var c=1;a;){switch(a.type){case "controls_if_elseif":var d=x(this,"IF"+c),e=x(this,"DO"+c);a.cJ=d&&d.connection.ka;a.Av=e&&e.connection.ka;
c++;break;case "controls_if_else":e=x(this,"ELSE");a.Av=e&&e.connection.ka;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.T&&a.T.na()}},lI:function(){var a=[null],c=[null],d=null;x(this,"ELSE")&&(d=x(this,"ELSE").connection.ka);for(var e=1;x(this,"IF"+e);){var f=x(this,"DO"+e);a.push(x(this,"IF"+e).connection.ka);c.push(f.connection.ka);e++}this.Mn();this.UA(a,c,d)},Mn:function(){x(this,"ELSE")&&this.qj("ELSE");for(var a=1;x(this,"IF"+a);)this.qj("IF"+a),this.qj("DO"+a),a++;for(a=
1;a<=this.Ud;a++)D(Bc(this,"IF"+a).jd("Boolean"),n.m.CONTROLS_IF_MSG_ELSEIF),D(Cc(this,"DO"+a),n.m.CONTROLS_IF_MSG_THEN);this.gf&&D(Cc(this,"ELSE"),n.m.CONTROLS_IF_MSG_ELSE)},UA:function(a,c,d){for(var e=1;e<=this.Ud;e++)n.Se.Uu(a[e],this,"IF"+e),n.Se.Uu(c[e],this,"DO"+e);n.Se.Uu(d,this,"ELSE")}};n.Y.Zu("controls_if_mutator",n.Ba.Gd.oC,null,["controls_if_elseif","controls_if_else"]);
n.Ba.Gd.pC=function(){this.ld(function(){if(this.Ud||this.gf){if(!this.Ud&&this.gf)return n.m.CONTROLS_IF_TOOLTIP_2;if(this.Ud&&!this.gf)return n.m.CONTROLS_IF_TOOLTIP_3;if(this.Ud&&this.gf)return n.m.CONTROLS_IF_TOOLTIP_4}else return n.m.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};n.Y.register("controls_if_tooltip",n.Ba.Gd.pC);
n.Ba.Gd.rD={onchange:function(a){this.jn||(this.jn=[null,null]);var c=Fc(this,"A"),d=Fc(this,"B");c&&d&&!qa(c.L,d.L)&&(n.h.ca(a.group),a=this.jn[0],a!==c&&(w(c),!a||a.ff||a.Ra||x(this,"A").connection.connect(a.L)),c=this.jn[1],c!==d&&(w(d),!c||c.ff||c.Ra||x(this,"B").connection.connect(c.L)),this.hc(),n.h.ca(!1));this.jn[0]=Fc(this,"A");this.jn[1]=Fc(this,"B")}};n.Ba.Gd.qD=function(){this.ae(n.Ba.Gd.rD)};n.Y.register("logic_compare",n.Ba.Gd.qD);
n.Ba.Gd.sD={QA:null,onchange:function(a){var c=Fc(this,"THEN"),d=Fc(this,"ELSE"),e=this.L.ka;if((c||d)&&e)for(var f=0;2>f;f++){var h=1==f?c:d;h&&!qa(h.L,e)&&(n.h.ca(a.group),e===this.QA?(w(this),e.X().hc()):(w(h),h.hc()),n.h.ca(!1))}this.QA=e}};n.Y.Yu("logic_ternary",n.Ba.Gd.sD);n.o.sH={};n.o.controls_if=function(a){var c=0,d="";n.o.pe&&(d+=De(n.o.pe,a));do{var e=I(a,"IF"+c,n.o.ug)||"false";var f=Ee(a,"DO"+c);n.o.Kd&&(f=Be(De(n.o.Kd,a),n.o.pg)+f);d+=(0<c?" else ":"")+"if ("+e+") {\n"+f+"}";++c}while(x(a,"IF"+c));if(x(a,"ELSE")||n.o.Kd)f=Ee(a,"ELSE"),n.o.Kd&&(f=Be(De(n.o.Kd,a),n.o.pg)+f),d+=" else {\n"+f+"}";return d+"\n"};n.o.controls_ifelse=n.o.controls_if;
n.o.logic_compare=function(a){var c={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[A(a,"OP")],d="=="==c||"!="==c?n.o.gx:n.o.LD,e=I(a,"A",d)||"0";a=I(a,"B",d)||"0";return[e+" "+c+" "+a,d]};n.o.logic_operation=function(a){var c="AND"==A(a,"OP")?"&&":"||",d="&&"==c?n.o.xr:n.o.yr,e=I(a,"A",d);a=I(a,"B",d);if(e||a){var f="&&"==c?"true":"false";e||(e=f);a||(a=f)}else a=e="false";return[e+" "+c+" "+a,d]};n.o.logic_negate=function(a){var c=n.o.Bo;return["!"+(I(a,"BOOL",c)||"true"),c]};
n.o.logic_boolean=function(a){return["TRUE"==A(a,"BOOL")?"true":"false",n.o.zo]};n.o.logic_null=function(){return["null",n.o.zo]};n.o.logic_ternary=function(a){var c=I(a,"IF",n.o.Ao)||"false",d=I(a,"THEN",n.o.Ao)||"null";a=I(a,"ELSE",n.o.Ao)||"null";return[c+" ? "+d+" : "+a,n.o.Ao]};n.o.uH={};n.o.controls_repeat_ext=function(a){var c=ca(a,"TIMES")?String(Number(A(a,"TIMES"))):I(a,"TIMES",n.o.Jl)||"0",d=Ee(a,"DO");d=Fe(d,a);a="";var e=vd(n.o.fe,"count",n.Jc),f=c;c.match(/^\w+$/)||n.Ug(c)||(f=vd(n.o.fe,"repeat_end",n.Jc),a+="var "+f+" = "+c+";\n");return a+("for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+d+"}\n")};n.o.controls_repeat=n.o.controls_repeat_ext;
n.o.controls_whileUntil=function(a){var c="UNTIL"==A(a,"MODE"),d=I(a,"BOOL",c?n.o.Bo:n.o.ug)||"false",e=Ee(a,"DO");e=Fe(e,a);c&&(d="!"+d);return"while ("+d+") {\n"+e+"}\n"};
n.o.controls_for=function(a){var c=ud(A(a,"VAR"),n.Jc),d=I(a,"FROM",n.o.Jl)||"0",e=I(a,"TO",n.o.Jl)||"0",f=I(a,"BY",n.o.Jl)||"1",h=Ee(a,"DO");h=Fe(h,a);if(n.Ug(d)&&n.Ug(e)&&n.Ug(f)){var k=Number(d)<=Number(e);a="for ("+c+" = "+d+"; "+c+(k?" <= ":" >= ")+e+"; "+c;c=Math.abs(Number(f));a=(1==c?a+(k?"++":"--"):a+((k?" += ":" -= ")+c))+(") {\n"+h+"}\n")}else a="",k=d,d.match(/^\w+$/)||n.Ug(d)||(k=vd(n.o.fe,c+"_start",n.Jc),a+="var "+k+" = "+d+";\n"),d=e,e.match(/^\w+$/)||n.Ug(e)||(d=vd(n.o.fe,c+"_end",
n.Jc),a+="var "+d+" = "+e+";\n"),e=vd(n.o.fe,c+"_inc",n.Jc),a+="var "+e+" = ",a=n.Ug(f)?a+(Math.abs(f)+";\n"):a+("Math.abs("+f+");\n"),a=a+("if ("+k+" > "+d+") {\n")+(n.o.pg+e+" = -"+e+";\n"),a+="}\n",a+="for ("+c+" = "+k+"; "+e+" >= 0 ? "+c+" <= "+d+" : "+c+" >= "+d+"; "+c+" += "+e+") {\n"+h+"}\n";return a};
n.o.controls_forEach=function(a){var c=ud(A(a,"VAR"),n.Jc),d=I(a,"LIST",n.o.Jl)||"[]",e=Ee(a,"DO");e=Fe(e,a);a="";var f=d;d.match(/^\w+$/)||(f=vd(n.o.fe,c+"_list",n.Jc),a+="var "+f+" = "+d+";\n");d=vd(n.o.fe,c+"_index",n.Jc);e=n.o.pg+c+" = "+f+"["+d+"];\n"+e;return a+("for (var "+d+" in "+f+") {\n"+e+"}\n")};
n.o.controls_flow_statements=function(a){var c="";n.o.pe&&(c+=De(n.o.pe,a));n.o.Kd&&(c+=De(n.o.Kd,a));if(n.o.pe){var d=n.Ba.me.bo.Dz(a);d&&!d.di&&(c+=De(n.o.pe,d))}switch(A(a,"FLOW")){case "BREAK":return c+"break;\n";case "CONTINUE":return c+"continue;\n"}throw Error("Unknown flow statement.");};n.o.$d={};n.o.math_number=function(a){a=Number(A(a,"NUM"));return[a,0<=a?n.o.zo:n.o.Ml]};n.o.math_arithmetic=function(a){var c={ADD:[" + ",n.o.Vj],MINUS:[" - ",n.o.Ar],MULTIPLY:[" * ",n.o.zr],DIVIDE:[" / ",n.o.Kl],POWER:[null,n.o.Wc]}[A(a,"OP")],d=c[0];c=c[1];var e=I(a,"A",c)||"0";a=I(a,"B",c)||"0";return d?[e+d+a,c]:["Math.pow("+e+", "+a+")",n.o.Te]};
n.o.math_single=function(a){var c=A(a,"OP");if("NEG"==c)return a=I(a,"NUM",n.o.Ml)||"0","-"==a[0]&&(a=" "+a),["-"+a,n.o.Ml];a="SIN"==c||"COS"==c||"TAN"==c?I(a,"NUM",n.o.Kl)||"0":I(a,"NUM",n.o.ug)||"0";switch(c){case "ABS":var d="Math.abs("+a+")";break;case "ROOT":d="Math.sqrt("+a+")";break;case "LN":d="Math.log("+a+")";break;case "EXP":d="Math.exp("+a+")";break;case "POW10":d="Math.pow(10,"+a+")";break;case "ROUND":d="Math.round("+a+")";break;case "ROUNDUP":d="Math.ceil("+a+")";break;case "ROUNDDOWN":d=
"Math.floor("+a+")";break;case "SIN":d="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":d="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":d="Math.tan("+a+" / 180 * Math.PI)"}if(d)return[d,n.o.Te];switch(c){case "LOG10":d="Math.log("+a+") / Math.log(10)";break;case "ASIN":d="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":d="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":d="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+c);}return[d,n.o.Kl]};
n.o.math_constant=function(a){return{PI:["Math.PI",n.o.tg],E:["Math.E",n.o.tg],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",n.o.Kl],SQRT2:["Math.SQRT2",n.o.tg],SQRT1_2:["Math.SQRT1_2",n.o.tg],INFINITY:["Infinity",n.o.zo]}[A(a,"CONSTANT")]};
n.o.math_number_property=function(a){var c=I(a,"NUMBER_TO_CHECK",n.o.Ll)||"0",d=A(a,"PROPERTY");if("PRIME"==d){var e=He("mathIsPrime",["function "+n.o.ph+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+c+")";return[e,n.o.Te]}switch(d){case "EVEN":e=c+" % 2 == 0";break;case "ODD":e=c+" % 2 == 1";break;case "WHOLE":e=c+" % 1 == 0";break;case "POSITIVE":e=c+" > 0";break;case "NEGATIVE":e=c+" < 0";break;case "DIVISIBLE_BY":a=I(a,"DIVISOR",n.o.Ll)||"0",e=c+" % "+a+" == 0"}return[e,n.o.gx]};
n.o.math_change=function(a){var c=I(a,"DELTA",n.o.Vj)||"0";a=ud(A(a,"VAR"),n.Jc);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+c+";\n"};n.o.math_round=n.o.math_single;n.o.math_trig=n.o.math_single;
n.o.math_on_list=function(a){var c=A(a,"OP");switch(c){case "SUM":a=I(a,"LIST",n.o.tg)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=I(a,"LIST",n.o.Wc)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=I(a,"LIST",n.o.Wc)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":c=He("mathMean",["function "+n.o.ph+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=I(a,"LIST",n.o.ug)||"[]";a=c+"("+a+")";break;case "MEDIAN":c=
He("mathMedian",["function "+n.o.ph+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=I(a,"LIST",n.o.ug)||"[]";a=c+"("+a+")";break;case "MODE":c=He("mathModes",
["function "+n.o.ph+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);",
"  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=I(a,"LIST",n.o.ug)||"[]";a=c+"("+a+")";break;case "STD_DEV":c=He("mathStandardDeviation",["function "+n.o.ph+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=I(a,"LIST",n.o.ug)||"[]";a=c+"("+a+")";break;case "RANDOM":c=He("mathRandomList",["function "+n.o.ph+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=I(a,"LIST",n.o.ug)||"[]";a=c+"("+a+")";break;default:throw Error("Unknown operator: "+c);}return[a,n.o.Te]};n.o.math_modulo=function(a){var c=I(a,"DIVIDEND",n.o.Ll)||"0";a=I(a,"DIVISOR",n.o.Ll)||"0";return[c+" % "+a,n.o.Ll]};
n.o.math_constrain=function(a){var c=I(a,"VALUE",n.o.Wc)||"0",d=I(a,"LOW",n.o.Wc)||"0";a=I(a,"HIGH",n.o.Wc)||"Infinity";return["Math.min(Math.max("+c+", "+d+"), "+a+")",n.o.Te]};
n.o.math_random_int=function(a){var c=I(a,"FROM",n.o.Wc)||"0";a=I(a,"TO",n.o.Wc)||"0";return[He("mathRandomInt",["function "+n.o.ph+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+c+", "+a+")",n.o.Te]};n.o.math_random_float=function(){return["Math.random()",n.o.Te]};
n.o.math_atan2=function(a){var c=I(a,"X",n.o.Wc)||"0";return["Math.atan2("+(I(a,"Y",n.o.Wc)||"0")+", "+c+") / Math.PI * 180",n.o.Kl]};n.ie=function(a,c,d,e,f,h,k){if(!a)throw Error("Src value of an image field is required");a=n.g.oc(a);d=Number(n.g.oc(d));c=Number(n.g.oc(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.wm=!1;this.Po="";n.ie.A.constructor.call(this,a,null,k);k||(this.wm=!!h,this.Po=n.g.oc(e)||"");this.Cc=new n.g.Ld(c,d+n.ie.CE);this.XG=d;this.Gg=null;"function"==
typeof f&&(this.Gg=f);this.ed=null};n.g.object.S(n.ie,n.Ed);n.ie.prototype.vl="";n.ie.wa=function(a){return new n.ie(a.src,a.width,a.height,void 0,void 0,void 0,a)};n.ie.CE=1;b=n.ie.prototype;b.xl=!1;b.Sg=!1;b.ve=function(a){n.ie.A.ve.call(this,a);this.wm=!!a.flipRtl;this.Po=n.g.oc(a.alt)||""};b.Hm=function(){this.ed=n.g.j.K("image",{height:this.XG+"px",width:this.Cc.width+"px",alt:this.Po},this.sd);this.ed.setAttributeNS(n.g.j.Kc,"xlink:href",this.Gc);this.Gg&&(this.ed.style.cursor="pointer")};
b.yB=function(){};b.Ii=function(a){return"string"!=typeof a?null:a};b.Bh=function(a){this.Gc=a;this.ed&&this.ed.setAttributeNS(n.g.j.Kc,"xlink:href",String(this.Gc))};b.nz=function(){return this.wm};b.wj=function(){this.Gg&&this.Gg(this)};b.xp=function(){return this.Po};n.Pf.register("field_image",n.ie);var Re={},J,K,L,Se,M,Te,Ue,Ve,We,Xe,Ye,Ze,$e,af,bf,cf,df,ef,ff,gf,hf,N,O,P,Q,R,S,T;n.tb.ocean_moveForward={ra:function(){Ec(this,{message0:F("Ocean_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:F("Ocean_moveForwardTooltip")})}};n.o.ocean_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};
n.tb.ocean_turn={ra:function(){var a=[[F("Ocean_turnNorth"),"turnNorth"],[F("Ocean_turnNorthEast"),"turnNorthEast"],[F("Ocean_turnEast"),"turnEast"],[F("Ocean_turnSouthEast"),"turnSouthEast"],[F("Ocean_turnSouth"),"turnSouth"],[F("Ocean_turnSouthWest"),"turnSouthWest"],[F("Ocean_turnWest"),"turnWest"],[F("Ocean_turnNorthWest"),"turnNorthWest"]];this.kd(290);D(Dc(this),new n.$a(a),"DIR");this.dg(!0);this.bh(!0);this.ld(F("Ocean_turnTooltip"))}};
n.o.ocean_turn=function(a){return A(a,"DIR")+"('block_id_"+a.id+"');\n"};
n.tb.ocean_if={ra:function(){var a=[[F("Ocean_pathAhead"),"isPathForward"],[F("Ocean_pathNorth"),"isPathNorth"],[F("Ocean_pathNorthEast"),"isPathNorthEast"],[F("Ocean_pathEast"),"isPathEast"],[F("Ocean_pathSouthEast"),"isPathSouthEast"],[F("Ocean_pathSouth"),"isPathSouth"],[F("Ocean_pathSouthWest"),"isPathSouthWest"],[F("Ocean_pathWest"),"isPathWest"],[F("Ocean_pathNorthWest"),"isPathNorthWest"]];this.kd(210);D(Dc(this),new n.$a(a),"DIR");D(Cc(this,"DO"),F("Ocean_doCode"));this.ld(F("Ocean_ifTooltip"));
this.dg(!0);this.bh(!0)}};n.o.ocean_if=function(a){var c=A(a,"DIR")+"('block_id_"+a.id+"')";a=Ee(a,"DO");return"if ("+c+") {\n"+a+"}\n"};n.tb.ocean_forever={ra:function(){this.kd(120);D(D(Dc(this),F("Ocean_repeat")),new n.ie(jf.Vt,40,30));D(Cc(this,"DO"),F("Ocean_doCode"));this.dg(!0);this.ld(F("Ocean_whileTooltip"))}};n.o.ocean_forever=function(a){var c=Ee(a,"DO");n.o.Nj&&(c=n.o.Nj.replace(/%1/g,"'block_id_"+a.id+"'")+c);return"while (notDone()) {\n"+c+"}\n"};
n.tb.ocean_driftback={ra:function(){Ec(this,{message0:"%1",args0:["Drift Back"],previousStatement:null,nextStatement:null,colour:190,tooltip:F("ocean_driftbackTooltip")})}};n.o.ocean_driftback=function(a){return"driftback('block_id_"+a.id+"');\n"};n.tb.ocean_cut={ra:function(){Ec(this,{message0:"%1",args0:["Cut"],previousStatement:null,nextStatement:null,colour:160,tooltip:F("ocean_cutTooltip")})}};n.o.ocean_cut=function(a){return"cut('block_id_"+a.id+"');\n"};
n.tb.ocean_sail={ra:function(){Ec(this,{message0:"%1",args0:["Sail"],previousStatement:null,nextStatement:null,colour:190,tooltip:F("ocean_sailTooltip")})}};n.o.ocean_sail=function(a){return"sail('block_id_"+a.id+"');\n"};n.tb.ocean_drift={ra:function(){var a=[[F("Ocean_driftright"),"driftRight"],[F("Ocean_driftleft"),"driftLeft"]];this.kd(190);D(Dc(this),new n.$a(a),"DIR");this.dg(!0);this.bh(!0);this.ld(F("ocean_driftTooltip"))}};
n.o.ocean_drift=function(a){return A(a,"DIR")+"('block_id_"+a.id+"');\n"};n.tb.ocean_ifElse={ra:function(){this.kd(210);D(D(Dc(this),"If in the path"),new n.ie(jf.Bv,40,30));D(Cc(this,"DO"),F("Ocean_doCode"));D(Cc(this,"ELSE"),F("Ocean_elseCode"));this.ld(F("Ocean_ifelseTooltip"));this.dg(!0);this.bh(!0)}};n.o.ocean_ifElse=function(a){var c="rockinpath('block_id_"+a.id+"')",d=Ee(a,"DO");a=Ee(a,"ELSE");return"if ("+c+") {\n"+d+"} else {\n"+a+"}\n"};
n.tb.ocean_rect={ra:function(){this.kd(160);D(D(yc(Bc(this,"X").jd("Number"),n.ji),F("Ocean_rectDraw")),F("Ocean_x"));D(yc(Bc(this,"Y").jd("Number"),n.ji),F("Ocean_y"));D(yc(Bc(this,"WIDTH").jd("Number"),n.ji),F("Ocean_width"));D(yc(Bc(this,"HEIGHT").jd("Number"),n.ji),F("Ocean_height"));this.dg(!0);this.bh(!0);this.ld(F("Ocean_rectTooltip"))}};
n.o.ocean_rect=function(a){var c=I(a,"X",n.o.Wc)||"0",d=I(a,"Y",n.o.Wc)||"0",e=I(a,"WIDTH",n.o.Wc)||"0",f=I(a,"HEIGHT",n.o.Wc)||"0";return"rect("+c+", "+d+", "+e+", "+f+", 'block_id_"+a.id+"');\n"};n.tb.ocean_loop={ra:function(){this.kd(120);D(yc(Bc(this,"times").jd("Number"),n.ji),F("Ocean_repeatfor"));D(Cc(this,"DO"),F("Ocean_doCode"));this.dg(!0);this.bh(!0);this.ld(F("Ocean_loopTooltip"))}};
n.o.ocean_loop=function(a){var c=I(a,"times",n.o.Wc)||"0",d=Ee(a,"DO");n.o.Nj&&(d=n.o.Nj.replace(/%1/g,"'block_id_"+a.id+"' times"+c+"'")+d);return"for(var i = 1; i <= "+c+"; i++) {\n"+d+"}\n"};g=g||{};g.S=function(a,c){function d(){}d.prototype=c.prototype;a.A=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.Zx=function(e,f,h){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}};if(!g.userAgent){var kf="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(kf=navigator.userAgent);var lf=0==kf.indexOf("Opera");g.userAgent={UM:{jK:"ScriptEngine"in window},JD:lf,Qe:!lf&&-1!=kf.indexOf("MSIE"),Xr:!lf&&-1!=kf.indexOf("WebKit")}}
g.ME||(g.ME={assert:function(a){if(!a)throw Error("Assertion error");},iM:function(){}});g.j||(g.j={});
g.format||(g.format={GM:function(a,c){a=String(a);for(var d=[],e=0,f=!1,h=!1,k=0,l=0,m=0,p=a.length;m<p;++m){var q=a.charCodeAt(m);k>=c&&32!=q&&(d[e++]=a.substring(l,m),l=m,d[e++]=g.format.xE,k=0);if(f)62==q&&(f=!1);else if(h)switch(q){case 59:h=!1;++k;break;case 60:h=!1;f=!0;break;case 32:h=!1,k=0}else switch(q){case 60:f=!0;break;case 38:h=!0;break;case 32:k=0;break;default:++k}}d[e++]=a.substring(l);return d.join("")},xE:g.userAgent.Xr?"<wbr></wbr>":g.userAgent.JD?"&shy;":g.userAgent.Qe?"&#8203;":
"<wbr>"});g.Ap||(g.Ap={js:{}});g.Ap.js.mK=!1;g.Ap.js.HN=function(a,c){return"number"==typeof a?0<a?1:0>a?-1:c?null:0:null==a?null:a?-1:1};g.Ap.js.fM=function(a,c){var d=0,e=0,f=!1;a=(c?a.replace(mf,""):a).split(pf);for(c=0;c<a.length;c++){var h=a[c];qf.test(h)?(d++,e++):rf.test(h)?f=!0:sf.test(h)?e++:tf.test(h)&&(f=!0)}return 0==e?f?1:0:d/e>uf?-1:1};g.Ta||(g.Ta={ZM:function(a,c){a=String(a);return g.Ta.FD.test(a)?a.replace(/(\r\n|\r|\n)/g,c?"<br />":"<br>"):a},MN:encodeURIComponent,FD:/[\r\n]/});
g.HI||(g.HI={jN:function(a,c,d,e){return vf(a,c,e,!0,d)},kN:function(a,c,d,e){return vf(a,c,e,!1,d)},lN:function(a,c,d,e){a.innerHTML=c(d,null,e)},data:{}});var wf=g.ni?{pN:!0}:{},xf=g.ni?{qN:!0}:{};function yf(){throw Error("Do not instantiate directly");}yf.prototype.wy=null;yf.prototype.toString=function(){return this.content};var zf={};
function vf(a,c,d,e,f){var h=d||document;d=h.createElement("div");d.innerHTML=a(c||zf,void 0,f);if(1==d.childNodes.length&&(a=d.firstChild,!e||1==a.nodeType))return a;if(e)return d;for(e=h.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e}
var mf=/<[^>]*>|&[^;]+;/g,qf=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\u200f\ufb1d-\ufdff\ufe70-\ufefc]/,sf=/[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,rf=/^http:\/\/.*/,tf=/\d/,pf=/\s+/,uf=.4;function Af(a){if(null!=a)switch(a.wy){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Bf(){yf.call(this)}g.S(Bf,yf);
Bf.prototype.xy=wf;function Cf(a){return null!=a&&a.xy===wf?a:Df(String(String(a)).replace(Ef,Ff),Af(a))}
var Df=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.wy=e);return f}}(Bf),Gf={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Ff(a){return Gf[a]}var Ef=/[\x00\x22\x26\x27\x3c\x3e]/g;function Hf(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function If(){var a="skin="+Cf(Jf),c='<table width="100%"><tr><td style="display : none"><h1><span id="title">'+((Cd?'<a href="index.html?lang='+Cf(Ad)+'">':'<a href="./?lang='+Cf(Ad)+'">')+"Blockly Games</a> : "+Cf("Ocean")+"</span>");if(E){a=""+(a?Cf(a):"");for(var d=" &nbsp; ",e=1;11>e;e++){var f="?lang="+Cf(Ad)+"&level="+Cf(e)+(a?"&"+Cf(a):"");d+=" "+(e==E?'<span class="level_number level_done" id="level'+Cf(e)+'">'+Cf(e)+"</span>":10==e?'<a class="level_number" id="level'+Cf(e)+'" href="'+Cf(f)+
'">'+Cf(e)+"</a>":'<a class="level_dot" id="level'+Cf(e)+'" href="'+Cf(f)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Games_name">Bright Champs</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">CircumCircle</span><span id="Games_door">Door</span><span id="Games_findfriend">Find Friend</span><span id="Games_mazeperimeter">Perimeter</span><span id="Games_mazeangle">Angle</span><span id="Games_ocean">Ocean</span><span id="Games_bridge">Bridge</span><span id="Games_circus">Circus</span><span id="Games_start">Treasure Hunt</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Ocean_x">x</span><span id="Ocean_y">y</span><span id="Ocean_width">width</span><span id="Ocean_height">height</span><span id="Ocean_rectTooltip">Draws a rectangle at the specified location and with the specified width and height.</span><span id="ocean_cutTooltip">Cuts a piece of paper/cloth along the diagonal.</span><span id="ocean_sailTooltip">To sail the yatch in the ocean.</span><span id="Ocean_rectDraw">rectangle</span><span id="Ocean_moveForward">move forward</span><span id="Ocean_turnNorth">turn North</span><span id="Ocean_turnNorthEast">turn North-East</span><span id="Ocean_swimTooltip">Swim forward. Specify a direction (0-360).</span><span id="ocean_driftbackTooltip">Drift yatch back to the original path.</span><span id="ocean_driftTooltip">Drift yatch to left or right.</span><span id="Ocean_turnEast">turn East</span><span id="Ocean_turnSouthEast">turn South-East</span><span id="Ocean_turnSouth">turn South</span><span id="Ocean_turnSouthWest">turn South-West</span><span id="Ocean_turnWest">turn West</span><span id="Ocean_turnNorthWest">turn North-West</span><span id="Ocean_driftright">Drift Right</span><span id="Ocean_driftleft">Drift Left</span><span id="Ocean_doCode">do</span><span id="Ocean_elseCode">else</span><span id="Ocean_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Ocean_pathAhead">if path ahead</span><span id="Ocean_pathNorth">if path to the North</span><span id="Ocean_pathNorthEast">if path to the North-East</span><span id="Ocean_pathEast">if path to the East</span><span id="Ocean_pathSouthEast">if path to the South-East</span><span id="Ocean_pathSouth">if path to the South</span><span id="Ocean_pathSouthWest">if path to the South-West</span><span id="Ocean_pathWest">if path to the West</span><span id="Ocean_pathNorthWest">if path to the North-West</span><span id="Ocean_repeat">repeat until</span><span id="Ocean_repeatfor">repeat</span><span id="Ocean_moveForwardTooltip">Moves the player forward one space.</span><span id="Ocean_turnTooltip">Turns the player in the direction as in a Compass.</span><span id="Ocean_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Ocean_ifelseTooltip">If there\'s a rock in the path of the yatch do first block of actions, else do second block of actions.</span><span id="Ocean_whileTooltip">Repeat the enclosed actions until you reach the island.</span><span id="Ocean_loopTooltip">Repeat the enclosed actions a specified number of times.</span><span id="Ocean_capacity0">You have %0 blocks left.</span><span id="Ocean_capacity1">You have %1 block left.</span><span id="Ocean_capacity2">You have %2 blocks left.</span><span id="Ocean_pathLeft">East to West</span><span id="Ocean_pathRight">West to East</span></div>'+
(c+a+'</h1></td><td id ="brightChampsLogo" class ="companylogo"><a href="https://www.brightchamps.com/"><img id= "BClogo" src="Bright Champs logo.png" height="45px" ></a></td><td class ="farSide"><div id = "coinanimation" ><canvas id ="coin" width ="45px" height="45px" ></canvas><canvas id="coinvalue" width="80px" height="45px"></canvas><button id="helpButton">Help</button></div></td><td id="header_cta" class="farSide" width="325" style="display :none"><select id="languageMenu" style="display :none"></select>&nbsp;&nbsp;'+
('<button id="pegmanButton" style="display :none"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>'.xy===xf?"zSoyz":'<button id="pegmanButton" style="display :none"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>')+'</td></tr></table><div id="fullscreenloader" class="fsloverlay"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewBox="0 0 325 100"><path fill-opacity="0" stroke-width="1" stroke="#05eb9803" stroke-linecap="round" d="M10,10 l0,40 l8,0 c18,0,18,-25,0,-25 l-8,0 l8,0 c10,0,10,-13.5,0,-13.5 l-8,0z"/><path id="heart-pathB" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M10,60 l0,34 l8,0 c14,0,14,-19,0,-19 l-8,0 l8,0 c8,0,8,-15,0,-15 l-8,0z"/><path id="heart-pathr" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M38,95 l0,-20 m0,20 l0-10 q4-10,12,-10"/><path id="heart-pathi" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M60,95 l0,-20"/><path id="heart-patho" fill-opacity="0" stroke-width="4" stroke="#4360FD" d="M58,65 a 2,2 0 1,0 4,0 a 2,2 0 1,0 -4,0"/><path id="heart-pathg" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M72,95 q4,2,10,0 l0,-20 M72,95 q4,2,10,0 l0,-17 c-15,-10,-15,18,0,8"/><path id="heart-pathh" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M93,95 l0,-34 M93,95 l0,-10 c2,-13,15,-9,15,-2 l0,12"/><path id="heart-patht" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M120,64 l0,28 M120,64 l0,8 l-5,0 M120,64 l0,8 l7,0 M120,64 l0,28 c0,4,7,4,7,3.5"/><path id="heart-pathC" fill-opacity="0" stroke-width="6" stroke="#FD4343" stroke-linecap="round" d="M158,80 m0,-16 a16,16 0 1,0 3,28"/><path id="heart-pathH" fill-opacity="0" stroke-width="6" stroke="#FF8900" stroke-linecap="round" d="M171,95 l0,-34 M171,95 l0,-17 l19,0 l0,17 M171,95 l0,-17 l19,0 l0,-17"/><path id="heart-pathA" fill-opacity="0" stroke-width="6" stroke="#FFDA0B" stroke-linecap="round" d="M210.5,61 l-11,34 M210.5,61 l11,34 M210.5,61 l-8.735,27 l8.735,0 M210.5,61 l8.735,27 l-8.735,0"/><path id="heart-pathM" fill-opacity="0" stroke-width="6" stroke="#46DE60" stroke-linecap="round" d="M232,95 l0,-30 l12,15 l12,-15 l0,30"/><path id="heart-pathP" fill-opacity="0" stroke-width="6" stroke="#42C0FA" stroke-linecap="round" d="M267,95 l0,-34 l7,0 a9,9 0 0,1 0,18 l-7,0"/><path id="heart-pathS" fill-opacity="0" stroke-width="6" stroke="#F840B8" stroke-linecap="round" d="M299,68 m6.36,-6.36 a9,9 0 1,0 -8,16 l6,2  a9,9 0 0,1 -8,16 a9,9 0 0,1 -4,-3"/></svg></div><div id="miniloader" class="mloverlay"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewBox="0 0 325 200"><path fill-opacity="0" stroke-width="1" stroke="#05eb9803" stroke-linecap="round" d="M10,10 l0,40 l8,0 c18,0,18,-25,0,-25 l-8,0 l8,0 c10,0,10,-13.5,0,-13.5 l-8,0z"/><path id="heart-mpathB" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M10,110 l0,34 l8,0 c14,0,14,-19,0,-19 l-8,0 l8,0 c8,0,8,-15,0,-15 l-8,0z"/><path id="heart-mpathr" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M38,145 l0,-20 m0,20 l0-10 q4-10,12,-10"/><path id="heart-mpathi" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M60,145 l0,-20"/><path id="heart-mpatho" fill-opacity="0" stroke-width="4" stroke="#4360FD" d="M58,115 a 2,2 0 1,0 4,0 a 2,2 0 1,0 -4,0"/><path id="heart-mpathg" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M72,145 q4,2,10,0 l0,-20 M72,145 q4,2,10,0 l0,-17 c-15,-10,-15,18,0,8"/><path id="heart-mpathh" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M93,145 l0,-34 M93,145 l0,-10 c2,-13,15,-9,15,-2 l0,12"/><path id="heart-mpatht" fill-opacity="0" stroke-width="6" stroke="#4360FD" stroke-linecap="round" d="M120,114 l0,28 M120,114 l0,8 l-5,0 M120,114 l0,8 l7,0 M120,114 l0,28 c0,4,7,4,7,3.5"/><path id="heart-mpathC" fill-opacity="0" stroke-width="6" stroke="#FD4343" stroke-linecap="round" d="M158,130 m0,-16 a16,16 0 1,0 3,28"/><path id="heart-mpathH" fill-opacity="0" stroke-width="6" stroke="#FF8900" stroke-linecap="round" d="M171,145 l0,-34 M171,145 l0,-17 l19,0 l0,17 M171,145 l0,-17 l19,0 l0,-17"/><path id="heart-mpathA" fill-opacity="0" stroke-width="6" stroke="#FFDA0B" stroke-linecap="round" d="M210.5,111 l-11,34 M210.5,111 l11,34 M210.5,111 l-8.735,27 l8.735,0 M210.5,111 l8.735,27 l-8.735,0"/><path id="heart-mpathM" fill-opacity="0" stroke-width="6" stroke="#46DE60" stroke-linecap="round" d="M232,145 l0,-30 l12,15 l12,-15 l0,30"/><path id="heart-mpathP" fill-opacity="0" stroke-width="6" stroke="#42C0FA" stroke-linecap="round" d="M267,145 l0,-34 l7,0 a9,9 0 0,1 0,18 l-7,0"/><path id="heart-mpathS" fill-opacity="0" stroke-width="6" stroke="#F840B8" stroke-linecap="round" d="M299,118 m6.36,-6.36 a9,9 0 1,0 -8,16 l6,2  a9,9 0 0,1 -8,16 a9,9 0 0,1 -4,-3"/></svg></div><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgOcean" width="1200px" height="1000px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg><div id="capacityBubble"><div id="capacity"></div></div><div id="oceananimationdiv" width="1200" height="1000" ><div id="coordinates"><span id="x"></span><span id="y"></span></div><video id="video" src="ocean/E.mp4" style="display:none"></video><video id="video2" src="ocean/walking.mp4" style="display:none"></video><canvas id="axies" width="1200" height="1000" style="display: none" dir="ltr"></canvas><canvas id="canvasOcean" width="1200px" height="1000px"></canvas></div></div><table id="buttontable" width="500px"><tr><td style="text-align : centre"><button id="runButton" class="primary"title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton"  class="primary"title="Put the player back at the start of the level."><img src="common/1x1.gif" class="stop icon21"> Restart</button><button id="resetOceanButton"  class="primary"title="Put the player back at the start of the broken ocean."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><category name="Movement"><block type="ocean_moveForward"></block><block type="ocean_turn"><field name="DIR">turnNorth</field></block></category><category name="Draw"><block type="ocean_rect"><value name="X"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="Y"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="WIDTH"><shadow type="math_number"><field name="NUM">10</field></shadow></value><value name="HEIGHT"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="ocean_cut"></block></category><category name="Ocean"><block type="ocean_sail"></block><block type="ocean_drift"><field name="DIR">driftRight</field></block><block type="ocean_driftback"></block></category><category name="Loops"><block type="ocean_loop"><value name="times"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block><block type="ocean_forever"></block></category><category name="Logic"><block type="ocean_ifElse"></block></category></xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>')+
(Hf()+'</div><div id="help" class="dialogHiddenContent"><div id="helptext" style="padding-bottom: 0.7ex">Move to the table you see on the beach.</div>')+Hf()+'</div><div id="Quiz" class="dialogHiddenContent"><div id="dialogLinesText1" style="font-size: large; margin: 1em;"></div><input type = "text" id="containerCode1"></input><br><br><div id="dialogDoneText1" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons1" class="farSide" style="padding: 1ex 3ex 0"><button id="doneSubmit1">Submit</button><button id="doneOk1" class="secondary">OK</button></div></div>'+
(1==E?'<div id="dialogHelpStack" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Stack a couple of \'move forward\' blocks together to help me reach the goal.</td><td valign="top"><img src="ocean/help_stack.png" class="mirrorImg" height=63 width=136></td></tr></table></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>On this level, you need to stack together all of the blocks in the white workspace.<div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpRun" class="dialogHiddenContent"><table><tr><td>Run your program to see what happens.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="ocean/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':
2==E?'<div id="dialogHelpReset" class="dialogHiddenContent"><table><tr><td>Your program didn\'t solve the ocean. Press \'Reset\' and try again.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="ocean/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':3==E||4==E?(3==E?'<div id="dialogHelpRepeat" class="dialogHiddenContent"><table><tr><td><img src="ocean/help_up.png"></td><td>Reach the end of this path using only two blocks. Use \'repeat\' to run a block more than once.</td><td><img src="common/help.png"></td></tr></table></div>':
"")+'<div id="dialogHelpCapacity" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>You have used up all the blocks for this level. To create a new block, you first need to delete an existing block.</td></tr></table></div><div id="dialogHelpRepeatMany" class="dialogHiddenContent"><table><tr><td><img src="ocean/help_up.png"></td><td>You can fit more than one block inside a \'repeat\' block.</td><td><img src="common/help.png"></td></tr></table></div>':5==
E?'<div id="dialogHelpSkins" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td width="95%">Choose your favourite player from this menu.</td><td><img src="ocean/help_up.png"></td></tr></table></div>':6==E?'<div id="dialogHelpIf" class="dialogHiddenContent"><table><tr><td><img src="ocean/help_up.png"></td><td>An \'if\' block will do something only if the condition is true. Try turning left if there is a path to the left.</td><td><img src="common/help.png"></td></tr></table></div>':
7==E?'<div id="dialogHelpMenu" class="dialogHiddenContent"><table><tr><td><img src="ocean/help_up.png"></td><td id="helpMenuText">Click on %1 in the \'if\' block to change its condition.</td><td><img src="common/help.png"></td></tr></table></div>':9==E?'<div id="dialogHelpIfElse" class="dialogHiddenContent"><table><tr><td><img src="ocean/help_down.png"></td><td>If-else blocks will do one thing or the other.</td><td><img src="common/help.png"></td></tr></table></div>':10==E?'<div id="dialogHelpWallFollow" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Can you solve this complicated ocean? Try following the left-hand wall. Advanced programmers only!'+
Hf()+"</td></tr></table></div>":"")};var Jd="ocean",Kf=[void 0,Infinity,Infinity,2,5,5,5,5,10,7,10][E],Lf=[{vq:"ocean/pegman.png",WG:"ocean/Idle.png",nB:"ocean/tiles_path.png",dM:"ocean/empty.png",RH:"ocean/empty.png",ku:"ocean/empty.png",Vt:"ocean/islandmarker.png",Bv:"ocean/stonemarker.png",background:"ocean/beachF2.png",NE:"ocean/empty.png",rN:"ocean/scene.jpg",lA:"#000",ly:"ocean/coin-sprite.png",Pv:["ocean/win.mp3","ocean/win.ogg"],Cs:["ocean/fail_pegman.mp3","ocean/fail_pegman.ogg"],ep:1},{vq:"ocean/astro.png",nB:"ocean/tiles_astro.png",
ku:"ocean/marker.png",background:"ocean/bg_astro.jpg",Vt:"ocean/islandmarker.png",Bv:"ocean/stonemarker.png",lA:"#fff",ly:"ocean/coin.png",Pv:["ocean/win.mp3","ocean/win.ogg"],Cs:["ocean/fail_astro.mp3","ocean/fail_astro.ogg"],ep:2},{vq:"ocean/panda.png",nB:"ocean/tiles_panda.png",ku:"ocean/marker.png",Vt:"ocean/islandmarker.png",background:"ocean/bg_panda.jpg",Bv:"ocean/stonemarker.png",lA:"#000",ly:"ocean/coin.png",Pv:["ocean/win.mp3","ocean/win.ogg"],Cs:["ocean/fail_panda.mp3","ocean/fail_panda.ogg"],
ep:3}],Jf=Dd("skin",0,Lf.length),jf=Lf[Jf],U=[void 0,[[1,1,1,0,0,0],[1,1,4,1,0,0],[0,1,1,1,1,1],[0,0,0,1,1,1],[0,0,0,0,1,2]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,3,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,
0,0,0],[0,0,1,1,0,0,0,0],[0,2,1,0,0,0,0,0],[1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,0,0,0,1,0,0],[0,1,1,3,0,1,0,0],[0,0,0,0,0,1,0,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,1,1,0],[0,1,1,3,0,1,0,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],[[0,
0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,0,0,0],[0,1,0,0,1,1,0,0],[0,1,1,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,2,1,1,0,3,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0],[1,1,1,1,1,0,1,0],[0,1,0,1,0,2,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,0,3,0,1,0],[0,1,1,0,1,1,1,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,1,0,0,1,0],[0,2,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]][E],Mf=U.length,Nf=U[0].length,V=200,Of=80,Pf=80,Qf=0,W=[];
function Rf(){var a=document.getElementById("svgOcean");a.style.width=K+"px";a.style.height=L+"px";a.setAttribute("viewBox","0 0 "+K+" "+L);n.g.j.K("rect",{height:L,width:K,fill:"#F1EEE7","stroke-width":1,stroke:"#CCB"},a);var c=n.g.j.K("clipPath",{id:"bgwaterClipPath"},a);n.g.j.K("rect",{height:L/2,width:K,x:0,y:L/2},c);c=n.g.j.K("image",{id:"backgroundwater",height:L,width:50*K,"clip-path":"url(#bgwaterClipPath)"},a);c.setAttributeNS(n.g.j.Kc,"xlink:href",jf.NE);c=n.g.j.K("clipPath",{id:"bgClipPath"},
a);n.g.j.K("rect",{height:L,width:K,x:0,y:0},c);c=n.g.j.K("image",{id:"background",height:L,width:K,x:0,y:0,"clip-path":"url(#bgClipPath)"},a);c.setAttributeNS(n.g.j.Kc,"xlink:href",jf.background);c=2.45*V;var d=1.2*V;n.g.j.K("path",{id:"canvasPaper"},a);var e=document.getElementById("canvasPaper");e.setAttribute("d","M"+c+","+d+"L"+(c+V/4)+","+(d+V/4)+"L"+(c-V/16)+","+(d+V/2.5)+"L"+(c-V/3.9)+","+(d+V/8)+"  Z");e.style.stroke="white";e.style.strokeWidth="5";e.style.fill="white";n.g.j.K("image",{id:"finish",
height:180*wd,width:180*wd},a).setAttributeNS(n.g.j.Kc,"xlink:href",jf.ku);n.g.j.K("image",{id:"ocean",height:180*wd,width:180*wd},a).setAttributeNS(n.g.j.Kc,"xlink:href",jf.RH);c=n.g.j.K("clipPath",{id:"pegmanClipPath"},a);n.g.j.K("rect",{id:"clipRect",height:Of,width:Pf},c);n.g.j.K("image",{id:"pegman",height:Of,width:16*Pf,"clip-path":"url(#pegmanClipPath)"},a).setAttributeNS(n.g.j.Kc,"xlink:href",jf.WG)}
function Sf(){document.getElementById("miniloader").style.display="initial";window.miniloader();G.Tf(!0);Se=!0;M.clearRect(0,0,M.canvas.width,M.canvas.height);var a=new Image;a.src="ocean/scene.jpg";setTimeout(function(){M.drawImage(a,0,0);Te="true";Tf();document.getElementById("helptext").innerHTML="Use Sail command to sail the yatch until it reaches an island, further use logic block to avaoid obstacles in the path of the boat in a repeat until loop.";Uf()},2E3)}
function Tf(){var a=new Image;a.src="ocean/scene.png";M.drawImage(a,0,0);var c=document.getElementById("video");c.style.width=M.canvas.width+"px";c.style.height=M.canvas.height+"px";c.addEventListener("play",function(){c.style.display="none";var d=new Image;d.src="ocean/sky.jpg";var e=new Image;e.src="ocean/stonemarker.png";var f=new Image;f.src="ocean/beachstart.png";var h=new Image;h.src="ocean/yatch.png";(new Image).src="ocean/0230.png";var k=new Image;k.src="ocean/islandfinal.png";var l=M.canvas.width/
2-100,m=0;var p=M.canvas.height-200-2.4*m;var q=M.canvas.height-(485+1.8*m+.43*m),r=this;(function B(){if(r.paused||r.ended)r.ended&&(document.getElementById("miniloader").style.display="initial",window.miniloader(),ue(null),Ve=!0,setTimeout(Yf,2000.01));else{M.drawImage(r,0,0,M.canvas.width,M.canvas.height);M.drawImage(f,0,7*m,M.canvas.width,M.canvas.height);M.drawImage(d,0,.45*m,6E3,4E3-.45*m,0,0,M.canvas.width,M.canvas.height-(485+.43*m++));M.drawImage(k,400-2*m,410,200+6*m,2.95*m,400-2.01*m,q,200+6*m,
1.8*m);M.drawImage(e,.5*M.canvas.width,.55*M.canvas.height+.2*m,.7*m,.7*m);p=M.canvas.height-200-2*m;195>m&&(q=M.canvas.height-(485+1.8*m+.43*m));M.drawImage(h,l,p,200,200);var H=m;M.canvas.height-100-2*H>.55*M.canvas.height+.2*H&&(Xe=!0);M.canvas.height-200-2*H>.55*M.canvas.height+.2*H||M.canvas.height-200-2*H+150<.55*M.canvas.height+.2*H?Math.round(l)!=Math.round(M.canvas.width/2-100)&&"true"==We?(l+=.2*(-l+M.canvas.width/2-100),M.drawImage(e,.5*M.canvas.width,.55*M.canvas.height+.2*m,.7*m,.7*m),
ue(Vf[0][1])):ue(Wf[0][1]):"left"==Ue?(l-=2,ue(Xf[0][1])):"right"==Ue?(l+=5,ue(Xf[0][1])):p<=.55*M.canvas.height+.2*m+50&&(ue(null),document.getElementById("video").pause(),Ve=!0);setTimeout(B,100)}})()},0)}
function Yf(){M.clearRect(0,0,1200,1E3);var a=document.getElementById("video2");a.style.width=M.canvas.width+"px";a.style.height=M.canvas.height+"px";document.getElementById("video2").play();a.addEventListener("play",function(){var c=this;(function e(){c.paused||c.ended?c.ended&&G.oF():(M.drawImage(c,0,0,M.canvas.width,M.canvas.height),setTimeout(e,100))})()},0)}
function Zf(){function a(){l.style.top=Math.max(10,m.offsetTop-window.pageYOffset)+"px";l.style.left=k?"10px":K+20+"px";l.style.width=window.innerWidth-(K+40)+"px";l.style.paddingBottom=10*wd+"px";p.style.left=l.offsetLeft+"px";p.style.width=window.innerWidth-(K+40)+"px";p.style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("runButton").style.left=l.offsetLeft+"px";document.getElementById("runButton").style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("resetButton").style.left=
document.getElementById("runButton").offsetLeft+document.getElementById("runButton").offsetWidth+"px";document.getElementById("resetButton").style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("resetButton").style.marginRight="0px";document.getElementById("resetOceanButton").style.left=document.getElementById("resetButton").offsetLeft+document.getElementById("resetButton").offsetWidth+"px";document.getElementById("resetOceanButton").style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("resetOceanButton").style.marginRight=
"0px"}function c(q){return function(){window.sessionStorage&&(window.sessionStorage.qH=ne());location=location.protocol+"//"+location.host+location.pathname+"?lang="+Ad+"&level="+E+"&skin="+q}}document.body.innerHTML=If();me();document.querySelector("#pegmanButton>img").style.backgroundImage="url("+jf.vq+")";for(var d=document.getElementById("pegmanMenu"),e=0;e<Lf.length;e++)if(e!=Jf){var f=document.createElement("div"),h=document.createElement("img");h.src="common/1x1.gif";h.style.backgroundImage=
"url("+Lf[e].vq+")";f.appendChild(h);d.appendChild(f);n.ec(f,"mousedown",null,c(e))}n.ec(window,"resize",null,$f);d=document.getElementById("pegmanButton");n.ec(d,"mousedown",null,ag);d=document.getElementById("pegmanButtonArrow");e=document.createTextNode(n.$a.Mq);d.appendChild(e);var k=-1!=zd.indexOf(Ad);V*=wd;K=V*Nf;L=V*Mf;Of=200*wd;Pf=200*wd;var l=document.getElementById("blockly"),m=document.getElementById("visualization"),p=document.getElementById("buttontable");window.addEventListener("scroll",
function(){a(null);n.il(z);p.style.left=l.offsetLeft+"px";p.style.width=window.innerWidth-(K+40)+"px";p.style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("runButton").style.left=l.offsetLeft+"px";document.getElementById("runButton").style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("resetButton").style.left=document.getElementById("runButton").offsetLeft+document.getElementById("runButton").offsetWidth+"px";document.getElementById("resetButton").style.top=l.offsetTop+
L-p.offsetHeight+"px";document.getElementById("resetButton").style.marginRight="0px";document.getElementById("resetOceanButton").style.left=document.getElementById("resetButton").offsetLeft+document.getElementById("resetButton").offsetWidth+"px";document.getElementById("resetOceanButton").style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("resetOceanButton").style.marginRight="0px";document.getElementById("resetOceanButton").BN.display="none"});window.addEventListener("resize",a);
a(null);V/=wd;K=V/Nf;L=V/Mf;Of=200/wd;Pf=200/wd;V*=wd;K=V*Nf;L=V*Mf;Of=200*wd;Pf=200*wd;qe({maxBlocks:Kf,rtl:k,trashcan:!0,zoom:{oceanScale:1}});z.Nd.load(jf.Pv,"win");z.Nd.load(jf.Cs,"fail");Ge(n.o,"moveForward,moveBackward,turnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");d=document.getElementById("svgOcean");d.style.width=K+"px";d.style.height=L+"px";document.getElementById("oceananimationdiv").style.width=K+"px";document.getElementById("oceananimationdiv").style.height=
L+"px";document.getElementById("canvasOcean").style.width=K+"px";document.getElementById("canvasOcean").style.height=L+"px";document.getElementById("axies").style.width=K+"px";document.getElementById("axies").style.height=L+"px";bg();document.getElementById("canvasOcean").getContext("2d").drawImage(document.getElementById("axies"),0,0);Rf();h=new Image;h.src="ocean/scene.png";M=document.getElementById("canvasOcean").getContext("2d");Ue;Te="false";d=document.getElementById("miniloader");d.style.height=
L+"px";d.style.width=K+"px";d.style.left=m.offsetLeft+"px";d.style.top=m.offsetTop+"px";We="false";document.getElementById("pegman");d=document.getElementById("runButton");e=document.getElementById("resetButton");f=document.getElementById("resetOceanButton");e.style.minWidth||(e.style.minWidth=d.offsetWidth+"px",f.style.minWidth=d.offsetWidth+"px");for(d=0;d<Mf;d++)for(e=0;e<Nf;e++)2==U[d][e]?(Ye={x:e,y:d},Ze={x:e,y:d}):4==U[d][e]&&($e={x:e,y:d});cg(!0);ib(z,function(){var q=fb(z),r=document.getElementById("capacity");
if(Infinity==q)r.style.display="none";else{r.style.display="inline";r.innerHTML="";q=Number(q);var v=document.createElement("span");v.className="capacityNumber";v.appendChild(document.createTextNode(q));q=(0==q?F("Ocean_capacity0"):1==q?F("Ocean_capacity1"):F("Ocean_capacity2")).split(/%\d/);for(var B=0;B<q.length;B++)r.appendChild(document.createTextNode(q[B])),B!=q.length-1&&r.appendChild(v.cloneNode(!0))}});document.body.addEventListener("mousemove",dg,!0);Kd("runButton",eg);Kd("resetButton",fg);
Kd("resetOceanButton",gg);10!=E||Id()||(d=document.getElementById("dialogHelpWallFollow"),G.cl(d,null,!1,!0,{width:"30%",left:"35%",top:"12em"},G.Cv),G.cN(),setTimeout(G.Tx,3E5));document.getElementById("oceananimationdiv").addEventListener("mouseover",hg);document.getElementById("oceananimationdiv").addEventListener("mouseout",ig);document.getElementById("oceananimationdiv").addEventListener("mousemove",jg);ze();Ae();Kd("helpButton",Uf)}
function hg(){Se||(document.getElementById("coordinates").style.display="block")}function ig(){document.getElementById("coordinates").style.display="none"}
function jg(a){var c=-1!=zd.indexOf(Ad),d=a.clientX;a=a.clientY;c&&(d-=window.innerWidth);var e=document.getElementById("visualization");e=n.g.style.Eh(e);e=n.g.O.wk(e,n.g.style.Fz());d+=c?e.x:-e.x;a-=e.y;d=120*d/K;a=100*a/L;a=100-a;c&&(d+=120);10==E?(d=Math.round(d),a=Math.round(a)):(d=10*Math.round(d/10),a=10*Math.round(a/10));0<=d&&120>=d&&0<=a&&100>=a?(document.getElementById("x").textContent="x = "+d,document.getElementById("y").textContent="y = "+a):ig()}
function bg(){var a=document.getElementById("axies").getContext("2d");a.lineWidth=1;a.strokeStyle="black";a.fillStyle="black";a.font="normal 14px sans-serif";for(var c=2,d=.1;1.2>d;d+=.1)a.beginPath(),a.moveTo(a.canvas.width/1.2*d,a.canvas.height),a.lineTo(a.canvas.width/1.2*d,a.canvas.height-9*c),a.stroke(),a.fillText(Math.round(100*d),a.canvas.width/1.2*d+2,a.canvas.height-4);c=2;for(d=.1;1>d;d+=.1)a.beginPath(),a.moveTo(0,a.canvas.height/1*d),a.lineTo(9*c,a.canvas.height/1*d),a.stroke(),a.fillText(Math.round(100-
100*d),3,a.canvas.height/1*d-2)}
function kg(){var a=2.45*V,c=1.2*V,d=a+V/4,e=c+V/4,f=a-V/16,h=c+V/2.5,k=a-V/3.9,l=c+V/8,m=K,p=L,q=(0-a)/25,r=(0-c)/25,v=document.getElementById("canvasPaper");document.getElementById("pegman").style.display="none";for(var B=1;25>=B;B++)af=function(H){setTimeout(function(){v.setAttribute("d","M"+(a+H*q)+","+(c+H*r)+"L"+(d+H*(m-d)/25)+","+(e+H*(0-e)/25)+"L"+(f+H*(m-f)/25)+","+(h+H*(p-h)/25)+"L"+(k+H*(0-k)/25)+","+(l+H*(p-l)/25)+"  Z")},J*H)},af(B),setTimeout(function(){document.getElementById("svgOcean").style.display="none";
document.getElementById("oceananimationdiv").style.display="initial";document.getElementById("helptext").innerHTML="Draw a rectangle of width 80 and height 70. Then use the cut block to divide the rectangle into two parts.";Uf()},26*J);bf=27}
function lg(){var a=3,c=0,d,e=M.canvas.width/120,f=ef-cf/2,h=100-ff-df/2;f*=e;h*=e;var k=new Image;k.src="ocean/scissor2.png";for(var l=1;18>=l;l++)gf=function(m){setTimeout(function(){c=++c%a;d=300*c;17<=m&&(d=900,c=3,a=4);M.clearRect(0,0,M.canvas.width,M.canvas.height);M.beginPath();M.drawImage(document.getElementById("axies"),0,0);M.rect(f,h,cf*e,df*e);M.fill();M.drawImage(k,d,0,300,279,f+cf*e/18*m-30,h+df*e/18*m-30,60,60);M.drawImage(document.getElementById("axies"),0,0)},120*m)},gf(l);setTimeout(function(){M.clearRect(0,
0,M.canvas.width,M.canvas.height);M.drawImage(document.getElementById("axies"),0,0);M.beginPath();var m=10*Math.round((ef-cf/2-10)/10),p=10*Math.round((ff-df/2-10)/10),q=10*Math.round((ef-cf/2+5)/10);M.moveTo(m*e,p*e);M.lineTo(m*e+cf*e,p*e+df*e);M.lineTo(m*e,p*e+df*e);M.lineTo(m*e,p*e);M.moveTo(q*e,p*e);M.lineTo(q*e+cf*e,p*e+df*e);M.lineTo(q*e+cf*e,p*e);M.lineTo(q*e,p*e);M.fillStyle="#FFFDD0";M.fill()},2520);setTimeout(function(){mg()},2760);bf=120*21.01/J}
function ag(a){var c=document.getElementById("pegmanMenu");"block"==c.style.display?$f(a):we(a)||(a=document.getElementById("pegmanButton"),a.classList.add("buttonHover"),c.style.top=a.offsetTop+a.offsetHeight+"px",c.style.left=a.offsetLeft+"px",c.style.display="block",Re.Pu=n.ec(document.body,"mousedown",null,$f),(c=document.getElementById("dialogHelpSkins"))&&"dialogHiddenContent"!=c.className&&G.Tf(!1),ag.QL=!0)}
function $f(a){we(a)||(document.getElementById("pegmanMenu").style.display="none",document.getElementById("pegmanButton").classList.remove("buttonHover"),Re.Pu&&(n.Za(Re.Pu),delete Re.Pu))}
function cg(a){for(var c=0;c<W.length;c++)clearTimeout(W[c]);document.getElementById("oceananimationdiv").style.display="none";M.clearRect(0,0,M.canvas.width,M.canvas.height);M.drawImage(document.getElementById("axies"),0,0);document.getElementById("svgOcean").style.display="initial";document.getElementById("video").pause();document.getElementById("video").currentTime=0;Te="false";Ue=null;We="false";Ve=!1;c=2.45*V;var d=1.2*V,e=document.getElementById("canvasPaper");e.setAttribute("d","M"+c+","+d+
"L"+(c+V/4)+","+(d+V/4)+"L"+(c-V/16)+","+(d+V/2.5)+"L"+(c-V/3.9)+","+(d+V/8)+"  Z");e.style.stroke="white";e.style.strokeWidth="5";e.style.fill="white";W=[];Xf=[];Vf=[];hf=1;Wf=[];ng.clear();N=Ze.x;O=Ze.y;P=N;Q=O;bf=0;Xe=!1;document.getElementById("resetOceanButton").style.display="none";a?(R=1,og(),W.push(setTimeout(function(){J=120;X([N,O,2*R],[N,O,2*(R+1)],0);S=R=2;P=N;Q=O},5*J))):(Gd(),S=R=1,W.push(setTimeout(function(){J=130;document.getElementById("pegman").style.display="initial";X([N,O,2*
R],[N,O,2*(R+1)],0);S=R=2;P=N;Q=O},5*J)));a=document.getElementById("finish");a.style.display="none";a.setAttribute("x",V*($e.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",V*($e.y+.6)-a.getAttribute("height"));a=document.getElementById("ocean");a.setAttribute("x",V*(Ye.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",V*(Ye.y+.6)-a.getAttribute("height")/2);a=document.getElementById("look");a.style.display="none";a.parentNode.appendChild(a)}
function eg(a){if(!we(a)){G.Tf(!1);a=document.getElementById("runButton");var c=document.getElementById("resetButton"),d=document.getElementById("resetOceanButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px",d.style.minWidth=a.offsetWidth+"px");pg()}}
function qg(){for(var a=0;a<W.length;a++)clearTimeout(W[a]);document.getElementById("RectID1").style.display="none";document.getElementById("RectID2").style.display="none";document.getElementById("RectID3").style.display="none";document.getElementById("pegman").style.display="initial";W=[];N=$e.x;O=4;P=N;Q=O;bf=0;document.getElementById("dive").style.display="none";document.getElementById("dive").style.transform="rotate(0deg)";Gd();S=R=2;W.push(setTimeout(function(){J=130;X([N,O,2*R],[N,O,2*R],0);
S=R=1},5*J))}eg=function(a){if(!we(a)){G.Tf(!1);a=document.getElementById("runButton");var c=document.getElementById("resetButton"),d=document.getElementById("resetOceanButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px",d.style.minWidth=a.offsetWidth+"px");pg()}};function fg(a){we(a)||(kd(null),cg(!1))}function gg(a){we(a)||(kd(null),qg())}
function rg(a,c){var d=function(e){sg(0,e)};a.setProperty(c,"moveForward",a.createNativeFunction(d));d=function(e){sg(2,e)};a.setProperty(c,"moveBackward",a.createNativeFunction(d));d=function(e){tg(0,e)};a.setProperty(c,"turnNorth",a.createNativeFunction(d));d=function(e){tg(1,e)};a.setProperty(c,"turnNorthEast",a.createNativeFunction(d));d=function(e){tg(2,e)};a.setProperty(c,"turnEast",a.createNativeFunction(d));d=function(e){tg(3,e)};a.setProperty(c,"turnSouthEast",a.createNativeFunction(d));
d=function(e){tg(4,e)};a.setProperty(c,"turnSouth",a.createNativeFunction(d));d=function(e){tg(5,e)};a.setProperty(c,"turnSouthWest",a.createNativeFunction(d));d=function(e){tg(6,e)};a.setProperty(c,"turnWest",a.createNativeFunction(d));d=function(e){tg(7,e)};a.setProperty(c,"turnNorthWest",a.createNativeFunction(d));d=function(e){return ug(0,e)};a.setProperty(c,"isPathForward",a.createNativeFunction(d));d=function(e){return ug(1,e)};a.setProperty(c,"isPathNorth",a.createNativeFunction(d));d=function(e){return ug(2,
e)};a.setProperty(c,"isPathBackward",a.createNativeFunction(d));d=function(e){return ug(3,e)};a.setProperty(c,"isPathEast",a.createNativeFunction(d));d=function(e){return ug(4,e)};a.setProperty(c,"isPathSouth",a.createNativeFunction(d));d=function(e){return ug(5,e)};a.setProperty(c,"isPathWest",a.createNativeFunction(d));d=function(e){T.push(["Driftback",e])};a.setProperty(c,"driftback",a.createNativeFunction(d));d=function(e){return vg(1,e)};a.setProperty(c,"driftRight",a.createNativeFunction(d));
d=function(e){return vg(2,e)};a.setProperty(c,"driftLeft",a.createNativeFunction(d));d=function(){var e=1==Xe?!1:Xe=!0;return e};a.setProperty(c,"rockinpath",a.createNativeFunction(d));d=function(e){T.push(["Cut",e])};a.setProperty(c,"cut",a.createNativeFunction(d));d=function(e){T.push(["sailboat",e])};a.setProperty(c,"sail",a.createNativeFunction(d));d=function(e,f,h,k,l){ef=e;ff=f;cf=h;df=k;T.push(["Rectangle",l,e,f,h,k])};a.setProperty(c,"rect",a.createNativeFunction(d));a.setProperty(c,"notDone",
a.createNativeFunction(function(){return Ve?!1:!0}))}
function pg(){if("Interpreter"in window){T=[];n.selected&&sb(n.selected);var a=n.o;var c=z;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=n.Qf());var d=[];a.ra(c);c=c.jc(!0);for(var e=0,f;f=c[e];e++){var h=Ce(a,f);Array.isArray(h)&&(h=h[0]);h&&(f.L&&(h=a.bB(h),a.pe&&!f.di&&(h=De(a.pe,f)+h),a.Kd&&!f.di&&(h+=De(a.Kd,f))),d.push(h))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");le=a=d=d.replace(/[ \t]+\n/g,"\n");ne();Qf=0;a=new Interpreter(a,
rg);try{for(d=1E4;a.step();)if(0==d--)throw Infinity;Qf=P!=$e.x||Q!=$e.y?-1:1}catch(k){Infinity===k?Qf=2:!1===k?Qf=-2:(Qf=-2,alert(k))}1==Qf?(J=100,T.push(["finish",null])):J=130;W.push(setTimeout(wg,100))}else setTimeout(pg,250)}var ng=new Set,Xf=[],Vf=[],Wf=[];
function wg(){var a=T.shift();if(a){if(ng.has(a[1]))a=1;else{ue(a[1]);switch(a[0]){case "north":X([N,O,2*R],[N,O-1,2*R],0);O--;break;case "northeast":X([N,O,2*R],[N+1,O-1,2*R],0);N++;O--;break;case "east":X([N,O,2*R],[N+1,O,2*R],0);N++;break;case "southeast":X([N,O,2*R],[N+1,O+1,2*R],0);N++;O++;break;case "south":X([N,O,2*R],[N,O+1,2*R],0);O++;break;case "southwest":X([N,O,2*R],[N-1,O+1,2*R],0);N--;O++;break;case "west":X([N,O,2*R],[N-1,O,2*R],0);N--;break;case "northwest":X([N,O,2*R],[N-1,O-1,2*
R],0);N--;O--;break;case "look_north":xg(2);break;case "look_northeast":xg(1);break;case "look_east":xg(0);break;case "look_southeast":xg(7);break;case "look_south":xg(6);break;case "look_southwest":xg(5);break;case "look_west":xg(4);break;case "look_northwest":xg(3);break;case "fail_forward":xd-=10;yg(!0);break;case "fail_backward":xd-=10;yg(!1);break;case "North":X([N,O,2*R],[N,O,4],0);R=zg(R=2);break;case "NorthEast":X([N,O,2*R],[N,O,2],0);R=zg(R=1);break;case "East":X([N,O,2*R],[N,O,0],0);R=zg(R=
0);break;case "SouthEast":X([N,O,2*R],[N,O,14],0);R=zg(R=7);break;case "South":X([N,O,2*R],[N,O,12],0);R=zg(R=6);break;case "SouthWest":X([N,O,2*R],[N,O,10],0);R=zg(R=5);break;case "West":X([N,O,2*R],[N,O,8],0);R=zg(R=4);break;case "NorthWest":X([N,O,2*R],[N,O,6],0);R=zg(R=3);break;case "Rectangle":var c=M.canvas.width/120,d=100-a[3],e=a[2]*c;d*=c;var f=Math.max(a[4]*c,0);c=Math.max(a[5]*c,0);M.beginPath();M.rect(e-f/2,d-c/2,f,c);M.fillStyle="#FFFDD0";M.fill();bf=2;break;case "Cut":X([N,O,4],[N,O,
4],1);bf=120*21.01/J;break;case "sailboat":Wf.push(["sail",a[1]]);"true"==Te&&1==hf&&(Tf(),document.getElementById("video").play(),hf++);bf=.01;break;case "RightDrift":Ue="right";bf=.01;Xf.push(["right",a[1]]);break;case "LeftDrift":Ue="left";bf=.01;Xf.push(["left",a[1]]);break;case "Driftback":We="true";bf=.01;Vf.push(["back",a[1]]);break;case "finish":kg()}null!=T[0]&&T[0][1]==a[1]||ng.add(a[1]);a=bf}W.push(setTimeout(wg,J*a));bf=0}else ue(null)}
function dg(){document.getElementById("dialogDone")}
function X(a,c,d){if(0==d){var e=[c[0]-a[0],c[1]-a[1],c[2]-a[2]];e[2]=0<e[2]?8<e[2]?e[2]-16:e[2]:-8>e[2]?e[2]+16:e[2];var f=0>e[2]?e[2]:0;if(0<e[2])switch(Math.abs(e[2])){case 2:W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+1+f))},J));var h=2;break;case 4:W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+1+f))},J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+2+f))},2*J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+3+f))},3*J));h=4;break;
case 6:W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+1+f))},J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+2+f))},2*J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+3+f))},3*J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+4+f))},4*J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+5+f))},5*J));h=6;break;case 8:W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+1+f))},J)),W.push(setTimeout(function(){Y(a[0]+
2*e[0],a[1]+2*e[1],Z(a[2]+2+f))},2*J)),W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+3+f))},3*J)),W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+4+f))},4*J)),W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+5+f))},5*J)),W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+6+f))},6*J)),W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+7+f))},7*J)),h=8}else if(0>e[2])switch(Math.abs(e[2])){case 2:W.push(setTimeout(function(){Y(a[0]+2*
e[0],a[1]+2*e[1],Z(a[2]+1+f))},J));h=2;break;case 4:W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+3+f))},J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+2+f))},2*J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+1+f))},3*J));h=4;break;case 6:W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+5+f))},J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+4+f))},2*J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+
3+f))},3*J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+2+f))},4*J));W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+1+f))},5*J));h=6;break;case 8:W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+7+f))},J)),W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+6+f))},2*J)),W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+5+f))},3*J)),W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+4+f))},4*J)),W.push(setTimeout(function(){Y(a[0]+
2*e[0],a[1]+2*e[1],Z(a[2]+3+f))},5*J)),W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+2+f))},6*J)),W.push(setTimeout(function(){Y(a[0]+2*e[0],a[1]+2*e[1],Z(a[2]+1+f))},7*J)),h=8}else if(0==e[2]){var k=document.getElementById("pegman");k.setAttributeNS(n.g.j.Kc,"xlink:href","ocean/"+a[2]+".png");for(d=1;d<=(32*Math.abs(e[0])||32*Math.abs(e[1]));d++)gf=function(l){W.push(setTimeout(function(){a[0]==Ye.x&&a[1]==Ye.y&&9==l&&(k.style.display="initial");Y(a[0]+e[0]*l/32,a[1]+e[1]*l/32,Z(l-
1))},J*l))},gf(d);h=Math.abs(e[0])>Math.abs(e[1])?32*Math.abs(e[0])+4:32*Math.abs(e[1])+4;W.push(setTimeout(function(){k.setAttributeNS(n.g.j.Kc,"xlink:href","ocean/Idle.png");Y(c[0],c[1],Z(c[2]))},J*(h-2)))}bf=h+2;W.push(setTimeout(function(){Y(c[0],c[1],Z(c[2]))},J*(h+1)))}else 1==d?W.push(setTimeout(function(){lg()},J*bf)):2==d&&W.push(setTimeout(function(){Re.EN(Re.UL)},J*bf))}
function yg(a){var c=0,d=0;Gd();switch(R){case 2:d=-1;break;case 1:c=1;d=-1;break;case 0:c=1;break;case 7:d=c=1;break;case 6:d=1;break;case 5:c=-1;d=1;break;case 4:c=-1;break;case 3:d=c=-1}a||(c=-c,d=-d);if(1==jf.ep){c/=4;d/=4;var e=Z(2*R);Y(N+c,O+d,e);z.Nd.play("fail",.5);W.push(setTimeout(function(){Y(N,O,e)},J));W.push(setTimeout(function(){Y(N+c,O+d,e);z.Nd.play("fail",.5)},2*J));W.push(setTimeout(function(){Y(N,O,e)},3*J))}else{var f=10*(Math.random()-.5),h=(Math.random()-.5)/2;c+=(Math.random()-
.5)/4;d+=(Math.random()-.5)/4;c/=8;d/=8;var k=0;3==jf.ep&&(k=.01);W.push(setTimeout(function(){z.Nd.play("fail",.5)},2*J));a=function(m){return function(){Y(N+c*m,O+d*m,Z(4*R+h*m),f*m);d+=k}};for(var l=1;100>l;l++)W.push(setTimeout(a(l),J*l/2))}}function og(){var a=Z(2*R);Y(N,O,16);J=100;W.push(setTimeout(function(){Y(N,O,18)},J));W.push(setTimeout(function(){Y(N,O,16)},2*J));W.push(setTimeout(function(){Y(N,O,a)},3*J))}
function Y(a,c,d,e){var f=document.getElementById("pegman");f.setAttribute("x",a*V-d*Pf+1);var h=document.getElementById("clipRect");1==e?f.setAttribute("y",V*(c+.5)-d/18*(Of/2)-1):(f.setAttribute("y",V*(c+.5)-Of/2-8),h.setAttribute("x",a*V+1),h.setAttribute("y",f.getAttribute("y")))}function xg(a){a=(a-.25)*V;var c=(c-.35)*V;document.getElementById("look").setAttribute("transform","translate("+a+", "+c+") rotate(0 0 0) scale(1)")}function zg(a){a=Math.round(a)%8;0>a&&(a+=8);return a}
function Z(a){a=Math.round(a)%16;0>a&&(a+=16);return a}function sg(a,c){if(!ng.has(c)){if(!ug(a,null))throw T.push(["fail_"+(a?"backward":"forward"),c]),!1;switch(zg(S+a)){case 2:Q--;var d="north";break;case 1:P++;Q--;d="northeast";break;case 0:P++;d="east";break;case 7:P++;Q++;d="southeast";break;case 6:Q++;d="south";break;case 5:P--;Q++;d="southwest";break;case 4:P--;d="west";break;case 3:P--,Q--,d="northwest"}T.push([d,c])}}
function tg(a,c){if(!ng.has(c))switch(a){case 0:S=2;T.push(["North",c]);break;case 1:S=1;T.push(["NorthEast",c]);break;case 2:S=0;T.push(["East",c]);break;case 3:S=7;T.push(["SouthEast",c]);break;case 4:S=6;T.push(["South",c]);break;case 5:S=5;T.push(["SouthWest",c]);break;case 6:S=4;T.push(["West",c]);break;case 7:S=3,T.push(["NorthWest",c])}S=zg(S)}function vg(a,c){switch(a){case 1:T.push(["RightDrift",c]);break;case 2:T.push(["LeftDrift",c])}}
function ug(a,c){if(!ng.has(c))switch(zg(S+a)){case 2:var d=U[Q-1]&&U[Q-1][P];var e="look_north";break;case 1:d=U[Q-1]&&U[Q-1][P+1];e="look_northeast";break;case 0:d=U[Q][P+1];e="look_east";break;case 7:d=U[Q+1]&&U[Q+1][P+1];e="look_southeast";break;case 6:d=U[Q+1]&&U[Q+1][P];e="look_south";break;case 5:d=U[Q+1]&&U[Q+1][P-1];e="look_southwest";break;case 4:d=U[Q][P-1];e="look_west";break;case 3:d=U[Q-1]&&U[Q-1][P-1],e="look_northwest"}c&&T.push([e,c]);return 0!==d&&void 0!==d}
function Uf(){var a=document.getElementById("help"),c=document.getElementById("helpButton");G.cl(a,c,!0,!0,{width:"50%",left:"25%",top:"5em"},Ag);G.hB()}function Ag(){G.Cv()}
function mg(){var a=document.getElementById("Quiz"),c=document.getElementById("doneSubmit1"),d=document.getElementById("dialogLinesText1");d.textContent="";d.appendChild(document.createTextNode("Are the two triangles formed congruent?"));c.addEventListener("click",Bg);c=document.getElementById("doneOk1");c.style.display="none";c.addEventListener("click",Sf,!0);c.addEventListener("touchend",Sf,!0);G.cl(a,null,!1,!0,{width:"40%",left:"50%",top:"3em"},function(){document.body.removeEventListener("keydown",
Cg,!0)});document.body.addEventListener("keydown",Cg,!0);document.getElementById("dialogDoneText1").style.display="none";document.getElementById("dialogDoneText1").textContent="Sorry you entered wrong answer please try again!"}
function Bg(){var a=document.getElementById("containerCode1").value;"YES"==a||"Yes"==a||"yes"==a?(document.getElementById("dialogDoneText1").style.display="none",document.getElementById("doneSubmit1").style.display="none",document.getElementById("doneOk1").style.display="initial",xd+=30,Gd()):(xd-=10,Gd(),document.getElementById("dialogDoneText1").style.display="initial")}function Cg(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)a.stopPropagation(),a.preventDefault()}
window.addEventListener("load",function(){function a(){document.getElementById("storyMessageO").style.display="none";Zf()}document.getElementById("p1").textContent="Congratulations on making it so far into the game!!";document.getElementById("p2").textContent="phew!! you did good crossing that broken bridge and answering those tough questions I think those new concepts were very interesting for you.";document.getElementById("p3").textContent="The book says that there is a bench on the beach and that it has all the items you will require to make a boat for sailing in the ocean. But book warns that sailing is not so easy and you will have to use some of your skills and that it will keep you update with the use of help tab. So let's get ready for the next adventure";
document.getElementById("p4").textContent="(Quick tip : Use help commands whenever you are stuck on what to do!!)";document.getElementById("p2").style.top=document.getElementById("p1").offsetTop+document.getElementById("p1").offsetHeight+"px";document.getElementById("p3").style.top=document.getElementById("p2").offsetTop+document.getElementById("p2").offsetHeight+"px";document.getElementById("cross").addEventListener("click",a);document.getElementById("cross").addEventListener("touchend",a)});
