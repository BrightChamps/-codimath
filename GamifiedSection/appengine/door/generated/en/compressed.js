// Automatically generated file.  Do not edit!
'use strict';var b,g=g||{};g.global=this||self;g.MK=function(a){return void 0!==a};g.SK=function(a){return"string"==typeof a};g.IK=function(a){return"boolean"==typeof a};g.Yx=function(a){return"number"==typeof a};g.Vw=function(a,c,d){a=a.split(".");d=d||g.global;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===c?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=c};g.define=function(a,c){return c};g.vH=2012;g.oh=!0;
g.TH="en";g.eC=!0;g.YB=!1;g.zA=!g.oh;g.eH=!1;g.eL=function(a){if(g.Wx())throw Error("goog.provide cannot be used within a module.");g.uw(a)};g.uw=function(a,c){g.Vw(a,c)};g.wK=function(a){if(a&&a!=g.global)return g.wx(a.document);null===g.Jq&&(g.Jq=g.wx(g.global.document));return g.Jq};g.xB=/^[\w+/_-]+[=]{0,2}$/;g.Jq=null;g.wx=function(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&g.xB.test(a)?a:""};g.hC=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
g.module=function(a){if("string"!==typeof a||!a||-1==a.search(g.hC))throw Error("Invalid module identifier");if(!g.Vx())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");
if(g.Nc.Kl)throw Error("goog.module may only be called once per module.");g.Nc.Kl=a};g.module.get=function(){return null};g.module.qK=function(){return null};g.Nc=null;g.Wx=function(){return g.Vx()||g.IE()};g.Vx=function(){return!!g.Nc&&"goog"==g.Nc.type};g.IE=function(){if(g.Nc&&"es6"==g.Nc.type)return!0;var a=g.global.$jscomp;return a?"function"!=typeof a.Ar?!1:!!a.Ar():!1};g.module.Mq=function(){g.Nc.Mq=!0};
g.XJ=function(a){if(g.Nc)g.Nc.Kl=a;else{var c=g.global.$jscomp;if(!c||"function"!=typeof c.Ar)throw Error('Module with namespace "'+a+'" has been loaded incorrectly.');c=c.NF(c.Ar());g.ky[a]={exports:c,type:"es6",bF:a}}};g.AL=function(a){if(g.zA)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};g.hK=function(){};g.uK=function(a,c){a=a.split(".");c=c||g.global;for(var d=0;d<a.length;d++)if(c=c[a[d]],null==c)return null;return c};
g.AK=function(a,c){c=c||g.global;for(var d in a)c[d]=a[d]};g.GJ=function(){};g.fH=!0;g.ly=function(a){g.global.console&&g.global.console.error(a)};g.NF=function(){};g.oL=function(){return{}};g.EC="";g.aL=function(){};g.FJ=function(){throw Error("unimplemented abstract method");};g.HJ=function(a){a.Ur=void 0;a.pK=function(){if(a.Ur)return a.Ur;g.oh&&(g.Tx[g.Tx.length]=a);return a.Ur=new a}};g.Tx=[];g.SH=!0;g.OB=g.oh;g.ky={};g.ZG=!1;g.rJ="detect";g.JG=!1;g.sJ="";g.dC="transpile.js";g.Lr=null;
g.yG=function(){if(null==g.Lr){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(c){a=!1}g.Lr=a}return g.Lr};g.EG=function(a){return"(function(){"+a+"\n;})();\n"};
g.UK=function(a){var c=g.Nc;try{g.Nc={Kl:"",Mq:!1,type:"goog"};if(g.HE(a))var d=a.call(void 0,{});else if("string"===typeof a)g.yG()&&(a=g.EG(a)),d=g.UE.call(void 0,a);else throw Error("Invalid module definition");var e=g.Nc.Kl;if("string"===typeof e&&e)g.Nc.Mq?g.uw(e,d):g.OB&&Object.seal&&"object"==typeof d&&null!=d&&Object.seal(d),g.ky[e]={exports:d,type:"goog",bF:g.Nc.Kl};else throw Error('Invalid module name "'+e+'"');}finally{g.Nc=c}};g.UE=function(a){eval(a);return{}};
g.$K=function(a){a=a.split("/");for(var c=0;c<a.length;)"."==a[c]?a.splice(c,1):c&&".."==a[c]&&a[c-1]&&".."!=a[c-1]?a.splice(--c,2):c++;return a.join("/")};g.TE=function(a){if(g.global.kA)return g.global.kA(a);try{var c=new g.global.XMLHttpRequest;c.open("get",a,!1);c.send();return 0==c.status||200==c.status?c.responseText:null}catch(d){return null}};
g.LL=function(a,c,d){var e=g.global.$jscomp;e||(g.global.$jscomp=e={});var f=e.Gt;if(!f){var h=g.EC+g.dC,k=g.TE(h);if(k){(function(){(0,eval)(k+"\n//# sourceURL="+h)}).call(g.global);if(g.global.$gwtExport&&g.global.$gwtExport.$jscomp&&!g.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(g.global.$gwtExport));g.global.$jscomp.Gt=g.global.$gwtExport.$jscomp.transpile;e=g.global.$jscomp;f=e.Gt}}f||(f=e.Gt=function(l,
n){g.ly(n+" requires transpilation but no transpiler was found.");return l});return f(a,c,d)};
g.Wo=function(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c};g.bi=function(){return!1};g.NK=function(a){return null!=a};g.isArray=function(a){return"array"==g.Wo(a)};g.GK=function(a){var c=g.Wo(a);return"array"==c||"object"==c&&"number"==typeof a.length};g.LK=function(a){return g.NE(a)&&"function"==typeof a.getFullYear};g.HE=function(a){return"function"==g.Wo(a)};g.NE=function(a){var c=typeof a;return"object"==c&&null!=a||"function"==c};g.jE=function(a){return a[g.Bh]||(a[g.Bh]=++g.vG)};
g.BK=function(a){return!!a[g.Bh]};g.LF=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(g.Bh);try{delete a[g.Bh]}catch(c){}};g.Bh="closure_uid_"+(1E9*Math.random()>>>0);g.vG=0;g.nK=g.jE;g.iL=g.LF;g.ZC=function(a){var c=g.Wo(a);if("object"==c||"array"==c){if("function"===typeof a.clone)return a.clone();c="array"==c?[]:{};for(var d in a)c[d]=g.ZC(a[d]);return c}return a};g.HC=function(a,c,d){return a.call.apply(a.bind,arguments)};
g.GC=function(a,c,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(c,f)}}return function(){return a.apply(c,arguments)}};g.bind=function(a,c,d){g.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g.HC:g.GC;return g.bind.apply(null,arguments)};
g.cL=function(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice();e.push.apply(e,arguments);return a.apply(this,e)}};g.Nd=function(a,c){for(var d in c)a[d]=c[d]};g.now=g.eC&&Date.now||function(){return+new Date};
g.zK=function(a){if(g.global.execScript)g.global.execScript(a,"JavaScript");else if(g.global.eval){if(null==g.Kn){try{g.global.eval("var _evalTest_ = 1;")}catch(e){}if("undefined"!=typeof g.global._evalTest_){try{delete g.global._evalTest_}catch(e){}g.Kn=!0}else g.Kn=!1}if(g.Kn)g.global.eval(a);else{var c=g.global.document,d=c.createElement("SCRIPT");d.type="text/javascript";d.defer=!1;d.appendChild(c.createTextNode(a));c.head.appendChild(d);c.head.removeChild(d)}}else throw Error("goog.globalEval not available");
};g.Kn=null;g.kK=function(a,c){function d(h){h=h.split("-");for(var k=[],l=0;l<h.length;l++)k.push(e(h[l]));return k.join("-")}function e(h){return g.Cw[h]||h}if("."==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var f=g.Cw?"BY_WHOLE"==g.mD?e:d:function(h){return h};a=c?a+"-"+f(c):f(a);return g.global.jA?g.global.jA(a):a};g.wL=function(a,c){g.Cw=a;g.mD=c};
g.sK=function(a,c,d){d&&d.CK&&(a=a.replace(/</g,"&lt;"));c&&(a=a.replace(/\{\$([^}]+)}/g,function(e,f){return null!=c&&f in c?c[f]:e}));return a};g.tK=function(a){return a};g.dK=function(a,c,d){g.Vw(a,c,d)};g.cK=function(a,c,d){a[c]=d};g.S=function(a,c){function d(){}d.prototype=c.prototype;a.v=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.dw=function(e,f,h){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return c.prototype[f].apply(e,k)}};
g.dw=function(a,c,d){var e=arguments.callee.caller;if(g.YB||g.oh&&!e)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if("undefined"!==typeof e.v){for(var f=Array(arguments.length-1),h=1;h<arguments.length;h++)f[h-1]=arguments[h];return e.v.constructor.apply(a,f)}if("string"!=typeof c&&"symbol"!=typeof c)throw Error("method names provided to goog.base must be a string or a symbol");f=Array(arguments.length-
2);for(h=2;h<arguments.length;h++)f[h-2]=arguments[h];h=!1;for(var k=a.constructor.prototype;k;k=Object.getPrototypeOf(k))if(k[c]===e)h=!0;else if(h)return k[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("goog.base called from a method of one name to a method of a different name");};g.scope=function(a){if(g.Wx())throw Error("goog.scope is not supported within a module.");a.call(g.global)};
g.Fd=function(a,c){var d=c.constructor,e=c.kG;d&&d!=Object.prototype.constructor||(d=function(){throw Error("cannot instantiate an interface (no constructor defined).");});d=g.Fd.iD(d,a);a&&g.S(d,a);delete c.constructor;delete c.kG;g.Fd.bw(d.prototype,c);null!=e&&(e instanceof Function?e(d):g.Fd.bw(d,e));return d};g.Fd.NB=g.oh;
g.Fd.iD=function(a,c){function d(){var f=a.apply(this,arguments)||this;f[g.Bh]=f[g.Bh];this.constructor===d&&e&&Object.seal instanceof Function&&Object.seal(f);return f}if(!g.Fd.NB)return a;var e=!g.Fd.QE(c);return d};g.Fd.QE=function(a){return a&&a.prototype&&a.prototype[g.fC]};g.Fd.Zu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
g.Fd.bw=function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);for(var e=0;e<g.Fd.Zu.length;e++)d=g.Fd.Zu[e],Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])};g.HL=function(){};g.fC="goog_defineClass_legacy_unsealable";g.Iv="";g.Un=function(a){return a};g.jD=function(){var a=g.Iv+"#base",c=null,d=g.global.trustedTypes||g.global.yJ;if(!d||!d.createPolicy)return c;try{c=d.createPolicy(a,{createHTML:g.Un,createScript:g.Un,createScriptURL:g.Un,WJ:g.Un})}catch(e){g.ly(e.message)}return c};
g.vJ=g.Iv?g.jD():null;
var m={g:{}};m.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
m.K={};m.g.global.Blockly||(m.g.global.Blockly={});m.g.global.Blockly.Msg||(m.g.global.Blockly.Msg=m.K);
m.pj={};m.Lu=40;m.kv=125;m.AA=5;m.OA=10;m.jd=28;m.nA=m.jd;m.qA=8;m.kp=250;m.lp=10;m.lA=30;m.lB=750;m.RB=100;m.BA=!0;m.XA=.45;m.YA=.65;m.$i={width:96,height:124,url:"sprites.png"};m.hb=1;m.ae=2;m.bb=3;m.ce=4;m.Ge=5;m.gp=-1;m.fp=0;m.Tt=1;m.bH=0;m.cH=1;m.$G=1;m.aH=2;m.Wi=[];m.Wi[m.hb]=m.ae;m.Wi[m.ae]=m.hb;m.Wi[m.bb]=m.ce;m.Wi[m.ce]=m.bb;m.yh=0;m.Dk=1;m.fe=2;m.xh=3;m.ku=null;m.pp=1;m.lu=2;m.ej="VARIABLE";m.kC="VARIABLE_DYNAMIC";m.nv="PROCEDURE";m.vv="RENAME_VARIABLE_ID";m.mu="DELETE_VARIABLE_ID";m.g.qb={};m.g.qb.parse=function(a){a=String(a).toLowerCase().trim();var c=m.g.qb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?m.g.qb.ft(a,c,d):null};
m.g.qb.ft=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};m.g.qb.Lx=function(a){a=m.g.qb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
m.g.qb.Px=function(a){var c=m.XA,d=255*m.YA,e=0,f=0,h=0;if(0==c)h=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var n=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=n;f=d;h=a;break;case 2:e=a;f=d;h=c;break;case 3:e=a;f=n;h=d;break;case 4:e=c;f=a;h=d;break;case 5:e=d;f=a;h=n;break;case 6:case 0:e=d,f=c,h=a}}return m.g.qb.ft(Math.floor(e),Math.floor(f),Math.floor(h))};
m.g.qb.mq=function(a,c,d){a=m.g.qb.parse(a);if(!a)return null;c=m.g.qb.parse(c);if(!c)return null;a=m.g.qb.Lx(a);c=m.g.qb.Lx(c);return m.g.qb.ft(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};m.g.qb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};m.g.P=function(a,c){this.x=a;this.y=c};m.g.P.Pf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};m.g.P.Xq=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};m.g.P.YE=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};m.g.P.Yk=function(a,c){return new m.g.P(a.x-c.x,a.y-c.y)};m.g.P.sum=function(a,c){return new m.g.P(a.x+c.x,a.y+c.y)};m.g.P.prototype.scale=function(a){this.x*=a;this.y*=a;return this};m.g.P.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};m.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};m.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};m.g.Ga={};m.g.Ga.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};m.g.Ga.ut=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};m.g.Ga.nw=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||m.g.Ga.ut(a);for(var e=0;e<c;e++){for(var f=a[0][e],h=1;h<a.length;h++)if(f!=a[h][e])return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h][e])&&" "!=f)return d;return c};
m.g.Ga.ow=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||m.g.Ga.ut(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-e-1))&&" "!=f)return d;return c};m.g.Ga.Ez=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=m.g.Ga.GG(a[d],c);return a.join("\n")};
m.g.Ga.GG=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var h=e;var k=a;a=[];var l=d.length/f,n=1;for(e=0;e<d.length-1;e++)n<(e+1.5)/l?(n++,a[e]=!0):a[e]=!1;a=m.g.Ga.Fz(d,a,c);e=m.g.Ga.Ot(d,a,c);a=m.g.Ga.HG(d,a);f++}while(e>h);return k};
m.g.Ga.Ot=function(a,c,d){for(var e=[0],f=[],h=0;h<a.length;h++)e[e.length-1]+=a[h].length,!0===c[h]?(e.push(0),f.push(a[h].charAt(a[h].length-1))):!1===c[h]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(h=c=0;h<e.length;h++)c-=2*Math.pow(Math.abs(d-e[h]),1.5),c-=Math.pow(a-e[h],1.5),-1!=".?!".indexOf(f[h])?c+=d/3:-1!=",;)]}".indexOf(f[h])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
m.g.Ga.Fz=function(a,c,d){for(var e=m.g.Ga.Ot(a,c,d),f,h=0;h<c.length-1;h++)if(c[h]!=c[h+1]){var k=[].concat(c);k[h]=!k[h];k[h+1]=!k[h+1];var l=m.g.Ga.Ot(a,k,d);l>e&&(e=l,f=k)}return f?m.g.Ga.Fz(a,f,d):c};m.g.Ga.HG=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};m.g.zd=function(a,c){this.width=a;this.height=c};m.g.zd.Pf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};m.g.style={};m.g.style.Sf=function(a){if("none"!=m.g.style.Ax(a,"display"))return m.g.style.yx(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var h=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new m.g.zd(h,a)};m.g.style.yx=function(a){return new m.g.zd(a.offsetWidth,a.offsetHeight)};m.g.style.Ax=function(a,c){return m.g.style.getComputedStyle(a,c)||m.g.style.WD(a,c)||a.style&&a.style[c]};
m.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};m.g.style.WD=function(a,c){return a.currentStyle?a.currentStyle[c]:null};m.g.style.Oh=function(a){var c=new m.g.P(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new m.g.P(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
m.g.style.lE=function(){var a=document.body,c=document.documentElement;return new m.g.P(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};m.g.style.xL=function(a,c){a.style.display=c?"":"none"};m.g.style.QK=function(a){return"rtl"==m.g.style.Ax(a,"direction")};
m.g.style.TD=function(a){var c=m.g.style.getComputedStyle(a,"borderLeftWidth"),d=m.g.style.getComputedStyle(a,"borderRightWidth"),e=m.g.style.getComputedStyle(a,"borderTopWidth");a=m.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};m.g.style.TF=function(a,c){a=m.g.style.ZD(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
m.g.style.ZD=function(a,c){var d=m.g.style.Oh(a),e=m.g.style.Oh(c),f=m.g.style.TD(c),h=d.x-e.x-f.left;d=d.y-e.y-f.top;a=m.g.style.yx(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(h,Math.max(h-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new m.g.P(f,k)};m.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}m.g.userAgent.raw=a;var d=m.g.userAgent.raw.toUpperCase();m.g.userAgent.Zd=c("Trident")||c("MSIE");m.g.userAgent.ph=c("Edge");m.g.userAgent.fB=c("JavaFX");m.g.userAgent.QG=(c("Chrome")||c("CriOS"))&&!m.g.userAgent.ph;m.g.userAgent.bq=c("WebKit")&&!m.g.userAgent.ph;m.g.userAgent.SA=c("Gecko")&&!m.g.userAgent.bq&&!m.g.userAgent.Zd&&!m.g.userAgent.ph;m.g.userAgent.Li=c("Android");m.g.userAgent.sh=c("iPad");m.g.userAgent.Iu=c("iPod");m.g.userAgent.Hu=
c("iPhone")&&!m.g.userAgent.sh&&!m.g.userAgent.Iu;m.g.userAgent.mB=c("Macintosh");m.g.userAgent.aC=m.g.userAgent.sh||m.g.userAgent.Li&&!c("Mobile")||c("Silk");m.g.userAgent.Qu=!m.g.userAgent.aC&&(m.g.userAgent.Iu||m.g.userAgent.Hu||m.g.userAgent.Li||c("IEMobile"))})(m.g.global.navigator&&m.g.global.navigator.userAgent||"");
m.g.oF=function(a){a.preventDefault();a.stopPropagation()};m.g.ho=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
m.g.te=function(a){var c=new m.g.P(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(m.g.te.oC))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(m.g.te.pC))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
m.g.ml=function(a){for(var c=0,d=0;a;){var e=m.g.te(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new m.g.P(c,d)};m.g.te.oC=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;m.g.te.pC=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;m.g.Bl=function(a){return a.ctrlKey&&m.g.userAgent.mB?!0:2==a.button};
m.g.Ll=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};m.g.xx=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*m.Lu,y:a.deltaY*m.Lu};case 2:return{x:a.deltaX*m.kv,y:a.deltaY*m.kv}}};m.g.pG=function(a){return m.g.Dt(a,!0)};m.g.yc=function(a){if("string"!=typeof a)return a;a=m.g.Dt(a,!1);return a.length?String(a[0]):""};
m.g.jw=function(a){for(var c=m.K,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
m.g.Dt=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var h=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(d.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=m.g.Ga.startsWith(l,"BKY_")?
l.substring(4):null)&&l in m.K?(f=m.K[l],"string"==typeof f?Array.prototype.push.apply(d,m.g.Dt(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};m.g.Qf=function(){for(var a=m.g.Qf.fz.length,c=[],d=0;20>d;d++)c[d]=m.g.Qf.fz.charAt(Math.random()*a);return c.join("")};
m.g.Qf.fz="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
m.g.Xh=function(){if(void 0!==m.g.Xh.uq)return m.g.Xh.uq;if(!m.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=m.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
m.g.Xh.uq="none"!==c;return m.g.Xh.uq};m.g.Zy=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};m.g.kE=function(){var a=m.g.style.lE();return new m.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
m.g.Jk=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};m.g.cE=function(){var a=document.documentElement,c=window;return m.g.userAgent.Zd&&c.pageYOffset!=a.scrollTop?new m.g.P(a.scrollLeft,a.scrollTop):new m.g.P(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};m.g.wr=function(a,c){var d=Object.create(null),e=t(a,!0);c&&(a=w(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
m.g.SF=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new m.g.P(d-e.left,c-e.top);c=m.g.ml(a.tb);return m.g.P.Yk(d,c).scale(1/a.scale)};m.g.Io=function(a){var c="string"==typeof a?m.g.yc(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{zE:d,tl:m.g.qb.Px(d)};if(d=m.g.qb.parse(c))return{zE:null,tl:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};m.h={};m.h.Fx="";m.h.kc=!0;m.h.Tq=0;m.h.Im="create";m.h.ip=m.h.Im;m.h.ik="delete";m.h.$t=m.h.ik;m.h.gk="change";m.h.aA=m.h.gk;m.h.tk="move";m.h.au=m.h.tk;m.h.Mv="var_create";m.h.Nv="var_delete";m.h.Pv="var_rename";m.h.kn="ui";m.h.Gm="comment_create";m.h.fu="comment_delete";m.h.du="comment_change";m.h.Hm="comment_move";m.h.xu="finished_loading";m.h.eA=[m.h.ip,m.h.au,m.h.Gm,m.h.Hm];m.h.mk=[];m.h.Ia=function(a){m.h.isEnabled()&&(m.h.mk.length||setTimeout(m.h.LD,0),m.h.mk.push(a))};
m.h.LD=function(){for(var a=m.h.filter(m.h.mk,!0),c=m.h.mk.length=0,d;d=a[c];c++)if(d.wb){var e=m.ob.jl(d.wb);if(e){var f=d;if(f.kc)for(e.ck.push(f),e.Mo.length=0;e.ck.length>e.Ou&&0<=e.Ou;)e.ck.shift();for(var h=0;d=e.Lc[h];h++)d(f)}}};
m.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,h;h=a[f];f++)if(!h.bi()){var k=[h.type,h.ic,h.wb].join(" "),l=e[k],n=l?l.event:null;if(!l)e[k]={event:h,index:f},d.push(h);else if(h.type==m.h.tk&&l.index==f-1)n.oi=h.oi,n.ni=h.ni,n.Sg=h.Sg,l.index=f;else if(h.type==m.h.gk&&h.element==n.element&&h.name==n.name)n.newValue=h.newValue;else if(h.type!=m.h.kn||"click"!=h.element||"commentOpen"!=n.element&&"mutatorOpen"!=n.element&&"warningOpen"!=n.element)e[k]={event:h,
index:1},d.push(h)}a=d.filter(function(p){return!p.bi()});c||a.reverse();for(f=1;h=a[f];f++)h.type==m.h.gk&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};m.h.PJ=function(){for(var a=0,c;c=m.h.mk[a];a++)c.kc=!1};m.h.disable=function(){m.h.Tq++};m.h.enable=function(){m.h.Tq--};m.h.isEnabled=function(){return 0==m.h.Tq};m.h.Sb=function(){return m.h.Fx};m.h.ka=function(a){m.h.Fx="boolean"==typeof a?a?m.g.Qf():"":a};
m.h.kx=function(a){var c=[];a=t(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};
m.h.na=function(a){switch(a.type){case m.h.Im:var c=new m.h.Yd(null);break;case m.h.ik:c=new m.h.He(null);break;case m.h.gk:c=new m.h.mg(null,"","","","");break;case m.h.tk:c=new m.h.uh(null);break;case m.h.Mv:c=new m.h.Ad(null);break;case m.h.Nv:c=new m.h.ge(null);break;case m.h.Pv:c=new m.h.Ne(null,"");break;case m.h.kn:c=new m.h.ec(null,"","","");break;case m.h.Gm:c=new m.h.vf(null);break;case m.h.du:c=new m.h.Mi(null,"","");break;case m.h.Hm:c=new m.h.nh(null);break;case m.h.fu:c=new m.h.wf(null);
break;case m.h.xu:c=new m.h.Qi(void 0);break;default:throw Error("Unknown event type.");}c.na(a);c.wb=(void 0).id;return c};m.h.ZJ=function(a){if((a.type==m.h.tk||a.type==m.h.Im)&&a.wb){var c=m.ob.jl(a.wb);if(a=c.Hc(a.ic)){var d=a.getParent();if(d&&d.isEnabled())for(c=t(a,!1),a=0;d=c[a];a++)d.mf(!0);else if((a.L||a.T)&&!c.qd()){do a.mf(!1),a=w(a);while(a)}}}};
m.h.Abstract=function(){this.wb=void 0;this.group=m.h.Sb();this.kc=m.h.kc};m.h.Abstract.prototype.Qa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};m.h.Abstract.prototype.na=function(a){this.group=a.group};m.h.Abstract.prototype.bi=function(){return!1};m.h.Abstract.prototype.run=function(){};function x(a){if(a.wb)var c=m.ob.jl(a.wb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};m.g.object={};m.g.object.S=function(a,c){a.v=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};m.g.object.Nd=function(a,c){for(var d in c)a[d]=c[d]};m.g.object.tj=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?m.g.object.tj(a[d]||Object.create(null),c[d]):c[d];return a};m.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};m.g.xml={};m.g.xml.vB="https://developers.google.com/blockly/xml";m.g.xml.document=function(){return document};m.g.xml.createElement=function(a){return m.g.xml.document().createElementNS(m.g.xml.vB,a)};m.g.xml.createTextNode=function(a){return m.g.xml.document().createTextNode(a)};m.g.xml.nG=function(a){return(new DOMParser).parseFromString(a,"text/xml")};m.g.xml.Gd=function(a){return(new XMLSerializer).serializeToString(a)};m.h.Ee=function(a){m.h.Ee.v.constructor.call(this);this.ic=a.id;this.wb=a.C.id};m.g.object.S(m.h.Ee,m.h.Abstract);m.h.Ee.prototype.Qa=function(){var a=m.h.Ee.v.Qa.call(this);a.blockId=this.ic;return a};m.h.Ee.prototype.na=function(a){m.h.Ee.v.na.call(this,a);this.ic=a.blockId};m.h.mg=function(a,c,d,e,f){a&&(m.h.mg.v.constructor.call(this,a),this.element=c,this.name=d,this.oldValue=e,this.newValue=f)};m.g.object.S(m.h.mg,m.h.Ee);m.h.kh=m.h.mg;b=m.h.mg.prototype;b.type=m.h.gk;
b.Qa=function(){var a=m.h.mg.v.Qa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};b.na=function(a){m.h.mg.v.na.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};b.bi=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=x(this).Hc(this.ic);if(c)switch(c.xe&&c.xe.Tb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=ba(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.Wj(a||null);break;case "collapsed":c.ah(!!a);break;case "disabled":c.mf(!a);break;case "inline":c.zi(!!a);break;case "mutation":var d="";c.Pd&&(d=(d=c.Pd())&&m.O.Gd(d));if(c.Of){var e=m.O.Ei(a||"<mutation/>");c.Of(e)}m.h.Ia(new m.h.mg(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.ic)};m.h.Yd=function(a){a&&(m.h.Yd.v.constructor.call(this,a),this.xml=a.C.pa?m.O.oq(a):m.O.Gf(a),this.Th=m.h.kx(a))};m.g.object.S(m.h.Yd,m.h.Ee);m.h.Dm=m.h.Yd;m.h.Yd.prototype.type=m.h.Im;m.h.Yd.prototype.Qa=function(){var a=m.h.Yd.v.Qa.call(this);a.xml=m.O.Gd(this.xml);a.ids=this.Th;return a};
m.h.Yd.prototype.na=function(a){m.h.Yd.v.na.call(this,a);this.xml=m.O.Ei(a.xml);this.Th=a.ids};m.h.Yd.prototype.run=function(a){var c=x(this);if(a)a=m.g.xml.createElement("xml"),a.appendChild(this.xml),m.O.Zk(a,c);else{a=0;for(var d;d=this.Th[a];a++){var e=c.Hc(d);e?e.G(!1):d==this.ic&&console.warn("Can't uncreate non-existent block: "+d)}}};
m.h.He=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");m.h.He.v.constructor.call(this,a);this.Es=a.C.pa?m.O.oq(a):m.O.Gf(a);this.Th=m.h.kx(a)}};m.g.object.S(m.h.He,m.h.Ee);m.h.fA=m.h.He;m.h.He.prototype.type=m.h.ik;m.h.He.prototype.Qa=function(){var a=m.h.He.v.Qa.call(this);a.ids=this.Th;return a};m.h.He.prototype.na=function(a){m.h.He.v.na.call(this,a);this.Th=a.ids};
m.h.He.prototype.run=function(a){var c=x(this);if(a){a=0;for(var d;d=this.Th[a];a++){var e=c.Hc(d);e?e.G(!1):d==this.ic&&console.warn("Can't delete non-existent block: "+d)}}else a=m.g.xml.createElement("xml"),a.appendChild(this.Es),m.O.Zk(a,c)};m.h.uh=function(a){a&&(m.h.uh.v.constructor.call(this,a),a=ca(this),this.Cy=a.Jy,this.By=a.Qx,this.Bs=a.zw)};m.g.object.S(m.h.uh,m.h.Ee);m.h.fk=m.h.uh;b=m.h.uh.prototype;b.type=m.h.tk;
b.Qa=function(){var a=m.h.uh.v.Qa.call(this);this.oi&&(a.newParentId=this.oi);this.ni&&(a.newInputName=this.ni);this.Sg&&(a.newCoordinate=Math.round(this.Sg.x)+","+Math.round(this.Sg.y));return a};b.na=function(a){m.h.uh.v.na.call(this,a);this.oi=a.newParentId;this.ni=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Sg=new m.g.P(Number(a[0]),Number(a[1])))};b.ui=function(){var a=ca(this);this.oi=a.Jy;this.ni=a.Qx;this.Sg=a.zw};
function ca(a){var c=x(a).Hc(a.ic);a={};var d=c.getParent();if(d){if(a.Jy=d.id,c=da(d,c))a.Qx=c.name}else a.zw=c.Ua();return a}b.bi=function(){return this.Cy==this.oi&&this.By==this.ni&&m.g.P.Pf(this.Bs,this.Sg)};
b.run=function(a){var c=x(this),d=c.Hc(this.ic);if(d){var e=a?this.oi:this.Cy,f=a?this.ni:this.By;a=a?this.Sg:this.Bs;var h=null;if(e&&(h=c.Hc(e),!h)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&y(d);if(a)f=d.Ua(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.L||d.T;if(f){if(c=ea(h,f))var k=c.connection}else d.type==m.ce&&(k=h.X);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.ic)};m.A=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.qm=a;this.Lj=m.A.GE(a);this.ga=c;this.cp=null;(a=d||null)&&a.Hz&&(this.cp=a.Hz)};m.A.types={Hb:"field",dd:"block",ud:"input",vh:"output",wd:"next",yd:"previous",Ke:"stack",Oe:"workspace"};m.A.ug=!1;m.A.wA=-20;m.A.GE=function(a){switch(a){case m.A.types.yd:case m.A.types.wd:case m.A.types.ud:case m.A.types.vh:return!0}return!1};m.A.qj=function(a){return a?new m.A(m.A.types.Hb,a):null};
m.A.Ye=function(a){return a?a.type==m.hb||a.type==m.bb&&a.bf()?m.A.Fh(a.bf()):a.type==m.bb?new m.A(m.A.types.wd,a):a.type==m.ae?new m.A(m.A.types.vh,a):a.type==m.ce?new m.A(m.A.types.yd,a):null:null};m.A.Fh=function(a){return a&&a.connection?new m.A(m.A.types.ud,a.connection):null};m.A.Xe=function(a){return a?new m.A(m.A.types.dd,a):null};m.A.Uk=function(a){return a?new m.A(m.A.types.Ke,a):null};m.A.rj=function(a,c){return c&&a?new m.A(m.A.types.Oe,a,{Hz:c}):null};
m.A.Hq=function(a){var c=a.T||a.L;return c?m.A.Ye(c):m.A.Xe(a)};b=m.A.prototype;b.Va=function(){return this.qm};function fa(a,c){a=a.ga;a instanceof m.Rc||(a=a.V());if(!a||!a.C)return null;var d=a.Jc();a=d.C.Kb(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:m.A.Uk(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function ha(a){if(!a)return null;do var c=a.T&&a.T.sa();while(c&&w(c)==a&&(a=c));return(c=a.T||a.L)&&c.la&&c.la.bf()?m.A.Fh(c.la.bf()):m.A.Uk(a)}b.V=function(){return this.Va()===m.A.types.dd?this.ga:this.Va()===m.A.types.Ke?this.ga:this.Va()===m.A.types.Oe?null:this.ga.V()};
b.next=function(){switch(this.qm){case m.A.types.Ke:return fa(this,!0);case m.A.types.vh:var a=this.ga;return m.A.Xe(a.V());case m.A.types.Hb:a:{var c=this.ga,d=c.bf();a=c.V();c=d.Ta.indexOf(c)+1;d=a.N.indexOf(d);for(var e;e=a.N[d];d++){for(var f=e.Ta;c<f.length;){if(z(f[c])||m.A.ug){a=m.A.qj(f[c]);break a}c++}c=0;if(e.connection){a=m.A.Fh(e);break a}}a=null}return a;case m.A.types.ud:a:{c=this.ga.bf();a=c.V();for(c=a.N.indexOf(c)+1;d=a.N[c];c++){e=d.Ta;f=0;for(var h;h=e[f];f++)if(z(h)||m.A.ug){a=
m.A.qj(h);break a}if(d.connection){a=m.A.Fh(d);break a}}a=null}return a;case m.A.types.dd:return m.A.Ye(this.ga.X);case m.A.types.yd:return a=this.ga,m.A.Xe(a.V());case m.A.types.wd:return a=this.ga,m.A.Ye(a.la)}return null};
b.ef=function(){switch(this.qm){case m.A.types.Oe:var a=this.ga.Kb(!0);if(0<a.length)return m.A.Uk(a[0]);break;case m.A.types.Ke:a=this.ga;var c=a.T||a.L;return c?m.A.Ye(c):m.A.Xe(a);case m.A.types.dd:a=this.ga;a:{a=a.N;c=0;for(var d;d=a[c];c++){for(var e=d.Ta,f=0,h;h=e[f];f++)if(z(h)||m.A.ug){a=m.A.qj(h);break a}if(d.connection){a=m.A.Fh(d);break a}}a=null}return a;case m.A.types.ud:return m.A.Ye(this.ga.la)}return null};
b.Td=function(){switch(this.qm){case m.A.types.Ke:return fa(this,!1);case m.A.types.Hb:a:{var a=this.ga;var c=a.bf();var d=a.V();a=c.Ta.indexOf(a)-1;for(var e=d.N.indexOf(c),f;f=d.N[e];e--){if(f.connection&&f!==c){c=m.A.Fh(f);break a}for(f=f.Ta;-1<a;){if(z(f[a])||m.A.ug){c=m.A.qj(f[a]);break a}a--}0<=e-1&&(a=d.N[e-1].Ta.length-1)}c=null}return c;case m.A.types.ud:a:{c=this.ga.bf();d=c.V();for(a=d.N.indexOf(c);e=d.N[a];a--){if(e.connection&&e!==c){c=m.A.Fh(e);break a}e=e.Ta;f=e.length-1;for(var h;h=
e[f];f--)if(z(h)||m.A.ug){c=m.A.qj(h);break a}}c=null}return c;case m.A.types.dd:return c=this.ga,m.A.Ye(c.T||c.L);case m.A.types.yd:c=this.ga;if((c=c.la)&&!c.bf())return m.A.Ye(c);break;case m.A.types.wd:return c=this.ga,m.A.Xe(c.V())}return null};
b.hf=function(){switch(this.qm){case m.A.types.Ke:var a=this.ga,c=a.Ua();return m.A.rj(a.C,new m.g.P(c.x,c.y+m.A.wA));case m.A.types.vh:return a=this.ga,(c=a.la)?m.A.Ye(c):m.A.Uk(a.V());case m.A.types.Hb:return m.A.Xe(this.ga.V());case m.A.types.ud:return a=this.ga,m.A.Xe(a.V());case m.A.types.dd:return a=this.ga,ha(a);case m.A.types.yd:return a=this.ga,ha(a.V());case m.A.types.wd:return a=this.ga,ha(a.V())}return null};m.g.j={};m.g.j.zk="http://www.w3.org/2000/svg";m.g.j.Rm="http://www.w3.org/1999/xhtml";m.g.j.Bd="http://www.w3.org/1999/xlink";m.g.j.Af={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};m.g.j.ke=null;m.g.j.rq=0;m.g.j.rn=null;m.g.j.J=function(a,c,d){a=document.createElementNS(m.g.j.zk,a);for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
m.g.j.yb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};m.g.j.Pc=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};m.g.j.Mr=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};
m.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};m.g.j.Ij=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};m.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&m.g.j.Af.DOCUMENT_POSITION_CONTAINED_BY)};m.g.j.Xl=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};m.g.j.em=function(){m.g.j.rq++;m.g.j.ke||(m.g.j.ke={})};
m.g.j.fm=function(){m.g.j.rq--;m.g.j.rq||(m.g.j.ke=null)};m.g.j.yK=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(m.g.j.ke&&(d=m.g.j.ke[c]))return d;try{d=m.g.userAgent.Zd||m.g.userAgent.ph?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}m.g.j.ke&&(m.g.j.ke[c]=d);return d};m.g.j.Br=function(a,c,d,e){return m.g.j.dE(a,c+"pt",d,e)};
m.g.j.dE=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var h;if(m.g.j.ke&&(h=m.g.j.ke[a]))return h;m.g.j.rn||(h=document.createElement("canvas"),h.className="blocklyComputeCanvas",document.body.appendChild(h),m.g.j.rn=h.getContext("2d"));m.g.j.rn.font=d+" "+c+" "+e;h=m.g.j.rn.measureText(f).width;m.g.j.ke&&(m.g.j.ke[a]=h);return h};
m.g.j.ZE=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.je=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};m.cb={};m.cb.Vq=0;m.cb.Fn=null;m.cb.zD=function(a){var c=a.C,d=a.oa();c.ie.play("delete");a=ia(c,d);d=d.cloneNode(!0);d.tG=a.x;d.uG=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");A(c).appendChild(d);d.cw=d.getBBox();m.cb.Pw(d,c.H,new Date,c.scale)};m.cb.Pw=function(a,c,d,e){var f=(new Date-d)/150;1<f?m.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.tG+(c?-1:1)*a.cw.width*e/2*f)+","+(a.uG+a.cw.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(m.cb.Pw,10,a,c,d,e))};
m.cb.dD=function(a){var c=a.C,d=c.scale;c.ie.play("click");if(!(1>d)){var e=ia(c,a.oa());a.L?(e.x+=(a.H?3:-3)*d,e.y+=13*d):a.T&&(e.x+=(a.H?-23:23)*d,e.y+=3*d);a=m.g.j.J("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},A(c));m.cb.tw(a,new Date,d)}};m.cb.tw=function(a,c,d){var e=(new Date-c)/150;1<e?m.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,m.cb.Vq=setTimeout(m.cb.tw,10,a,c,d))};
m.cb.yD=function(a){a.C.ie.play("disconnect");if(!(1>a.C.scale)){var c=B(a).height;c=Math.atan(10/c)/Math.PI*180;a.H||(c*=-1);m.cb.Ow(a.oa(),c,new Date)}};m.cb.Ow=function(a,c,d){var e=(new Date-d)/200;1<e?a.cm="":(a.cm="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",m.cb.Fn=a,m.cb.Vq=setTimeout(m.cb.Ow,10,a,c,d));a.setAttribute("transform",a.om+a.cm)};m.cb.Wq=function(){if(m.cb.Fn){clearTimeout(m.cb.Vq);var a=m.cb.Fn;a.cm="";a.setAttribute("transform",a.om);m.cb.Fn=null}};m.h.ec=function(a,c,d,e){m.h.ec.v.constructor.call(this);this.ic=a?a.id:null;this.wb=a?a.C.id:void 0;this.element=c;this.oldValue=d;this.newValue=e;this.kc=!1};m.g.object.S(m.h.ec,m.h.Abstract);m.h.ec.prototype.type=m.h.kn;m.h.ec.prototype.Qa=function(){var a=m.h.ec.v.Qa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.ic&&(a.blockId=this.ic);return a};
m.h.ec.prototype.na=function(a){m.h.ec.v.na.call(this,a);this.element=a.element;this.newValue=a.newValue;this.ic=a.blockId};
m.$d=function(a){this.jg=m.selected=a;this.o=a.C;this.Pj=this.Yr=null;this.dl=ka(this,this.jg);this.wc=this.Ab=null;this.tf=!1;this.bl=this.Pr=this.gi=null;this.pn=la(this)};m.$d.Xi={Ap:0,bB:1,wv:2};m.$d.prototype.G=function(){this.pn.length=0;m.h.disable();try{this.dl&&this.dl.G(),this.Pj&&this.Pj.G()}finally{m.h.enable()}};
m.$d.prototype.update=function(a,c){var d=this.Ab&&this.wc?m.nA:m.jd;for(var e=null,f=null,h=0;h<this.pn.length;h++){var k=this.pn[h],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.Lo)}e=(d={closest:e,local:f,Lo:d},!!d.closest)&&c!=m.lu;if((this.tf=!!c&&!this.jg.getParent()&&this.jg.pd()&&!e)||ma(this,d,a)){m.h.disable();d.closest?(a=this.Ab!=d.closest,c=this.wc!=d.local,this.Ab&&this.wc&&(a||c||this.tf)&&na(this)):na(this);this.wc=this.Ab=this.gi=null;if(!this.tf&&(a=d.closest,c=d.local,
a))if(a==this.Ab||a.V().ve())console.log("Trying to connect to an insertion marker");else{this.Ab=a;this.wc=c;a=this.Ab;d=this.wc;c=this.jg;d.type==m.ae||d.type==m.ce?((e=!a.isConnected())||(e=a.sa(),d.type==m.ae?(d=e.L,c=m.ma.ey(c,e)):(d=e.T,c=c.lo()),e=c?oa(d,c):!1),c=e?m.$d.Xi.Ap:m.$d.Xi.wv):c=m.$d.Xi.Ap;switch(c){case m.$d.Xi.bB:this.Pr=this.Ab.V();break;case m.$d.Xi.Ap:e=this.wc;c=this.Ab;d=this.Yr&&e==this.Yr?this.Pj:this.dl;e=d.Cr(e.V(),e);if(e==this.gi)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");
d.Fa();d.pa=!0;d.oa().setAttribute("visibility","visible");e&&c&&pa(d,e,c);c&&e.connect(c);this.gi=e;break;case m.$d.Xi.wv:this.bl=this.Ab.sa(),C(this.bl.ub,"blocklyReplaceable",!0)}a&&(d=a.D.C.jb.U(),c=qa(d,a),a.type==m.hb||a.type==m.ae?(d=d.cj,c=m.g.u.moveBy(0,-d)+m.g.u.W("v",d)+c.Sd+m.g.u.W("v",d)):(d=d.wk-d.mb,c=m.g.u.moveBy(-d,0)+m.g.u.W("h",d)+c.Wg+m.g.u.W("h",d)),d=a.D.Ua(),m.ma.Ox=m.g.j.J("path",{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+
")"+(a.D.H?" scale(-1 1)":"")},a.D.oa()))}m.h.enable()}};function ka(a,c){var d=c.type;m.h.disable();try{var e=a.o.xs(d);e.bz(!0);if(c.Pd){var f=c.Pd();f&&e.Of(f)}for(a=0;a<c.N.length;a++){var h=c.N[a];if(h.name!=m.Rc.hk){var k=e.N[a];for(d=0;d<h.Ta.length;d++)k.Ta[d].setValue(h.Ta[d].getValue())}}e.ah(c.isCollapsed());e.zi(ra(c));e.Hj();e.oa().setAttribute("visibility","hidden")}finally{m.h.enable()}return e}
function la(a){var c=a.jg.se(!1),d=a.jg.lo();d&&d!=a.jg.X&&(c.push(d),a.Yr=d,a.Pj=ka(a,d.V()));return c}
function ma(a,c,d){var e=c.local,f=c.closest;c=c.Lo;if(e&&f){if(a.wc&&a.Ab){if(a.Ab==f&&a.wc==e)return!1;e=a.wc.x+d.x-a.Ab.x;a=a.wc.y+d.y-a.Ab.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-m.qA)}if(a.wc||a.Ab)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.wc||!a.Ab);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function na(a){a.Ab&&a.Ab.sa()&&(m.g.j.removeNode(m.ma.Ox),delete m.ma.Ox);if(a.bl)C(a.bl.ub,"blocklyReplaceable",!1),a.bl=null;else if(a.Pr)a.Pr=null;else if(a.gi)if(a.gi){var c=a.gi,d=c.V(),e=d.X,f=d.T,h=d.L;h=c.type==m.hb&&!(h&&h.la);!(c!=e||f&&f.la)||h?y(c.sa(),!1):c.type==m.bb&&c!=e?(e=c.la,y(e.V(),!1),f=f?f.la:null,y(d,!0),f&&f.connect(e)):y(d,!0);if(c.la)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.gi=null;d.oa().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
m.$d.prototype.yj=function(){var a=[];this.dl&&a.push(this.dl);this.Pj&&a.push(this.Pj);return a};m.lh=function(a,c){this.ib=a;this.o=c;this.af=new m.$d(this.ib);this.Hh=null;this.tf=!1;this.rf=this.ib.Ua();this.Hn=m.lh.CE(a)};m.lh.prototype.G=function(){this.Hn.length=0;this.af&&this.af.G()};m.lh.CE=function(a){var c=[];a=t(a,!1);for(var d=0,e;e=a[d];d++){e=E(e);for(var f=0;f<e.length;f++){var h={location:e[f].oK(),icon:e[f]};c.push(h)}}return c};
function sa(a,c,d){d=a.Sj(d);var e=m.g.P.sum(a.rf,d);a.ib.vs(e);for(e=0;e<a.Hn.length;e++){var f=a.Hn[e];f.icon.yL(m.g.P.sum(f.location,d))}a.Hh=ta(a.o,c);a.af.update(d,a.Hh);a.tf=a.af.tf;c=a.o.qc;a.tf?(ua(a.ib,!0),a.Hh==m.pp&&c&&va(c,!0)):(ua(a.ib,!1),c&&va(c,!1))}
function wa(a,c,d){sa(a,c,d);a.Hn=[];c=new m.h.ec(a.ib,"dragStop",t(a.ib,!1),null);m.h.Ia(c);m.g.j.fm();m.cb.Wq();d=a.Sj(d);c=m.g.P.sum(a.rf,d);var e=a.ib;e.um&&(e.translate(c.x,c.y),e.C.kd.tn(e.C.tb));c=a.o.qc;a.tf?(c&&setTimeout(c.close.bind(c),100),a.cl(),a.ib.G(!1,!0),m.wj=[]):c&&c.close();a.tf||(xa(a.ib,d.x,d.y),a.ib.dh(!1),a.cl(),a.af.Ab?(d=a.af,d.Ab&&(m.h.disable(),na(d),m.h.enable(),d.wc.connect(d.Ab),d.jg.pa&&(m.cb.dD((F(d.wc)?d.Ab:d.wc).V()),ya(d.jg.Jc())))):a.ib.Fa(),za(a.ib));a.o.$b(!0);
(d=a.o.wa)&&"function"==typeof d.Ys&&d.Ys(a.ib.pd()?"blocklyToolboxDelete":"blocklyToolboxGrab");m.h.ka(!1)}m.lh.prototype.cl=function(){var a=new m.h.fk(this.ib);a.Bs=this.rf;a.ui();m.h.Ia(a)};m.lh.prototype.Sj=function(a){a=new m.g.P(a.x/this.o.scale,a.y/this.o.scale);this.o.bo&&a.scale(1/this.o.options.xc.scale);return a};m.lh.prototype.yj=function(){return this.af&&this.af.yj?this.af.yj():[]};m.Touch={};m.Touch.Hv="ontouchstart"in m.g.global||!!(m.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!m.g.global.navigator||!m.g.global.navigator.maxTouchPoints&&!m.g.global.navigator.msMaxTouchPoints);m.Touch.nm=null;m.Touch.Le={};
m.g.global.PointerEvent?m.Touch.Le={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:m.Touch.Hv&&(m.Touch.Le={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});m.no=0;
m.XE=function(a,c){m.Pg();a.changedTouches&&1!=a.changedTouches.length||(m.no=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&Aa(c,a)},m.lB))};m.Pg=function(){m.no&&(clearTimeout(m.no),m.no=0)};m.Touch.un=function(){m.Touch.nm=null};m.Touch.wt=function(a){return!m.Touch.LE(a)||m.Touch.WC(a)};
m.Touch.Rn=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};m.Touch.WC=function(a){var c=m.Touch.Rn(a);return void 0!==m.Touch.nm&&null!==m.Touch.nm?m.Touch.nm==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(m.Touch.nm=c,!0):!1};
m.Touch.WF=function(a){if(m.g.Ga.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};m.Touch.LE=function(a){return m.g.Ga.startsWith(a.type,"touch")||m.g.Ga.startsWith(a.type,"mouse")||m.g.Ga.startsWith(a.type,"pointer")};m.Touch.jo=function(a){return m.g.Ga.startsWith(a.type,"touch")||m.g.Ga.startsWith(a.type,"pointer")};
m.Touch.fG=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};
m.g.aI=function(){};
m.Ak=function(a){this.o=a;this.Jd=new m.Ka(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.Wd=new m.Ka(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.Rk=m.g.j.J("rect",{height:m.Ka.lc,width:m.Ka.lc,"class":"blocklyScrollbarBackground"},null);m.g.j.Ij(this.Rk,a.gg);this.sb=null};m.Ak.prototype.G=function(){m.g.j.removeNode(this.Rk);this.sb=this.o=this.Rk=null;this.Jd.G();this.Jd=null;this.Wd.G();this.Wd=null};
m.Ak.prototype.resize=function(){var a=this.o.Hd();if(a){var c=!1,d=!1;this.sb&&this.sb.vb==a.vb&&this.sb.Fb==a.Fb&&this.sb.Dc==a.Dc&&this.sb.rc==a.rc?(this.sb&&this.sb.We==a.We&&this.sb.Gb==a.Gb&&this.sb.Fc==a.Fc||(c=!0),this.sb&&this.sb.Ed==a.Ed&&this.sb.Ob==a.Ob&&this.sb.uc==a.uc||(d=!0)):d=c=!0;c&&this.Jd.resize(a);d&&this.Wd.resize(a);this.sb&&this.sb.vb==a.vb&&this.sb.rc==a.rc||this.Rk.setAttribute("x",this.Wd.position.x);this.sb&&this.sb.Fb==a.Fb&&this.sb.Dc==a.Dc||this.Rk.setAttribute("y",
this.Jd.position.y);this.sb=a}};m.Ak.prototype.set=function(a,c){var d={};a*=this.Jd.ratio;c*=this.Wd.ratio;var e=this.Wd.Ud,f=a/this.Jd.Ud;d.x=isNaN(f)?0:f;e=c/e;d.y=isNaN(e)?0:e;this.o.Yl(d);G(this.Jd,a);G(this.Wd,c)};
m.Ka=function(a,c,d,e){this.o=a;this.Rj=d||!1;this.Sh=c;this.ratio=this.sb=null;this.Sk(e);this.position=new m.g.P(0,0);a=m.Ka.lc;c?(this.nc.setAttribute("height",a),this.jf.setAttribute("height",a),this.bd.setAttribute("height",a-5),this.bd.setAttribute("y",2.5),this.Cl="width",this.Ny="x"):(this.nc.setAttribute("width",a),this.jf.setAttribute("width",a),this.bd.setAttribute("width",a-5),this.bd.setAttribute("x",2.5),this.Cl="height",this.Ny="y");this.Hy=m.qa(this.nc,"mousedown",this,this.vF);this.Iy=
m.qa(this.bd,"mousedown",this,this.wF)};b=m.Ka.prototype;b.Ks=new m.g.P(0,0);b.iz=0;b.Ud=0;b.Hg=0;b.rl=0;b.Yf=!0;b.Dh=!0;m.Ka.lc=15;m.Touch.Hv&&(m.Ka.lc=25);m.Ka.$E=function(a,c){return a&&c&&a.vb==c.vb&&a.Fb==c.Fb&&a.Gb==c.Gb&&a.Ob==c.Ob&&a.Dc==c.Dc&&a.rc==c.rc&&a.We==c.We&&a.Ed==c.Ed&&a.Fc==c.Fc&&a.uc==c.uc?!0:!1};
m.Ka.prototype.G=function(){Ba();m.Ra(this.Hy);this.Hy=null;m.Ra(this.Iy);this.Iy=null;m.g.j.removeNode(this.jf);this.nc=this.M=this.jf=null;this.bd&&(this.o.pc.unsubscribe(this.bd),this.bd=null);this.o=null};function G(a,c){a.rl=c;a.bd.setAttribute(a.Ny,a.rl)}function Ca(a,c){a.Ud=c;a.jf.setAttribute(a.Cl,a.Ud);a.nc.setAttribute(a.Cl,a.Ud)}m.Ak.prototype.yi=function(a){this.Jd.yi(a);this.Wd.yi(a)};b=m.Ka.prototype;
b.setPosition=function(a,c){this.position.x=a;this.position.y=c;m.g.j.Xl(this.jf,"translate("+(this.position.x+this.Ks.x)+"px,"+(this.position.y+this.Ks.y)+"px)")};b.resize=function(a){if(!a&&(a=this.o.Hd(),!a))return;m.Ka.$E(a,this.sb)||(this.sb=a,this.Sh?Da(this,a):Ea(this,a),Fa(this))};function Da(a,c){var d=c.vb-1;a.Rj&&(d-=m.Ka.lc);Ca(a,Math.max(0,d));d=c.rc+.5;a.Rj&&a.o.H&&(d+=m.Ka.lc);a.setPosition(d,c.Dc+c.Fb-m.Ka.lc-.5);Ga(a,c)}
function Ga(a,c){a.Rj||a.Tb(a.Ud<c.We);a.ratio=a.Ud/c.We;if(-Infinity==a.ratio||Infinity==a.ratio||isNaN(a.ratio))a.ratio=0;a.Hg=Math.max(0,c.vb*a.ratio);a.bd.setAttribute(a.Cl,a.Hg);G(a,Ha(a,(c.Gb-c.Fc)*a.ratio))}function Ea(a,c){var d=c.Fb-1;a.Rj&&(d-=m.Ka.lc);Ca(a,Math.max(0,d));d=c.rc+.5;a.o.H||(d+=c.vb-m.Ka.lc-1);a.setPosition(d,c.Dc+.5);Ia(a,c)}
function Ia(a,c){a.Rj||a.Tb(a.Ud<c.Ed);a.ratio=a.Ud/c.Ed;if(-Infinity==a.ratio||Infinity==a.ratio||isNaN(a.ratio))a.ratio=0;a.Hg=Math.max(0,c.Fb*a.ratio);a.bd.setAttribute(a.Cl,a.Hg);G(a,Ha(a,(c.Ob-c.uc)*a.ratio))}
b.Sk=function(a){var c="blocklyScrollbar"+(this.Sh?"Horizontal":"Vertical");a&&(c+=" "+a);this.jf=m.g.j.J("svg",{"class":c},null);this.M=m.g.j.J("g",{},this.jf);this.nc=m.g.j.J("rect",{"class":"blocklyScrollbarBackground"},this.M);a=Math.floor((m.Ka.lc-5)/2);this.bd=m.g.j.J("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.M);this.o.pc.subscribe(this.bd,"scrollbarColour","fill");this.o.pc.subscribe(this.bd,"scrollbarOpacity","fill-opacity");m.g.j.Ij(this.jf,A(this.o))};b.isVisible=function(){return this.Yf};
b.yi=function(a){var c=a!=this.Dh;this.Dh=a;c&&this.rm()};b.Tb=function(a){var c=a!=this.isVisible();if(this.Rj)throw Error("Unable to toggle visibility of paired scrollbars.");this.Yf=a;c&&this.rm()};b.rm=function(){this.Dh&&this.isVisible()?this.jf.setAttribute("display","block"):this.jf.setAttribute("display","none")};
b.vF=function(a){Ja(this.o);m.Touch.un();Ba();if(m.g.Bl(a))a.stopPropagation();else{var c=m.g.Ll(a,A(this.o),Ka(this.o));c=this.Sh?c.x:c.y;var d=m.g.ml(this.bd);d=this.Sh?d.x:d.y;var e=this.rl,f=.95*this.Hg;c<=d?e-=f:c>=d+this.Hg&&(e+=f);G(this,Ha(this,e));Fa(this);a.stopPropagation();a.preventDefault()}};
b.wF=function(a){Ja(this.o);Ba();m.g.Bl(a)?a.stopPropagation():(this.hG=this.rl,La(this.o),this.iz=this.Sh?a.clientX:a.clientY,m.Ka.Vg=m.qa(document,"mouseup",this,this.AF),m.Ka.Ug=m.qa(document,"mousemove",this,this.xF),a.stopPropagation(),a.preventDefault())};b.xF=function(a){G(this,Ha(this,this.hG+((this.Sh?a.clientX:a.clientY)-this.iz)));Fa(this)};b.AF=function(){Ma(this.o);m.Touch.un();Ba()};function Ba(){m.Xb(!0);m.Ka.Vg&&(m.Ra(m.Ka.Vg),m.Ka.Vg=null);m.Ka.Ug&&(m.Ra(m.Ka.Ug),m.Ka.Ug=null)}
function Ha(a,c){return c=0>=c||isNaN(c)||a.Ud<a.Hg?0:Math.min(c,a.Ud-a.Hg)}function Fa(a){var c=a.rl/a.Ud;isNaN(c)&&(c=0);var d={};a.Sh?d.x=c:d.y=c;a.o.Yl(d)}b.set=function(a){G(this,Ha(this,a*this.ratio));Fa(this)};m.g.Mc={};m.g.Mc.lm=function(a){return a*Math.PI/180};m.g.Mc.mz=function(a){return 180*a/Math.PI};m.g.Mc.Lk=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};m.aa={};m.aa.pm={};m.aa.uA="default";m.aa.Ib=function(a){this.ws=a};m.aa.Ib.prototype.toString=function(){return this.ws};m.aa.Ib.RENDERER=new m.aa.Ib("renderer");m.aa.Ib.Hb=new m.aa.Ib("field");m.aa.Ib.Ck=new m.aa.Ib("toolbox");m.aa.Ib.Gv=new m.aa.Ib("theme");
m.aa.register=function(a,c,d){if(!(a instanceof m.aa.Ib)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var e=m.aa.pm[a];e||(e=m.aa.pm[a]={});m.aa.zG(a,d);if(e[c])throw Error('Name "'+c+'" with type "'+
a+'" already registered.');e[c]=d};m.aa.zG=function(a,c){switch(a){case String(m.aa.Ib.Hb):if("function"!=typeof c.na)throw Error('Type "'+a+'" must have a fromJson function');}};m.aa.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=m.aa.pm[a];d?d[c]?delete m.aa.pm[a][c]:console.warn('No name "'+c+'" with type "'+a+'" found'):console.warn('No type "'+a+'" found')};
m.aa.ox=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=m.aa.pm[a];return d?d[c]?d[c]:(console.warn('No name "'+c+'" with type "'+a+'" found'),null):(console.warn('No type "'+a+'" found'),null)};m.aa.yr=function(a,c){return m.aa.ox(a,c)};m.aa.px=function(a){return m.aa.ox(m.aa.Ib.Gv,a)};m.aa.XD=function(a){var c=m.aa.Ib.Ck;a=a.plugins[c.toString()]||m.aa.uA;return"function"==typeof a?a:m.aa.yr(c,a)};m.zh=function(a,c,d,e){this.name=a;this.wg=c||Object.create(null);this.vq=d||Object.create(null);this.qw=e||Object.create(null);this.fontStyle=Object.create(null);this.zt=null;m.aa.register(m.aa.Ib.Gv,a,this)};m.zh.prototype.re=function(){return this.name+"-theme"};function Na(a,c){return(c=a.qw[c])&&"string"==typeof propertyValue&&Na(a,c)?Na(a,c):c?String(c):null}
m.zh.rD=function(a,c){var d=new m.zh(a),e=c.base;e&&("string"==typeof e&&(e=m.aa.px(e)),e instanceof m.zh&&(m.g.object.tj(d,e),d.name=a));m.g.object.tj(d.wg,c.blockStyles);m.g.object.tj(d.vq,c.categoryStyles);m.g.object.tj(d.qw,c.componentStyles);m.g.object.tj(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.zt=c.startHats);return d};m.Ef={};m.Ef.ng={};m.Ef.ng.oD={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
m.Ef.ng.vq={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};m.Ef.ng=new m.zh("classic",m.Ef.ng.oD,m.Ef.ng.vq);m.g.ya={DJ:0,VH:3,Zz:8,$B:9,eI:12,rp:13,Zi:16,XG:17,Tz:18,YI:19,OG:20,sp:27,SB:32,GB:33,FB:34,HA:35,VA:36,iB:37,Lv:38,KB:39,ou:40,aJ:43,dJ:44,zp:45,ik:46,ZERO:48,ONE:49,wJ:50,pJ:51,CH:52,BH:53,nJ:54,lJ:55,dH:56,cI:57,zH:59,xH:61,wH:173,yH:163,eJ:63,KG:64,Pt:65,LG:66,gA:67,ju:68,E:69,iH:70,DH:71,HH:72,ZA:73,MH:74,gB:75,NH:76,UH:77,bI:78,uI:79,XI:80,Q:81,fJ:82,xv:83,ZB:84,zJ:85,gC:86,Rv:87,Xv:88,qC:89,sC:90,sB:91,EJ:92,WG:93,tI:96,mI:97,sI:98,rI:99,iI:100,hI:101,qI:102,pI:103,gI:104,lI:105,kI:106,oI:107,
jI:109,nI:110,fI:111,jH:112,nH:113,oH:114,pH:115,qH:116,rH:117,sH:118,tH:119,uH:120,kH:121,lH:122,mH:123,dI:144,iJ:145,AH:166,PH:183,jJ:186,YG:189,gH:187,VG:188,ZI:190,oJ:191,IG:192,qJ:192,mJ:222,vI:219,MG:220,SG:221,CJ:224,WH:224,XH:91,YH:93,BJ:229,AJ:252,$I:255};m.za={};m.za.va={};m.za.va.ei={};m.za.va.Rg={Zi:"Shift",pA:"Control",Tz:"Alt",sB:"Meta"};m.za.va.tL=function(a,c){var d=m.za.va.eE(c);d&&delete m.za.va.ei[d];m.za.va.ei[a]=c};m.za.va.YF=function(a){m.za.va.ei=a};m.za.va.rK=function(){var a={};m.g.object.Nd(a,m.za.va.ei);return a};m.za.va.SD=function(a){return m.za.va.ei[a]};m.za.va.eE=function(a){for(var c=Object.keys(m.za.va.ei),d=0,e;e=c[d];d++)if(m.za.va.ei[e].name===a.name)return e;return null};
m.za.va.UF=function(a){for(var c=m.g.object.values(m.za.va.Rg),d="",e=0,f;f=c[e];e++)a.getModifierState(f)&&(d+=f);return d+=a.keyCode};m.za.va.UC=function(a,c){for(var d=0,e;e=a[d];d++)if(0>c.indexOf(e))throw Error(e+" is not a valid modifier key.");};m.za.va.Tk=function(a,c){var d="",e=m.g.object.values(m.za.va.Rg);m.za.va.UC(c,e);for(var f=0,h;h=e[f];f++)-1<c.indexOf(h)&&(d+=h);return d+a};
m.za.va.fD=function(){var a={},c=m.za.va.Tk(m.g.ya.gB,[m.za.va.Rg.pA,m.za.va.Rg.Zi]),d=m.za.va.Tk(m.g.ya.Rv,[m.za.va.Rg.Zi]),e=m.za.va.Tk(m.g.ya.Pt,[m.za.va.Rg.Zi]),f=m.za.va.Tk(m.g.ya.xv,[m.za.va.Rg.Zi]),h=m.za.va.Tk(m.g.ya.ju,[m.za.va.Rg.Zi]);a[m.g.ya.Rv]=m.navigation.xm;a[m.g.ya.Pt]=m.navigation.Rt;a[m.g.ya.xv]=m.navigation.wm;a[m.g.ya.ju]=m.navigation.Qt;a[m.g.ya.ZA]=m.navigation.Lz;a[m.g.ya.rp]=m.navigation.Mz;a[m.g.ya.Xv]=m.navigation.Kz;a[m.g.ya.ZB]=m.navigation.Rz;a[m.g.ya.E]=m.navigation.ep;
a[m.g.ya.sp]=m.navigation.ep;a[c]=m.navigation.St;a[d]=m.navigation.Qz;a[e]=m.navigation.Oz;a[f]=m.navigation.Nz;a[h]=m.navigation.Pz;return a};m.g.Ri={};m.g.Ri.nF=0;m.g.Ri.Fr=function(){return"blockly-"+(m.g.Ri.nF++).toString(36)};m.g.Be={};m.g.Be.Eq=function(a){return a?Array.isArray(a)&&a.length&&!a[0].nodeType?(m.g.Be.Cj(a)&&console.warn("Due to some performance issues, defining a toolbox usingJSON is not ready yet. Please define your toolbox using xml."),a):m.g.Be.qz(a):null};
m.g.Be.qz=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},h=e.tagName.toUpperCase();f.kind=h;"BLOCK"==h?f.blockxml=e:"CATEGORY"==h&&(f.contents=m.g.Be.qz(e));for(h=0;h<e.attributes.length;h++){var k=e.attributes[h];f[k.nodeName]=k.value}c.push(f)}return c};m.g.Be.Cj=function(a){return Array.isArray(a)?!(!a.length||"CATEGORY"!=a[0].kind.toUpperCase()):!(!a||!a.getElementsByTagName("category").length)};m.h.Qi=function(a){this.wb=a.id;this.group=m.h.Sb();this.kc=!1};m.g.object.S(m.h.Qi,m.h.ec);m.h.Qi.prototype.type=m.h.xu;m.h.Qi.prototype.Qa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.wb&&(a.workspaceId=this.wb);return a};m.h.Qi.prototype.na=function(a){this.wb=a.workspaceId;this.group=a.group};m.h.Ff=function(a){m.h.Ff.v.constructor.call(this);this.gh=a.eb();this.wb=a.C.id};m.g.object.S(m.h.Ff,m.h.Abstract);m.h.Ff.prototype.Qa=function(){var a=m.h.Ff.v.Qa.call(this);a.varId=this.gh;return a};m.h.Ff.prototype.na=function(a){m.h.Ff.v.Qa.call(this);this.gh=a.varId};m.h.Ad=function(a){a&&(m.h.Ad.v.constructor.call(this,a),this.Hi=a.type,this.Gi=a.name)};m.g.object.S(m.h.Ad,m.h.Ff);m.h.Ad.prototype.type=m.h.Mv;
m.h.Ad.prototype.Qa=function(){var a=m.h.Ad.v.Qa.call(this);a.varType=this.Hi;a.varName=this.Gi;return a};m.h.Ad.prototype.na=function(a){m.h.Ad.v.na.call(this,a);this.Hi=a.varType;this.Gi=a.varName};m.h.Ad.prototype.run=function(a){var c=x(this);a?c.oe(this.Gi,this.Hi,this.gh):c.Ih(this.gh)};m.h.ge=function(a){a&&(m.h.ge.v.constructor.call(this,a),this.Hi=a.type,this.Gi=a.name)};m.g.object.S(m.h.ge,m.h.Ff);m.h.ge.prototype.type=m.h.Nv;
m.h.ge.prototype.Qa=function(){var a=m.h.ge.v.Qa.call(this);a.varType=this.Hi;a.varName=this.Gi;return a};m.h.ge.prototype.na=function(a){m.h.ge.v.na.call(this,a);this.Hi=a.varType;this.Gi=a.varName};m.h.ge.prototype.run=function(a){var c=x(this);a?c.Ih(this.gh):c.oe(this.Gi,this.Hi,this.gh)};m.h.Ne=function(a,c){a&&(m.h.Ne.v.constructor.call(this,a),this.Ds=a.name,this.ys=c)};m.g.object.S(m.h.Ne,m.h.Ff);m.h.Ne.prototype.type=m.h.Pv;
m.h.Ne.prototype.Qa=function(){var a=m.h.Ne.v.Qa.call(this);a.oldName=this.Ds;a.newName=this.ys;return a};m.h.Ne.prototype.na=function(a){m.h.Ne.v.na.call(this,a);this.Ds=a.oldName;this.ys=a.newName};m.h.Ne.prototype.run=function(a){var c=x(this);a?c.wi(this.gh,this.ys):c.wi(this.gh,this.Ds)};m.O={};m.O.Dz=function(a){var c=H,d=m.g.xml.createElement("xml"),e=m.O.BG(m.Y.aw(c));e.hasChildNodes()&&d.appendChild(e);var f=[].concat(c.Vo);1<f.length&&(c.qf.offset=Math.sin(m.g.Mc.lm(m.ob.yv)),c.H&&(c.qf.offset*=-1),f.sort(c.qf));e=0;for(var h;h=f[e];e++)d.appendChild(h.oz(a));c=c.Kb(!0);for(e=0;f=c[e];e++)d.appendChild(m.O.oq(f,a));return d};
m.O.BG=function(a){for(var c=m.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=m.g.xml.createElement("variable");f.appendChild(m.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.eb();c.appendChild(f)}return c};m.O.oq=function(a,c){if(a.ve()&&(a=I(a,!1)[0],!a))return new DocumentFragment;var d;a.C.H&&(d=a.C.ql());c=m.O.Gf(a,c);var e=a.Ua();c.setAttribute("x",Math.round(a.C.H?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
m.O.JD=function(a){var c=!1;a.name&&(a.Yi?c=!0:a.jk&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=m.g.xml.createElement("field"),c.setAttribute("name",a.name||""),a.nz(c)):null};m.O.zC=function(a,c){for(var d=0,e;e=a.N[d];d++)for(var f=0,h;h=e.Ta[f];f++)(h=m.O.JD(h))&&c.appendChild(h)};
m.O.Gf=function(a,c){if(a.ve())return(a=I(a,!1)[0])?m.O.Gf(a):new DocumentFragment;var d=m.g.xml.createElement(a.Pa?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.Pd){var e=a.Pd();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}m.O.zC(a,d);if(e=a.me.text){var f=a.me.size,h=a.me.My,k=m.g.xml.createElement("comment");k.appendChild(m.g.xml.createTextNode(e));k.setAttribute("pinned",h);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=m.g.xml.createElement("data"),e.appendChild(m.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.N[e];e++){var l;h=!0;if(f.type!=m.Ge){var n=f.connection.sa();f.type==m.hb?l=m.g.xml.createElement("value"):f.type==m.bb&&(l=m.g.xml.createElement("statement"));k=f.connection.pf;!k||n&&n.Pa||l.appendChild(m.O.lw(k,c));n&&(k=m.O.Gf(n,c),k.nodeType==m.g.j.Af.ELEMENT_NODE&&(l.appendChild(k),h=!1));l.setAttribute("name",f.name);h||d.appendChild(l)}}void 0!=a.Vf&&a.Vf!=a.EE&&d.setAttribute("inline",
a.Vf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.pd()||a.Pa||d.setAttribute("deletable",!1);a.$c()||a.Pa||d.setAttribute("movable",!1);a.Ld()||d.setAttribute("editable",!1);if(e=w(a))k=m.O.Gf(e,c),k.nodeType==m.g.j.Af.ELEMENT_NODE&&(l=m.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.X&&a.X.pf;!k||e&&e.Pa||l.appendChild(m.O.lw(k,c));return d};
m.O.lw=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==m.g.j.Af.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&m.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==m.g.j.Af.TEXT_NODE&&""==e.data.trim()&&m.g.j.removeNode(e))}return a};
m.O.Gd=function(a){a=m.g.xml.Gd(a);var c=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var d=a;a=a.replace(c,"$1&#10;$2")}while(a!=d);return a.replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};m.O.$J=function(a){a=m.O.Gd(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};
m.O.Ei=function(a){var c=m.g.xml.nG(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};m.O.RJ=function(a,c){c.$b(!1);c.clear();a=m.O.Zk(a,c);c.$b(!0);return a};
m.O.Zk=function(a,c){if(a instanceof m.ob){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.H&&(e=c.ql());d=[];m.g.j.em();var f=m.h.Sb();f||m.h.ka(!0);c.$b&&c.$b(!1);var h=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var n=l.nodeName.toLowerCase(),p=l;if("block"==n||"shadow"==n&&!m.h.kc){var q=m.O.vj(p,c);d.push(q.id);var r=p.hasAttribute("x")?parseInt(p.getAttribute("x"),10):10,u=p.hasAttribute("y")?parseInt(p.getAttribute("y"),10):10;isNaN(r)||
isNaN(u)||q.moveBy(c.H?e-r:r,u);h=!1}else{if("shadow"==n)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==n)c.pa?m.fj?m.fj.hl(p):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):m.nC?m.nC.hl(p):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==n){if(h)m.O.CD(p,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
h=!1}}}}finally{f||m.h.ka(!1),m.g.j.fm()}c.$b&&c.$b(!0);m.h.Ia(new m.h.Qi(c));return d};m.O.JJ=function(a,c){var d;c.hasOwnProperty("scale")&&(d=Oa(c));a=m.O.Zk(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.H?d.right:d.left;var h=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var n=c.Hc(a[d]).Ua();n.y<l&&(l=n.y);n.x<h&&(h=n.x);n.x>k&&(k=n.x)}e=e-l+10;f=c.H?f-k:f-h;for(d=0;d<a.length;d++)c.Hc(a[d]).moveBy(f,e)}return a};
m.O.vj=function(a,c){if(a instanceof m.ob){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}m.h.disable();d=c.Mh();try{var e=m.O.Zq(a,c),f=t(e,!1);if(c.pa){Pa(e,!1);for(var h=f.length-1;0<=h;h--)f[h].Hj();for(h=f.length-1;0<=h;h--)f[h].Fa(!1);setTimeout(function(){e.Nf||Pa(e,!0)},1);Qa(e);Ra(c)}else for(h=f.length-1;0<=h;h--)f[h].Uh()}finally{m.h.enable()}if(m.h.isEnabled()){a=m.Y.gx(c,d);for(h=0;h<a.length;h++)m.h.Ia(new m.h.Ad(a[h]));m.h.Ia(new m.h.Dm(e))}return e};
m.O.CD=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==m.g.j.Af.ELEMENT_NODE){var f=e.getAttribute("type"),h=e.getAttribute("id");c.oe(e.textContent,f,h)}};
m.O.Zq=function(a,c){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=c.xs(e,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=m.g.j.Af.TEXT_NODE){var l=h=null;var n=0;for(var p;p=k.childNodes[n];n++)p.nodeType==m.g.j.Af.ELEMENT_NODE&&("block"==p.nodeName.toLowerCase()?h=p:"shadow"==p.nodeName.toLowerCase()&&(l=p));!h&&l&&(h=l);p=k.getAttribute("name");n=k;switch(k.nodeName.toLowerCase()){case "mutation":d.Of&&
(d.Of(n),d.Hj&&d.Hj());break;case "comment":if(!m.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}h=n.textContent;l="true"==n.getAttribute("pinned");k=parseInt(n.getAttribute("w"),10);n=parseInt(n.getAttribute("h"),10);d.Wj(h);d.me.My=l;isNaN(k)||isNaN(n)||(d.me.size=new m.g.zd(k,n));l&&d.YD&&!d.gf&&setTimeout(function(){d.Se.Tb(!0)},1);break;case "data":d.data=k.textContent;break;case "title":case "field":m.O.BD(d,p,n);break;case "value":case "statement":n=
ea(d,p);if(!n){console.warn("Ignoring non-existent input "+p+" in block "+e);break}l&&(n.connection.pf=l);if(h)if(h=m.O.Zq(h,c),h.L)n.connection.connect(h.L);else if(h.T)n.connection.connect(h.T);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.X&&(d.X.pf=l);if(h){if(!d.X)throw TypeError("Next statement does not exist.");if(d.X.isConnected())throw TypeError("Next statement is already connected.");h=m.O.Zq(h,c);if(!h.T)throw TypeError("Next block does not have previous statement.");
d.X.connect(h.T)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.zi("true"==f);(f=a.getAttribute("disabled"))&&d.mf("true"!=f&&"disabled"!=f);if(f=a.getAttribute("deletable"))d.Gw="true"==f;(f=a.getAttribute("movable"))&&d.kt("true"==f);(f=a.getAttribute("editable"))&&d.jt("true"==f);(f=a.getAttribute("collapsed"))&&d.ah("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=I(d,!1);for(f=0;c=a[f];f++)if(!c.Pa)throw TypeError("Shadow block not allowed non-shadow child.");
if(Sa(d).length)throw TypeError("Shadow blocks cannot have variable references.");d.rt(!0)}return d};m.O.BD=function(a,c,d){var e=ba(a,c);e?e.hl(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};m.O.sD=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};m.Cc=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,h=!1,k=!1,l=!1,n=!1;else{d=a.toolbox;Array.isArray(d)||(d=m.Cc.Ky(d||null));d=m.g.Be.Eq(d);e=m.g.Be.Cj(d);f=a.trashcan;void 0===f&&(f=e);var p=a.maxTrashcanContents;f?void 0===p&&(p=32):p=0;h=a.collapse;void 0===h&&(h=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);n=a.sounds;void 0===n&&(n=!0)}var q=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var u=a.toolboxPosition;u="end"!==u;u=r?u?m.yh:m.Dk:u==q?m.xh:m.fe;var v=
a.css;void 0===v&&(v=!0);var D="https://blockly-demo.appspot.com/static/media/";a.media?D=a.media:a.path&&(D=a.path+"media/");var N=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,ja=a.keyMap||m.za.va.fD(),$d=a.renderer||"geras",ae=a.plugins||{};this.H=q;this.Go=N;this.collapse=h;this.$C=k;this.disable=l;this.readOnly=c;this.rs=a.maxBlocks||Infinity;this.qo=a.maxInstances;this.Ko=D;this.Cj=e;this.Zb=m.Cc.DF(a,e);this.Jx=f;this.so=p;this.wE=n;this.uE=v;this.Kd=r;this.di=d;this.Ex=m.Cc.CF(a);this.Ya=
m.Cc.FF(a);this.kb=u;this.oG=m.Cc.EF(a);this.va=ja;this.at=$d;this.bt=a.rendererOverrides;this.Kr=null;this.xc=a.parentWorkspace;this.plugins=ae};m.NG=function(){};m.Cc.DF=function(a,c){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?c:!!d.scrollbars||!!a.scrollbars;e.ih=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.Dg=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
m.Cc.FF=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.ih=void 0===a.wheel?!1:!!a.wheel;c.jG=void 0===a.startScale?1:Number(a.startScale);c.Gl=void 0===a.maxScale?3:Number(a.maxScale);c.Il=void 0===a.minScale?.3:Number(a.minScale);c.RF=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.Rs=void 0===a.pinch?c.ih||c.controls:!!a.pinch;return c};
m.Cc.CF=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.qb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.CL=0<c.spacing&&!!a.snap;return c};m.Cc.EF=function(a){a=a.theme||m.Ef.ng;return"string"==typeof a?m.aa.px(a):a instanceof m.zh?a:m.zh.rD(a.name||"builtin"+m.g.Ri.Fr(),a)};
m.Cc.Ky=function(a){if(a){if("string"!=typeof a&&(m.g.userAgent.Zd&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=m.O.Ei(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};m.aq=function(a){this.Ba=Object.create(null);this.C=a};b=m.aq.prototype;b.clear=function(){this.Ba=Object.create(null)};b.Zs=function(a,c){var d=this.ue(c,a.type),e=J(this.C,!1);m.h.ka(!0);try{if(d&&d.eb()!=a.eb()){var f=a.type;c!=d.name&&Ta(d,c,e);for(c=0;c<e.length;c++)for(var h=void 0,k=e[c],l=a.eb(),n=d.eb(),p=0;h=k.N[p];p++)for(var q=0,r;r=h.Ta[q];q++)r.No()&&l==r.getValue()&&r.setValue(n);m.h.Ia(new m.h.ge(a));this.Ba[f].splice(this.ol(f).indexOf(a),1)}else Ta(a,c,e)}finally{m.h.ka(!1)}};
b.wi=function(a,c){var d=this.Tf(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.Zs(d,c)};function Ta(a,c,d){m.h.Ia(new m.h.Ne(a,c));a.name=c;for(c=0;c<d.length;c++)for(var e,f=d[c],h=a,k=0;e=f.N[k];k++)for(var l=0,n;n=e.Ta[l];l++)n.No()&&h.eb()==n.getValue()&&Ua(n)}
b.oe=function(a,c,d){var e=this.ue(a,c);if(e){if(d&&e.eb()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.eb()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Tf(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||m.g.Qf();c=c||"";e=new m.Ek(this.C,a,c,e);a=this.Ba[c]||[];a.push(e);delete this.Ba[c];this.Ba[c]=a;return e};
b.Ih=function(a){var c=this.Tf(a);if(c){var d=c.name,e=this.Jr(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=K(f,"NAME");d=m.K.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);m.alert(d);return}var h=this;1<e.length?(d=m.K.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),m.confirm(d,function(k){k&&c&&Va(h,c,e)})):Va(h,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function Va(a,c,d){var e=m.h.Sb();e||m.h.ka(!0);try{for(var f=0;f<d.length;f++)d[f].G(!0);var h=a.Ba[c.type];a=0;for(var k;k=h[a];a++)if(k.eb()==c.eb()){h.splice(a,1);m.h.Ia(new m.h.ge(c));break}}finally{e||m.h.ka(!1)}}b.ue=function(a,c){if(c=this.Ba[c||""])for(var d=0,e;e=c[d];d++)if(m.xd.Pf(e.name,a))return e;return null};b.Tf=function(a){for(var c=Object.keys(this.Ba),d=0;d<c.length;d++)for(var e=c[d],f=0,h;h=this.Ba[e][f];f++)if(h.eb()==a)return h;return null};
b.ol=function(a){return(a=this.Ba[a||""])?a.slice():[]};b.Ir=function(a){var c={};m.g.object.Nd(c,this.Ba);a&&a.Xg&&m.g.object.Nd(c,a.Xg.Ba);a=Object.keys(c);c=!1;for(var d=0;d<a.length;d++)""==a[d]&&(c=!0);c||a.push("");return a};b.Mh=function(){var a=[],c;for(c in this.Ba)a=a.concat(this.Ba[c]);return a};b.vr=function(){var a=[],c;for(c in this.Ba)for(var d=this.Ba[c],e=0,f;f=d[e];e++)a.push(f.name);return a};
b.Jr=function(a){for(var c=[],d=J(this.C,!1),e=0;e<d.length;e++){var f=Sa(d[e]);if(f)for(var h=0;h<f.length;h++)f[h].eb()==a&&c.push(d[e])}return c};m.ob=function(a){this.id=m.g.Qf();m.ob.Gk[this.id]=this;this.options=a||new m.Cc({});this.H=!!this.options.H;this.Kd=!!this.options.Kd;this.kb=this.options.kb;this.mm=[];this.Vo=[];this.zn=Object.create(null);this.Lc=[];this.ck=[];this.Mo=[];this.nq=Object.create(null);this.lg=Object.create(null);this.Ba=new m.aq(this);this.Xg=null};b=m.ob.prototype;b.pa=!1;b.Wr=!1;b.Ou=1024;b.Bn=null;b.G=function(){this.Lc.length=0;this.clear();delete m.ob.Gk[this.id]};m.ob.yv=3;b=m.ob.prototype;
b.qf=function(a,c){a=a.Ua();c=c.Ua();return a.y+m.ob.prototype.qf.offset*a.x-(c.y+m.ob.prototype.qf.offset*c.x)};b.mn=function(a){this.mm.push(a)};b.Oo=function(a){if(!m.g.Jk(this.mm,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.Kb=function(a){var c=[].concat(this.mm);a&&1<c.length&&(this.qf.offset=Math.sin(m.g.Mc.lm(m.ob.yv)),this.H&&(this.qf.offset*=-1),c.sort(this.qf));return c};function Wa(a,c){return a.lg[c]?a.lg[c].slice(0):[]}
function J(a,c){if(c){a=a.Kb(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,t(a[d],!0))}else for(c=a.Kb(!1),d=0;d<c.length;d++)c.push.apply(c,I(c[d],!1));return c.filter(function(e){return!e.ve()})}b.clear=function(){this.Wr=!0;try{var a=m.h.Sb();for(a||m.h.ka(!0);this.mm.length;)this.mm[0].G(!1);for(;this.Vo.length;)this.Vo[this.Vo.length-1].G(!1);a||m.h.ka(!1);this.Ba.clear();this.Xg&&this.Xg.clear()}finally{this.Wr=!1}};b.wi=function(a,c){this.Ba.wi(a,c)};
b.oe=function(a,c,d){return this.Ba.oe(a,c,d)};b.Jr=function(a){return this.Ba.Jr(a)};b.Ih=function(a){this.Ba.Ih(a)};b.ue=function(a,c){return this.Ba.ue(a,c)};b.Tf=function(a){return this.Ba.Tf(a)};b.ol=function(a){return this.Ba.ol(a)};b.Ir=function(){return this.Ba.Ir(this)};b.Mh=function(){return this.Ba.Mh()};b.vr=function(){return this.Ba.vr()};b.ql=function(){return 0};b.xs=function(a,c){return new m.Rc(this,a,c)};
function Xa(a){return isNaN(a.options.rs)?Infinity:a.options.rs-J(a,!1).length}function Ya(a,c){if(!Za(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.qo?(void 0!==a.options.qo[e]?a.options.qo[e]:Infinity)-Wa(a,e).length:Infinity))return!1;d+=c[e]}return d>Xa(a)?!1:!0}function Za(a){return Infinity!=a.options.rs||!!a.options.qo}
b.Xo=function(a){var c=a?this.Mo:this.ck,d=a?this.ck:this.Mo,e=c.pop();if(e){for(var f=[e];c.length&&e.group&&e.group==c[c.length-1].group;)f.push(c.pop());for(c=0;e=f[c];c++)d.push(e);f=m.h.filter(f,a);m.h.kc=!1;try{for(c=0;e=f[c];c++)e.run(a)}finally{m.h.kc=!0}}};function L(a,c){a.Lc.push(c)}function $a(a,c){m.g.Jk(a.Lc,c)}b.Hc=function(a){return this.nq[a]||null};b.tt=function(a){this.Ba=a};m.ob.Gk=Object.create(null);m.ob.jl=function(a){return m.ob.Gk[a]||null};
m.ob.getAll=function(){var a=[],c;for(c in m.ob.Gk)a.push(m.ob.Gk[c]);return a};m.Ja=function(a,c,d,e,f,h){this.o=a;this.Lf=c;this.aG=d;this.Hs=this.Gs=this.yy=this.Yy=null;this.Nf=!1;d=m.Ja.Xz;this.o.H&&(d=-d);this.CC=m.g.Mc.lm(d);a.gg.appendChild(this.Sk(c,!(!f||!h)));this.Jb=e;this.Vy&&ab(this);f&&h||(a=this.Lf.getBBox(),f=a.width+2*m.Ja.jh,h=a.height+2*m.Ja.jh);bb(this,f,h);ab(this);cb(this);this.Vy=!0};m.Ja.jh=6;m.Ja.Yz=5;m.Ja.Xz=20;m.Ja.Xt=4;m.Ja.Uz=8;m.Ja.Vg=null;m.Ja.Ug=null;m.Ja.Ht=function(){m.Ja.Vg&&(m.Ra(m.Ja.Vg),m.Ja.Vg=null);m.Ja.Ug&&(m.Ra(m.Ja.Ug),m.Ja.Ug=null)};
m.Ja.OC=function(){m.Touch.un();m.Ja.Ht()};b=m.Ja.prototype;b.Vy=!1;b.Jb=null;b.lf=0;b.Zg=0;b.gb=0;b.jc=0;b.kq=!0;
b.Sk=function(a,c){this.Qe=m.g.j.J("g",{},null);var d={filter:"url(#"+this.o.jb.U().In+")"};m.g.userAgent.fB&&(d={});d=m.g.j.J("g",d,this.Qe);this.ew=m.g.j.J("path",{},d);this.qn=m.g.j.J("rect",{"class":"blocklyDraggable",x:0,y:0,rx:m.Ja.jh,ry:m.Ja.jh},d);c?(this.cg=m.g.j.J("g",{"class":this.o.H?"blocklyResizeSW":"blocklyResizeSE"},this.Qe),c=2*m.Ja.jh,m.g.j.J("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.cg),m.g.j.J("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/
3},this.cg),m.g.j.J("line",{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.cg)):this.cg=null;this.o.options.readOnly||(this.Gs=m.qa(this.qn,"mousedown",this,this.NC),this.cg&&(this.Hs=m.qa(this.cg,"mousedown",this,this.OF)));this.Qe.appendChild(a);return this.Qe};b.oa=function(){return this.Qe};b.NC=function(a){var c=this.o.Eg(a);if(c){if(c.Qh)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.sd||(c.sd=this);c.Od=a}};b.$l=function(){};
b.pd=function(){return!1};b.OF=function(a){var c=this.Qe.parentNode;c.lastChild!==this.Qe&&c.appendChild(this.Qe);m.Ja.Ht();m.g.Bl(a)||(this.o.yt(a,new m.g.P(this.o.H?-this.gb:this.gb,this.jc)),m.Ja.Vg=m.qa(document,"mouseup",this,m.Ja.OC),m.Ja.Ug=m.qa(document,"mousemove",this,this.PF),m.Xb());a.stopPropagation()};b.PF=function(a){this.kq=!1;var c=this.o;a=m.g.Ll(a,A(c),Ka(c));a.x/=c.scale;a.y/=c.scale;c=m.g.P.sum(c.Sw,a);bb(this,this.o.H?-c.x:c.x,c.y);this.o.H&&ab(this)};
function db(a,c,d){var e=a.o.H?a.Jb.x-c.x-a.gb:c.x+a.Jb.x;c=c.y+a.Jb.y;return Math.max(0,Math.min(1,(Math.min(e+a.gb,d.Gb+d.vb)-Math.max(e,d.Gb))*(Math.min(c+a.jc,d.Ob+d.Fb)-Math.max(c,d.Ob))/(a.gb*a.jc)))}function ab(a){var c=a.Jb.x;c=a.o.H?c-(a.lf+a.gb):c+a.lf;a.moveTo(c,a.Zg+a.Jb.y)}b.moveTo=function(a,c){this.Qe.setAttribute("transform","translate("+a+","+c+")")};b.dh=function(a){!a&&this.yy&&this.yy()};
function bb(a,c,d){var e=2*m.Ja.jh;c=Math.max(c,e+45);d=Math.max(d,e+20);a.gb=c;a.jc=d;a.qn.setAttribute("width",c);a.qn.setAttribute("height",d);a.cg&&(a.o.H?a.cg.setAttribute("transform","translate("+2*m.Ja.jh+","+(d-e)+") scale(-1 1)"):a.cg.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.kq){c=a.o.Hd();c.Gb/=a.o.scale;c.vb/=a.o.scale;c.Ob/=a.o.scale;c.Fb/=a.o.scale;d=-a.gb/4;if(!(a.gb>c.vb)){if(a.o.H){e=a.Jb.x-d;var f=e-a.gb;var h=c.Gb+c.vb,k=c.Gb+m.Ka.lc/a.o.scale}else f=d+a.Jb.x,
e=f+a.gb,k=c.Gb,h=c.Gb+c.vb-m.Ka.lc/a.o.scale;a.o.H?f<k?d=-(k-a.Jb.x+a.gb):e>h&&(d=-(h-a.Jb.x)):f<k?d=k-a.Jb.x:e>h&&(d=h-a.Jb.x-a.gb)}f=d;d=-a.jc/4;if(!(a.jc>c.Fb)){e=a.Jb.y+d;h=e+a.jc;k=c.Ob;var l=c.Ob+c.Fb-m.Ka.lc/a.o.scale,n=a.Jb.y;e<k?d=k-n:h>l&&(d=l-n-a.jc)}k=d;h=a.aG.getBBox();d={x:f,y:-a.jc-a.o.jb.U().rk};e={x:-a.gb-30,y:k};k={x:h.width,y:k};l={x:f,y:h.height};f=h.width<h.height?k:l;h=h.width<h.height?l:k;k=db(a,d,c);l=db(a,e,c);n=db(a,f,c);c=Math.max(k,l,n,db(a,h,c));k==c?(a.lf=d.x,a.Zg=d.y):
l==c?(a.lf=e.x,a.Zg=e.y):n==c?(a.lf=f.x,a.Zg=f.y):(a.lf=h.x,a.Zg=h.y)}ab(a);cb(a);a.Yy&&a.Yy()}
function cb(a){var c=[],d=a.gb/2,e=a.jc/2,f=-a.lf,h=-a.Zg;if(d==f&&e==h)c.push("M "+d+","+e);else{h-=e;f-=d;a.o.H&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var n=l+Math.PI/2;n>2*Math.PI&&(n-=2*Math.PI);var p=Math.sin(n),q=Math.cos(n),r=new m.g.zd(a.gb,a.jc);n=(r.width+r.height)/m.Ja.Yz;n=Math.min(n,r.width,r.height)/4;r=1-m.Ja.Uz/k;f=d+r*f;h=e+r*h;r=d+n*q;var u=e+n*p;d-=n*q;e-=n*p;p=l+a.CC;p>2*Math.PI&&(p-=2*Math.PI);l=Math.sin(p)*k/m.Ja.Xt;k=Math.cos(p)*k/m.Ja.Xt;c.push("M"+
r+","+u);c.push("C"+(r+k)+","+(u+l)+" "+f+","+h+" "+f+","+h);c.push("C"+f+","+h+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.ew.setAttribute("d",c.join(" "))}b.bh=function(a){this.qn.setAttribute("fill",a);this.ew.setAttribute("fill",a)};b.G=function(){this.Gs&&m.Ra(this.Gs);this.Hs&&m.Ra(this.Hs);m.Ja.Ht();m.g.j.removeNode(this.Qe);this.Nf=!0};b.vs=function(a,c){a?a.Fi(c.x,c.y):this.moveTo(c.x,c.y);this.lf=this.o.H?this.Jb.x-c.x-this.gb:c.x-this.Jb.x;this.Zg=c.y-this.Jb.y;cb(this)};
b.Ua=function(){return new m.g.P(this.o.H?-this.lf+this.Jb.x-this.gb:this.Jb.x+this.lf,this.Jb.y+this.Zg)};m.h.uf=function(a){this.Te=a.id;this.wb=a.C.id;this.group=m.h.Sb();this.kc=m.h.kc};m.g.object.S(m.h.uf,m.h.Abstract);m.h.uf.prototype.Qa=function(){var a=m.h.uf.v.Qa.call(this);this.Te&&(a.commentId=this.Te);return a};m.h.uf.prototype.na=function(a){m.h.uf.v.na.call(this,a);this.Te=a.commentId};m.h.Mi=function(a,c,d){a&&(m.h.Mi.v.constructor.call(this,a),this.Ay=c,this.zo=d)};m.g.object.S(m.h.Mi,m.h.uf);b=m.h.Mi.prototype;b.type=m.h.du;
b.Qa=function(){var a=m.h.Mi.v.Qa.call(this);a.newContents=this.zo;return a};b.na=function(a){m.h.Mi.v.na.call(this,a);this.zo=a.newValue};b.bi=function(){return this.Ay==this.zo};b.run=function(a){var c;(c=x(this).zn[this.Te]||null)?c.vL(a?this.zo:this.Ay):console.warn("Can't change non-existent comment: "+this.Te)};m.h.vf=function(a){a&&(m.h.vf.v.constructor.call(this,a),this.xml=a.oz())};m.g.object.S(m.h.vf,m.h.uf);m.h.vf.prototype.type=m.h.Gm;
m.h.vf.prototype.Qa=function(){var a=m.h.vf.v.Qa.call(this);a.xml=m.O.Gd(this.xml);return a};m.h.vf.prototype.na=function(a){m.h.vf.v.na.call(this,a);this.xml=m.O.Ei(a.xml)};m.h.vf.prototype.run=function(a){m.h.iu(this,a)};m.h.iu=function(a,c){var d=x(a);c?(c=m.g.xml.createElement("xml"),c.appendChild(a.xml),m.O.Zk(c,d)):(d=d.zn[a.Te]||null)?d.G(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Te)};m.h.wf=function(a){a&&(m.h.wf.v.constructor.call(this,a),this.xml=a.oz())};
m.g.object.S(m.h.wf,m.h.uf);m.h.wf.prototype.type=m.h.fu;m.h.wf.prototype.Qa=function(){return m.h.wf.v.Qa.call(this)};m.h.wf.prototype.na=function(a){m.h.wf.v.na.call(this,a)};m.h.wf.prototype.run=function(a){m.h.iu(this,!a)};m.h.nh=function(a){a&&(m.h.nh.v.constructor.call(this,a),this.Cq=a,this.Cs=a.Dx(),this.mi=null)};m.g.object.S(m.h.nh,m.h.uf);b=m.h.nh.prototype;
b.ui=function(){if(!this.Cq)throw Error("Tried to record the new position of a comment on the same event twice.");this.mi=this.Cq.Dx();this.Cq=null};b.type=m.h.Hm;b.Qa=function(){var a=m.h.nh.v.Qa.call(this);this.mi&&(a.newCoordinate=Math.round(this.mi.x)+","+Math.round(this.mi.y));return a};b.na=function(a){m.h.nh.v.na.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.mi=new m.g.P(Number(a[0]),Number(a[1])))};b.bi=function(){return m.g.P.Pf(this.Cs,this.mi)};
b.run=function(a){var c;if(c=x(this).zn[this.Te]||null){a=a?this.mi:this.Cs;var d=c.Dx();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Te)};m.Em=function(a,c){this.Rb=a;this.o=c;this.Hh=null;this.bp=!1;this.rf=this.Rb.Ua();this.Jh=m.g.Xh()&&c.kd?c.kd:null};m.Em.prototype.G=function(){this.Jh=this.o=this.Rb=null};function eb(a,c,d){d=a.Sj(d);d=m.g.P.sum(a.rf,d);a.Rb.vs(a.Jh,d);a.Rb.pd()&&(a.Hh=ta(a.o,c),a.bp=a.Hh!=m.ku,c=a.o.qc,a.bp?(ua(a.Rb,!0),a.Hh==m.pp&&c&&va(c,!0)):(ua(a.Rb,!1),c&&va(c,!1)))}
function fb(a,c,d){eb(a,c,d);c=a.Sj(d);c=m.g.P.sum(a.rf,c);a.Rb.moveTo(c.x,c.y);c=a.o.qc;a.bp?(c&&setTimeout(c.close.bind(c),100),a.cl(),a.Rb.G(!1,!0)):c&&c.close();a.bp||(a.Jh&&a.Jh.tn(a.o.gg),a.Rb.dh&&a.Rb.dh(!1),a.cl());a.o.$b(!0);(c=a.o.wa)&&"function"==typeof c.Ys&&c.Ys(a.Rb.pd()?"blocklyToolboxDelete":"blocklyToolboxGrab");m.h.ka(!1)}m.Em.prototype.cl=function(){if(this.Rb.JK){var a=new m.h.nh(this.Rb);a.Cs=this.rf;a.ui();m.h.Ia(a)}};
m.Em.prototype.Sj=function(a){a=new m.g.P(a.x/this.o.scale,a.y/this.o.scale);this.o.bo&&a.scale(1/this.o.options.xc.scale);return a};m.Hk=function(a){this.o=a;this.jz=new m.g.P(a.scrollX,a.scrollY)};m.Hk.prototype.G=function(){this.o=null};m.Hk.prototype.yt=function(){m.selected&&gb(m.selected);La(this.o)};m.Hk.prototype.Dg=function(a){a=m.g.P.sum(this.jz,a);this.o.scroll(a.x,a.y)};m.Qm=function(a){m.Qm.v.constructor.call(this,a.o);this.$y=a.Aa;this.yE=a.Kd};m.g.object.S(m.Qm,m.Hk);m.Qm.prototype.Dg=function(a){a=m.g.P.sum(this.jz,a);this.yE?this.$y.set(-a.x):this.$y.set(-a.y)};m.Qc=function(a){this.name=a};m.navigation={};m.navigation.Qj=null;m.navigation.Dv=1;m.navigation.fn=2;m.navigation.Ev=3;m.navigation.Uv=40;m.navigation.Gh=m.navigation.fn;m.navigation.Ca={yd:"previous",wd:"next",yp:"in",Mp:"out",zp:"insert",Hp:"mark",nu:"disconnect",Ck:"toolbox",tp:"exit",Zp:"toggle_keyboard_nav",Uu:"move workspace cursor up",Ru:"move workspace cursor down",Su:"move workspace cursor left",Tu:"move workspace cursor right"};m.navigation.qk="local_marker_1";m.navigation.Ic=function(){return m.navigation.Cb().Ic(m.navigation.qk)};
m.navigation.Cb=function(){return m.Rf()};m.navigation.ax=function(){var a=m.navigation.Cb().wa;a&&(m.navigation.Gh=m.navigation.Ev,m.navigation.Xy(!1),m.navigation.Ic().Oa||m.navigation.os(),a.sL())};m.navigation.$w=function(){m.navigation.Gh=m.navigation.Dv;var a=m.navigation.Cb();var c=a.wa;a=c?M(c):M(a);m.navigation.Ic().Oa||m.navigation.os();a&&a.o&&(a=a.o.Kb(!0),0<a.length&&(a=a[0],a=m.A.Uk(a),O(m.navigation.xj(),a)))};
m.navigation.Mn=function(){m.Xb();var a=m.navigation.Cb(),c=a.rb(),d=!!a.wa,e=a.Kb(!0);m.navigation.Xy(d);m.navigation.Gh=m.navigation.fn;0<e.length?O(c,m.A.Hq(e[0])):(a=m.A.rj(a,new m.g.P(100,100)),O(c,a))};m.navigation.xj=function(){var a=m.navigation.Cb(),c=null;a.pa&&(c=(a=(c=a.wa)?M(c):M(a))?a.o.rb():null);return c};
m.navigation.FE=function(){var a=m.navigation.Cb(),c=M(a);if(c&&c.isVisible()){var d=m.navigation.xj().Oa.ga;d.isEnabled()?(c=hb(c,d),c.Fa(),Pa(c,!0),O(a.rb(),m.A.Xe(c)),m.navigation.uy()||m.navigation.zc("Something went wrong while inserting a block from the flyout."),m.navigation.Mn(),O(a.rb(),m.A.Hq(c)),m.navigation.KF()):m.navigation.zc("Can't insert a disabled block.")}else m.navigation.zc("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
m.navigation.Xy=function(a){m.navigation.xj()&&(m.navigation.xj().ua(),a&&M(m.navigation.Cb()).ua())};
m.navigation.aF=function(){var a=m.navigation.Ic().Oa,c=m.navigation.Cb().rb().Oa;if(!a)return m.navigation.zc("Cannot insert with no marked node."),!1;if(!c)return m.navigation.zc("Cannot insert with no cursor node."),!1;a=a.Va();c=c.Va();return a==m.A.types.Hb?(m.navigation.zc("Should not have been able to mark a field."),!1):a==m.A.types.dd?(m.navigation.zc("Should not have been able to mark a block."),!1):a==m.A.types.Ke?(m.navigation.zc("Should not have been able to mark a stack."),!1):c==m.A.types.Hb?
(m.navigation.zc("Cannot attach a field to anything else."),!1):c==m.A.types.Oe?(m.navigation.zc("Cannot attach a workspace to anything else."),!1):!0};m.navigation.gF=function(a,c){if(!a)return!1;if(a.Pa)return m.navigation.zc("Cannot move a shadow block to the workspace."),!1;a.getParent()&&y(a,!1);a.moveTo(c.cp);return!0};
m.navigation.uy=function(){var a=m.navigation.Ic().Oa,c=m.navigation.Cb().rb().Oa;if(!m.navigation.aF())return!1;var d=a.Va(),e=c.Va(),f=c.ga,h=a.ga;if(a.Lj&&c.Lj)return m.navigation.ne(f,h);if(a.Lj&&(e==m.A.types.dd||e==m.A.types.Ke))return m.navigation.Sx(f,h);if(d==m.A.types.Oe)return c=c?c.V():null,m.navigation.gF(c,a);m.navigation.zc("Unexpected state in Blockly.navigation.modify_.");return!1};
m.navigation.xD=function(a,c){var d=a.V(),e=c.V();d.Jc()==e.Jc()&&(-1<t(d,!1).indexOf(e)?m.navigation.Pn(c).disconnect():m.navigation.Pn(a).disconnect())};m.navigation.us=function(a,c){if(!a||!c)return!1;var d=a.V();return ib(c,a)==m.ma.Fm?(m.navigation.xD(a,c),F(c)||pa(d.Jc(),a,c),c.connect(a),!0):!1};m.navigation.Pn=function(a){var c=a.V();return F(a)?c.T?c.T:c.L?c.L:null:a};m.navigation.Bx=function(a){return F(a)?a:a.la?a.la:null};
m.navigation.ne=function(a,c){if(!a||!c)return!1;var d=m.navigation.Pn(a),e=m.navigation.Bx(c),f=m.navigation.Bx(a),h=m.navigation.Pn(c);if(d&&e&&m.navigation.us(d,e)||f&&h&&m.navigation.us(f,h)||m.navigation.us(a,c))return!0;try{jb(c,a)}catch(k){m.navigation.zc("Connection failed with error: "+k)}return!1};
m.navigation.Sx=function(a,c){switch(c.type){case m.ce:if(m.navigation.ne(a.X,c))return!0;break;case m.bb:if(m.navigation.ne(a.T,c))return!0;break;case m.hb:if(m.navigation.ne(a.L,c))return!0;break;case m.ae:for(var d=0;d<a.N.length;d++){var e=a.N[d].connection;if(e&&e.type===m.hb&&m.navigation.ne(e,c))return!0}if(a.L&&m.navigation.ne(a.L,c))return!0}m.navigation.zc("This block can not be inserted at the marked location.");return!1};
m.navigation.wD=function(){var a=m.navigation.Cb(),c=a.rb().Oa;if(c.Lj){var d=c.ga;d.isConnected()?(c=F(d)?d:d.la,d=F(d)?d.la:d,d.V().Pa?m.navigation.gs("Cannot disconnect a shadow block"):(c.disconnect(),kb(d,c),ya(c.V().Jc()),c=m.A.Ye(c),O(a.rb(),c))):m.navigation.gs("Cannot disconnect unconnected connection")}else m.navigation.gs("Cannot disconnect blocks when the cursor is not on a connection")};m.navigation.os=function(){O(m.navigation.Ic(),m.navigation.Cb().rb().Oa)};
m.navigation.KF=function(){var a=m.navigation.Ic();O(a,null);a.ua()};m.navigation.nf=function(a){m.navigation.Gh=a};m.navigation.hF=function(a){var c=m.navigation.Cb();if(c&&(c=c.rb())){var d=c.Oa;d=d?d.V():null;d===a?d.getParent()?(a=d.T||d.L)&&O(c,m.A.Ye(a.la)):O(c,m.A.rj(d.C,d.Ua())):d&&-1<I(a,!1).indexOf(d)&&O(c,m.A.rj(d.C,d.Ua()))}};m.navigation.VK=function(a){var c=m.navigation.Cb().rb();if(c){var d=c.Oa;d=d?d.V():null;d===a&&O(c,m.A.Xe(d))}};
m.navigation.GD=function(){var a=m.navigation.Cb();a.vc||(a.vc=!0,m.navigation.Mn())};m.navigation.vD=function(){var a=m.navigation.Cb();a.vc&&(a.vc=!1,a.rb().ua(),m.navigation.Ic().ua(),m.navigation.xj()&&m.navigation.xj().ua())};m.navigation.gs=function(a){m.navigation.Qj?m.navigation.Qj("log",a):console.log(a)};m.navigation.zc=function(a){m.navigation.Qj?m.navigation.Qj("warn",a):console.warn(a)};m.navigation.aK=function(a){m.navigation.Qj?m.navigation.Qj("error",a):console.error(a)};
m.navigation.Gy=function(a){a=m.za.va.UF(a);return(a=m.za.va.SD(a))?m.navigation.Oc(a):!1};m.navigation.Oc=function(a){var c=m.navigation.Cb(),d=c.options.readOnly,e=!1;c.vc?d?-1<m.navigation.JB.indexOf(a)&&(e=m.navigation.Gx(a)):e=m.navigation.Gx(a):a.name===m.navigation.Ca.Zp&&(m.navigation.GD(),e=!0);return e};
m.navigation.Gx=function(a){return a.name==m.navigation.Ca.Ck||m.navigation.Gh==m.navigation.Ev?m.navigation.qG(a):a.name==m.navigation.Ca.Zp?(m.navigation.vD(),!0):m.navigation.Gh==m.navigation.fn?m.navigation.FG(a):m.navigation.Gh==m.navigation.Dv?m.navigation.OD(a):!1};
m.navigation.OD=function(a){var c=m.navigation.Cb(),d=c.wa;if((c=d?M(d):M(c))&&c.Oc(a))return!0;switch(a.name){case m.navigation.Ca.Mp:return m.navigation.ax(),!0;case m.navigation.Ca.Hp:return m.navigation.FE(),!0;case m.navigation.Ca.tp:return m.navigation.Mn(),!0;default:return!1}};
m.navigation.qG=function(a){var c=m.navigation.Cb(),d=c.wa;return d&&"function"==typeof d.Oc&&d.Oc(a)?!0:a.name===m.navigation.Ca.Ck?(c.wa?m.navigation.ax():m.navigation.$w(),!0):a.name===m.navigation.Ca.yp?(m.navigation.$w(),!0):a.name===m.navigation.Ca.tp?(m.navigation.Mn(),!0):!1};m.navigation.xo=function(a,c){var d=m.navigation.Cb(),e=d.rb(),f=d.rb().Oa;if(f.Va()!==m.A.types.Oe)return!1;f=f.cp;O(e,m.A.rj(d,new m.g.P(a*m.navigation.Uv+f.x,c*m.navigation.Uv+f.y)));return!0};
m.navigation.FG=function(a){if(m.navigation.Cb().rb().Oc(a))return!0;switch(a.name){case m.navigation.Ca.zp:return m.navigation.uy(),!0;case m.navigation.Ca.Hp:return m.navigation.nE(),!0;case m.navigation.Ca.nu:return m.navigation.wD(),!0;case m.navigation.Ca.Uu:return m.navigation.xo(0,-1);case m.navigation.Ca.Ru:return m.navigation.xo(0,1);case m.navigation.Ca.Su:return m.navigation.xo(-1,0);case m.navigation.Ca.Tu:return m.navigation.xo(1,0);default:return!1}};
m.navigation.nE=function(){var a=m.navigation.Cb().rb().Oa,c=a.Va();c==m.A.types.Hb?(a=a.ga,z(a)&&a.fg(void 0)):a.Lj||c==m.A.types.Oe?m.navigation.os():c==m.A.types.dd?m.navigation.zc("Cannot mark a block."):c==m.A.types.Ke&&m.navigation.zc("Cannot mark a stack.")};m.navigation.xm=new m.Qc(m.navigation.Ca.yd);m.navigation.Rt=new m.Qc(m.navigation.Ca.Mp);m.navigation.wm=new m.Qc(m.navigation.Ca.wd);m.navigation.Qt=new m.Qc(m.navigation.Ca.yp);m.navigation.Lz=new m.Qc(m.navigation.Ca.zp);
m.navigation.Mz=new m.Qc(m.navigation.Ca.Hp);m.navigation.Kz=new m.Qc(m.navigation.Ca.nu);m.navigation.Rz=new m.Qc(m.navigation.Ca.Ck);m.navigation.ep=new m.Qc(m.navigation.Ca.tp);m.navigation.St=new m.Qc(m.navigation.Ca.Zp);m.navigation.Oz=new m.Qc(m.navigation.Ca.Su);m.navigation.Pz=new m.Qc(m.navigation.Ca.Tu);m.navigation.Qz=new m.Qc(m.navigation.Ca.Uu);m.navigation.Nz=new m.Qc(m.navigation.Ca.Ru);m.navigation.JB=[m.navigation.xm,m.navigation.Rt,m.navigation.Qt,m.navigation.wm,m.navigation.St];m.F={};m.F.visible=!1;m.F.lj=!1;m.F.jB=50;m.F.wy=0;m.F.bm=0;m.F.$r=0;m.F.bs=0;m.F.ra=null;m.F.Pl=null;m.F.$u=0;m.F.av=10;m.F.IB=10;m.F.WA=750;m.F.Gp=5;m.F.Sa=null;m.F.Ma=function(){m.F.Sa||(m.F.Sa=document.createElement("div"),m.F.Sa.className="blocklyTooltipDiv",(m.Ho||document.body).appendChild(m.F.Sa))};m.F.kj=function(a){a.eF=m.hc(a,"mouseover",null,m.F.zF);a.cF=m.hc(a,"mouseout",null,m.F.yF);a.addEventListener("mousemove",m.F.Ml,!1)};
m.F.It=function(a){a&&(m.Ra(a.eF),m.Ra(a.cF),a.removeEventListener("mousemove",m.F.Ml))};m.F.zF=function(a){if(!m.F.lj){for(a=a.currentTarget;"string"!=typeof a.Ce&&"function"!=typeof a.Ce;)a=a.Ce;m.F.ra!=a&&(m.F.ua(),m.F.Pl=null,m.F.ra=a);clearTimeout(m.F.wy)}};m.F.yF=function(){m.F.lj||(m.F.wy=setTimeout(function(){m.F.ra=null;m.F.Pl=null;m.F.ua()},1),clearTimeout(m.F.bm))};
m.F.Ml=function(a){if(m.F.ra&&m.F.ra.Ce&&!m.F.lj)if(m.F.visible){var c=m.F.$r-a.pageX;a=m.F.bs-a.pageY;Math.sqrt(c*c+a*a)>m.F.IB&&m.F.ua()}else m.F.Pl!=m.F.ra&&(clearTimeout(m.F.bm),m.F.$r=a.pageX,m.F.bs=a.pageY,m.F.bm=setTimeout(m.F.bG,m.F.WA))};m.F.G=function(){m.F.ra=null;m.F.Pl=null;m.F.ua()};m.F.ua=function(){m.F.visible&&(m.F.visible=!1,m.F.Sa&&(m.F.Sa.style.display="none"));m.F.bm&&clearTimeout(m.F.bm)};m.F.block=function(){m.F.ua();m.F.lj=!0};m.F.wG=function(){m.F.lj=!1};
m.F.bG=function(){if(!m.F.lj&&(m.F.Pl=m.F.ra,m.F.Sa)){m.F.Sa.textContent="";for(var a=m.F.ra.Ce;"function"==typeof a;)a=a();a=m.g.Ga.Ez(a,m.F.jB);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));m.F.Sa.appendChild(d)}a=m.F.ra.H;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;m.F.Sa.style.direction=a?"rtl":"ltr";m.F.Sa.style.display="block";m.F.visible=!0;var e=m.F.$r;e=a?e-(m.F.$u+m.F.Sa.offsetWidth):
e+m.F.$u;var f=m.F.bs+m.F.av;f+m.F.Sa.offsetHeight>d+window.scrollY&&(f-=m.F.Sa.offsetHeight+2*m.F.av);a?e=Math.max(m.F.Gp-window.scrollX,e):e+m.F.Sa.offsetWidth>c+window.scrollX-2*m.F.Gp&&(e=c-m.F.Sa.offsetWidth-2*m.F.Gp);m.F.Sa.style.top=f+"px";m.F.Sa.style.left=e+"px"}};m.qh=function(a,c){this.vy=null;this.Gc=new m.g.P(0,0);this.Mb=this.Nb=this.Yj=this.Zj=this.sd=null;this.Iq=c;this.wl=this.Zh=this.xl=this.Ph=!1;this.Od=a;this.ca=this.Ji=this.Pe=this.xg=this.Fo=this.Eo=null;this.$n=this.Qh=this.hw=!1;this.Kx=!m.BA};b=m.qh.prototype;b.G=function(){m.Touch.un();m.F.wG();this.Iq.Wb=null;this.Eo&&m.Ra(this.Eo);this.Fo&&m.Ra(this.Fo);this.Pe&&this.Pe.G();this.Ji&&this.Ji.G();this.xg&&this.xg.G()};
function lb(a,c){a.Gc=m.g.P.Yk(new m.g.P(c.clientX,c.clientY),a.vy);if(a.Ph)var d=!1;else a.Ph=m.g.P.YE(a.Gc)>(a.ca?m.OA:m.AA),d=a.Ph;if(d){if(a.hw)throw Error("updateIsDragging_ should only be called once per gesture.");a.hw=!0;if(a.sd){a.wl=!0;a.xg=new m.Em(a.sd,a.Mb);d=a.xg;m.h.Sb()||m.h.ka(!0);d.o.$b(!1);d.Rb.kq=!1;d.Jh&&(d.Rb.moveTo(0,0),d.Jh.Fi(d.rf.x,d.rf.y),mb(d.Jh,d.Rb.oa()));d.Rb.dh&&d.Rb.dh(!0);var e=d.o.wa;e&&"function"==typeof e.eq&&e.eq(d.Rb.pd()?"blocklyToolboxDelete":"blocklyToolboxGrab");
eb(a.xg,a.Od,a.Gc);d=!0}else d=!1;if(!d){if(a.Nb)if(a.ca?(a.Nb&&a.Nb.isEnabled()?((d=!nb(a.ca))||(d=a.Gc,d=Math.atan2(d.y,d.x)/Math.PI*180,e=a.ca.DD,d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1),d?(a.Mb=a.ca.fb,ob(a.Mb),m.h.Sb()||m.h.ka(!0),a.Yj=null,a.Nb=hb(a.ca,a.Nb),a.Nb.select(),d=!0):d=!1):d=!1,a.Zh=d):a.Nb.$c()&&(a.Zh=!0),a.Zh){a.Pe=new m.lh(a.Nb,a.Mb);d=a.Pe;e=a.Gc;var f=a.Kx;m.h.Sb()||m.h.ka(!0);var h=new m.h.ec(d.ib,"dragStart",null,t(d.ib,!1));m.h.Ia(h);d.o.bo&&ya(d.ib);m.g.j.em();d.o.$b(!1);m.cb.Wq();
if(d.ib.getParent()||f&&d.ib.X&&d.ib.X.sa())y(d.ib,f),e=d.Sj(e),e=m.g.P.sum(d.rf,e),d.ib.translate(e.x,e.y),m.cb.yD(d.ib),e=d.af,e.pn=la(e);d.ib.dh(!0);e=d.ib;e.um&&(f=e.Ua(),e.oa().removeAttribute("transform"),e.C.kd.Fi(f.x,f.y),(f=e.oa())&&mb(e.C.kd,f));(e=d.o.wa)&&"function"==typeof e.eq&&e.eq(d.ib.pd()?"blocklyToolboxDelete":"blocklyToolboxGrab");sa(a.Pe,a.Od,a.Gc);d=!0}else d=!1;else d=!1;if(d=!d)if(a.ca)d=nb(a.ca);else if(d=a.Mb)d=a.Mb,d=d.options.Zb&&d.options.Zb.Dg;d&&(a.Ji=a.ca?new m.Qm(a.ca):
new m.Hk(a.Mb),a.xl=!0,a.Ji.yt())}m.Pg()}a.Od=c}
b.Yq=function(a){m.g.ho(a)?this.cancel():(this.Qh=!0,m.cb.Wq(),ob(this.Mb),this.Mb.bo&&this.Mb.resize(),m.Xb(!!this.ca),Ja(this.Mb),this.Od=a,m.F.block(),this.Nb&&(!this.Nb.gf&&a.shiftKey&&this.Nb.C.vc?O(this.Iq.rb(),m.A.Hq(this.Nb)):this.Nb.select()),m.g.Bl(a)?Aa(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||m.XE(a,this),this.vy=new m.g.P(a.clientX,a.clientY),this.Kx=a.altKey||a.ctrlKey||a.metaKey,this.kj(a)))};
b.kj=function(a){this.Eo=m.qa(document,"mousemove",null,this.Bj.bind(this));this.Fo=m.qa(document,"mouseup",null,this.Sn.bind(this));a.preventDefault();a.stopPropagation()};b.Bj=function(a){lb(this,a);this.xl?this.Ji.Dg(this.Gc):this.Zh?sa(this.Pe,this.Od,this.Gc):this.wl&&eb(this.xg,this.Od,this.Gc);a.preventDefault();a.stopPropagation()};
b.Sn=function(a){lb(this,a);m.Pg();if(this.$n)console.log("Trying to end a gesture recursively.");else{this.$n=!0;if(this.wl)fb(this.xg,a,this.Gc);else if(this.Zh)wa(this.Pe,a,this.Gc);else if(this.xl){var c=this.Ji;c.Dg(this.Gc);Ma(c.o)}else if(this.sd&&!this.Ph)this.sd.XF&&this.sd.XF(),this.sd.select&&this.sd.select();else if(pb(this)){c=this.Zj;var d=this.Od;z(c)&&c.fg(d);qb(this)}else!this.Yj||this.Ph||pb(this)?this.Yj||this.sd||this.Zj||this.Ph||(c=this.Iq,a.shiftKey&&c.vc?(d=m.g.SF(c,new m.g.P(a.clientX,
a.clientY)),d=m.A.rj(c,d),O(c.rb(),d)):m.selected&&gb(m.selected),d=new m.h.ec(null,"workspaceClick",null,null),d.wb=c.id,m.h.Ia(d)):(this.ca&&this.ca.jj?this.Nb.isEnabled()&&(m.h.Sb()||m.h.ka(!0),za(hb(this.ca,this.Nb))):m.h.Ia(new m.h.ec(this.Yj,"click",void 0,void 0)),qb(this),m.h.ka(!1));a.preventDefault();a.stopPropagation();this.G()}};
b.cancel=function(){if(!this.$n){m.Pg();if(this.wl)fb(this.xg,this.Od,this.Gc);else if(this.Zh)wa(this.Pe,this.Od,this.Gc);else if(this.xl){var a=this.Ji;a.Dg(this.Gc);Ma(a.o)}this.G()}};function Aa(a,c){a.Nb?(qb(a),m.Xb(!!a.ca),a.Nb.$l(c)):a.sd?a.sd.$l(c):a.Mb&&!a.ca&&(m.Xb(),a.Mb.$l(c));c.preventDefault();c.stopPropagation();a.G()}
function rb(a,c,d){if(a.Qh)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Mb||(a.Mb=d);a.Od=c;a.Yq(c);a.Mb.vc&&m.navigation.nf(m.navigation.fn)}function sb(a,c,d){if(a.Qh)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.ca||(a.ca=d);rb(a,c,d.o)}function qb(a){a.Nb&&!a.ca&&ya(a.Nb)}function tb(a,c){a.Yj||a.sd||(a.Yj=c,c.gf&&c!=c.Jc()?ub(a,c.Jc()):ub(a,c))}
function ub(a,c){c.Pa?ub(a,c.getParent()):a.Nb=c}function pb(a){return(a.Zj?z(a.Zj):!1)&&!a.Ph&&(!a.ca||!a.ca.jj)}b.qd=function(){return this.xl||this.Zh||this.wl};b.yj=function(){return this.Pe?this.Pe.yj():[]};m.qh.Vn=function(){for(var a=m.ob.getAll(),c=0,d;d=a[c];c++)if(d.Wb)return!0;return!1};m.gd=function(a,c,d){this.ac=this.Pi;this.rz=this.Zo=null;this.mc=new m.g.zd(0,0);this.s=this.ts=this.Di=this.oc=this.zb=this.Xc=this.$f=this.Mf=null;d&&this.Vc(d);this.setValue(a);c&&(this.Zo=c)};b=m.gd.prototype;b.Pi=null;b.name=void 0;b.Nf=!1;b.ty=50;b.D=null;b.ff=!0;b.hh=!0;b.zq=null;m.gd.Xu="\u00a0";b=m.gd.prototype;b.jk=!0;b.Yi=!1;b.Vc=function(a){var c=a.tooltip;"string"==typeof c&&(c=m.g.yc(a.tooltip));c&&this.Bi(c)};
b.st=function(a){if(this.D)throw Error("Field already bound to a block.");this.D=a};b.U=function(){!this.s&&this.D&&this.D.C&&this.D.C.pa&&(this.s=this.D.C.jb.U());return this.s};b.V=function(){return this.D};b.Na=function(){this.Xc||(this.Xc=m.g.j.J("g",{},null),this.isVisible()||(this.Xc.style.display="none"),this.D.oa().appendChild(this.Xc),this.Vh(),vb(this),this.Bi(this.rz),m.F.kj(wb(this)),this.ts=m.qa(wb(this),"mousedown",this,this.Tg),this.Uh())};b.Vh=function(){xb(this);yb(this)};b.Uh=function(){};
function xb(a){a.zb=m.g.j.J("rect",{rx:a.U().Nm,ry:a.U().Nm,x:0,y:0,height:a.mc.height,width:a.mc.width,"class":"blocklyFieldRect"},a.Xc)}function yb(a){a.oc=m.g.j.J("text",{"class":"blocklyText"},a.Xc);a.U().vp&&a.oc.setAttribute("dominant-baseline","central");a.Di=document.createTextNode("");a.oc.appendChild(a.Di)}b.hl=function(a){this.setValue(a.textContent)};b.nz=function(a){a.textContent=this.getValue();return a};
b.G=function(){m.B.Fj(this);m.R.Fj(this);m.F.It(wb(this));this.ts&&m.Ra(this.ts);m.g.j.removeNode(this.Xc);this.Nf=!0};function vb(a){var c=a.Xc;a.jk&&c&&(a.D.Ld()?(m.g.j.yb(c,"blocklyEditableText"),m.g.j.Pc(c,"blocklyNonEditableText"),c.style.cursor=a.gu):(m.g.j.yb(c,"blocklyNonEditableText"),m.g.j.Pc(c,"blocklyEditableText"),c.style.cursor=""))}function z(a){return!!a.D&&a.D.Ld()&&!!a.fg&&"function"===typeof a.fg}b.isVisible=function(){return this.hh};
b.Tb=function(a){if(this.hh!=a){this.hh=a;var c=this.oa();c&&(c.style.display=a?"block":"none")}};b.Cx=function(){return this.Zo};b.oa=function(){return this.Xc};b.fc=function(){};b.ag=function(){this.Di&&(this.Di.nodeValue=zb(this));this.xz()};b.xz=function(){var a=this.U(),c=this.zb?this.U().kk:0,d=2*c,e=a.Om,f=0;this.oc&&(f=m.g.j.Br(this.oc,a.pg,a.qg,a.og),d+=f);this.zb&&(e=Math.max(e,a.uu));this.mc.height=e;this.mc.width=d;Ab(this,c,f);Bb(this)};
function Ab(a,c,d){if(a.oc){var e=a.U(),f=a.mc.height/2;a.oc.setAttribute("x",a.D.H?a.mc.width-d-c:c);a.oc.setAttribute("y",e.vp?f:f-e.Om/2+e.wu)}}function Bb(a){a.zb&&(a.zb.setAttribute("width",a.mc.width),a.zb.setAttribute("height",a.mc.height),a.zb.setAttribute("rx",a.U().Nm),a.zb.setAttribute("ry",a.U().Nm))}
b.Sf=function(){if(!this.isVisible())return new m.g.zd(0,0);this.ff?(this.ag(),this.ff=!1):this.hh&&0==this.mc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.ag());return this.mc};
function Cb(a){if(a.zb)c=a.zb.getBoundingClientRect(),a=m.g.style.Oh(a.zb),e=c.width,c=c.height;else{var c=B(a.D),d=a.D.C.scale;a=m.g.style.Oh(wb(a));var e=c.width*d;c=c.height*d;m.g.userAgent.SA?(a.x+=1.5*d,a.y+=1.5*d):m.g.userAgent.ph||m.g.userAgent.Zd||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}return new m.g.Rect(a.y,a.y+c,a.x,a.x+e)}function zb(a){var c=a.Fg();if(!c)return m.gd.Xu;c.length>a.ty&&(c=c.substring(0,a.ty-2)+"\u2026");c=c.replace(/\s/g,m.gd.Xu);a.D&&a.D.H&&(c+="\u200f");return c}
b.Fg=function(){if(this.Qn){var a=this.Qn.call(this);if(null!==a)return String(a)}return String(this.getValue())};b.Fl=function(){this.ff=!0;this.s=null};function Ua(a){a.ff=!0;a.D&&a.D.pa&&(a.D.Fa(),a.D.Uc(),a.Kt())}
b.setValue=function(a){if(null!==a){var c=this.Bg(a);a=Db(this,a,c);if(!(a instanceof Error)){if(c=this.Cx())if(c=c.call(this,a),a=Db(this,a,c),a instanceof Error)return;c=this.D;if(!c||!c.Nf){var d=this.getValue();d!==a&&(c&&m.h.isEnabled()&&m.h.Ia(new m.h.kh(c,"field",this.name||null,d,a)),this.Cg(a),this.ff&&Ua(this))}}}};function Db(a,c,d){if(null===d)return a.Rw(),a.ff&&Ua(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.ac};
b.Bg=function(a){return null===a||void 0===a?null:a};b.Cg=function(a){this.ac=a;this.ff=!0};b.Rw=function(){};b.Tg=function(a){if(this.D&&this.D.C&&(a=this.D.C.Eg(a))){if(a.Qh)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Zj||(a.Zj=this)}};b.Bi=function(a){var c=wb(this);c?c.Ce=a||""===a?a:this.D:this.rz=a};function wb(a){return a.zq||a.oa()}b.No=function(){return!1};
b.bf=function(){for(var a=null,c=this.D,d=c.N,e=0;e<c.N.length;e++)for(var f=d[e],h=f.Ta,k=0;k<h.length;k++)if(h[k]===this){a=f;break}return a};b.nx=function(){return!1};b.ay=function(){return!1};b.Oc=function(){return!1};b.dg=function(a){a?(this.Xc.appendChild(a),this.Mf=a):this.Mf=null};b.eg=function(a){a?(this.Xc.appendChild(a),this.$f=a):this.$f=null};b.Kt=function(){var a=this.D.C;a.vc&&this.Mf&&a.rb().draw();a.vc&&this.$f&&a.Ic(m.navigation.qk).draw()};m.qe={};m.qe.register=function(a,c){m.aa.register(m.aa.Ib.Hb,a,c)};m.qe.unregister=function(a){m.aa.unregister(m.aa.Ib.Hb,a)};m.qe.na=function(a){var c=m.aa.yr(m.aa.Ib.Hb,a.type);return c?c.na(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};m.g.Xa={};m.g.Xa.Wz="aria-";m.g.Xa.LB="role";m.g.Xa.$m={EH:"grid",FH:"gridcell",GH:"group",kB:"listbox",qB:"menu",rB:"menuitem",$H:"menuitemcheckbox",BB:"option",cJ:"presentation",Up:"row",tJ:"tree",uJ:"treeitem"};m.g.Xa.State={Sz:"activedescendant",TG:"colcount",yA:"disabled",hH:"expanded",Fu:"invalid",hB:"label",OH:"labelledby",RH:"level",WI:"orientation",bJ:"posinset",hJ:"rowcount",PB:"selected",kJ:"setsize",iC:"valuemax",jC:"valuemin"};m.g.Xa.eh=function(a,c){a.setAttribute(m.g.Xa.LB,c)};
m.g.Xa.nf=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(m.g.Xa.Wz+c,d)};m.Ip=function(){this.we=[];this.xi=this.ra=this.Bo=this.uo=this.to=this.Jf=this.vo=this.Jg=this.Js=null};b=m.Ip.prototype;b.cq=function(a){this.we.push(a)};
b.Fa=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.xi&&m.g.Xa.eh(c,this.xi);this.ra=c;for(var d=0,e;e=this.we[d];d++)c.appendChild(e.Ma());this.vo=m.qa(c,"mouseover",this,this.sE,!0);this.Jf=m.qa(c,"click",this,this.mE,!0);this.to=m.qa(c,"mouseenter",this,this.qE,!0);this.uo=m.qa(c,"mouseleave",this,this.rE,!0);this.Bo=m.qa(c,"keydown",this,this.oE);a.appendChild(c)};
b.focus=function(){var a=this.ra;a&&(a.focus({preventScroll:!0}),m.g.j.yb(a,"blocklyFocused"))};b.eh=function(a){this.xi=a};b.G=function(){this.vo&&(m.Ra(this.vo),this.vo=null);this.Jf&&(m.Ra(this.Jf),this.Jf=null);this.to&&(m.Ra(this.to),this.to=null);this.uo&&(m.Ra(this.uo),this.uo=null);this.Bo&&(m.Ra(this.Bo),this.Bo=null);for(var a=0,c;c=this.we[a];a++)c.G();this.ra=null};
function Eb(a,c){for(var d=a.ra;c&&c!=d;){if(m.g.j.Mr(c,"blocklyMenuItem"))for(var e=0,f;f=a.we[e];e++)if(f.ra==c)return f;c=c.parentElement}return null}b.ze=function(a){var c=this.Jg;c&&(c.ze(!1),this.Jg=null);a&&(a.ze(!0),this.Jg=a,c=this.ra,m.g.style.TF(a.ra,c),m.g.Xa.nf(c,m.g.Xa.State.Sz,a.eb()))};function Fb(a){var c=a.we.indexOf(a.Jg);Gb(a,0>c?a.we.length:c,-1)}function Gb(a,c,d){c+=d;for(var e;e=a.we[c];){if(e.isEnabled()){a.ze(e);break}c+=d}}
b.sE=function(a){(a=Eb(this,a.target))&&(a.isEnabled()?this.Jg!=a&&this.ze(a):this.ze(null))};b.mE=function(a){var c=this.Js;this.Js=null;c&&"number"==typeof a.clientX&&1>m.g.P.Xq(c,new m.g.P(a.clientX,a.clientY))||(a=Eb(this,a.target))&&a.isEnabled()&&a.Ik&&a.Ik(a)};b.qE=function(){this.focus()};b.rE=function(){if(this.ra){var a=this.ra;a&&(a.blur(),m.g.j.Pc(a,"blocklyFocused"));this.ze(null)}};
b.oE=function(a){if(this.we.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.Jg;switch(a.keyCode){case m.g.ya.rp:case m.g.ya.SB:c&&c.isEnabled()&&c.Ik&&c.Ik(c);break;case m.g.ya.Lv:Fb(this);break;case m.g.ya.ou:Gb(this,this.we.indexOf(this.Jg),1);break;case m.g.ya.GB:case m.g.ya.VA:Gb(this,-1,1);break;case m.g.ya.FB:case m.g.ya.HA:Gb(this,this.we.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.Sf=function(){var a=this.ra,c=m.g.style.Sf(a);c.height=a.scrollHeight;return c};m.Jp=function(a,c){this.Lf=a;this.ac=c;this.Jn=!0;this.ra=null;this.Qo=!1;this.xi=null;this.Nx=this.xq=this.wq=!1;this.Ik=null};b=m.Jp.prototype;
b.Ma=function(){var a=document.createElement("div");a.id=m.g.Ri.Fr();this.ra=a;a.className="blocklyMenuItem goog-menuitem "+(this.Jn?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.xq?"blocklyMenuItemSelected goog-option-selected ":"")+(this.Nx?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Qo?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.wq){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.Lf;"string"==typeof this.Lf&&(d=document.createTextNode(this.Lf));c.appendChild(d);a.appendChild(c);this.xi&&m.g.Xa.eh(a,this.xi);m.g.Xa.nf(a,m.g.Xa.State.PB,this.wq&&this.xq||!1);m.g.Xa.nf(a,m.g.Xa.State.yA,!this.Jn);return a};b.G=function(){this.ra=null};b.eb=function(){return this.ra.id};b.getValue=function(){return this.ac};b.eh=function(a){this.xi=a};
b.ze=function(a){this.Nx=a;var c=this.ra;c&&this.isEnabled()&&(a?(m.g.j.yb(c,"blocklyMenuItemHighlight"),m.g.j.yb(c,"goog-menuitem-highlight")):(m.g.j.Pc(c,"blocklyMenuItemHighlight"),m.g.j.Pc(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.Jn};b.mf=function(a){this.Jn=a};function Hb(a,c,d){a.Ik=c.bind(d)};m.ab=function(a,c,d){"function"!=typeof a&&m.ab.yz(a);this.li=a;this.At=this.Ts=this.On=null;a=this.li;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var h=a[f][0];"string"==typeof h?a[f][0]=m.g.yc(h):(null!=h.alt&&(a[f][0].alt=m.g.yc(h.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=m.g.Ga.ut(e);h=m.g.Ga.nw(e,f);var k=m.g.Ga.ow(e,f);!h&&!k||f<=h+k||(h&&(this.Ts=e[0].substring(0,h-1)),k&&(this.At=e[0].substr(1-k)),this.li=m.ab.BC(a,h,k))}}this.Uj=this.getOptions(!1)[0];
m.ab.v.constructor.call(this,this.Uj[1],c,d);this.$j=this.Cd=this.Kc=this.Yb=this.Wl=null};m.g.object.S(m.ab,m.gd);m.ab.na=function(a){return new m.ab(a.options,void 0,a)};m.ab.prototype.Yi=!0;m.ab.PG=25;m.ab.ZH=.45;m.ab.$A=5;m.ab.aB=2*m.ab.$A;m.ab.zm=m.g.userAgent.Li?"\u25bc":"\u25be";b=m.ab.prototype;b.gu="default";
b.Vh=function(){this.vt()?xb(this):this.zq=this.D.oa();yb(this);this.Kc=m.g.j.J("image",{},this.Xc);this.U().KA?(this.$j=m.g.j.J("image",{height:this.U().lk+"px",width:this.U().lk+"px"},this.Xc),this.$j.setAttributeNS(m.g.j.Bd,"xlink:href",this.U().LA)):(this.Cd=m.g.j.J("tspan",{},this.oc),this.Cd.appendChild(document.createTextNode(this.D.H?m.ab.zm+" ":" "+m.ab.zm)),this.D.H?this.oc.insertBefore(this.Cd,this.Di):this.oc.appendChild(this.Cd));this.zb&&m.g.j.yb(this.zb,"blocklyDropdownRect")};
b.vt=function(){return!this.U().up||this.U().up&&!this.D.Pa};b.fg=function(a){this.Yb=this.ir();this.Yb.Js=a&&"number"===typeof a.clientX?new m.g.P(a.clientX,a.clientY):null;this.Yb.Fa(m.B.jx());m.g.j.yb(this.Yb.ra,"blocklyDropdownMenu");if(this.U().JA){a=this.D.Pa?this.D.getParent().zr():this.D.zr();var c=this.D.Pa?this.D.getParent().style.Re:this.D.style.Re;m.B.bh(a,c)}m.B.dz(this,this.jr.bind(this));this.Yb.focus();this.Wl&&this.Yb.ze(this.Wl);this.fc()};
b.ir=function(){var a=new m.Ip;a.eh(m.g.Xa.$m.kB);var c=this.getOptions(!1);this.Wl=null;for(var d=0;d<c.length;d++){var e=c[d][0],f=c[d][1];if("object"==typeof e){var h=new Image(e.width,e.height);h.src=e.src;h.alt=e.alt||"";e=h}e=new m.Jp(e,f);e.eh(m.g.Xa.$m.BB);e.Qo=this.D.H;e.wq=!0;a.cq(e);e.xq=f==this.ac;f==this.ac&&(this.Wl=e);Hb(e,this.pE,this)}return a};b.jr=function(){this.Yb&&this.Yb.G();this.Wl=this.Yb=null;this.fc()};b.pE=function(a){m.B.Fj(this,!0);this.Fy(a)};b.Fy=function(a){this.setValue(a.getValue())};
m.ab.BC=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var h=a[f][0],k=a[f][1];h=h.substring(c,h.length-d);e[f]=[h,k]}return e};b=m.ab.prototype;b.getOptions=function(a){return"function"==typeof this.li?(this.On&&a||(this.On=this.li.call(this),m.ab.yz(this.On)),this.On):this.li};
b.Bg=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.D&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.D.type+", Field name: "+this.name+", Value: "+a),null)};b.Cg=function(a){m.ab.v.Cg.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.ac&&(this.Uj=d)};
b.fc=function(){this.zb&&(this.zb.setAttribute("stroke",this.D.style.Re),this.Yb?this.zb.setAttribute("fill",this.D.style.Re):this.zb.setAttribute("fill","transparent"));this.D&&this.Cd&&(this.Cd.style.fill=this.D.Pa?this.D.style.yn:this.D.style.zg)};
b.ag=function(){this.Di.nodeValue="";this.Kc.style.display="none";var a=this.Uj&&this.Uj[0];if(a&&"object"==typeof a){this.Kc.style.display="";this.Kc.setAttributeNS(m.g.j.Bd,"xlink:href",a.src);this.Kc.setAttribute("height",a.height);this.Kc.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.zb,e=Math.max(d?this.U().vu:0,c+m.ab.aB);d=d?this.U().kk:0;var f=this.$j?Ib(this,a+d,e/2-this.U().lk/2):m.g.j.Br(this.Cd,this.U().pg,this.U().qg,this.U().og);this.mc.width=a+
f+2*d;this.mc.height=e;var h=0;this.D.H?this.Kc.setAttribute("x",d+f):(h=a+f,this.oc.setAttribute("text-anchor","end"),this.Kc.setAttribute("x",d));this.Kc.setAttribute("y",e/2-c/2);Ab(this,h+d,a+f)}else this.Di.nodeValue=zb(this),m.g.j.yb(this.oc,"blocklyDropdownText"),this.oc.setAttribute("text-anchor","start"),e=!!this.zb,c=Math.max(e?this.U().vu:0,this.U().Om),a=m.g.j.Br(this.oc,this.U().pg,this.U().qg,this.U().og),e=e?this.U().kk:0,d=0,this.$j&&(d=Ib(this,a+e,c/2-this.U().lk/2)),this.mc.width=
a+d+2*e,this.mc.height=c,Ab(this,e,a);Bb(this)};function Ib(a,c,d){if(!a.$j)return 0;var e=a.zb?a.U().kk:0,f=a.U().MA,h=a.U().lk;a.$j.setAttribute("transform","translate("+(a.D.H?e:c+f)+","+d+")");return h+f}b.Qn=function(){if(!this.Uj)return null;var a=this.Uj[0];return"object"==typeof a?a.alt:a};
m.ab.yz=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};m.ab.prototype.Oc=function(a){if(this.Yb){if(a===m.navigation.xm)return Fb(this.Yb),!0;if(a===m.navigation.wm)return a=this.Yb,Gb(a,a.we.indexOf(a.Jg),1),!0}return m.ab.v.Oc.call(this,a)};m.qe.register("field_dropdown",m.ab);m.dc=function(a){this.o=a;this.Eh=[];this.Kh=null;if(!(0>=this.o.options.so)){a=new m.Cc({scrollbars:!0,parentWorkspace:this.o,rtl:this.o.H,oneBasedIndex:this.o.options.Go,renderer:this.o.options.at,rendererOverrides:this.o.options.bt});if(this.o.Kd){a.kb=this.o.kb==m.yh?m.Dk:m.yh;if(!m.xp)throw Error("Missing require for Blockly.HorizontalFlyout");this.Kh=new m.xp(a)}else{a.kb=this.o.kb==m.xh?m.fe:m.xh;if(!m.Ch)throw Error("Missing require for Blockly.VerticalFlyout");this.Kh=new m.Ch(a)}L(this.o,
this.rF.bind(this))}};b=m.dc.prototype;b.Fk=47;b.Bm=44;b.Ui=16;b.nB=20;b.Mu=20;b.Um=10;b.Xp=0;b.Yp=32;b.TA=.1;m.dc.Vz=80;m.dc.Wt=4;m.dc.bv=.4;m.dc.zB=.8;m.dc.Nu=45;b=m.dc.prototype;b.co=!1;b.ss=0;b.M=null;b.To=null;b.ds=0;b.Og=0;b.iy=0;b.sz=0;
b.Ma=function(){this.M=m.g.j.J("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=m.g.j.J("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.M);m.g.j.J("rect",{width:this.Fk,height:this.Bm,y:this.Ui},c);var d=m.g.j.J("image",{width:m.$i.width,x:-this.Xp,height:m.$i.height,y:-this.Yp,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.M);d.setAttributeNS(m.g.j.Bd,"xlink:href",this.o.options.Ko+m.$i.url);c=m.g.j.J("clipPath",{id:"blocklyTrashLidClipPath"+a},this.M);
m.g.j.J("rect",{width:this.Fk,height:this.Ui},c);this.To=m.g.j.J("image",{width:m.$i.width,x:-this.Xp,height:m.$i.height,y:-this.Yp,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.M);this.To.setAttributeNS(m.g.j.Bd,"xlink:href",this.o.options.Ko+m.$i.url);m.qa(this.M,"mouseup",this,this.click);m.hc(d,"mouseover",this,this.fF);m.hc(d,"mouseout",this,this.dF);this.gq();return this.M};
b.Na=function(a){0<this.o.options.so&&(m.g.j.Ij(this.Kh.Ma("svg"),A(this.o)),this.Kh.Na(this.o));this.$o=this.nB+a;va(this,!1);return this.$o+this.Bm+this.Ui};b.G=function(){this.M&&(m.g.j.removeNode(this.M),this.M=null);this.o=this.To=null;clearTimeout(this.ds)};
b.position=function(){if(this.$o){var a=this.o.Hd();a&&(this.iy=a.kb==m.fe||this.o.Kd&&!this.o.H?a.vb+a.rc-this.Fk-this.Mu-m.Ka.lc:this.Mu+m.Ka.lc,this.sz=a.kb==m.Dk?this.$o:a.Fb+a.Dc-(this.Bm+this.Ui)-this.$o,this.M.setAttribute("transform","translate("+this.iy+","+this.sz+")"))}};b.kl=function(){if(!this.M)return null;var a=this.M.getBoundingClientRect(),c=a.top+this.Yp-this.Um;a=a.left+this.Xp-this.Um;return new m.g.Rect(c,c+this.Ui+this.Bm+2*this.Um,a,a+this.Fk+2*this.Um)};
function va(a,c){a.co!=c&&(clearTimeout(a.ds),a.co=c,a.gq())}b.gq=function(){var a=1/(m.dc.Wt+1);this.Og+=this.co?a:-a;this.Og=Math.min(Math.max(this.Og,this.ss),1);Jb(this,this.Og*m.dc.Nu);this.M.style.opacity=m.dc.bv+this.Og*(m.dc.zB-m.dc.bv);this.Og>this.ss&&1>this.Og&&(this.ds=setTimeout(this.gq.bind(this),m.dc.Vz/m.dc.Wt))};function Jb(a,c){var d=a.o.kb==m.xh||a.o.Kd&&a.o.H;a.To.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.Fk-4)+","+(a.Ui-2)+")")}b.close=function(){va(this,!1)};
b.click=function(){if(this.Eh.length){for(var a=[],c=0,d;d=this.Eh[c];c++)a[c]=m.O.Ei(d);this.Kh.show(a)}};b.fF=function(){this.Eh.length&&va(this,!0)};b.dF=function(){va(this,!1)};
b.rF=function(a){if(!(0>=this.o.options.so)&&a.type==m.h.$t&&"shadow"!=a.Es.tagName.toLowerCase()){for(var c=a=a.Es.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=m.O.Gd(a);if(-1==this.Eh.indexOf(a)){for(this.Eh.unshift(a);this.Eh.length>
this.o.options.so;)this.Eh.pop();this.ss=a=this.TA;this.co||Jb(this,a*m.dc.Nu)}}};m.ed=Object.create(null);m.ma=function(a,c){this.D=a;this.type=c};m.ma.Fm=0;m.ma.qv=1;m.ma.uv=2;m.ma.tv=3;m.ma.ov=4;m.ma.pv=5;m.ma.rv=6;b=m.ma.prototype;b.la=null;b.Nf=!1;b.le=null;b.pf=null;b.x=0;b.y=0;
b.ne=function(a){var c=this,d=c.V(),e=a.V();a.isConnected()&&a.disconnect();if(c.isConnected()){var f=c.sa(),h=c.pf;c.pf=null;if(f.Pa)h=m.O.Gf(f),f.G(!1),f=null;else if(c.type==m.hb){if(!f.L)throw Error("Orphan block does not have an output connection.");var k=m.ma.ey(e,f);k&&(f.L.connect(k),f=null)}else if(c.type==m.bb){if(!f.T)throw Error("Orphan block does not have a previous connection.");for(k=e;k.X;){var l=w(k);if(l&&!l.Pa)k=l;else{oa(f.T,k.X)&&(k.X.connect(f.T),f=null);break}}}if(f&&(c.disconnect(),
m.h.kc)){var n=m.h.Sb();setTimeout(function(){f.C&&!f.getParent()&&(m.h.ka(n),f.L?f.L.Ao(c):f.T&&f.T.Ao(c),m.h.ka(!1))},m.kp)}c.pf=h}var p;m.h.isEnabled()&&(p=new m.h.fk(e));m.ma.cD(c,a);e.Xj(d);p&&(p.ui(),m.h.Ia(p))};b.G=function(){if(this.isConnected()){this.pf=null;var a=this.sa();a.Pa?a.G(!1):y(a)}this.Nf=!0};b.V=function(){return this.D};function F(a){return a.type==m.hb||a.type==m.bb}b.isConnected=function(){return!!this.la};
function ib(a,c){if(!c)return m.ma.tv;if(F(a))var d=a.D,e=c.V();else e=a.D,d=c.V();return d&&d==e?m.ma.qv:c.type!=m.Wi[a.type]?m.ma.uv:d&&e&&d.C!==e.C?m.ma.pv:oa(a,c)?d.Pa&&!e.Pa?m.ma.rv:m.ma.Fm:m.ma.ov}
function jb(a,c){switch(ib(a,c)){case m.ma.Fm:break;case m.ma.qv:throw Error("Attempted to connect a block to itself.");case m.ma.pv:throw Error("Blocks not on same workspace.");case m.ma.uv:throw Error("Attempt to connect incompatible types.");case m.ma.tv:throw Error("Target connection is null.");case m.ma.ov:throw Error("Connection checks failed. "+(a+" expected "+a.le+", found "+c.le));case m.ma.rv:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}}
b.Yn=function(a){if(a.D.ve()||ib(this,a)!=m.ma.Fm)return!1;switch(a.type){case m.ce:return this.la||-1!=m.wj.indexOf(a)?a=!1:a.la?(a=a.sa(),a=a.ve()?!(a.T&&a.T.sa()):!1):a=!0,a;case m.ae:if(a.isConnected()&&!a.sa().ve()||this.isConnected())return!1;break;case m.hb:if(a.isConnected()&&!a.sa().$c()&&!a.sa().Pa)return!1;break;case m.bb:if(a.isConnected()&&!this.D.X&&!a.sa().Pa&&a.sa().X)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=m.wj.indexOf(a)?!1:
!0};b.Ao=function(){};b.connect=function(a){if(this.la!=a){jb(this,a);var c=m.h.Sb();c||m.h.ka(!0);F(this)?this.ne(a):a.ne(this);c||m.h.ka(!1)}};m.ma.cD=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.la=c;c.la=a};m.ma.cG=function(a,c){for(var d=null,e=0;e<a.N.length;e++){var f=a.N[e].connection;if(f&&f.type==m.hb&&oa(c.L,f)){if(d)return null;d=f}}return d};m.ma.ey=function(a,c){for(var d;d=m.ma.cG(a,c);)if(a=d.sa(),!a||a.Pa)return d;return null};b=m.ma.prototype;
b.disconnect=function(){var a=this.la;if(!a)throw Error("Source connection not connected.");if(a.la!=this)throw Error("Target connection not connected to source connection.");if(F(this)){var c=this.D;var d=a.V();a=this}else c=a.V(),d=this.D;var e=m.h.Sb();e||m.h.ka(!0);this.Uq(c,d);a.et();e||m.h.ka(!1)};b.Uq=function(a,c){var d;m.h.isEnabled()&&(d=new m.h.fk(c));this.la=this.la.la=null;c.Xj(null);d&&(d.ui(),m.h.Ia(d))};
b.et=function(){var a=this.V(),c=this.pf;if(a.C&&c&&m.h.kc)if(a=m.O.vj(c,a.C),a.L)this.connect(a.L);else if(a.T)this.connect(a.T);else throw Error("Child block does not have output or previous statement.");};b.sa=function(){return this.isConnected()?this.la.V():null};function oa(a,c){if(!a.le||!c.le)return!0;for(var d=0;d<a.le.length;d++)if(-1!=c.le.indexOf(a.le[d]))return!0;return!1}b.Ey=function(){!this.isConnected()||this.la&&oa(this,this.la)||y(F(this)?this.sa():this.D)};
b.Vj=function(a){a?(Array.isArray(a)||(a=[a]),this.le=a,this.Ey()):this.le=null};b.zy=function(){return[]};b.bf=function(){for(var a=null,c=this.D,d=c.N,e=0;e<c.N.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.D;if(a)if(a.L==this)var c="Output Connection of ";else if(a.T==this)c="Previous Connection of ";else if(a.X==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.N[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};m.xa={};m.xa.ek={};m.xa.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(m.xa.ek[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');m.xa.ek[a]=c};m.xa.gL=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');m.xa.register(a,function(){this.Nd(c)})};
m.xa.hL=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';m.xa.iw(f,c.Of,"domToMutation");m.xa.iw(f,c.Pd,"mutationToDom");var h=m.xa.kw(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');m.xa.register(a,function(){if(h){if(!m.uB)throw Error(f+"Missing require for Blockly.Mutator");this.cz(new m.uB(e||[]))}this.Nd(c);d&&d.apply(this)})};m.xa.unregister=function(a){m.xa.ek[a]?delete m.xa.ek[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
m.xa.apply=function(a,c,d){var e=m.xa.ek[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)m.xa.VC(a,c);else var f=m.xa.Er(c);e.apply(c);if(d)m.xa.SC('Error after applying mutator "'+a+'": ',c);else if(!m.xa.kF(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
m.xa.iw=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};m.xa.VC=function(a,c){if(m.xa.Er(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
m.xa.kw=function(a,c){var d=void 0!==a.Dq,e=void 0!==a.Nq;if(d&&e){if("function"!=typeof a.Dq)throw Error(c+"compose must be a function.");if("function"!=typeof a.Nq)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
m.xa.SC=function(a,c){if("function"!=typeof c.Of)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.Pd)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');m.xa.kw(c,a)};m.xa.Er=function(a){var c=[];void 0!==a.Of&&c.push(a.Of);void 0!==a.Pd&&c.push(a.Pd);void 0!==a.Dq&&c.push(a.Dq);void 0!==a.Nq&&c.push(a.Nq);return c};m.xa.kF=function(a,c){c=m.xa.Er(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
m.xa.LJ=function(a,c){var d=[];"object"==typeof document&&m.g.Zy(function(){for(var e in c)m.g.jw(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(m.xa.TC(this,a,c),d.push(this.type));this.Bi(function(){var e=String(K(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=m.g.yc(f);return f}.bind(this))}};
m.xa.TC=function(a,c,d){var e=ba(a,c);if("function"!=typeof e.li){e=e.getOptions();for(var f=0;f<e.length;++f){var h=e[f][1];null==d[h]&&console.warn("No tooltip mapping for value "+h+" of field "+c+" of block type "+a.type)}}};m.xa.MJ=function(a,c){"object"==typeof document&&m.g.Zy(function(){m.g.jw(a)});return function(){this.Bi(function(){var d=ba(this,c);return m.g.yc(a).replace("%1",d?d.Fg():"")}.bind(this))}};
m.xa.ID=function(){this.rG=this.Ce;this.Bi(function(){var a=this.getParent();return a&&ra(a)&&a.Ce||this.rG}.bind(this))};m.xa.register("parent_tooltip_when_inline",m.xa.ID);m.Sc=function(a,c,d){this.sn=null;m.Sc.v.constructor.call(this,a,null,d);d||(this.sn=c||null)};m.g.object.S(m.Sc,m.gd);m.Sc.prototype.Pi="";m.Sc.na=function(a){var c=m.g.yc(a.text);return new m.Sc(c,void 0,a)};m.Sc.prototype.jk=!1;m.Sc.prototype.Vc=function(a){m.Sc.v.Vc.call(this,a);this.sn=a["class"]};m.Sc.prototype.Vh=function(){yb(this);this.sn&&m.g.j.yb(this.oc,this.sn)};m.Sc.prototype.Bg=function(a){return null===a||void 0===a?null:String(a)};m.qe.register("field_label",m.Sc);m.Ju=function(a,c,d,e){if(a!=m.Ge&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.D=d;this.connection=e;this.Ta=[]};b=m.Ju.prototype;b.align=m.gp;b.hh=!0;b.V=function(){return this.D};
function Kb(a,c,d,e){if(0>c||c>a.Ta.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=new m.Sc(d));d.st(a.D);a.D.pa&&d.Na();d.name=e;d.Tb(a.isVisible());e=d;e.Ts&&(c=Kb(a,c,e.Ts));a.Ta.splice(c,0,d);++c;e.At&&(c=Kb(a,c,e.At));a.D.pa&&(a.D=a.D,a.D.Fa(),a.D.Uc());return c}b.isVisible=function(){return this.hh};
b.Tb=function(a){if(this.hh!=a){this.hh=a;for(var c=0,d;d=this.Ta[c];c++)d.Tb(a);if(this.connection){this.connection=this.connection;if(a)Lb(this.connection);else if(c=this.connection,Mb(c,!1),c.la)for(c=t(c.sa(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.se(!0),h=0;h<f.length;h++)Mb(f[h],!1);e=E(e);for(h=0;h<e.length;h++)e[h].Tb(!1)}if(c=this.connection.sa())c.oa().style.display=a?"block":"none"}}};b.Fl=function(){for(var a=0,c;c=this.Ta[a];a++)c.Fl()};
b.Vj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Vj(a)};b.Na=function(){if(this.D.C.pa)for(var a=0;a<this.Ta.length;a++)this.Ta[a].Na()};b.G=function(){for(var a=0,c;c=this.Ta[a];a++)c.G();this.connection&&this.connection.G();this.D=null};m.Rc=function(a,c,d){if(m.Generator&&"undefined"!=typeof m.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Hc(d)?d:m.g.Qf();a.nq[this.id]=this;this.T=this.X=this.L=null;this.N=[];this.Vf=void 0;this.disabled=!1;this.Ce="";this.contextMenu=!0;this.kf=null;this.If=[];this.Uw=this.xy=this.Gw=!0;this.Kf=this.Pa=!1;this.me={text:null,My:!1,size:new m.g.zd(160,80)};this.Iz=new m.g.P(0,0);this.C=a;this.gf=a.Xf;this.H=a.H;this.zl=!1;
this.cf=void 0;this.pa=null;if(c){this.type=c;d=m.ed[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);m.g.object.Nd(this,d)}a.mn(this);a.lg[this.type]||(a.lg[this.type]=[]);a.lg[this.type].push(this);"function"==typeof this.Na&&this.Na();this.EE=this.Vf;if(m.h.isEnabled()){(a=m.h.Sb())||m.h.ka(!0);try{m.h.Ia(new m.h.Dm(this))}finally{a||m.h.ka(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Nl&&
$a(this.C,this.Nl);if(this.onchange=a)this.Nl=a.bind(this),L(this.C,this.Nl)}};m.Rc.hk="_TEMP_COLLAPSED_INPUT";m.Rc.mp="_TEMP_COLLAPSED_FIELD";b=m.Rc.prototype;b.data=null;b.Nf=!1;b.Dd="#000000";b.gm=null;
b.G=function(a){if(this.C){this.Nl&&$a(this.C,this.Nl);y(this,a);m.h.isEnabled()&&m.h.Ia(new m.h.fA(this));m.h.disable();try{if(this.C){this.C.Oo(this);var c=this.C;c.lg[this.type].splice(c.lg[this.type].indexOf(this),1);c.lg[this.type].length||delete c.lg[this.type];delete this.C.nq[this.id];this.C=null}m.selected==this&&(m.selected=null);for(var d=this.If.length-1;0<=d;d--)this.If[d].G(!1);d=0;for(var e;e=this.N[d];d++)e.G();this.N.length=0;var f=this.se(!0);d=0;for(var h;h=f[d];d++)h.G()}finally{m.h.enable(),
this.Nf=!0}}};b.Uh=function(){for(var a=0,c;c=this.N[a];a++)for(var d=0,e;e=c.Ta[d];d++)e.Uh&&e.Uh()};
function y(a,c){if(a.L){var d=null;a.L.isConnected()&&(d=a.L.la,a.L.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.N.length;e++){var f=a.N[e].connection;if(f&&f.type==m.hb&&f.la){if(c){a=null;break a}c=f}}a=c}a&&a.isConnected()&&!a.sa().Pa&&(a=a.la,a.disconnect(),oa(a,d)?d.connect(a):a.Ao(d))}}else a.T&&(d=null,a.T.isConnected()&&(d=a.T.la,a.T.disconnect()),e=w(a),c&&e&&!e.Pa&&(a=a.X.la,a.disconnect(),d&&oa(d,a)&&d.connect(a)))}
b.se=function(){var a=[];this.L&&a.push(this.L);this.T&&a.push(this.T);this.X&&a.push(this.X);for(var c=0,d;d=this.N[c];c++)d.connection&&a.push(d.connection);return a};b.lo=function(){for(var a=this.X;a;){var c=a.sa();if(!c)return a;a=c.X}return null};b.Uc=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")};b.getParent=function(){return this.kf};
function da(a,c){for(var d=0,e;e=a.N[d];d++)if(e.connection&&e.connection.sa()==c)return e;return null}function Nb(a){do{var c=a;a=a.getParent();if(!a)return null}while(w(a)==c);return a}function w(a){return a.X&&a.X.sa()}b.Jc=function(){var a=this;do{var c=a;a=c.kf}while(a);return c};function I(a,c){if(!c)return a.If;c=[];for(var d=0,e;e=a.N[d];d++)e.connection&&(e=e.connection.sa())&&c.push(e);(a=w(a))&&c.push(a);return c}
b.Xj=function(a){if(a!=this.kf){if(this.kf){m.g.Jk(this.kf.If,this);if(this.T&&this.T.isConnected())throw Error("Still connected to previous block.");if(this.L&&this.L.isConnected())throw Error("Still connected to parent block.");this.kf=null}else this.C.Oo(this);(this.kf=a)?a.If.push(this):this.C.mn(this)}};function t(a,c){var d=[a];a=I(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,t(e,c));return d}b.pd=function(){return this.Gw&&!this.Pa&&!(this.C&&this.C.options.readOnly)};
b.$c=function(){return this.xy&&!this.Pa&&!(this.C&&this.C.options.readOnly)};b.kt=function(a){this.xy=a};b.rt=function(a){this.Pa=a};b.ve=function(){return this.zl};b.bz=function(a){this.zl=a};b.Ld=function(){return this.Uw&&!(this.C&&this.C.options.readOnly)};b.jt=function(a){this.Uw=a;a=0;for(var c;c=this.N[a];a++)for(var d=0,e;e=c.Ta[d];d++)vb(e)};
b.Cr=function(a,c){var d=this.se(!0);a=a.se(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.Bi=function(a){this.Ce=a};b.zr=function(){return this.Dd};b.bh=function(a){this.Dd=m.g.Io(a).tl};b.Ai=function(a){this.gm=a};function ba(a,c){for(var d=0,e;e=a.N[d];d++)for(var f=0,h;h=e.Ta[f];f++)if(h.name==c)return h;return null}
function Sa(a){for(var c=[],d=0,e;e=a.N[d];d++)for(var f=0,h;h=e.Ta[f];f++)h.No()&&(h=a.C.Tf(h.getValue()))&&c.push(h);return c}function K(a,c){return(a=ba(a,c))?a.getValue():null}b.qt=function(a,c){if(a){void 0===c&&(c=null);if(!this.T){if(this.L)throw Error("Remove output connection prior to adding previous connection.");this.T=this.El(m.ce)}this.T.Vj(c)}else if(this.T){if(this.T.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.T.G();this.T=null}};
b.mt=function(a,c){if(a)void 0===c&&(c=null),this.X||(this.X=this.El(m.bb)),this.X.Vj(c);else if(this.X){if(this.X.isConnected())throw Error("Must disconnect next statement before removing connection.");this.X.G();this.X=null}};
b.nt=function(a,c){if(a){void 0===c&&(c=null);if(!this.L){if(this.T)throw Error("Remove previous connection prior to adding output connection.");this.L=this.El(m.ae)}this.L.Vj(c)}else if(this.L){if(this.L.isConnected())throw Error("Must disconnect output value before removing connection.");this.L.G();this.L=null}};b.zi=function(a){this.Vf!=a&&(m.h.Ia(new m.h.kh(this,"inline",null,this.Vf,a)),this.Vf=a)};
function ra(a){if(void 0!=a.Vf)return a.Vf;for(var c=1;c<a.N.length;c++)if(a.N[c-1].type==m.Ge&&a.N[c].type==m.Ge)return!1;for(c=1;c<a.N.length;c++)if(a.N[c-1].type==m.hb&&a.N[c].type==m.Ge)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.mf=function(a){this.isEnabled()!=a&&(m.h.Ia(new m.h.kh(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Ob(a){for(a=Nb(a);a;){if(a.disabled)return!0;a=Nb(a)}return!1}b.isCollapsed=function(){return this.Kf};
b.ah=function(a){this.Kf!=a&&(m.h.Ia(new m.h.kh(this,"collapsed",null,this.Kf,a)),this.Kf=a)};
b.toString=function(a,c){function d(p){var q=p.le;!q&&p.la&&(q=p.la.le);return!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function e(){k&&k.Va()==l.Va()&&k.ga==l.ga&&(k=null)}var f=[];c=c||"?";var h=m.A.ug;m.A.ug=!0;for(var k=m.A.Xe(this),l=k;k;){switch(k.Va()){case m.A.types.ud:var n=k.ga;k.ef()?d(n)&&f.push("("):f.push(c);break;case m.A.types.Hb:n=k.ga,n.name!=m.Rc.mp&&f.push(n.Fg())}n=k;k=n.ef()||n.next();if(!k){k=n.hf();for(e();k&&!k.next();)k=k.hf(),e(),k&&k.Va()==m.A.types.ud&&
d(k.ga)&&f.push(")");k&&(k=k.next())}}m.A.ug=h;c=2;for(h=f.length;c<h;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2),h-=2);f=f.join(" ").replace(/(\() | (\))/gmi,"$1$2").trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};
function Pb(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.cf&&(a.cf=c.style.cf,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.Ai(e)}catch(D){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.bh(e)}catch(D){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){for(var f=a,h=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,n=m.g.pG(c["message"+e]),p=[],q=0,r=[],u=0;u<n.length;u++){var v=n[u];if("number"==typeof v){if(0>=v||v>h.length)throw Error('Block "'+f.type+'": Message index %'+v+" out of range.");if(p[v])throw Error('Block "'+f.type+'": Message index %'+v+" duplicated.");p[v]=!0;q++;r.push(h[v-1])}else(v=v.trim())&&r.push(v)}if(q!=h.length)throw Error('Block "'+f.type+'": Message does not reference all '+
h.length+" arg(s).");r.length&&("string"==typeof r[r.length-1]||m.g.Ga.startsWith(r[r.length-1].type,"field_"))&&(u={type:"input_dummy"},k&&(u.align=k),r.push(u));k={LEFT:m.gp,RIGHT:m.Tt,CENTRE:m.fp,CENTER:m.fp};h=[];for(u=0;u<r.length;u++)if(p=r[u],"string"==typeof p)h.push([p,void 0]);else{n=q=null;do if(v=!1,"string"==typeof p)q=new m.Sc(p);else switch(p.type){case "input_value":n=f.gj(m.hb,p.name);break;case "input_statement":n=f.gj(m.bb,p.name);break;case "input_dummy":n=f.gj(m.Ge,p.name||"");
break;default:q=m.qe.na(p),!q&&p.alt&&(p=p.alt,v=!0)}while(v);if(q)h.push([q,p.name]);else if(n){p.check&&n.Vj(p.check);p.align&&(q=k[p.align.toUpperCase()],void 0===q?console.warn(l+"Illegal align value: ",p.align):(p=n,p.align=q,p.D.pa&&(p.D=p.D,p.D.Fa())));for(p=0;p<h.length;p++)Kb(n,n.Ta.length,h[p][0],h[p][1]);h.length=0}}e++}void 0!==c.inputsInline&&a.zi(c.inputsInline);void 0!==c.output&&a.nt(!0,c.output);void 0!==c.previousStatement&&a.qt(!0,c.previousStatement);void 0!==c.nextStatement&&
a.mt(!0,c.nextStatement);void 0!==c.tooltip&&(e=c.tooltip,e=m.g.yc(e),a.Bi(e));void 0!==c.enableContextMenu&&(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=m.g.yc(e),a.Ej=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&m.xa.apply(c.mutator,a,!0);if(Array.isArray(c.extensions))for(c=c.extensions,d=0;d<c.length;++d)m.xa.apply(c[d],
a,!1)}b.Nd=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}m.g.object.Nd(this,a)};b.gj=function(a,c){var d=null;if(a==m.hb||a==m.bb)d=this.El(a);a=new m.Ju(a,c,this,d);this.N.push(a);return a};
b.Xs=function(a,c){for(var d=0,e;e=this.N[d];d++)if(e.name==a)return e.G(),this.N.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function ea(a,c){for(var d=0,e;e=a.N[d];d++)if(e.name==c)return e;return null}b.Wj=function(a){this.me.text!=a&&(m.h.Ia(new m.h.kh(this,"comment",null,this.me.text,a)),this.me.text=a)};b.cz=function(){};b.Ua=function(){return this.Iz};
b.moveBy=function(a,c){if(this.kf)throw Error("Block has parent.");var d=new m.h.fk(this);this.Iz.translate(a,c);d.ui();m.h.Ia(d)};b.El=function(a){return new m.ma(this,a)};m.i={};m.i.tm=!1;m.i.register=function(a,c){m.aa.register(m.aa.Ib.RENDERER,a,c)};m.i.unregister=function(a){m.aa.unregister(m.aa.Ib.RENDERER,a)};m.i.DL=function(){m.i.tm=!0};m.i.EL=function(){m.i.tm=!1};m.i.Na=function(a,c,d){a=new (m.aa.yr(m.aa.Ib.RENDERER,a))(a);a.Na(c,d);return a};m.vk=function(){this.Wc=this.Oa=this.qb=null;this.type="marker"};function O(a,c){var d=a.Oa;a.Oa=c;a.Wc&&a.Wc.draw(d,a.Oa)}m.vk.prototype.draw=function(){this.Wc&&this.Wc.draw(this.Oa,this.Oa)};m.vk.prototype.ua=function(){this.Wc&&this.Wc.ua()};m.vk.prototype.G=function(){this.Wc&&this.Wc.G()};m.Oi=function(){m.Oi.v.constructor.call(this);this.type="cursor"};m.g.object.S(m.Oi,m.vk);b=m.Oi.prototype;b.next=function(){var a=this.Oa;if(!a)return null;for(a=a.next();a&&a.next()&&(a.Va()==m.A.types.wd||a.Va()==m.A.types.dd);)a=a.next();a&&O(this,a);return a};b.ef=function(){var a=this.Oa;if(!a)return null;if(a.Va()==m.A.types.yd||a.Va()==m.A.types.vh)a=a.next();(a=a.ef())&&O(this,a);return a};
b.Td=function(){var a=this.Oa;if(!a)return null;for(a=a.Td();a&&a.Td()&&(a.Va()==m.A.types.wd||a.Va()==m.A.types.dd);)a=a.Td();a&&O(this,a);return a};b.hf=function(){var a=this.Oa;if(!a)return null;(a=a.hf())&&a.Va()==m.A.types.dd&&(a=a.Td()||a);a&&O(this,a);return a};
b.Oc=function(a){if(this.Oa&&this.Oa.Va()===m.A.types.Hb&&this.Oa.ga.Oc(a))return!0;switch(a.name){case m.navigation.Ca.yd:return this.Td(),!0;case m.navigation.Ca.Mp:return this.hf(),!0;case m.navigation.Ca.wd:return this.next(),!0;case m.navigation.Ca.yp:return this.ef(),!0;default:return!1}};m.Pm=function(){m.Pm.v.constructor.call(this)};m.g.object.S(m.Pm,m.Oi);b=m.Pm.prototype;b.Oc=function(a){switch(a.name){case m.navigation.Ca.yd:return this.Td(),!0;case m.navigation.Ca.wd:return this.next(),!0;default:return!1}};b.next=function(){var a=this.Oa;if(!a)return null;(a=a.next())&&O(this,a);return a};b.ef=function(){return null};b.Td=function(){var a=this.Oa;if(!a)return null;(a=a.Td())&&O(this,a);return a};b.hf=function(){return null};m.i.KH=function(){};m.ta={};m.ta.Cn=null;m.ta.Yb=null;m.ta.show=function(a,c,d){m.R.show(m.ta,d,m.ta.G);if(c.length){var e=m.ta.GF(c,d);m.ta.Yb=e;m.ta.IF(e,a,d);setTimeout(function(){e.focus()},1);m.ta.Cn=null}else m.ta.ua()};m.ta.GF=function(a,c){var d=new m.Ip;d.eh(m.g.Xa.$m.qB);for(var e=0,f;f=a[e];e++){var h=new m.Jp(f.text);h.Qo=c;h.eh(m.g.Xa.$m.rB);d.cq(h);h.mf(f.enabled);f.enabled&&Hb(h,function(){m.ta.ua();this.Vb()},f)}return d};
m.ta.IF=function(a,c,d){var e=m.g.kE();c=new m.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);m.ta.lD(a);var f=a.Sf();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);m.R.HF(e,c,f,d);a.focus()};m.ta.lD=function(a){a.Fa(m.R.Sa);var c=a.ra;m.g.j.yb(c,"blocklyContextMenu");m.qa(c,"contextmenu",null,m.g.oF);a.focus()};m.ta.ua=function(){m.R.Fj(m.ta);m.ta.Cn=null};m.ta.G=function(){m.ta.Yb&&(m.ta.Yb.G(),m.ta.Yb=null)};
m.ta.OJ=function(a,c){return function(){m.h.disable();try{var d=m.O.vj(c,a.C),e=a.Ua();e.x=a.H?e.x-m.jd:e.x+m.jd;e.y+=2*m.jd;d.moveBy(e.x,e.y)}finally{m.h.enable()}m.h.isEnabled()&&!d.Pa&&m.h.Ia(new m.h.Dm(d));d.select()}};m.ta.JC=function(a){var c=t(a,!1).length,d=w(a);d&&(c-=t(d,!1).length);return{text:1==c?m.K.DELETE_BLOCK:m.K.DELETE_X_BLOCKS.replace("%1",String(c)),enabled:!0,Vb:function(){m.h.ka(!0);a.G(!0,!0);m.h.ka(!1)}}};
m.ta.LC=function(a){return{enabled:!("function"==typeof a.Ej?!a.Ej():!a.Ej),text:m.K.HELP,Vb:function(){a.showHelp()}}};m.ta.KC=function(a){var c=Za(a.C)?Ya(a.C,m.g.wr(a,!0)):!0;return{text:m.K.DUPLICATE_BLOCK,enabled:c,Vb:function(){m.duplicate(a)}}};m.ta.IC=function(a){var c={enabled:!m.g.userAgent.Zd};a.Se?(c.text=m.K.REMOVE_COMMENT,c.Vb=function(){a.Wj(null)}):(c.text=m.K.ADD_COMMENT,c.Vb=function(){a.Wj("")});return c};
m.ta.TJ=function(a){return{text:m.K.REMOVE_COMMENT,enabled:!0,Vb:function(){m.h.ka(!0);a.G(!0,!0);m.h.ka(!1)}}};m.ta.UJ=function(a){return{text:m.K.DUPLICATE_COMMENT,enabled:!0,Vb:function(){m.duplicate(a)}}};
m.ta.PL=function(a,c){if(!m.fj)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!m.g.userAgent.Zd};d.text=m.K.ADD_COMMENT;d.Vb=function(){var e=new m.fj(a,m.K.WORKSPACE_COMMENT_DEFAULT_TEXT,m.fj.xA,m.fj.xA),f=aa(a).getBoundingClientRect();f=new m.g.P(c.clientX-f.left,c.clientY-f.top);var h=m.g.ml(a.tb);f=m.g.P.Yk(f,h);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.pa&&(e.Hj(),e.Fa(),e.select())};return d};m.xb=function(a,c){m.xb.v.constructor.call(this,a,c);this.Ze=a.C.Bn[c];this.Dw=a.C.Bn[m.Wi[c]];this.pi=new m.g.P(0,0);this.kg=m.xb.Me.Sv;this.la=null};m.g.object.S(m.xb,m.ma);m.xb.Me={Sv:-1,Kv:0,dj:1};b=m.xb.prototype;b.G=function(){m.xb.v.G.call(this);this.kg==m.xb.Me.dj&&Qb(this.Ze,this,this.y)};b.V=function(){return m.xb.v.V.call(this)};b.sa=function(){return m.xb.v.sa.call(this)};function Rb(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function kb(a,c){if(!a.D.C.qd()){var d=a.D.Jc();if(!d.gf){var e=!1;if(!d.$c()){d=c.V().Jc();if(!d.$c())return;c=a;e=!0}var f=m.selected==d;f||d.ln();var h=c.x+m.jd+Math.floor(Math.random()*m.lp)-a.x,k=c.y+m.jd+Math.floor(Math.random()*m.lp)-a.y;e&&(k=-k);d.H&&(h=c.x-m.jd-Math.floor(Math.random()*m.lp)-a.x);d.moveBy(h,k);f||d.Ul()}}}
b.moveTo=function(a,c){if(this.kg==m.xb.Me.Sv){var d=this.Ze;d.Bb.splice(Sb(d,c),0,this);this.kg=m.xb.Me.dj}else this.kg==m.xb.Me.dj&&(Qb(this.Ze,this,this.y),d=this.Ze,d.Bb.splice(Sb(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function Tb(a,c){a.moveTo(c.x+a.pi.x,c.y+a.pi.y)}function P(a,c,d){a.pi.x=c;a.pi.y=d}
function Ub(a){var c=a.la.x-a.x,d=a.la.y-a.y;if(0!=c||0!=d){a=a.sa();var e=a.oa();if(!e)throw Error("block is not rendered.");e=m.g.te(e);a.oa().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");xa(a,-c,-d)}}
b.closest=function(a,c){var d=this.Dw;if(d.Bb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var h=Sb(d,this.y);c=null;for(var k=a,l,n=h-1;0<=n&&Math.abs(d.Bb[n].y-this.y)<=a;)l=d.Bb[n],this.Yn(l,k)&&(c=l,k=Rb(l,this)),n--;for(;h<d.Bb.length&&Math.abs(d.Bb[h].y-this.y)<=a;)l=d.Bb[h],this.Yn(l,k)&&(c=l,k=Rb(l,this)),h++;this.x=f;this.y=e;a={connection:c,Lo:k}}else a={connection:null,Lo:a};return a};
function Mb(a,c){c&&a.kg==m.xb.Me.dj||!c&&a.kg==m.xb.Me.Kv||a.D.gf||(c?(c=a.Ze,c.Bb.splice(Sb(c,a.y),0,a),a.kg=m.xb.Me.dj):(a.kg==m.xb.Me.dj&&Qb(a.Ze,a,a.y),a.kg=m.xb.Me.Kv))}function Lb(a){Mb(a,!0);var c=[];if(a.type!=m.hb&&a.type!=m.bb)return c;if(a=a.sa()){if(a.isCollapsed()){var d=[];a.L&&d.push(a.L);a.X&&d.push(a.X);a.T&&d.push(a.T)}else d=a.se(!0);for(var e=0;e<d.length;e++)c.push.apply(c,Lb(d[e]));c.length||(c[0]=a)}return c}b.Yn=function(a,c){return Rb(this,a)>c?!1:m.xb.v.Yn.call(this,a)};
b.Ao=function(a){kb(this,a)};b.Uq=function(a,c){m.xb.v.Uq.call(this,a,c);a.pa&&a.Fa();c.pa&&(Qa(c),c.Fa(),c.oa().style.display="block")};b.et=function(){var a=this.V(),c=this.pf;if(a.C&&c&&m.h.kc){m.xb.v.et.call(this);c=this.sa();if(!c)throw Error("Couldn't respawn the shadow block that should exist here.");c.Hj();c.Fa(!1);a.pa&&a.Fa()}};b.zy=function(a){return Vb(this.Dw,this,a)};
b.ne=function(a){m.xb.v.ne.call(this,a);var c=this.V();a=a.V();var d=c.pa,e=a.pa;d&&Qa(c);e&&Qa(a);d&&e&&(this.type==m.bb||this.type==m.ce?a.Fa():c.Fa());if(c=da(c,a))c=c.isVisible(),a.oa().style.display=c?"block":"none"};b.Ey=function(){!this.isConnected()||this.la&&oa(this,this.la)||(y(F(this)?this.sa():this.D),this.D.Uc())};m.Cm=function(){m.Cm.v.constructor.call(this)};m.g.object.S(m.Cm,m.Oi);b=m.Cm.prototype;b.next=function(){var a=this.Oa;if(!a)return null;(a=Wb(this,a,this.Lt))&&O(this,a);return a};b.ef=function(){return this.next()};b.Td=function(){var a=this.Oa;if(!a)return null;(a=Xb(this,a,this.Lt))&&O(this,a);return a};b.hf=function(){return this.Td()};function Wb(a,c,d){if(!c)return null;var e=c.ef()||c.next();if(d(e))return e;if(e)return Wb(a,e,d);c=Yb(a,c.hf());return d(c)?c:c?Wb(a,c,d):null}
function Xb(a,c,d){if(!c)return null;var e=c.Td();e=e?Zb(a,e):c.hf();return d(e)?e:e?Xb(a,e,d):null}b.Lt=function(a){var c=!1;a=a&&a.Va();if(a==m.A.types.vh||a==m.A.types.ud||a==m.A.types.Hb||a==m.A.types.wd||a==m.A.types.yd||a==m.A.types.Oe)c=!0;return c};function Yb(a,c){if(!c)return null;var d=c.next();return d?d:Yb(a,c.hf())}function Zb(a,c){if(!c.ef())return c;for(c=c.ef();c.next();)c=c.next();return Zb(a,c)};m.jn=function(){m.jn.v.constructor.call(this)};m.g.object.S(m.jn,m.Cm);m.jn.prototype.Lt=function(a){var c=!1,d=a&&a.Va();a&&(a=a.ga,d==m.A.types.Hb&&a&&a.ay()&&z(a)&&(c=!0));return c};m.$a=function(a,c,d){this.M=m.g.j.J("g",{},null);this.M.om="";this.style=$b(a.jb.U(),null);this.ub=a.jb.py(this.M,this.style);this.$s=this.pa=!1;this.C=a;this.T=this.X=this.L=null;this.um=m.g.Xh()&&!!a.kd;var e=this.ub.Db;e.Ce=this;m.F.kj(e);m.$a.v.constructor.call(this,a,c,d);this.M.dataset&&(this.M.dataset.id=this.id)};m.g.object.S(m.$a,m.Rc);m.$a.prototype.height=0;m.$a.prototype.width=0;m.$a.prototype.ap=null;m.$a.JH=-1;m.$a.UG="TEMP_COLLAPSED_WARNING_";b=m.$a.prototype;
b.Hj=function(){if(!this.C.pa)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.N[a];a++)c.Na();c=E(this);for(a=0;a<c.length;a++)c[a].gD();this.fc();C(this.ub,"blocklyDraggable",this.$c());a=this.oa();this.C.options.readOnly||this.HD||!a||m.qa(a,"mousedown",this,this.Tg);this.HD=!0;a.parentNode||this.C.tb.appendChild(a)};
b.select=function(){if(this.Pa&&this.getParent())this.getParent().select();else if(m.selected!=this){var a=null;if(m.selected){a=m.selected.id;m.h.disable();try{gb(m.selected)}finally{m.h.enable()}}a=new m.h.ec(null,"selected",a,this.id);a.wb=this.C.id;m.h.Ia(a);m.selected=this;this.ln()}};function gb(a){if(m.selected==a){var c=new m.h.ec(null,"selected",a.id,null);c.wb=a.C.id;m.h.Ia(c);m.selected=null;a.Ul()}}b.xe=null;b.Se=null;b.Cz=null;
function E(a){var c=[];a.xe&&c.push(a.xe);a.Se&&c.push(a.Se);a.Cz&&c.push(a.Cz);return c}b.Xj=function(a){var c=this.kf;if(a!=c){m.g.j.em();m.$a.v.Xj.call(this,a);m.g.j.fm();var d=this.oa();if(!this.C.Wr&&d){var e=this.Ua();a?(a.oa().appendChild(d),a=this.Ua(),xa(this,a.x-e.x,a.y-e.y)):c&&(this.C.tb.appendChild(d),this.translate(e.x,e.y));this.fc()}}};
b.Ua=function(){var a=0,c=0,d=this.um?this.C.kd.Sb():null,e=this.oa();if(e){do{var f=m.g.te(e);a+=f.x;c+=f.y;this.um&&this.C.kd.$e.firstChild==e&&(f=this.C.kd.Hr(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.C.tb&&e!=d)}return new m.g.P(a,c)};b.moveBy=function(a,c){if(this.kf)throw Error("Block has parent.");var d=m.h.isEnabled();if(d)var e=new m.h.fk(this);var f=this.Ua();this.translate(f.x+a,f.y+c);xa(this,a,c);d&&(e.ui(),m.h.Ia(e));Ra(this.C)};
b.translate=function(a,c){this.oa().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Ua();this.moveBy(a.x-c.x,a.y-c.y)};b.vs=function(a){this.um?this.C.kd.Fi(a.x,a.y):(this.M.om="translate("+a.x+","+a.y+")",this.M.setAttribute("transform",this.M.om+this.M.cm))};
function ac(a){if(a.C&&!a.C.qd()&&!a.getParent()&&!a.gf){var c=a.C.Id;if(c&&c.dG){var d=c.xt,e=d/2,f=a.Ua();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function bc(a){var c=a.Ua(),d=B(a);if(a.H){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new m.g.Rect(c.y,c.y+d.height,a,e)}b.Fl=function(){this.ub.pj=this.C.jb.U();for(var a=0,c;c=this.N[a];a++)c.Fl()};
b.ah=function(a){this.Kf!=a&&(m.$a.v.ah.call(this,a),a?this.pa&&this.Fa():cc(this))};function cc(a){for(var c=a.isCollapsed(),d=0,e;e=a.N[d];d++)e.name!=m.Rc.hk&&e.Tb(!c);if(c){e=E(a);for(d=0;c=e[d];d++)c.Tb(!1);d=a.toString(m.lA);(e=ba(a,m.Rc.mp))?e.setValue(d):(e=ea(a,m.Rc.hk)||a.gj(m.Ge,m.Rc.hk||""),a=new m.Sc(d),Kb(e,e.Ta.length,a,m.Rc.mp))}else a.Xs(m.Rc.hk)}
b.Tg=function(a){var c=this.C&&this.C.Eg(a);if(c){if(c.Qh)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");tb(c,this);c.Od=a}};b.showHelp=function(){var a="function"==typeof this.Ej?this.Ej():this.Ej;a&&window.open(a)};
function dc(a){if(a.C.options.readOnly||!a.contextMenu)return null;var c=[];if(!a.gf){a.pd()&&a.$c()&&c.push(m.ta.KC(a));a.C.options.$C&&!a.Kf&&a.Ld()&&c.push(m.ta.IC(a));if(a.$c())if(a.Kf)a.C.options.collapse&&(d={enabled:!0},d.text=m.K.EXPAND_BLOCK,d.Vb=function(){a.ah(!1)},c.push(d));else{for(var d=1;d<a.N.length;d++)if(a.N[d-1].type!=m.bb&&a.N[d].type!=m.bb){d={enabled:!0};var e=ra(a);d.text=e?m.K.EXTERNAL_INPUTS:m.K.INLINE_INPUTS;d.Vb=function(){a.zi(!e)};c.push(d);break}a.C.options.collapse&&
(d={enabled:!0},d.text=m.K.COLLAPSE_BLOCK,d.Vb=function(){a.ah(!0)},c.push(d))}a.C.options.disable&&a.Ld()&&(d={text:a.isEnabled()?m.K.DISABLE_BLOCK:m.K.ENABLE_BLOCK,enabled:!Ob(a),Vb:function(){var f=m.h.Sb();f||m.h.ka(!0);a.mf(!a.isEnabled());f||m.h.ka(!1)}},c.push(d));a.pd()&&c.push(m.ta.JC(a))}c.push(m.ta.LC(a));a.nD&&a.nD(c);return c}b.$l=function(a){var c=dc(this);c&&c.length&&(m.ta.show(a,c,this.H),m.ta.Cn=this)};
function xa(a,c,d){if(a.pa){for(var e=a.se(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=E(a);for(f=0;f<e.length;f++)e[f].aD();for(f=0;f<a.If.length;f++)xa(a.If[f],c,d)}}b.dh=function(a){if(a){var c=this.oa();c.om="";c.cm="";m.wj=m.wj.concat(this.se(!0));m.g.j.yb(this.M,"blocklyDragging")}else m.wj=[],m.g.j.Pc(this.M,"blocklyDragging");for(c=0;c<this.If.length;c++)this.If[c].dh(a)};b.kt=function(a){m.$a.v.kt.call(this,a);C(this.ub,"blocklyDraggable",a)};
b.jt=function(a){m.$a.v.jt.call(this,a);a=E(this);for(var c=0;c<a.length;c++)vb(a[c])};b.rt=function(a){m.$a.v.rt.call(this,a);this.fc()};b.bz=function(a){this.zl!=a&&(this.zl=a)&&(this.bh(this.C.jb.U().Bp),C(this.ub,"blocklyInsertionMarker",!0))};b.oa=function(){return this.M};
b.G=function(a,c){if(this.C){m.F.G();m.F.It(this.ub.Db);m.g.j.em();var d=this.C;if(m.selected==this){gb(this);var e=this.C;e.Wb&&e.Wb.cancel()}m.ta.Cn==this&&m.ta.ua();this.C.vc&&m.navigation.hF(this);c&&this.pa&&(y(this,a),m.cb.zD(this));this.pa=!1;if(this.ap){for(var f in this.ap)clearTimeout(this.ap[f]);this.ap=null}c=E(this);for(e=0;e<c.length;e++)c[e].G();m.$a.v.G.call(this,!!a);m.g.j.removeNode(this.M);Ra(d);this.M=null;m.g.j.fm()}};
b.fc=function(){this.ub.fc(this);for(var a=E(this),c=0;c<a.length;c++)a[c].fc();for(a=0;c=this.N[a];a++)for(var d=0,e;e=c.Ta[d];d++)e.fc()};function Qa(a){var c=I(a,!1);a.fc();a=0;for(var d;d=c[a];a++)Qa(d)}b.YD=function(){return this.Se};b.Wj=function(a){if(!m.Comment)throw Error("Missing require for Blockly.Comment");this.me.text!=a&&(m.$a.v.Wj.call(this,a),a=null!=a,!!this.Se==a?this.Se.NL():(a?this.Se=new m.Comment(this):(this.Se.G(),this.Se=null),this.pa&&(this.Fa(),this.Uc())))};
b.cz=function(a){this.xe&&this.xe!==a&&this.xe.G();a&&(a.uL(this),this.xe=a,a.gD());this.pa&&(this.Fa(),this.Uc())};b.mf=function(a){this.isEnabled()!=a&&(m.$a.v.mf.call(this,a),this.pa&&!Ob(this)&&Qa(this))};b.ze=function(a){this.pa&&this.ub.uz(a)};b.ln=function(){C(this.ub,"blocklySelected",!0)};b.Ul=function(){C(this.ub,"blocklySelected",!1)};function ua(a,c){C(a.ub,"blocklyDraggingDelete",c)}b.zr=function(){return this.style.zg};
b.bh=function(a){m.$a.v.bh.call(this,a);a=ec(this.C.jb.U(),this.Dd);this.ub.Ai(a.style);this.style=a.style;this.gm=a.name;this.fc()};b.Ai=function(a){var c=$b(this.C.jb.U(),a);this.gm=a;if(c)this.cf=c.cf,this.ub.Ai(c),this.Dd=c.zg,this.style=c,this.fc();else throw Error("Invalid style name: "+a);};function ya(a){do{var c=a.oa(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.qt=function(a,c){m.$a.v.qt.call(this,a,c);this.pa&&(this.Fa(),this.Uc())};
b.mt=function(a,c){m.$a.v.mt.call(this,a,c);this.pa&&(this.Fa(),this.Uc())};b.nt=function(a,c){m.$a.v.nt.call(this,a,c);this.pa&&(this.Fa(),this.Uc())};b.zi=function(a){m.$a.v.zi.call(this,a);this.pa&&(this.Fa(),this.Uc())};b.Xs=function(a,c){a=m.$a.v.Xs.call(this,a,c);this.pa&&(this.Fa(),this.Uc());return a};b.gj=function(a,c){a=m.$a.v.gj.call(this,a,c);this.pa&&(this.Fa(),this.Uc());return a};
function Pa(a,c){a.T&&Mb(a.T,c);a.L&&Mb(a.L,c);if(a.X){Mb(a.X,c);var d=a.X.sa();d&&Pa(d,c)}if(!a.Kf)for(d=0;d<a.N.length;d++){var e=a.N[d].connection;e&&(Mb(e,c),(e=e.sa())&&Pa(e,c))}}b.se=function(a){var c=[];if(a||this.pa)if(this.L&&c.push(this.L),this.T&&c.push(this.T),this.X&&c.push(this.X),a||!this.Kf){a=0;for(var d;d=this.N[a];a++)d.connection&&c.push(d.connection)}return c};b.lo=function(){return m.$a.v.lo.call(this)};b.Cr=function(a,c){return m.$a.v.Cr.call(this,a,c)};
b.El=function(a){return new m.xb(this,a)};b.Uc=function(){if(this.C&&!this.C.qd()){var a=this.Jc();if(!a.gf)for(var c=this.se(!1),d=0,e;e=c[d];d++){e.isConnected()&&F(e)&&e.sa().Uc();for(var f=e.zy(m.jd),h=0,k;k=f[h];h++)e.isConnected()&&k.isConnected()||k.V().Jc()!=a&&(F(e)?kb(k,e):kb(e,k))}}};function za(a){var c=m.h.Sb();setTimeout(function(){m.h.ka(c);ac(a);m.h.ka(!1)},m.kp/2);setTimeout(function(){m.h.ka(c);a.Uc();m.h.ka(!1)},m.kp)}
function pa(a,c,d){c.type!=m.bb&&c.type!=m.hb||a.moveBy(d.x-c.x,d.y-c.y)}b.getParent=function(){return m.$a.v.getParent.call(this)};b.Jc=function(){return m.$a.v.Jc.call(this)};
b.Fa=function(a){if(!this.$s){this.$s=!0;try{this.pa=!0;m.g.j.em();this.isCollapsed()&&cc(this);this.C.jb.Fa(this);var c=this.Ua();this.T&&Tb(this.T,c);this.L&&Tb(this.L,c);for(var d=0;d<this.N.length;d++){var e=this.N[d].connection;e&&(Tb(e,c),e.isConnected()&&Ub(e))}this.X&&(Tb(this.X,c),this.X.isConnected()&&Ub(this.X));if(!1!==a){var f=this.getParent();f?f.Fa(!0):Ra(this.C)}m.g.j.fm();this.Kt()}finally{this.$s=!1}}};
b.Kt=function(){this.C.vc&&this.ub.Wk&&this.C.rb().draw();this.C.vc&&this.ub.ps&&this.C.Ic(m.navigation.qk).draw()};b.dg=function(a){this.ub.dg(a)};b.eg=function(a){this.ub.eg(a)};function B(a){var c=a.height,d=a.width,e=w(a);e&&(e=B(e),a=a.C.jb.U().Yu,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};m.Ni=function(){this.Bb=[]};function fc(a,c,d){if(!a.Bb.length)return-1;var e=Sb(a,d);if(e>=a.Bb.length)return-1;d=c.y;for(var f=e;0<=f&&a.Bb[f].y==d;){if(a.Bb[f]==c)return f;f--}for(;e<a.Bb.length&&a.Bb[e].y==d;){if(a.Bb[e]==c)return e;e++}return-1}function Sb(a,c){if(!a.Bb.length)return 0;for(var d=0,e=a.Bb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Bb[f].y<c)d=f+1;else if(a.Bb[f].y>c)e=f;else{d=f;break}}return d}
function Qb(a,c,d){c=fc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.Bb.splice(c,1)}function Vb(a,c,d){function e(p){var q=h-f[p].x,r=k-f[p].y;Math.sqrt(q*q+r*r)<=d&&n.push(f[p]);return r<d}var f=a.Bb,h=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var n=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return n}m.Ni.Na=function(){var a=[];a[m.hb]=new m.Ni;a[m.ae]=new m.Ni;a[m.bb]=new m.Ni;a[m.ce]=new m.Ni;return a};m.rh=function(a,c){this.Aj=a;this.xt=c.spacing;this.jy=c.length;this.SE=(this.fs=a.firstChild)&&this.fs.nextSibling;this.dG=c.snap};m.rh.prototype.$g=1;m.rh.prototype.G=function(){this.Aj=null};m.rh.prototype.update=function(a){this.$g=a;var c=this.xt*a||100;this.Aj.setAttribute("width",c);this.Aj.setAttribute("height",c);c=Math.floor(this.xt/2)+.5;var d=c-this.jy/2,e=c+this.jy/2;c*=a;d*=a;e*=a;gc(this.fs,a,d,e,c,c);gc(this.SE,a,c,c,d,e)};
function gc(a,c,d,e,f,h){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",h))}m.rh.prototype.moveTo=function(a,c){this.Aj.setAttribute("x",a);this.Aj.setAttribute("y",c);(m.g.userAgent.Zd||m.g.userAgent.ph)&&this.update(this.$g)};
m.rh.Ma=function(a,c,d){a=m.g.j.J("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(m.g.j.J("line",{stroke:c.colour},a),1<c.length&&m.g.j.J("line",{stroke:c.colour},a)):m.g.j.J("line",{},a);return a};m.Vu=function(a){this.Mf=this.pe=null;this.ki={};this.o=a};function hc(a,c){var d=a.ki[c];if(d)d.G(),delete a.ki[c];else throw Error("Marker with id "+c+" does not exist. Can only unregistermarkers that exist.");}b=m.Vu.prototype;b.rb=function(){return this.pe};b.Ic=function(a){return this.ki[a]};b.ht=function(a){this.pe&&this.pe.Wc&&this.pe.Wc.G();if(this.pe=a)a=this.pe,a=new m.i.zf(this.o,this.o.jb.U(),a),this.pe.Wc=a,this.dg(this.pe.Wc.Ma())};
b.dg=function(a){a?(this.o.tb.appendChild(a),this.Mf=a):this.Mf=null};b.eg=function(a){a?this.o.tb&&(this.Mf?this.o.tb.insertBefore(a,this.Mf):this.o.tb.appendChild(a)):this.$f=null};b.G=function(){for(var a=Object.keys(this.ki),c=0,d;d=a[c];c++)hc(this,d);this.ki=null;this.pe.G();this.pe=null};m.Jv=function(a,c){this.o=a;this.hg=c;this.hm=[];this.Ue=Object.create(null)};b=m.Jv.prototype;b.Gg=function(){return this.hg};b.Zl=function(a){var c=this.hg;this.hg=a;if(a=aa(this.o))c&&m.g.j.Pc(a,c.re()),m.g.j.yb(a,this.hg.re());for(c=0;a=this.hm[c];c++)ic(a);c=0;a=Object.keys(this.Ue);for(var d;d=a[c];c++)for(var e=0,f;f=this.Ue[d][e];e++)f.element.style[f.propertyName]=this.hg&&Na(this.hg,d)||"";m.Xb()};
b.subscribe=function(a,c,d){this.Ue[c]||(this.Ue[c]=[]);this.Ue[c].push({element:a,propertyName:d});a.style[d]=this.hg&&Na(this.hg,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.Ue),d=0,e;e=c[d];d++){for(var f=this.Ue[e],h=f.length-1;0<=h;h--)f[h].element===a&&f.splice(h,1);this.Ue[e].length||delete this.Ue[e]}};b.G=function(){this.Ue=this.hm=this.hg=this.Rd=null};m.Tc=function(a,c){m.Tc.v.constructor.call(this,a,c);this.ao=!1;this.ld=Object.create(null);this.hz=this.Rl=0;this.Zx=this.Is=null};m.g.object.S(m.Tc,m.qh);m.Tc.tC=5;m.Tc.uC=6;b=m.Tc.prototype;b.Yq=function(a){this.Zx=this.Mb.options.Ya&&this.Mb.options.Ya.Rs;m.Tc.v.Yq.call(this,a);!this.$n&&m.Touch.jo(a)&&jc(this,a)};
b.kj=function(a){this.Is=m.qa(document,"mousedown",null,this.tE.bind(this),!0);this.Eo=m.qa(document,"mousemove",null,this.Bj.bind(this),!0);this.Fo=m.qa(document,"mouseup",null,this.Sn.bind(this),!0);a.preventDefault();a.stopPropagation()};b.tE=function(a){!this.qd()&&m.Touch.jo(a)&&(jc(this,a),this.ao&&m.Pg())};
b.Bj=function(a){if(this.qd())m.Touch.wt(a)&&m.Tc.v.Bj.call(this,a);else if(this.ao){if(m.Touch.jo(a)){this.ld[m.Touch.Rn(a)]=kc(this,a);var c=Object.keys(this.ld);if(this.Zx&&2===c.length){c=Object.keys(this.ld);c=m.g.P.Xq(this.ld[c[0]],this.ld[c[1]])/this.hz;if(0<this.Rl&&Infinity>this.Rl){var d=c-this.Rl;d=0<d?d*m.Tc.tC:d*m.Tc.uC;var e=this.Mb,f=m.g.Ll(a,A(e),Ka(e));e.zoom(f.x,f.y,d)}this.Rl=c;a.preventDefault()}else m.Tc.v.Bj.call(this,a)}m.Pg()}else m.Tc.v.Bj.call(this,a)};
b.Sn=function(a){if(m.Touch.jo(a)&&!this.qd()){var c=m.Touch.Rn(a);this.ld[c]&&delete this.ld[c];2>Object.keys(this.ld).length&&(this.ld=Object.create(null),this.Rl=0)}!this.ao||this.qd()?m.Touch.wt(a)&&m.Tc.v.Sn.call(this,a):(a.preventDefault(),a.stopPropagation(),this.G())};b.G=function(){m.Tc.v.G.call(this);this.Is&&m.Ra(this.Is)};function jc(a,c){a.ld[m.Touch.Rn(c)]=kc(a,c);var d=Object.keys(a.ld);2==d.length&&(a.hz=m.g.P.Xq(a.ld[d[0]],a.ld[d[1]]),a.ao=!0,c.preventDefault())}
function kc(a,c){return a.Mb?new m.g.P(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};m.Vv=function(a){this.Ns=a;this.yk=Object.create(null)};b=m.Vv.prototype;b.Zr=null;b.G=function(){this.yk=this.Ns=null};b.load=function(a,c){if(a.length){try{var d=new m.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new m.g.global.Audio(h);break}}e&&e.play&&(this.yk[c]=e)}};
b.preload=function(){for(var a in this.yk){var c=this.yk[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(m.g.userAgent.sh||m.g.userAgent.Hu)break}};b.play=function(a,c){var d=this.yk[a];d?(a=new Date,null!=this.Zr&&a-this.Zr<m.RB||(this.Zr=a,d=m.g.userAgent.sh||m.g.userAgent.Li?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.Ns&&this.Ns.ie.play(a,c)};m.Wv=function(a){this.Qk=a;this.Ma()};b=m.Wv.prototype;b.lb=null;b.Qk=null;b.Ma=function(){this.lb||(this.lb=m.g.j.J("svg",{xmlns:m.g.j.zk,"xmlns:html":m.g.j.Rm,"xmlns:xlink":m.g.j.Bd,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Qk.appendChild(this.lb))};b.Fi=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.lb.style.display="block";m.g.j.Xl(this.lb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Hr=function(){return m.g.te(this.lb)};
b.tn=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.lb.childNodes[0],d=this.lb.childNodes[1];if(!(c&&d&&m.g.j.Mr(c,"blocklyBlockCanvas")&&m.g.j.Mr(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Us?m.g.j.Ij(c,this.Us):a.insertBefore(c,a.firstChild);m.g.j.Ij(d,c);this.lb.style.display="none";if(this.lb.childNodes.length)throw Error("Drag surface was not cleared.");m.g.j.Xl(this.lb,
"");this.Us=null};
m.Za=function(a,c,d){m.Za.v.constructor.call(this,a);this.Hd=a.Hd||m.Za.iE;this.Yl=a.Yl||m.Za.$F;this.Bn=m.Ni.Na();c&&(this.kd=c);d&&(this.Ii=d);this.Yo=!!this.Ii&&m.g.Xh();this.ul=[];this.ie=new m.Vv(a.xc);this.Id=this.options.Kr?new m.rh(this.options.Kr,a.Ex):null;this.rd=new m.Vu(this);this.Et={};this.Yw={};m.Y&&m.Y.Lh&&lc(this,m.ej,m.Y.Lh);m.Qv&&m.Qv.Lh&&lc(this,m.kC,m.Qv.Lh);m.Wa&&m.Wa.Lh&&(lc(this,m.nv,m.Wa.Lh),L(this,m.Wa.jF));this.pc=this.options.xc?this.options.xc.pc:new m.Jv(this,this.options.oG||
m.Ef.ng);this.pc.hm.push(this);this.jb=m.i.Na(this.options.at||"geras",this.Gg(),this.options.bt);this.tq=null;this.vc=!1;this.Uo=[]};m.g.object.S(m.Za,m.ob);b=m.Za.prototype;b.Po=null;b.pa=!0;b.Yf=!0;b.Xf=!1;b.bo=!1;b.dt=!0;b.scrollX=0;b.scrollY=0;b.Sw=null;b.scale=1;b.qc=null;b.Aa=null;b.ca=null;b.wa=null;b.Wb=null;b.kd=null;b.Ii=null;b.Yo=!1;b.Zn=!1;b.Tr=null;b.gy=null;b.fb=null;b.Ux=null;b.Vr=!0;b.dg=function(a){this.rd.dg(a)};b.eg=function(a){this.rd.eg(a)};
b.Ic=function(a){return this.rd?this.rd.Ic(a):null};b.rb=function(){return this.rd?this.rd.rb():null};b.Gg=function(){return this.pc.Gg()};b.Zl=function(a){a||(a=m.Ef.ng);this.pc.Zl(a)};function ic(a){a.M&&a.jb.Ws(a.M,a.Gg());mc(J(a,!1).filter(function(d){return void 0!==d.gm}));nc(a);a.wa&&ic(a.wa);a.isVisible()&&a.Tb(!0);var c=new m.h.ec(null,"theme",null,null);c.wb=a.id;m.h.Ia(c)}function mc(a){for(var c=0,d;d=a[c];c++){var e=d.gm;e&&(d.Ai(e),d.xe&&d.xe.ML())}}
function Ka(a){if(a.Vr){var c=A(a).getScreenCTM();c&&(a.Ux=c.inverse(),a.Vr=!1)}return a.Ux}b.sm=function(){this.Vr=!0};b.isVisible=function(){return this.Yf};function ia(a,c){var d=0,e=0,f=1;if(m.g.j.containsNode(a.tb,c)||m.g.j.containsNode(a.gg,c))f=a.scale;do{var h=m.g.te(c);if(c==a.tb||c==a.gg)f=1;d+=h.x*f;e+=h.y*f;c=c.parentNode}while(c&&c!=A(a));return new m.g.P(d,e)}
function aa(a){if(!a.Tr)for(var c=a.M;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Tr=c;break}c=c.parentNode}return a.Tr}
b.Ma=function(a){this.M=m.g.j.J("g",{"class":"blocklyWorkspace"},null);a&&(this.nc=m.g.j.J("rect",{height:"100%",width:"100%","class":a},this.M),"blocklyMainBackground"==a&&this.Id?this.nc.style.fill="url(#"+this.Id.Aj.id+")":this.pc.subscribe(this.nc,"workspaceBackgroundColour","fill"));this.tb=m.g.j.J("g",{"class":"blocklyBlockCanvas"},this.M);this.gg=m.g.j.J("g",{"class":"blocklyBubbleCanvas"},this.M);this.Xf||(m.qa(this.M,"mousedown",this,this.Tg,!1,!0),m.qa(this.M,"wheel",this,this.BF));if(this.options.Cj){if(!m.xJ)throw Error("Missing require for Blockly.Toolbox");
this.wa=new (m.aa.XD(this.options))(this)}this.Id&&this.Id.update(this.scale);oc(this);this.rd.ht(new m.Oi);a=this.rd;var c=m.navigation.qk,d=new m.vk;a.ki[c]&&hc(a,c);var e=new m.i.zf(a.o,a.o.jb.U(),d);d.Wc=e;a.eg(d.Wc.Ma());a.ki[c]=d;this.jb.Ma(this.M,this.Gg());return this.M};
b.G=function(){this.pa=!1;this.Wb&&this.Wb.cancel();this.M&&(m.g.j.removeNode(this.M),this.M=null);this.gg=this.tb=null;this.wa&&(this.wa.G(),this.wa=null);this.ca&&(this.ca.G(),this.ca=null);this.qc&&(this.qc.G(),this.qc=null);this.Aa&&(this.Aa.G(),this.Aa=null);this.Ki&&(this.Ki.G(),this.Ki=null);this.ie&&(this.ie.G(),this.ie=null);this.Id&&(this.Id.G(),this.Id=null);this.jb.G();this.rd&&(this.rd.G(),this.rd=null);m.Za.v.G.call(this);if(this.pc){var a=this.pc,c=a.hm.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.hm.splice(c,1);this.pc.unsubscribe(this.nc);this.options.xc||(this.pc.G(),this.pc=null)}this.Yw=this.Et=this.Bn=null;this.options.xc||(a=A(this).parentNode)&&m.g.j.removeNode(a);this.Po&&(m.Ra(this.Po),this.Po=null)};b.xs=function(a,c){return new m.$a(this,a,c)};function pc(a){if(!m.dc)throw Error("Missing require for Blockly.Trashcan");a.qc=new m.dc(a);var c=a.qc.Ma();a.M.insertBefore(c,a.tb)}
function qc(a){if(!m.vC)throw Error("Missing require for Blockly.ZoomControls");a.Ki=new m.vC(a);var c=a.Ki.Ma();a.M.appendChild(c)}
function rc(a){var c=new m.Cc({parentWorkspace:a,rtl:a.H,oneBasedIndex:a.options.Go,horizontalLayout:a.Kd,renderer:a.options.at,rendererOverrides:a.options.bt});c.kb=a.options.kb;if(a.Kd){if(!m.xp)throw Error("Missing require for Blockly.HorizontalFlyout");a.ca=new m.xp(c)}else{if(!m.Ch)throw Error("Missing require for Blockly.VerticalFlyout");a.ca=new m.Ch(c)}a.ca.jj=!1;a.ca.o.Tb(!0);return a.ca.Ma("svg")}function M(a,c){return a.ca||c?a.ca:a.wa?M(a.wa):null}
function Ra(a){a.dt&&a.pa&&(a.Aa&&a.Aa.resize(),a.sm())}b.resize=function(){this.wa&&this.wa.position();this.ca&&this.ca.position();this.qc&&this.qc.position();this.Ki&&this.Ki.position();this.Aa&&this.Aa.resize();this.sm();oc(this)};function ob(a){var c=m.g.cE();m.g.P.Pf(a.gy,c)||(a.gy=c,a.sm(),oc(a))}function A(a){if(!a.tq)for(var c=a.M;c;){if("svg"==c.tagName){a.tq=c;break}c=c.parentNode}return a.tq}
b.translate=function(a,c){if(this.Yo&&this.Zn)this.Ii.Fi(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.tb.setAttribute("transform",d);this.gg.setAttribute("transform",d)}if(this.kd){d=this.kd;var e=this.scale;d.$g=e;d.$e.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.Id&&this.Id.moveTo(a,c)};
function Ma(a){if(a.Yo){a.Zn=!1;var c=a.Ii.Hr();a.Ii.tn(a.M);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.tb.setAttribute("transform",c);a.gg.setAttribute("transform",c)}}
function La(a){if(a.Yo&&!a.Zn){a.Zn=!0;var c=a.tb.previousSibling,d=parseInt(A(a).getAttribute("width"),10),e=parseInt(A(a).getAttribute("height"),10),f=m.g.te(a.tb),h=a.Ii,k=a.tb,l=a.gg,n=a.scale;if(h.lb.childNodes.length)throw Error("Already dragging a block.");h.Us=c;k.setAttribute("transform","translate(0, 0) scale("+n+")");l.setAttribute("transform","translate(0, 0) scale("+n+")");h.lb.setAttribute("width",d);h.lb.setAttribute("height",e);h.lb.appendChild(k);h.lb.appendChild(l);h.lb.style.display=
"block";a.Ii.Fi(f.x,f.y)}}b.ql=function(){var a=this.Hd();return a?a.vb/this.scale:0};b.Tb=function(a){this.Yf=a;if(this.M)if(this.Aa&&this.Aa.yi(a),M(this)&&M(this).yi(a),A(this).style.display=a?"block":"none",this.wa&&this.wa.Tb(a),a){a=J(this,!1);for(var c=a.length-1;0<=c;c--)a[c].Fl();this.Fa();this.wa&&this.wa.position()}else m.Xb(!0)};b.Fa=function(){for(var a=J(this,!1),c=a.length-1;0<=c;c--)a[c].Fa(!1);if(this.Wb)for(a=this.Wb.yj(),c=0;c<a.length;c++)a[c].Fa(!1);c=this.rd;c.o.vc&&c.Mf&&c.o.rb().draw()};
function sc(a,c){var d=H;if(void 0===c){for(var e=0,f;f=d.ul[e];e++)f.ze(!1);d.ul.length=0}if(f=a?d.Hc(a):null)(a=void 0===c||c)?-1==d.ul.indexOf(f)&&d.ul.push(f):m.g.Jk(d.ul,f),f.ze(a)}
function tc(a){var c=m.Mk;if(a.pa&&!(c.getElementsByTagName("block").length>=Xa(a)))if(a.Wb&&a.Wb.cancel(),"comment"==c.tagName.toLowerCase()){m.h.disable();try{var d=m.fj.hl(c),e=parseInt(c.getAttribute("x"),10),f=parseInt(c.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.H&&(e=-e),d.moveBy(e+50,f+50))}finally{m.h.enable()}d.select()}else a:{m.h.disable();try{var h=m.O.vj(c,a),k=a.Ic(m.navigation.qk).Oa;if(a.vc&&k&&k.Lj){m.navigation.Sx(h,k.ga);break a}var l=parseInt(c.getAttribute("x"),10),n=parseInt(c.getAttribute("y"),
10);if(!isNaN(l)&&!isNaN(n)){a.H&&(l=-l);do{c=!1;var p=J(a,!1);d=0;for(var q;q=p[d];d++){var r=q.Ua();if(1>=Math.abs(l-r.x)&&1>=Math.abs(n-r.y)){c=!0;break}}if(!c){var u=h.se(!1);d=0;for(var v;v=u[d];d++)if(v.closest(m.jd,new m.g.P(l,n)).connection){c=!0;break}}c&&(l=a.H?l-m.jd:l+m.jd,n+=2*m.jd)}while(c);h.moveBy(l,n)}}finally{m.h.enable()}m.h.isEnabled()&&!h.Pa&&m.h.Ia(new m.h.Dm(h));h.select()}}function nc(a){(a=a.Xf?a.fb:a)&&!a.Wb&&a.wa&&M(a.wa)&&a.wa.fL()}
b.wi=function(a,c){m.Za.v.wi.call(this,a,c);nc(this)};b.Ih=function(a){m.Za.v.Ih.call(this,a);nc(this)};b.oe=function(a,c,d){a=m.Za.v.oe.call(this,a,c,d);nc(this);return a};function oc(a){a.Iw=a.qc&&a.M.parentNode?a.qc.kl():null;a.Hw=a.ca?a.ca.kl():a.wa&&"function"==typeof a.wa.kl?a.wa.kl():null}function ta(a,c){return a.Iw&&a.Iw.contains(c.clientX,c.clientY)?m.pp:a.Hw&&a.Hw.contains(c.clientX,c.clientY)?m.lu:m.ku}b.Tg=function(a){var c=this.Eg(a);c&&rb(c,a,this)};
b.yt=function(a,c){a=m.g.Ll(a,A(this),Ka(this));a.x/=this.scale;a.y/=this.scale;this.Sw=m.g.P.Yk(c,a)};b.qd=function(){return null!=this.Wb&&this.Wb.qd()};function uc(a){return a.options.Zb&&a.options.Zb.scrollbars||a.options.Zb&&a.options.Zb.ih||a.options.Zb&&a.options.Zb.Dg||a.options.Ya&&a.options.Ya.controls||a.options.Ya&&a.options.Ya.ih||a.options.Ya&&a.options.Ya.Rs}
b.$c=function(){return this.options.Zb&&this.options.Zb.scrollbars||this.options.Zb&&this.options.Zb.ih||this.options.Zb&&this.options.Zb.Dg||this.options.Ya&&this.options.Ya.ih||this.options.Ya&&this.options.Ya.Rs};
b.BF=function(a){if(m.qh.Vn())a.preventDefault(),a.stopPropagation();else{var c=this.options.Ya&&this.options.Ya.ih,d=this.options.Zb&&this.options.Zb.ih;if(c||d){var e=m.g.xx(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=m.g.Ll(a,A(this),Ka(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function Oa(a){a=[].concat(a.Uo);if(!a.length)return new m.g.Rect(0,0,0,0);for(var c=bc(a[0]),d=1;d<a.length;d++){var e=bc(a[d]);e.top<c.top&&(c.top=e.top);e.bottom>c.bottom&&(c.bottom=e.bottom);e.left<c.left&&(c.left=e.left);e.right>c.right&&(c.right=e.right)}return c}b.XC=function(){this.$b(!1);m.h.ka(!0);for(var a=this.Kb(!0),c=0,d=0,e;e=a[d];d++)if(e.$c()){var f=e.Ua();e.moveBy(-f.x,c-f.y);ac(e);c=e.Ua().y+B(e).height+this.jb.U().rk}m.h.ka(!1);this.$b(!0)};
b.$l=function(a){function c(v){if(v.pd())u=u.concat(t(v,!1));else{v=I(v,!1);for(var D=0;D<v.length;D++)c(v[D])}}function d(){m.h.ka(h);var v=u.shift();v&&(v.C?(v.G(!1,!0),setTimeout(d,10)):d());m.h.ka(!1)}if(!this.options.readOnly&&!this.Xf){var e=[],f=this.Kb(!0),h=m.g.Qf(),k=this,l={};l.text=m.K.UNDO;l.enabled=0<this.ck.length;l.Vb=this.Xo.bind(this,!1);e.push(l);l={};l.text=m.K.REDO;l.enabled=0<this.Mo.length;l.Vb=this.Xo.bind(this,!0);e.push(l);this.$c()&&(l={},l.text=m.K.CLEAN_UP,l.enabled=1<
f.length,l.Vb=this.XC.bind(this),e.push(l));if(this.options.collapse){for(var n=l=!1,p=0;p<f.length;p++)for(var q=f[p];q;)q.isCollapsed()?l=!0:n=!0,q=w(q);var r=function(v){for(var D=0,N=0;N<f.length;N++)for(var ja=f[N];ja;)setTimeout(ja.ah.bind(ja,v),D),ja=w(ja),D+=10};n={enabled:n};n.text=m.K.COLLAPSE_ALL;n.Vb=function(){r(!0)};e.push(n);l={enabled:l};l.text=m.K.EXPAND_ALL;l.Vb=function(){r(!1)};e.push(l)}var u=[];for(p=0;p<f.length;p++)c(f[p]);l={text:1==u.length?m.K.DELETE_BLOCK:m.K.DELETE_X_BLOCKS.replace("%1",
String(u.length)),enabled:0<u.length,Vb:function(){k.Wb&&k.Wb.cancel();2>u.length?d():m.confirm(m.K.DELETE_ALL_BLOCKS.replace("%1",u.length),function(v){v&&d()})}};e.push(l);this.bD&&this.bD(e,a);m.ta.show(a,e,this.H)}};function Ja(a){if(a.options.xc)Ja(a.options.xc);else{m.Dl=a;document.activeElement&&document.activeElement.blur();try{A(a).focus({preventScroll:!0})}catch(c){try{A(a).parentNode.setActive()}catch(d){A(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.Ya.RF,d);var e=this.scale*d;if(this.scale!=e){e>this.options.Ya.Gl?d=this.options.Ya.Gl/this.scale:e<this.options.Ya.Il&&(d=this.options.Ya.Il/this.scale);var f=this.tb.getCTM(),h=A(this).createSVGPoint();h.x=a;h.y=c;h=h.matrixTransform(f.inverse());a=h.x;c=h.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.Ya.Gl&&a>this.options.Ya.Gl?a=this.options.Ya.Gl:this.options.Ya.Il&&a<this.options.Ya.Il&&(a=this.options.Ya.Il);this.scale=a;m.Xb(!1);this.ca&&(this.ca.Vs(),oc(this));this.Id&&this.Id.update(this.scale);a=this.Hd();this.scrollX-=a.rc;this.scrollY-=a.Dc;a.Gb+=a.rc;a.Ob+=a.Dc;this.scroll(this.scrollX,this.scrollY);this.Aa&&(this.ca?(Da(this.Aa.Jd,a),Ea(this.Aa.Wd,a)):(Ga(this.Aa.Jd,a),Ia(this.Aa.Wd,a)))};
function vc(a){return a.options.xc?vc(a.options.xc):a.scale}b.scroll=function(a,c){m.Xb(!0);var d=this.Hd(),e=d.We+d.Fc-d.vb,f=d.Ed+d.uc-d.Fb;a=Math.min(a,-d.Fc);c=Math.min(c,-d.uc);a=Math.max(a,-e);c=Math.max(c,-f);this.scrollX=a;this.scrollY=c;this.Aa&&(G(this.Aa.Jd,-(a+d.Fc)*this.Aa.Jd.ratio),G(this.Aa.Wd,-(c+d.uc)*this.Aa.Wd.ratio));a+=d.rc;c+=d.Dc;this.translate(a,c)};m.Za.lx=function(a){var c=0,d=0;a&&(c=a.ql(),d=a.jc);return new m.g.zd(c,d)};
m.Za.aE=function(a,c){return uc(a)?m.Za.$D(a,c):m.Za.ix(a)};m.Za.ix=function(a){var c=Oa(a),d=a.scale;a=c.top*d;var e=c.bottom*d,f=c.left*d;c=c.right*d;return{top:a,bottom:e,left:f,right:c,width:c-f,height:e-a}};m.Za.$D=function(a,c){a=m.Za.ix(a);var d=c.width;c=c.height;var e=d/2,f=c/2,h=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-c);return{left:h,top:k,height:Math.max(a.bottom+f,a.top+c)-k,width:Math.max(a.right+e,a.left+d)-h}};
m.Za.iE=function(){var a=m.Za.lx(this.wa),c=m.Za.lx(this.ca),d=m.mG(A(this)),e={height:d.height,width:d.width};if(this.wa)if(this.kb==m.yh||this.kb==m.Dk)e.height-=a.height;else{if(this.kb==m.fe||this.kb==m.xh)e.width-=a.width}else if(this.ca)if(this.kb==m.yh||this.kb==m.Dk)e.height-=c.height;else if(this.kb==m.fe||this.kb==m.xh)e.width-=c.width;var f=m.Za.aE(this,e),h=0;this.wa&&this.kb==m.fe?h=a.width:this.ca&&this.kb==m.fe&&(h=c.width);var k=0;this.wa&&this.kb==m.yh?k=a.height:this.ca&&this.kb==
m.yh&&(k=c.height);return{Ed:f.height,We:f.width,uc:f.top,Fc:f.left,Fb:e.height,vb:e.width,Ob:-this.scrollY,Gb:-this.scrollX,Dc:k,rc:h,FL:d.height,GL:d.width,pz:a.width,KL:a.height,kb:this.kb,gK:c.width,fK:c.height}};m.Za.$F=function(a){var c=this.Hd();"number"==typeof a.x&&(this.scrollX=-c.We*a.x-c.Fc);"number"==typeof a.y&&(this.scrollY=-c.Ed*a.y-c.uc);this.translate(this.scrollX+c.rc,this.scrollY+c.Dc)};b=m.Za.prototype;b.Hc=function(a){return m.Za.v.Hc.call(this,a)};
b.Kb=function(a){return m.Za.v.Kb.call(this,a)};b.mn=function(a){this.Uo.push(a);m.Za.v.mn.call(this,a)};b.Oo=function(a){m.g.Jk(this.Uo,a);m.Za.v.Oo.call(this,a)};b.$b=function(a){var c=!this.dt&&a;this.dt=a;c&&Ra(this)};b.clear=function(){this.$b(!1);m.Za.v.clear.call(this);this.Uo=[];this.$b(!0)};function wc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Yw.CREATE_VARIABLE=c}
function lc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Et[c]=d}b.Eg=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Wb;return d?c&&d.Qh?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.Wb=new m.Tc(a,this):null};m.nk=function(a){a.Hd=this.Dr.bind(this);a.Yl=this.ZF.bind(this);this.o=new m.Za(a);this.o.Xf=!0;this.o.Tb(this.Yf);this.H=!!a.H;this.Kd=!1;this.bk=a.kb;this.lr=[];this.po=[];this.Kk=[];this.Lc=[];this.Qs=[];this.ak=this.o.jb.U().hn;this.fb=null};b=m.nk.prototype;b.jj=!0;b.Yf=!1;b.Dh=!0;b.mb=8;b.sg=m.nk.prototype.mb;b.QA=3*m.nk.prototype.sg;b.RA=3*m.nk.prototype.sg;b.Vp=2;b.gb=0;b.jc=0;b.DD=70;
b.Ma=function(a){this.M=m.g.j.J(a,{"class":"blocklyFlyout",style:"display: none"},null);this.nc=m.g.j.J("path",{"class":"blocklyFlyoutBackground"},this.M);this.M.appendChild(this.o.Ma());this.o.pc.subscribe(this.nc,"flyoutBackgroundColour","fill");this.o.pc.subscribe(this.nc,"flyoutOpacity","fill-opacity");this.o.rd.ht(new m.Pm);return this.M};
b.Na=function(a){this.fb=a;this.o.fb=a;this.Aa=new m.Ka(this.o,this.Kd,!1,"blocklyFlyoutScrollbar");this.ua();Array.prototype.push.apply(this.lr,m.qa(this.M,"wheel",this,this.CG));this.jj||(this.Ln=this.mr.bind(this),L(this.fb,this.Ln));Array.prototype.push.apply(this.lr,m.qa(this.nc,"mousedown",this,this.Tg));this.o.Eg=this.fb.Eg.bind(this.fb);this.o.tt(this.fb.Ba);a=this.o;a.Xg=new m.aq(a)};
b.G=function(){this.ua();m.Ra(this.lr);this.Ln&&($a(this.fb,this.Ln),this.Ln=null);this.Aa&&(this.Aa.G(),this.Aa=null);this.o&&(this.o.pc.unsubscribe(this.nc),this.o.fb=null,this.o.G(),this.o=null);this.M&&(m.g.j.removeNode(this.M),this.M=null);this.fb=this.nc=null};b.ql=function(){return this.gb};b.isVisible=function(){return this.Yf};b.Tb=function(a){var c=a!=this.isVisible();this.Yf=a;c&&this.rm()};b.yi=function(a){var c=a!=this.Dh;this.Dh=a;c&&this.rm()};
b.rm=function(){var a=this.Dh?this.isVisible():!1;this.M.style.display=a?"block":"none";this.Aa.yi(a)};b.ua=function(){if(this.isVisible()){this.Tb(!1);for(var a=0,c;c=this.Lc[a];a++)m.Ra(c);this.Lc.length=0;this.Yg&&($a(this.o,this.Yg),this.Yg=null)}};
b.show=function(a){this.o.$b(!1);this.ua();xc(this);if("string"==typeof a){a=this.o.fb.Et[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.o.fb);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.Tb(!0);a=m.g.Be.Eq(a);a=yc(this,a);zc(this,a.eD,a.QD);this.Lc.push(m.qa(this.nc,"mouseover",this,function(){for(var c=this.o.Kb(!1),d=0,e;e=c[d];d++)e.Ul()}));this.Kd?this.jc=0:
this.gb=0;this.o.$b(!0);this.Vs();this.mr();this.position();this.Yg=this.Vs.bind(this);L(this.o,this.Yg)};
function yc(a,c){var d=[],e=[];a.Qs.length=0;for(var f=a.Kd?a.QA:a.RA,h=0,k;k=c[h];h++)switch(k.kind.toUpperCase()){case "BLOCK":var l=k;var n=l;k=null;var p=n.blockxml;p&&"string"!=typeof p?k=p:p&&"string"==typeof p?k=m.O.Ei(p):n.type&&(k=m.g.xml.createElement("xml"),k.setAttribute("type",n.type),k.setAttribute("disabled",n.disabled));if(!k)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");n=k;k=a;p=m.O.vj(n,k.o);p.isEnabled()||k.Qs.push(p);k=p;l=parseInt(l.gap||
n.getAttribute("gap"),10);e.push(isNaN(l)?f:l);d.push({type:"block",block:k});break;case "SEP":l=e;n=f;k=parseInt(k.gap,10);!isNaN(k)&&0<l.length?l[l.length-1]=k:l.push(n);break;case "LABEL":l=Ac(a,k,!0);d.push({type:"button",button:l});e.push(f);break;case "BUTTON":l=Ac(a,k,!1),d.push({type:"button",button:l}),e.push(f)}return{eD:d,QD:e}}function Ac(a,c,d){if(!m.PA)throw Error("Missing require for Blockly.FlyoutButton");return new m.PA(a.o,a.fb,c,d)}
function xc(a){for(var c=a.o.Kb(!1),d=0,e;e=c[d];d++)e.C==a.o&&e.G(!1,!1);for(d=0;d<a.po.length;d++)if(c=a.po[d])m.F.It(c),m.g.j.removeNode(c);for(d=a.po.length=0;c=a.Kk[d];d++)c.G();a.Kk.length=0;a.o.Xg.clear()}function Bc(a,c){return function(d){var e=a.fb.Eg(d);e&&(tb(e,c),sb(e,d,a))}}b.Tg=function(a){var c=this.fb.Eg(a);c&&sb(c,a,this)};
function hb(a,c){var d=null;m.h.disable();var e=a.fb.Mh();a.fb.$b(!1);try{var f=a.fb;if(!c.oa())throw Error("oldBlock is not rendered.");var h=m.O.Gf(c,!0);f.$b(!1);var k=m.O.vj(h,f);if(!k.oa())throw Error("block is not rendered.");var l=m.g.ml(f.tb),n=m.g.ml(a.o.tb),p=c.Ua();p.scale(a.o.scale);var q=m.g.P.sum(n,p),r=m.g.P.Yk(q,l);r.scale(1/f.scale);k.moveBy(r.x,r.y);d=k;m.Xb()}finally{m.h.enable()}c=m.Y.gx(a.fb,e);if(m.h.isEnabled())for(m.h.ka(!0),m.h.Ia(new m.h.Yd(d)),e=0;e<c.length;e++)m.h.Ia(new m.h.Ad(c[e]));
a.jj?a.ua():a.mr();return d}b.mr=function(){for(var a=this.o.Kb(!1),c=0,d;d=a[c];c++)if(-1==this.Qs.indexOf(d))for(var e=Ya(this.fb,m.g.wr(d));d;)d.mf(e),d=w(d)};
b.Vs=function(){this.Yg&&$a(this.o,this.Yg);this.o.scale=this.fb.scale;for(var a=0,c=this.o.Kb(!1),d=0,e;e=c[d];d++){var f=B(e).width;e.L&&(f-=this.ak);a=Math.max(a,f)}for(d=0;e=this.Kk[d];d++)a=Math.max(a,e.width);a+=1.5*this.sg+this.ak;a*=this.o.scale;a+=m.Ka.lc;if(this.gb!=a){for(d=0;e=c[d];d++){if(this.H){f=e.Ua().x;var h=a/this.o.scale-this.sg;e.L||(h-=this.ak);e.moveBy(h-f,0)}e.Zw&&(f=e.Zw,h=e,e=B(h),f.setAttribute("width",e.width),f.setAttribute("height",e.height),h=h.Ua(),f.setAttribute("y",
h.y),f.setAttribute("x",this.H?h.x-e.width:h.x))}if(this.H)for(d=0;e=this.Kk[d];d++)c=e.vK().y,e.moveTo(a/this.o.scale-e.width-this.sg-this.ak,c);this.gb=a;this.position()}this.Yg&&L(this.o,this.Yg)};function nb(a){return a.Aa?a.Aa.isVisible():!1}b.Oc=function(a){return this.o.rb().Oc(a)};m.R={};m.R.Rd=null;m.R.Gn=null;m.R.ye="";m.R.Ae="";m.R.Ma=function(){m.R.Sa||(m.R.Sa=document.createElement("div"),m.R.Sa.className="blocklyWidgetDiv",(m.Ho||document.body).appendChild(m.R.Sa))};m.R.show=function(a,c,d){m.R.ua();m.R.Rd=a;m.R.Gn=d;a=m.R.Sa;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=m.Rf();m.R.ye=c.jb.re();m.R.Ae=c.Gg().re();m.g.j.yb(a,m.R.ye);m.g.j.yb(a,m.R.Ae)};
m.R.ua=function(){if(m.R.isVisible()){m.R.Rd=null;var a=m.R.Sa;a.style.display="none";a.style.left="";a.style.top="";m.R.Gn&&m.R.Gn();m.R.Gn=null;a.textContent="";m.R.ye&&(m.g.j.Pc(a,m.R.ye),m.R.ye="");m.R.Ae&&(m.g.j.Pc(a,m.R.Ae),m.R.Ae="");Ja(m.Rf())}};m.R.isVisible=function(){return!!m.R.Rd};m.R.Fj=function(a){m.R.Rd==a&&m.R.ua()};m.R.Ql=function(a,c,d){m.R.Sa.style.left=a+"px";m.R.Sa.style.top=c+"px";m.R.Sa.style.height=d+"px"};
m.R.HF=function(a,c,d,e){var f=m.R.QC(a,c,d);a=m.R.PC(a,c,d,e);0>f?m.R.Ql(a,0,d.height+f):m.R.Ql(a,f,d.height)};m.R.PC=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};m.R.QC=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};m.Ch=function(a){m.Ch.v.constructor.call(this,a)};m.g.object.S(m.Ch,m.nk);b=m.Ch.prototype;b.Dr=function(){if(!this.isVisible())return null;try{var a=this.o.tb.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var c=this.Vp,d=this.jc-2*this.Vp,e=this.gb;this.H||(e-=this.Vp);return{Ed:a.height*this.o.scale+2*this.sg,We:a.width*this.o.scale+2*this.sg,uc:a.y,Fc:a.x,Fb:d,vb:e,Ob:-this.o.scrollY+a.y,Gb:-this.o.scrollX,Dc:c,rc:0}};
b.ZF=function(a){var c=this.Dr();c&&("number"==typeof a.y&&(this.o.scrollY=-c.Ed*a.y),this.o.translate(this.o.scrollX+c.rc,this.o.scrollY+c.Dc))};
b.position=function(){if(this.isVisible()){var a=this.fb.Hd();if(a){this.jc=a.Fb;var c=this.gb-this.mb,d=a.Fb-2*this.mb,e=this.bk==m.xh,f=c+this.mb;f=["M "+(e?f:0)+",0"];f.push("h",e?-c:c);f.push("a",this.mb,this.mb,0,0,e?0:1,e?-this.mb:this.mb,this.mb);f.push("v",Math.max(0,d));f.push("a",this.mb,this.mb,0,0,e?0:1,e?this.mb:-this.mb,this.mb);f.push("h",e?c:-c);f.push("z");this.nc.setAttribute("d",f.join(" "));c=this.jc;a=this.fb.kb==this.bk?a.pz?this.bk==m.fe?a.pz:a.vb-this.gb:this.bk==m.fe?0:a.vb:
this.bk==m.fe?0:a.vb+a.rc-this.gb;this.M.setAttribute("width",this.gb);this.M.setAttribute("height",c);"svg"==this.M.tagName?m.g.j.Xl(this.M,"translate("+a+"px,0px)"):this.M.setAttribute("transform","translate("+a+",0)");this.Aa&&(this.Aa.Ks=new m.g.P(a,0),this.Aa.resize(),this.Aa.setPosition(this.Aa.position.x,this.Aa.position.y))}}};
b.CG=function(a){var c=m.g.xx(a);if(c.y){var d=this.Dr();c=d.Ob-d.uc+c.y;c=Math.min(c,d.Ed-d.Fb);c=Math.max(c,0);this.Aa.set(c);m.R.ua();m.B.Rh()}a.preventDefault();a.stopPropagation()};
function zc(a,c,d){a.o.scale=a.fb.scale;for(var e=a.sg,f=a.H?e:e+a.ak,h=0,k;k=c[h];h++)if("block"==k.type){k=k.block;for(var l=t(k,!1),n=0,p;p=l[n];n++)p.gf=!0;k.Fa();p=k.oa();l=B(k);n=k.L?f-a.ak:f;k.moveBy(n,e);var q=a,r=k,u=h;n=m.g.j.J("rect",{"fill-opacity":0,x:a.H?n-l.width:n,y:e,height:l.height,width:l.width},null);n.Ce=r;m.F.kj(n);q.o.tb.insertBefore(n,r.oa());r.Zw=n;q.po[u]=n;q=a;q.Lc.push(m.qa(p,"mousedown",null,Bc(q,k)));q.Lc.push(m.qa(n,"mousedown",null,Bc(q,k)));q.Lc.push(m.hc(p,"mouseenter",
k,k.ln));q.Lc.push(m.hc(p,"mouseleave",k,k.Ul));q.Lc.push(m.hc(n,"mouseenter",k,k.ln));q.Lc.push(m.hc(n,"mouseleave",k,k.Ul));e+=l.height+d[h]}else"button"==k.type&&(l=a,n=k.button,p=f,q=e,r=n.Ma(),n.moveTo(p,q),n.show(),l.Lc.push(m.qa(r,"mousedown",l,l.Tg)),l.Kk.push(n),e+=k.button.height+d[h])}b.kl=function(){if(!this.M)return null;var a=this.M.getBoundingClientRect(),c=a.left;return this.bk==m.fe?new m.g.Rect(-1E9,1E9,-1E9,c+a.width):new m.g.Rect(-1E9,1E9,c,1E9)};m.cu=function(a){this.Qk=a;this.Ma()};b=m.cu.prototype;b.lb=null;b.$e=null;b.Qk=null;b.$g=1;b.im=null;b.Ma=function(){this.lb||(this.lb=m.g.j.J("svg",{xmlns:m.g.j.zk,"xmlns:html":m.g.j.Rm,"xmlns:xlink":m.g.j.Bd,version:"1.1","class":"blocklyBlockDragSurface"},this.Qk),this.$e=m.g.j.J("g",{},this.lb))};function mb(a,c){if(a.$e.childNodes.length)throw Error("Already dragging a block.");a.$e.appendChild(c);a.lb.style.display="block";a.im=new m.g.P(0,0)}
b.Fi=function(a,c){this.im=new m.g.P(a*this.$g,c*this.$g);a=this.im.x;c=this.im.y;a=a.toFixed(0);c=c.toFixed(0);this.lb.style.display="block";m.g.j.Xl(this.lb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Hr=function(){var a=m.g.te(this.lb);return new m.g.P(a.x/this.$g,a.y/this.$g)};b.Sb=function(){return this.$e};
b.tn=function(a){a?a.appendChild(this.$e.firstChild):this.$e.removeChild(this.$e.firstChild);this.lb.style.display="none";if(this.$e.childNodes.length)throw Error("Drag group was not cleared.");this.im=null};m.Xd=function(){this.Qo=m.Xd.Fw;this.Gj=null;this.od=!1;this.ad=this.ra=null;this.yg=[];this.yq={};this.Qw=!1};m.Xd.Fw=!1;m.Xd.Error={Vt:"Component already rendered",mv:"Unable to set parent component",hA:"Child component index out of bounds",Jz:"Unimplemented abstract method"};b=m.Xd.prototype;b.eb=function(){return this.Gj||(this.Gj=m.g.Ri.Fr())};
b.Xj=function(a){if(this==a)throw Error(m.Xd.Error.mv);var c;if(c=a&&this.ad&&this.Gj)c=(c=this.Gj)?this.ad.yq[c]||null:null;if(c&&this.ad!=a)throw Error(m.Xd.Error.mv);this.ad=a};b.getParent=function(){return this.ad};b.Ma=function(){throw Error(m.Xd.Error.Jz);};b.Fa=function(a){this.ag(a)};b.ag=function(a){if(this.od)throw Error(m.Xd.Error.Vt);this.ra||this.Ma();a?a.insertBefore(this.ra,null):document.body.appendChild(this.ra);this.ad&&!this.ad.od||Cc(this)};
function Cc(a){a.od=!0;Dc(a,function(c){!c.od&&c.ra&&Cc(c)})}function Ec(a){Dc(a,function(c){c.od&&Ec(c)});a.od=!1}b.G=function(){this.Qw||(this.Qw=!0,Fc(this))};function Fc(a){a.od&&Ec(a);Dc(a,function(c){c.G()});a.ra&&m.g.j.removeNode(a.ra);a.yg=null;a.yq=null;a.ra=null;a.ad=null}
b.cq=function(a){var c=this.yg.length;if(a.od&&!this.od)throw Error(m.Xd.Error.Vt);if(0>c||c>this.yg.length)throw Error(m.Xd.Error.hA);this.yq[a.eb()]=a;if(a.getParent()==this){var d=this.yg.indexOf(a);-1<d&&this.yg.splice(d,1)}a.Xj(this);this.yg.splice(c,0,a);a.od&&this.od&&a.getParent()==this?(d=this.ra,c=d.childNodes[c]||null,c!=a.ra&&d.insertBefore(a.ra,c)):this.od&&!a.od&&a.ra&&a.ra.parentNode&&a.ra.parentNode.nodeType==m.g.j.Af.ELEMENT_NODE&&Cc(a)};
function Dc(a,c){for(var d=0;d<a.yg.length;d++)c.call(void 0,a.yg[d],d)};m.fd={};m.fd.Sr=!1;m.fd.register=function(a){if(m.fd.Sr)throw Error("CSS already injected");Array.prototype.push.apply(m.fd.np,a);a.length=0};m.fd.Wh=function(a,c){if(!m.fd.Sr){m.fd.Sr=!0;var d=m.fd.np.join("\n");m.fd.np.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};m.fd.ht=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See issue #981 for context")};
m.fd.np=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;",
"border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {",
"fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",
'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {",
"display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;",
"-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;",
"height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;",
"}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {",
"fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;",
"}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);",
"}",".blocklyDropDownDiv .blocklyMenu {",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;",
"width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];
m.B=function(){};m.B.qq=null;m.B.Rd=null;m.B.Sy=null;m.B.Am=16;m.B.bu=1;m.B.Yt=12;m.B.jv=16;m.B.hp=.25;m.B.hq=null;m.B.si=null;m.B.ye="";m.B.Ae="";
m.B.Ma=function(){if(!m.B.Fe){var a=document.createElement("div");a.className="blocklyDropDownDiv";(m.Ho||document.body).appendChild(a);m.B.Fe=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);m.B.Lf=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);m.B.Cd=c;m.B.Fe.style.opacity=0;m.B.Fe.style.transition="transform "+m.B.hp+"s, opacity "+m.B.hp+"s";a.addEventListener("focusin",function(){m.g.j.yb(a,"blocklyFocused")});a.addEventListener("focusout",
function(){m.g.j.Pc(a,"blocklyFocused")})}};m.B.VF=function(a){m.B.qq=a};m.B.jx=function(){return m.B.Lf};m.B.YC=function(){m.B.Lf.textContent="";m.B.Lf.style.width=""};m.B.bh=function(a,c){m.B.Fe.style.backgroundColor=a;m.B.Fe.style.borderColor=c};m.B.BL=function(a,c,d,e){return m.B.ez(m.B.ux(c),a,d,e)};m.B.dz=function(a,c){m.B.Sy=!0;m.B.ez(m.B.vx(a),a,c,void 0)};
m.B.ux=function(a){var c=a.oa(),d=c.getBBox(),e=a.C.scale;a=d.height*e;d=d.width*e;c=m.g.style.Oh(c);return new m.g.Rect(c.y,c.y+a,c.x,c.x+d)};m.B.vx=function(a){a=Cb(a);return new m.g.Rect(a.top,a.bottom,a.left,a.right)};m.B.ez=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,h=a.bottom;a=a.top;e&&(a+=e);e=c.V();for(var k=e.C;k.options.xc;)k=k.options.xc;m.B.VF(A(k).parentNode);return m.B.show(c,e.H,f,h,f,a,d)};
m.B.show=function(a,c,d,e,f,h,k){m.B.Rd=a;m.B.si=k||null;a=m.B.Fe;a.style.direction=c?"rtl":"ltr";c=m.Rf();m.B.ye=c.jb.re();m.B.Ae=c.Gg().re();m.g.j.yb(a,m.B.ye);m.g.j.yb(a,m.B.Ae);return m.B.Ql(d,e,f,h)};m.B.UD=function(){var a=m.g.style.Oh(m.B.qq),c=m.g.style.Sf(m.B.qq);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};
m.B.fE=function(a,c,d,e){var f=m.B.UD(),h=m.g.style.Sf(m.B.Fe);return c+h.height<f.bottom?m.B.tx(a,c,f,h):e-h.height>f.top?m.B.sx(d,e,f,h):c+h.height<document.documentElement.clientHeight?m.B.tx(a,c,f,h):e-h.height>document.documentElement.clientTop?m.B.sx(d,e,f,h):m.B.gE(a,f,h)};m.B.tx=function(a,c,d,e){a=m.B.Gr(a,d.left,d.right,e.width);return{Qr:a.uj,Rr:c,nr:a.uj,pr:c+m.B.jv,hj:a.hj,jq:-(m.B.Am/2+m.B.bu),on:!0,iq:!0}};
m.B.sx=function(a,c,d,e){a=m.B.Gr(a,d.left,d.right,e.width);return{Qr:a.uj,Rr:c-e.height,nr:a.uj,pr:c-e.height-m.B.jv,hj:a.hj,jq:e.height-2*m.B.bu-m.B.Am/2,on:!1,iq:!0}};m.B.gE=function(a,c,d){a=m.B.Gr(a,c.left,c.right,d.width);return{Qr:a.uj,Rr:0,nr:a.uj,pr:0,on:null,hj:null,jq:null,iq:!1}};m.B.Gr=function(a,c,d,e){var f=a;a=m.g.Mc.Lk(c,a-e/2,d-e);f-=m.B.Am/2;c=m.g.Mc.Lk(m.B.Yt,f-a,e-m.B.Yt-m.B.Am);return{hj:c,uj:a}};m.B.isVisible=function(){return!!m.B.Rd};
m.B.Fj=function(a,c){m.B.Rd===a&&(c?m.B.Rh():m.B.ua())};m.B.ua=function(){var a=m.B.Fe;a.style.transform="translate(0, 0)";a.style.opacity=0;m.B.hq=setTimeout(function(){m.B.Rh()},1E3*m.B.hp);m.B.si&&(m.B.si(),m.B.si=null)};
m.B.Rh=function(){if(m.B.isVisible()){m.B.hq&&clearTimeout(m.B.hq);var a=m.B.Fe;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";m.B.si&&(m.B.si(),m.B.si=null);m.B.YC();m.B.Rd=null;m.B.ye&&(m.g.j.Pc(a,m.B.ye),m.B.ye="");m.B.Ae&&(m.g.j.Pc(a,m.B.Ae),m.B.Ae="");Ja(m.Rf())}};
m.B.Ql=function(a,c,d,e){a=m.B.fE(a,c,d,e);a.iq?(m.B.Cd.style.display="",m.B.Cd.style.transform="translate("+a.hj+"px,"+a.jq+"px) rotate(45deg)",m.B.Cd.setAttribute("class",a.on?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):m.B.Cd.style.display="none";c=Math.floor(a.Qr);d=Math.floor(a.Rr);e=Math.floor(a.nr);var f=Math.floor(a.pr),h=m.B.Fe;h.style.left=c+"px";h.style.top=d+"px";h.style.display="block";h.style.opacity=1;h.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.on};m.B.nL=function(){if(m.B.Rd){var a=m.B.Rd,c=a.V();a=m.B.Sy?m.B.vx(a):m.B.ux(c);c=a.left+(a.right-a.left)/2;m.B.Ql(c,a.bottom,c,a.top)}else m.B.ua()};m.Wh=function(a,c){m.RC();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!m.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new m.Cc(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;m.g.Xa.nf(d,m.g.Xa.State.hB,m.K.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=m.Sk(d,c);var e=new m.cu(d),f=new m.Wv(d),h=m.hD(a,c,e,f);m.za.va.YF(c.va);m.DE(h);m.Dl=h;m.km(h);d.addEventListener("focusin",function(){m.Dl=
h});return h};m.Sk=function(a,c){a.setAttribute("dir","LTR");m.Xd.Fw=c.H;m.fd.Wh(c.uE,c.Ko);a=m.g.j.J("svg",{xmlns:m.g.j.zk,"xmlns:html":m.g.j.Rm,"xmlns:xlink":m.g.j.Bd,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=m.g.j.J("defs",{},a);c.Kr=m.rh.Ma(String(Math.random()).substring(2),c.Ex,d);return a};
m.hD=function(a,c,d,e){c.xc=null;var f=new m.Za(c,d,e);c=f.options;f.scale=c.Ya.jG;a.appendChild(f.Ma("blocklyMainBackground"));m.g.j.yb(aa(f),f.jb.re());m.g.j.yb(aa(f),f.Gg().re());!c.Cj&&c.di&&(d=rc(f),m.g.j.Ij(d,a));c.Jx&&pc(f);c.Ya&&c.Ya.controls&&qc(f);f.pc.subscribe(a,"workspaceBackgroundColour","background-color");f.translate(0,0);c.readOnly||f.$c()||L(f,function(h){if(!f.qd()&&!f.$c()&&-1!=m.h.eA.indexOf(h.type)){var k=Object.create(null),l=f.Hd(),n=f.scale;k.H=f.H;k.Gb=l.Gb/n;k.Ob=l.Ob/n;
k.Bz=(l.Gb+l.vb)/n;k.Az=(l.Ob+l.Fb)/n;uc(f)?(l=Oa(f),k.Fc=l.left,k.uc=l.top,k.yw=l.right,k.vw=l.bottom):(k.Fc=l.Fc/n,k.uc=l.uc/n,k.yw=(l.Fc+l.We)/n,k.vw=(l.uc+l.Ed)/n);if(k.uc<k.Ob||k.vw>k.Az||k.Fc<k.Gb||k.yw>k.Bz){l=null;h&&(l=m.h.Sb(),m.h.ka(h.group));switch(h.type){case m.h.ip:case m.h.au:var p=f.Hc(h.ic);p&&(p=p.Jc());break;case m.h.Gm:case m.h.Hm:p=f.zn[h.Te]||null}if(p){n=bc(p);n.height=n.bottom-n.top;n.width=n.right-n.left;var q=k.Ob,r=k.Az-n.height;r=Math.max(q,r);q=m.g.Mc.Lk(q,n.top,r)-n.top;
r=k.Gb;var u=k.Bz-n.width;k.H?r=Math.min(u,r):u=Math.max(r,u);p.moveBy(m.g.Mc.Lk(r,n.left,u)-n.left,q)}h&&(!h.group&&p&&console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==l&&m.h.ka(l))}}});m.km(f);m.R.Ma();m.B.Ma();m.F.Ma();return f};
m.DE=function(a){var c=a.options,d=A(a);m.qa(d.parentNode,"contextmenu",null,function(f){m.g.ho(f)||f.preventDefault()});d=m.qa(window,"resize",null,function(){m.Xb(!0);m.km(a)});a.Po=d;m.Wh.FC();if(c.di){d=a.wa;var e=M(a,!0);d?d.Na():e&&(e.Na(a),e.show(c.di),e.Aa.set(0))}d=m.Ka.lc;c.Jx&&(d=a.qc.Na(d));c.Ya&&c.Ya.controls&&a.Ki.Na(d);c.Zb&&c.Zb.scrollbars?(a.Aa=new m.Ak(a),a.Aa.resize()):a.Yl({x:.5,y:.5});c.wE&&m.Wh.WE(c.Ko,a)};
m.Wh.FC=function(){m.AD||(m.qa(document,"scroll",null,function(){for(var a=m.ob.getAll(),c=0,d;d=a[c];c++)d.sm&&d.sm()}),m.qa(document,"keydown",null,m.uF),m.hc(document,"touchend",null,m.Pg),m.hc(document,"touchcancel",null,m.Pg),m.g.userAgent.sh&&m.qa(window,"orientationchange",document,function(){m.km(m.Rf())}));m.AD=!0};
m.Wh.WE=function(a,c){function d(){for(;f.length;)m.Ra(f.pop());e.preload()}var e=c.ie;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(m.qa(document,"mousemove",null,d,!0));f.push(m.qa(document,"touchstart",null,d,!0))};m.xd=function(a,c){this.zz=c||"";this.Wy=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.Wy[a[c]]=!0;this.reset()};m.xd.qp="DEVELOPER_VARIABLE";m.xd.prototype.reset=function(){this.Ze=Object.create(null);this.Ew=Object.create(null);this.Ba=null};m.xd.prototype.tt=function(a){this.Ba=a};
function Gc(a,c){var d=m.I.vm;if(c==m.ej){var e=a;d.Ba?e=(e=d.Ba.Tf(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+c;var f=c==m.ej||c==m.xd.qp?d.zz:"";if(e in d.Ze)return f+d.Ze[e];a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=
"0123456789".indexOf(a[0])&&(a="my_"+a)):a=m.K.UNNAMED_KEY||"unnamed";for(var h="";d.Ew[a+h]||a+h in d.Wy;)h=h?h+1:2;a+=h;d.Ew[a]=!0;c=(c==m.ej||c==m.xd.qp?d.zz:"")+a;d.Ze[e]=c.substr(f.length);return c}m.xd.Pf=function(a,c){return a.toLowerCase()==c.toLowerCase()};m.Wa={};m.Wa.Wu=m.nv;m.Wa.vA="x";m.Wa.AC=function(a){var c=Wa(a,"procedures_defnoreturn").map(function(d){return d.zj()});a=Wa(a,"procedures_defreturn").map(function(d){return d.zj()});c.sort(m.Wa.Ty);a.sort(m.Wa.Ty);return[c,a]};m.Wa.Ty=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};m.Wa.KD=function(a,c){if(c.gf)return a;for(a=a||m.K.UNNAMED_KEY||"unnamed";!m.Wa.KE(a,c.C,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
m.Wa.KE=function(a,c,d){return!m.Wa.ME(a,c,d)};m.Wa.ME=function(a,c,d){c=J(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].zj){var f=c[e].zj();if(m.xd.Pf(f[0],a))return!0}return!1};m.Wa.jL=function(a){a=a.trim();var c=m.Wa.KD(a,this.V()),d=this.getValue();if(d!=a&&d!=c){a=J(this.V().C,!1);for(var e=0;e<a.length;e++)a[e].MF&&a[e].MF(d,c)}return c};
m.Wa.Lh=function(a){function c(h,k){for(var l=0;l<h.length;l++){var n=h[l][0],p=h[l][1],q=m.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=m.g.xml.createElement("mutation");r.setAttribute("name",n);q.appendChild(r);for(n=0;n<p.length;n++){var u=m.g.xml.createElement("arg");u.setAttribute("name",p[n]);r.appendChild(u)}d.push(q)}}var d=[];if(m.ed.procedures_defnoreturn){var e=m.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=m.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(m.g.xml.createTextNode(m.K.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}m.ed.procedures_defreturn&&(e=m.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=m.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(m.g.xml.createTextNode(m.K.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));m.ed.procedures_ifreturn&&(e=m.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=m.Wa.AC(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
m.Wa.vz=function(a){for(var c=[],d=Wa(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(K(f,"NAME"));d=m.g.xml.createElement("xml");e=m.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=m.g.xml.createElement("field");f.setAttribute("name","NAME");c=m.g.xml.createTextNode(m.Y.ex(m.Wa.vA,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);c=d;Array.isArray(c)||(c=m.Cc.Ky(c));if(c=m.g.Be.Eq(c)){if(!a.options.di)throw Error("Existing toolbox is null.  Can't create new toolbox.");
if(m.g.Be.Cj(c)){if(!a.wa)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.di=c;a.wa.Fa(c)}else{if(!a.ca)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.di=c;a.ca.show(c)}}else if(a.options.di)throw Error("Can't nullify an existing toolbox.");};
m.Wa.jF=function(a){if(a.type==m.h.kn&&"mutatorOpen"==a.element&&a.newValue){a=m.ob.jl(a.wb).Hc(a.ic);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.xe.o,m.Wa.vz(a),L(a,m.Wa.iF)}};m.Wa.iF=function(a){a.type!=m.h.ip&&a.type!=m.h.$t&&a.type!=m.h.aA||m.Wa.vz(m.ob.jl(a.wb))};m.Wa.VD=function(a,c){var d=[];c=J(c,!1);for(var e=0;e<c.length;e++)if(c[e].hE){var f=c[e].hE();f&&m.xd.Pf(f,a)&&d.push(c[e])}return d};
m.Wa.XK=function(a){var c=m.h.kc,d=a.zj()[0],e=a.Pd(!0);a=m.Wa.VD(d,a.C);d=0;for(var f;f=a[d];d++){var h=f.Pd();h=h&&m.O.Gd(h);f.Of(e);var k=f.Pd();k=k&&m.O.Gd(k);h!=k&&(m.h.kc=!1,m.h.Ia(new m.h.kh(f,"mutation",null,h,k)),m.h.kc=c)}};m.Wa.lK=function(a,c){c=c.Kb(!1);for(var d=0;d<c.length;d++)if(c[d].zj){var e=c[d].zj();if(e&&m.xd.Pf(e[0],a))return c[d]}return null};m.Ek=function(a,c,d,e){this.C=a;this.name=c;this.type=d||"";this.Gj=e||m.g.Qf();m.h.Ia(new m.h.Ad(this))};m.Ek.prototype.eb=function(){return this.Gj};m.Ek.pw=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};m.Y={};m.Y.Wu=m.ej;m.Y.aw=function(a){var c=J(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=Sa(c[d]);if(e)for(var f=0;f<e.length;f++){var h=e[f],k=h.eb();k&&(a[k]=h)}}c=[];for(k in a)c.push(a[k]);return c};m.Y.IJ=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};m.Y.Ut={};
m.Y.yC=function(a){a=J(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.mK;!f&&e.bE&&(f=e.bE,m.Y.Ut[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),m.Y.Ut[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
m.Y.Lh=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");wc(a,function(e){m.Y.Bw(e.xK())});c.push(d);a=m.Y.ND(a);return c=c.concat(a)};
m.Y.ND=function(a){a=a.ol("");var c=[];if(0<a.length){var d=a[a.length-1];if(m.ed.variables_set){var e=m.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",m.ed.math_change?8:24);e.appendChild(m.Y.rr(d));c.push(e)}m.ed.math_change&&(e=m.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",m.ed.variables_get?20:8),e.appendChild(m.Y.rr(d)),d=m.O.Ei('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(m.ed.variables_get){a.sort(m.Ek.pw);d=0;for(var f;f=a[d];d++)e=m.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(m.Y.rr(f)),c.push(e)}}return c};m.Y.Ov="ijkmnopqrstuvwxyzabcdefgh";m.Y.RD=function(a){return m.Y.ex(m.Y.Ov.charAt(0),a.vr())};
m.Y.ex=function(a,c){if(!c.length)return a;for(var d=m.Y.Ov,e="",f=d.indexOf(a);;){for(var h=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){h=!0;break}if(!h)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
m.Y.Bw=function(a,c,d){function e(h){m.Y.Uy(m.K.NEW_VARIABLE_TITLE,h,function(k){if(k){var l=m.Y.lF(k,a);if(l){if(l.type==f)var n=m.K.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else n=m.K.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,n=n.replace("%1",l.name).replace("%2",l.type);m.alert(n,function(){e(k)})}else a.oe(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};m.Y.oe=m.Y.Bw;
m.Y.Zs=function(a,c){function d(e){var f=m.K.RENAME_VARIABLE_TITLE.replace("%1",c.name);m.Y.Uy(f,e,function(h){if(h){var k=m.Y.mF(h,c.type,a);k?(k=m.K.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),m.alert(k,function(){d(h)})):a.wi(c.eb(),h)}})}d("")};m.Y.Uy=function(a,c,d){m.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==m.K.RENAME_VARIABLE||e==m.K.NEW_VARIABLE)&&(e=null);d(e)})};
m.Y.mF=function(a,c,d){d=d.Ba.Mh();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};m.Y.lF=function(a,c){c=c.Ba.Mh();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};m.Y.rr=function(a){var c=m.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.eb());c.setAttribute("variabletype",a.type);a=m.g.xml.createTextNode(a.name);c.appendChild(a);return c};
m.Y.qx=function(a,c,d,e){var f=m.Y.ue(a,c,d,e);f||(f=m.Y.kD(a,c,d,e));return f};m.Y.ue=function(a,c,d,e){var f=a.Xg,h=null;if(c&&(h=a.Tf(c),!h&&f&&(h=f.Tf(c)),h))return h;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");h=a.ue(d,e);!h&&f&&(h=f.ue(d,e))}return h};m.Y.kD=function(a,c,d,e){var f=a.Xg;d||(d=m.Y.RD(a.Xf?a.fb:a));return f?f.oe(d,e,c):a.oe(d,e,c)};
m.Y.gx=function(a,c){a=a.Mh();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};m.VERSION="uncompiled";m.Dl=null;m.selected=null;m.wj=[];m.Mk=null;m.xn=null;m.Aq=null;m.NJ=null;m.Ho=null;m.mG=function(a){return new m.g.zd(a.gw,a.fw)};m.pL=function(a){Ra(a)};m.km=function(a){for(;a.options.xc;)a=a.options.xc;var c=A(a),d=c.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.gw!=e&&(c.setAttribute("width",e+"px"),c.gw=e);c.fw!=d&&(c.setAttribute("height",d+"px"),c.fw=d);a.resize()}};
m.uF=function(a){var c=m.Dl;if(c&&!(m.g.ho(a)||c.pa&&!c.isVisible()))if(c.options.readOnly)m.navigation.Gy(a);else{var d=!1;if(a.keyCode==m.g.ya.sp)m.Xb(),m.navigation.Oc(m.navigation.ep);else{if(!m.qh.Vn()&&m.navigation.Gy(a))return;if(a.keyCode==m.g.ya.Zz||a.keyCode==m.g.ya.ik){a.preventDefault();if(m.qh.Vn())return;m.selected&&m.selected.pd()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(m.qh.Vn())return;m.selected&&m.selected.pd()&&m.selected.$c()&&(a.keyCode==m.g.ya.gA?(m.Xb(),m.Fq(m.selected)):
a.keyCode!=m.g.ya.Xv||m.selected.C.Xf||(m.Fq(m.selected),d=!0));a.keyCode==m.g.ya.gC?m.Mk&&(a=m.xn,a.Xf&&(a=a.fb),m.Aq&&Ya(a,m.Aq)&&(m.h.ka(!0),tc(a),m.h.ka(!1))):a.keyCode==m.g.ya.sC?(m.Xb(),c.Xo(a.shiftKey)):a.ctrlKey&&a.keyCode==m.g.ya.qC&&(m.Xb(),c.Xo(!0))}}d&&!m.selected.C.Xf&&(m.h.ka(!0),m.Xb(),m.selected.G(!0,!0),m.h.ka(!1))}};m.Fq=function(a){var c=m.O.Gf(a,!0);m.O.sD(c);var d=a.Ua();c.setAttribute("x",a.H?-d.x:d.x);c.setAttribute("y",d.y);d=a.C;a=m.g.wr(a,!0);m.Mk=c;m.xn=d;m.Aq=a};
m.duplicate=function(a){var c=m.Mk,d=m.xn;m.Fq(a);tc(a.C);m.Mk=c;m.xn=d};m.bL=function(a){m.g.ho(a)||a.preventDefault()};m.Xb=function(a){m.F.ua();m.R.ua();m.B.Rh();a||(a=m.Rf(),a.qc&&a.qc.Kh&&a.qc.Kh.ua(),(a=a.wa)&&M(a)&&M(a).jj&&a.QJ())};m.Rf=function(){return m.Dl};m.alert=function(a,c){alert(a);c&&c()};m.confirm=function(a,c){c(confirm(a))};m.prompt=function(a,c,d){d(prompt(a,c))};m.RE=function(a){return function(){Pb(this,a)}};
m.YJ=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(m.ed[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),m.ed[e]={Na:m.RE(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};
m.qa=function(a,c,d,e,f,h){function k(u){var v=!f;u=m.Touch.fG(u);for(var D=0,N;N=u[D];D++)if(!v||m.Touch.wt(N))m.Touch.WF(N),d?e.call(d,N):e(N),l=!0}var l=!1,n=[];if(m.g.global.PointerEvent&&c in m.Touch.Le)for(var p=0,q;q=m.Touch.Le[c][p];p++)a.addEventListener(q,k,!1),n.push([a,q,k]);else if(a.addEventListener(c,k,!1),n.push([a,c,k]),c in m.Touch.Le){var r=function(u){k(u);var v=!h;l&&v&&u.preventDefault()};for(p=0;q=m.Touch.Le[c][p];p++)a.addEventListener(q,r,!1),n.push([a,q,r])}return n};
m.hc=function(a,c,d,e){function f(p){d?e.call(d,p):e(p)}var h=[];if(m.g.global.PointerEvent&&c in m.Touch.Le)for(var k=0,l;l=m.Touch.Le[c][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f]);else if(a.addEventListener(c,f,!1),h.push([a,c,f]),c in m.Touch.Le){var n=function(p){if(p.changedTouches&&1==p.changedTouches.length){var q=p.changedTouches[0];p.clientX=q.clientX;p.clientY=q.clientY}f(p);p.preventDefault()};for(k=0;l=m.Touch.Le[c][k];k++)a.addEventListener(l,n,!1),h.push([a,l,n])}return h};
m.Ra=function(a){for(;a.length;){var c=a.pop();c[0].removeEventListener(c[1],c[2],!1)}};m.Yx=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};m.DK=function(a){return m.g.qb.Px(a)};
m.RC=function(){m.tc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);m.tc("LOGIC_HUE",["Constants","Logic","HUE"],210);m.tc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);m.tc("LOOPS_HUE",["Constants","Loops","HUE"],120);m.tc("MATH_HUE",["Blocks","math","HUE"],void 0);m.tc("MATH_HUE",["Constants","Math","HUE"],230);m.tc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);m.tc("TEXTS_HUE",["Constants","Text","HUE"],160);m.tc("LISTS_HUE",["Blocks","lists","HUE"],void 0);m.tc("LISTS_HUE",["Constants","Lists","HUE"],
260);m.tc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);m.tc("COLOUR_HUE",["Constants","Colour","HUE"],20);m.tc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);m.tc("VARIABLES_HUE",["Constants","Variables","HUE"],330);m.tc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);m.tc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
m.tc=function(a,c,d){for(var e="Blockly",f=m,h=0;h<c.length;++h)e+="."+c[h],f&&(f=f[c[h]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};m.zL=function(a){m.Ho=a};var Hc,Ic,Jc={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",
fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",
pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",
yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},Kc="ace ar fa he mzn ps ur".split(" "),Q=window.BlocklyGamesLang,Lc=window.BlocklyGamesLanguages,Mc=/\.html$/.test(window.location.pathname);function Nc(a,c,d){var e=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";e=e(a);return isNaN(e)?c:m.g.Mc.Lk(c,e,d)}var R=Nc("level",1,10);
function Oc(){document.title=document.getElementById("title").textContent;document.dir=-1!=Kc.indexOf(Q)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",Q);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<Lc.length;d++){var e=Lc[d];c.push([Jc[e],e])}c.sort(function(h,k){return h[0]>k[0]?1:h[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==Q&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}Hc=
window.innerWidth/2133>(window.innerHeight-document.getElementById("BClogo").offsetHeight)/1084?(window.innerHeight-document.getElementById("BClogo").offsetHeight)/1084:window.innerWidth/2133;(a=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");document.getElementById("coinanimation");Pc();setTimeout(function(){var h=document.getElementById("coinvalue").getContext("2d");h.clearRect(0,0,80,45);h.fillStyle=
"Black";h.font="35px Arial";h.fillText(Ic,0,35)},200);setTimeout(Qc,1)}Ic;function Pc(){var a=document.getElementById("coin").getContext("2d"),c=new Image;c.src="common/coin.png";var d,e=0;setInterval(function(){e=++e%10;d=44*e;a.clearRect(0,0,45,45);a.drawImage(c,d,0,44,40,0,0,45,45)},100)}function Rc(){var a=Sc;try{var c=window.localStorage[a+1]}catch(d){}return c}
function S(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}function Tc(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function Qc(){if(!Mc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};m.g.u={};m.g.u.Ea=function(a,c){return" "+a+","+c+" "};m.g.u.curve=function(a,c){return" "+a+c.join("")};m.g.u.moveTo=function(a,c){return" M "+a+","+c+" "};m.g.u.moveBy=function(a,c){return" m "+a+","+c+" "};m.g.u.lineTo=function(a,c){return" l "+a+","+c+" "};m.g.u.line=function(a){return" l"+a.join("")};m.g.u.W=function(a,c){return" "+a+" "+c+" "};m.g.u.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};m.i.xf=function(){this.Je=0;this.QB=3;this.vd=5;this.Pu=8;this.Bc=10;this.Fv=this.vd;this.Bk=15;this.cj=5;this.hn=8;this.yB=15;this.Yu=4;this.tB=12;this.DA=16;this.CA=this.pu=this.Bk;this.mb=8;this.XB=this.wk=15;this.WB=0;this.Cv=20;this.$z=4;this.bC=this.vd;this.cC=this.Bc;this.dA=this.vd;this.cA=this.Bc;this.ym=!1;this.UB=15;this.VB=100;this.TB=15;this.rk=24;this.FA=14.5;this.EA=this.Bk+11;this.IA=2;this.GA=this.rk;this.Av=m.g.u.moveBy(0,0);this.dB=12;this.eB=6;this.pg=11;this.qg="normal";this.og=
"sans-serif";this.wu=this.Om=-1;this.Nm=4;this.uu=16;this.kk=5;this.tu="#fff";this.vp=!m.g.userAgent.Zd&&!m.g.userAgent.ph;this.vu=this.uu;this.KA=this.JA=this.up=!1;this.MA=this.kk;this.lk=12;this.LA="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.NA=!1;this.Tl=String(Math.random()).substring(2);this.In="";this.kr=null;this.Nw="";this.Vk=this.Kq=this.Sq=null;this.Jm="#cc0a0a";this.Vm="#4286f4";this.Lm=100;this.Tv=5;this.Km=10;this.rA=2;this.tA=4;this.yu=!1;this.Bp="#000000";this.Sm=.2;this.zv={HB:1,Vi:2}};b=m.i.xf.prototype;
b.Na=function(){this.Ti=this.js();this.Vi=this.ks();this.aj=this.ns();this.Pp=this.ls();var a=this.mb,c=m.g.u.arc("a","0 0,0",a,m.g.u.Ea(-a,a)),d=m.g.u.arc("a","0 0,0",a,m.g.u.Ea(a,a));this.Tm={width:a,height:a,Os:c,Jo:d};a=this.mb;c=m.g.u.moveBy(0,a)+m.g.u.arc("a","0 0,1",a,m.g.u.Ea(a,-a));d=m.g.u.arc("a","0 0,1",a,m.g.u.Ea(a,a));var e=m.g.u.arc("a","0 0,1",a,m.g.u.Ea(-a,-a)),f=m.g.u.arc("a","0 0,1",a,m.g.u.Ea(-a,a));this.xk={Ft:c,sG:d,MC:f,pq:e,QF:a}};
b.Zl=function(a){this.wg={};var c=a.wg,d;for(d in c)this.wg[d]=Uc(c[d]);this.og=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.og;this.qg=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.qg;this.pg=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.pg;c=m.g.j.ZE(this.pg+"pt",this.qg,this.og);this.Om=c.height;this.wu=c.je;this.Jm=Na(a,"cursorColour")||this.Jm;this.Vm=Na(a,"markerColour")||this.Vm;this.Bp=Na(a,"insertionMarkerColour")||this.Bp;this.Sm=Number(Na(a,
"insertionMarkerOpacity"))||this.Sm;this.ym=null!=a.zt?a.zt:this.ym};function ec(a,c){var d="auto_"+c;a.wg[d]||(a.wg[d]=Uc({colourPrimary:c}));return{style:a.wg[d],name:d}}function $b(a,c){return a.wg[c||""]||(c&&0==c.indexOf("auto_")?ec(a,c.substring(5)).style:Uc({colourPrimary:"#000000"}))}
function Uc(a){var c={};a&&m.g.object.Nd(c,a);a=m.g.Io(c.colourPrimary||"#000");c.zg=a.tl;c.colourSecondary?a=m.g.Io(c.colourSecondary).tl:(a=c.zg,a=m.g.qb.mq("#fff",a,.6)||a);c.yn=a;c.colourTertiary?a=m.g.Io(c.colourTertiary).tl:(a=c.zg,a=m.g.qb.mq("#fff",a,.3)||a);c.Re=a;c.cf=c.hat||"";return c}b.G=function(){this.kr&&m.g.j.removeNode(this.kr);this.Sq&&m.g.j.removeNode(this.Sq);this.Kq&&m.g.j.removeNode(this.Kq);this.Vk=null};
b.js=function(){var a=this.dB,c=this.eB,d=m.g.u.line([m.g.u.Ea(c,a/4),m.g.u.Ea(2*-c,a/2),m.g.u.Ea(c,a/4)]);return{height:a,width:c,path:d}};b.ns=function(){var a=this.UB,c=this.VB,d=m.g.u.curve("c",[m.g.u.Ea(30,-a),m.g.u.Ea(70,-a),m.g.u.Ea(c,0)]);return{height:a,width:c,path:d}};
b.ls=function(){function a(h){h=h?-1:1;var k=-h,l=d/2,n=m.g.u.Ea(c,h*l);return m.g.u.curve("c",[m.g.u.Ea(0,h*(l+2.5)),m.g.u.Ea(-c,k*(l+.5)),m.g.u.Ea(-c,h*l)])+m.g.u.curve("s",[m.g.u.Ea(c,2.5*k),n])}var c=this.hn,d=this.Bk,e=a(!0),f=a(!1);return{type:this.zv.HB,width:c,height:d,Sd:f,Ol:e}};b.ks=function(){function a(k){return m.g.u.line([m.g.u.Ea(k*e,d),m.g.u.Ea(3*k,0),m.g.u.Ea(k*e,-d)])}var c=this.yB,d=this.Yu,e=(c-3)/2,f=a(1),h=a(-1);return{type:this.zv.Vi,width:c,height:d,Wg:f,Ly:h}};
function qa(a,c){switch(c.type){case m.hb:case m.ae:return a.Pp;case m.ce:case m.bb:return a.Vi;default:throw Error("Unknown connection type");}}
b.Ma=function(a,c,d){d=this.xr(d);c="blockly-renderer-style-"+c;this.Vk=document.getElementById(c);var e=d.join("\n");this.Vk?this.Vk.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.Vk=d);a=m.g.j.J("defs",{},a);c=m.g.j.J("filter",{id:"blocklyEmbossFilter"+this.Tl},a);m.g.j.J("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=m.g.j.J("feSpecularLighting",
{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);m.g.j.J("fePointLight",{x:-5E3,y:-1E4,z:2E4},d);m.g.j.J("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);m.g.j.J("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.In=c.id;this.kr=c;c=m.g.j.J("pattern",{id:"blocklyDisabledPattern"+this.Tl,patternUnits:"userSpaceOnUse",width:10,height:10},a);m.g.j.J("rect",
{width:10,height:10,fill:"#aaa"},c);m.g.j.J("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);this.Nw=c.id;this.Sq=c;m.i.qu&&(a=m.g.j.J("filter",{id:"blocklyDebugFilter"+this.Tl,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),c=m.g.j.J("feComponentTransfer",{result:"outBlur"},a),m.g.j.J("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),m.g.j.J("feFlood",{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),m.g.j.J("feComposite",{"in":"outColor",in2:"outBlur",
operator:"in",result:"outGlow"},a),this.Kq=a)};
b.xr=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.qg+" "+this.pg+"pt "+this.og+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.tu+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.og+";","font-weight: "+this.qg+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.Sm+
";","stroke: none;","}"]};m.i.zf=function(a,c,d){this.o=a;this.qs=d;this.ad=null;this.s=c;this.sj=null;a=Vc(this)?this.s.Jm:this.s.Vm;this.Dd=d.qb||a};m.i.zf.sA="blocklyCursor";m.i.zf.oB="blocklyMarker";m.i.zf.UA=.75;b=m.i.zf.prototype;b.oa=function(){return this.M};b.Ic=function(){return this.qs};function Vc(a){return"cursor"==a.qs.type}
b.Ma=function(){this.M=m.g.j.J("g",{"class":Vc(this)?m.i.zf.sA:m.i.zf.oB},null);this.$f=m.g.j.J("g",{width:this.s.Lm,height:this.s.Tv},this.M);this.Qg=m.g.j.J("rect",{width:this.s.Lm,height:this.s.Tv,style:"display: none"},this.$f);this.ji=m.g.j.J("rect",{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.$f);this.ii=m.g.j.J("path",{transform:"",style:"display: none"},this.$f);this.Zf=m.g.j.J("path",{transform:"",style:"display: none",fill:"none","stroke-width":this.s.tA},this.$f);
if(Vc(this)){var a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.Dd+";transparent;transparent;",repeatCount:"indefinite"};m.g.j.J("animate",a,this.Qg);m.g.j.J("animate",a,this.ii);a.attributeName="stroke";m.g.j.J("animate",a,this.Zf)}return this.M};function Wc(a,c){Vc(a)?(a.ad&&a.ad.dg(null),c.dg(a.oa())):(a.ad&&a.ad.eg(null),c.eg(a.oa()));a.ad=c}
b.draw=function(a,c){if(c){this.s=this.o.jb.U();var d=Vc(this)?this.s.Jm:this.s.Vm;this.Dd=this.qs.qb||d;this.Qg.setAttribute("fill",this.Dd);this.ji.setAttribute("stroke",this.Dd);this.ii.setAttribute("fill",this.Dd);this.Zf.setAttribute("stroke",this.Dd);Vc(this)&&(d=this.Dd+";transparent;transparent;",this.Qg.firstChild.setAttribute("values",d),this.ii.firstChild.setAttribute("values",d),this.Zf.firstChild.setAttribute("values",d));d=c.ga;if(c.Va()==m.A.types.dd)Xc(this,c);else if(c.Va()==m.A.types.vh)Xc(this,
c);else if(d.type==m.hb){var e=c.ga;d=e.V();var f=e.pi.x,h=e.pi.y;e=m.g.u.moveTo(0,0)+qa(this.s,e).Sd;this.ii.setAttribute("d",e);this.ii.setAttribute("transform","translate("+f+","+h+")"+(this.o.H?" scale(-1 1)":""));this.sj=this.ii;Wc(this,d);Yc(this)}else if(d.type==m.bb)h=c.ga,d=h.V(),f=0,h=h.pi.y,e=B(d).width,this.o.H&&(f=-e),Zc(this,f,h,e),Wc(this,d),Yc(this);else if(c.Va()==m.A.types.yd)Xc(this,c);else if(c.Va()==m.A.types.Hb)d=c.ga,f=d.Sf().width,h=d.Sf().height,$c(this,0,0,f,h),Wc(this,d),
Yc(this);else if(c.Va()==m.A.types.Oe)f=c.cp,d=f.x,f=f.y,this.o.H&&(d-=this.s.Lm),Zc(this,d,f,this.s.Lm),Wc(this,this.o),Yc(this);else if(c.Va()==m.A.types.Ke){d=c.ga;h=B(d);f=h.width+this.s.Km;h=h.height+this.s.Km;var k=e=-this.s.Km/2,l=-this.s.Km/2;this.o.H&&(k=-(f+e));$c(this,k,l,f,h);Wc(this,d);Yc(this)}d=c.V();a=new m.h.ec(d,Vc(this)?"cursorMove":"markerMove",a,c);c.Va()==m.A.types.Oe&&(a.wb=c.ga.id);m.h.Ia(a);c=this.sj.childNodes[0];void 0!==c&&c.beginElement&&c.beginElement()}else this.ua()};
function Xc(a,c){c=c.V();var d=c.width,e=c.height,f=e*m.i.zf.UA,h=a.s.rA;if(c.T){var k=qa(a.s,c.T);e=k;d=m.g.u.moveBy(-h,f)+m.g.u.W("V",-h)+m.g.u.W("H",a.s.wk)+e.Wg+m.g.u.W("H",d+2*h)+m.g.u.W("V",f);a.Zf.setAttribute("d",d)}else c.L?(f=k=qa(a.s,c.L),d=m.g.u.moveBy(d,0)+m.g.u.W("h",-(d-f.width))+m.g.u.W("v",a.s.cj)+f.Sd+m.g.u.W("V",e)+m.g.u.W("H",d),a.Zf.setAttribute("d",d)):(d=m.g.u.moveBy(-h,f)+m.g.u.W("V",-h)+m.g.u.W("H",d+2*h)+m.g.u.W("V",f),a.Zf.setAttribute("d",d));a.o.H&&a.fl(a.Zf);a.sj=a.Zf;
Wc(a,c);Yc(a)}function Yc(a){a.ua();a.sj.style.display=""}function Zc(a,c,d,e){a.Qg.setAttribute("x",c);a.Qg.setAttribute("y",d);a.Qg.setAttribute("width",e);a.sj=a.Qg}function $c(a,c,d,e,f){a.ji.setAttribute("x",c);a.ji.setAttribute("y",d);a.ji.setAttribute("width",e);a.ji.setAttribute("height",f);a.sj=a.ji}b.fl=function(a){a.setAttribute("transform","scale(-1 1)")};b.ua=function(){this.Qg.style.display="none";this.ji.style.display="none";this.ii.style.display="none";this.Zf.style.display="none"};
b.G=function(){this.M&&m.g.j.removeNode(this.M)};m.i.m={NONE:0,Hb:1,zu:2,Cu:4,Wp:8,Zt:16,Gu:32,su:64,ud:128,Du:256,Bv:512,oA:1024,Op:2048,Kp:4096,DB:8192,op:16384,Fp:32768,Ep:65536,Tp:131072,Sp:262144,Ku:524288,Up:1048576,$p:2097152,jp:4194304,Eu:8388608};m.i.m.QH=m.i.m.Fp|m.i.m.Ep;m.i.m.gJ=m.i.m.Tp|m.i.m.Sp;m.i.m.As=16777216;m.i.m.Va=function(){m.i.m.hasOwnProperty(void 0)||(m.i.m[void 0]=m.i.m.As,m.i.m.As<<=1);return m.i.m[void 0]};m.i.m.Wf=function(a){return a.type&m.i.m.Hb};m.i.m.ai=function(a){return a.type&m.i.m.zu};
m.i.m.Mj=function(a){return a.type&m.i.m.Cu};m.i.m.Md=function(a){return a.type&m.i.m.Wp};m.i.m.OK=function(a){return a.type&m.i.m.Gu};m.i.m.Lg=function(a){return a.type&m.i.m.ud};m.i.m.yl=function(a){return a.type&m.i.m.su};m.i.m.Kg=function(a){return a.type&m.i.m.Du};m.i.m.ci=function(a){return a.type&m.i.m.Bv};m.i.m.Oj=function(a){return a.type&m.i.m.Op};m.i.m.Ng=function(a){return a.type&m.i.m.Kp};m.i.m.OE=function(a){return a.type&(m.i.m.Op|m.i.m.Kp)};m.i.m.Mg=function(a){return a.type&m.i.m.Ep};
m.i.m.$x=function(a){return a.type&m.i.m.Sp};m.i.m.Al=function(a){return a.type&m.i.m.Fp};m.i.m.PK=function(a){return a.type&m.i.m.Tp};m.i.m.KK=function(a){return a.type&m.i.m.op};m.i.m.Xx=function(a){return a.type&m.i.m.Ku};m.i.m.RK=function(a){return a.type&m.i.m.Up};m.i.m.HK=function(a){return a.type&m.i.m.Zt};m.i.m.io=function(a){return a.type&m.i.m.$p};m.i.m.Xn=function(a){return a.type&m.i.m.jp};m.i.m.PE=function(a){return a.type&(m.i.m.$p|m.i.m.jp)};m.i.m.JE=function(a){return a.type&m.i.m.Eu};m.i.tg=function(a){this.height=this.width=0;this.type=m.i.m.NONE;this.mj=this.Ha=0;this.s=a;this.Qd=this.s.wk};m.i.ma=function(a,c){m.i.ma.v.constructor.call(this,a);this.Ec=c;this.shape=qa(this.s,c);this.$h=!!this.shape.isDynamic;this.type|=m.i.m.oA};m.g.object.S(m.i.ma,m.i.tg);m.i.Np=function(a,c){m.i.Np.v.constructor.call(this,a,c);this.type|=m.i.m.DB;this.height=this.$h?0:this.shape.height;this.Vd=this.width=this.$h?0:this.shape.width;this.md=this.s.cj;this.Pk=0};m.g.object.S(m.i.Np,m.i.ma);
m.i.Qp=function(a,c){m.i.Qp.v.constructor.call(this,a,c);this.type|=m.i.m.Op;this.height=this.shape.height;this.width=this.shape.width};m.g.object.S(m.i.Qp,m.i.ma);m.i.Lp=function(a,c){m.i.Lp.v.constructor.call(this,a,c);this.type|=m.i.m.Kp;this.height=this.shape.height;this.width=this.shape.width};m.g.object.S(m.i.Lp,m.i.ma);m.i.pk=function(a,c){m.i.pk.v.constructor.call(this,a,c.connection);this.type|=m.i.m.ud;this.input=c;this.align=c.align;(this.Ag=c.connection&&c.connection.sa()?c.connection.sa():null)?(a=B(this.Ag),this.Ok=a.width,this.An=a.height):this.An=this.Ok=0;this.md=this.Pk=0};m.g.object.S(m.i.pk,m.i.ma);
m.i.rg=function(a,c){m.i.rg.v.constructor.call(this,a,c);this.type|=m.i.m.Du;this.Ag?(this.width=this.Ok,this.height=this.An):(this.height=this.s.EA,this.width=this.s.FA);this.nj=this.$h?this.shape.height(this.height):this.shape.height;this.Ve=this.$h?this.shape.width(this.height):this.shape.width;this.Ag||(this.width+=this.Ve*(this.$h?2:1));this.md=this.$h?this.shape.md(this.nj):this.s.cj;this.Pk=this.$h?this.shape.Pk(this.Ve):0};m.g.object.S(m.i.rg,m.i.pk);
m.i.vg=function(a,c){m.i.vg.v.constructor.call(this,a,c);this.type|=m.i.m.Bv;this.height=this.Ag?this.An+this.s.WB:this.s.GA;this.width=this.s.XB+this.shape.width};m.g.object.S(m.i.vg,m.i.pk);m.i.Mm=function(a,c){m.i.Mm.v.constructor.call(this,a,c);this.type|=m.i.m.su;this.height=this.Ag?this.An-this.s.cj-this.s.vd:this.shape.height;this.width=this.shape.width+this.s.IA;this.md=this.s.cj;this.nj=this.shape.height;this.Ve=this.shape.width};m.g.object.S(m.i.Mm,m.i.pk);m.i.Cp=function(a,c){m.i.Cp.v.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=m.i.m.Cu;a=c.jK();this.height=a.height;this.width=a.width};m.g.object.S(m.i.Cp,m.i.tg);m.i.Dp=function(a){m.i.Dp.v.constructor.call(this,a);this.type|=m.i.m.Ku;this.height=this.s.Ti.height;this.width=this.s.Ti.width};m.g.object.S(m.i.Dp,m.i.tg);
m.i.gd=function(a,c){m.i.gd.v.constructor.call(this,a);this.Ww=c;this.Ld=c.jk;this.MD=c.nx();this.type|=m.i.m.Hb;a=this.Ww.Sf();this.height=a.height;this.width=a.width};m.g.object.S(m.i.gd,m.i.tg);m.i.wp=function(a){m.i.wp.v.constructor.call(this,a);this.type|=m.i.m.zu;this.height=this.s.aj.height;this.width=this.s.aj.width;this.ij=this.height};m.g.object.S(m.i.wp,m.i.tg);
m.i.bj=function(a,c){m.i.bj.v.constructor.call(this,a);this.type=(c&&"left"!=c?m.i.m.Tp:m.i.m.Fp)|m.i.m.op;this.width=this.height=this.s.Je};m.g.object.S(m.i.bj,m.i.tg);m.i.an=function(a,c){m.i.an.v.constructor.call(this,a);this.type=(c&&"left"!=c?m.i.m.Sp:m.i.m.Ep)|m.i.m.op;this.width=this.s.mb;this.height=this.s.mb/2};m.g.object.S(m.i.an,m.i.tg);m.i.yf=function(a,c){m.i.yf.v.constructor.call(this,a);this.type=this.type|m.i.m.Wp|m.i.m.Gu;this.width=c;this.height=this.s.TB};m.g.object.S(m.i.yf,m.i.tg);m.i.wh=function(a){this.type=m.i.m.Up;this.elements=[];this.Ha=this.Ub=this.De=this.minWidth=this.minHeight=this.width=this.height=0;this.Hx=this.Dj=this.Nr=this.Lb=this.Ig=!1;this.s=a;this.Qd=this.s.wk;this.align=null};m.i.wh.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function T(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(m.i.m.Lg(d))return d;return null}m.i.wh.prototype.So=function(){return!0};m.i.wh.prototype.al=function(){return!0};
m.i.Ah=function(a){m.i.Ah.v.constructor.call(this,a);this.type|=m.i.m.$p;this.ij=this.Hf=0;this.vE=!1;this.connection=null};m.g.object.S(m.i.Ah,m.i.wh);m.i.Ah.prototype.Or=function(a){var c=(a.cf?"cap"===a.cf:this.s.ym)&&!a.L&&!a.T,d=a.T&&a.T.sa();return!!a.L||c||(d?w(d)==a:!1)};
m.i.Ah.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,m.i.m.Md(f)||(m.i.m.ai(f)?d=Math.max(d,f.ij):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Hf=this.ij=d;this.De=this.width};m.i.Ah.prototype.So=function(){return!1};m.i.Ah.prototype.al=function(){return!1};m.i.mh=function(a){m.i.mh.v.constructor.call(this,a);this.type|=m.i.m.jp;this.Ix=!1;this.connection=null;this.je=this.Xk=0};
m.g.object.S(m.i.mh,m.i.wh);m.i.mh.prototype.Or=function(a){return!!a.L||!!w(a)};m.i.mh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,m.i.m.Md(f)||(m.i.m.Ng(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Xk=d;this.De=this.width};m.i.mh.prototype.So=function(){return!1};m.i.mh.prototype.al=function(){return!1};
m.i.gn=function(a,c,d){m.i.gn.v.constructor.call(this,a);this.type=this.type|m.i.m.Wp|m.i.m.Zt;this.width=d;this.height=c;this.bx=!1;this.De=0;this.elements=[new m.i.yf(this.s,d)]};m.g.object.S(m.i.gn,m.i.wh);m.i.gn.prototype.measure=function(){};m.i.Si=function(a){m.i.Si.v.constructor.call(this,a);this.type|=m.i.m.Eu;this.sw=0};m.g.object.S(m.i.Si,m.i.wh);
m.i.Si.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,m.i.m.Lg(d)&&(m.i.m.ci(d)?a+=d.Ok:m.i.m.yl(d)&&0!=d.Ok&&(a+=d.Ok-d.Ve)),m.i.m.Md(d)||(this.height=Math.max(this.height,d.height));this.sw=a;this.De=this.width+a};m.i.Si.prototype.al=function(){return!this.Ig&&!this.Lb};m.i.ee=function(a,c){this.Da=c;this.jb=a;this.s=this.jb.U();this.L=c.L?new m.i.Np(this.s,c.L):null;this.Nj=ra(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.ve=c.ve();this.H=c.H;this.fh=this.width=this.dk=this.height=0;this.rows=[];this.Rx=[];this.Mx=[];this.Eb=new m.i.Ah(this.s);this.pb=new m.i.mh(this.s);this.Ro=this.Vd=0};b=m.i.ee.prototype;
b.measure=function(){var a=!!this.Da.T,c=(this.Da.cf?"cap"===this.Da.cf:this.s.ym)&&!this.L&&!a;this.Eb.Or(this.Da)?this.Eb.elements.push(new m.i.bj(this.s)):this.Eb.elements.push(new m.i.an(this.s));c?(a=new m.i.wp(this.s),this.Eb.elements.push(a),this.Eb.Hf=a.ij):a&&(this.Eb.vE=!0,this.Eb.connection=new m.i.Qp(this.s,this.Da.T),this.Eb.elements.push(this.Eb.connection));this.Da.N.length&&this.Da.N[0].type==m.bb&&!this.Da.isCollapsed()?this.Eb.minHeight=this.s.cC:this.Eb.minHeight=this.s.bC;this.Eb.elements.push(new m.i.bj(this.s,
"right"));this.rows.push(this.Eb);a=new m.i.Si(this.s);this.Rx.push(a);var d=E(this.Da);if(d.length){c=0;for(var e;e=d[c];c++){var f=new m.i.Cp(this.s,e);this.isCollapsed&&e.SJ?this.Mx.push(f):a.elements.push(f)}}e=null;for(c=0;d=this.Da.N[c];c++)if(d.isVisible()){!e||d.type!=m.bb&&e.type!=m.bb&&(d.type!=m.hb&&d.type!=m.Ge||this.Nj)||(this.rows.push(a),a=new m.i.Si(this.s),this.Rx.push(a));for(e=0;f=d.Ta[e];e++)a.elements.push(new m.i.gd(this.s,f,d));this.$v(d,a);e=d}this.isCollapsed&&(a.Hx=!0,a.elements.push(new m.i.Dp(this.s)));
(a.elements.length||a.Dj)&&this.rows.push(a);this.Ss();this.rows.push(this.pb);this.Zv();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)this.rows.push(a[c]),c!=a.length-1&&this.rows.push(ad(this,a[c],a[c+1]));for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Lb&&(a=Math.max(a,f.width-T(f).width)),d=Math.max(d,f.De);this.fh=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Lb&&(f.fh=this.fh);this.dk=Math.max(c,d);this.L&&(this.Vd=this.L.width,this.width+=this.L.width,this.dk+=this.L.width);
this.fq();this.Xw()};b.Ss=function(){this.pb.Ix=!!this.Da.X;this.pb.minHeight=this.Da.N.length&&this.Da.N[this.Da.N.length-1].type==m.bb?this.s.cA:this.s.dA;this.pb.Or(this.Da)?this.pb.elements.push(new m.i.bj(this.s)):this.pb.elements.push(new m.i.an(this.s));this.pb.Ix&&(this.pb.connection=new m.i.Lp(this.s,this.Da.X),this.pb.elements.push(this.pb.connection));this.pb.elements.push(new m.i.bj(this.s,"right"))};
b.$v=function(a,c){this.Nj&&a.type==m.hb?(c.elements.push(new m.i.rg(this.s,a)),c.Nr=!0):a.type==m.bb?(c.elements.push(new m.i.vg(this.s,a)),c.Lb=!0):a.type==m.hb?(c.elements.push(new m.i.Mm(this.s,a)),c.Ig=!0):a.type==m.Ge&&(c.minHeight=Math.max(c.minHeight,a.V()&&a.V().Pa?this.s.CA:this.s.pu),c.Dj=!0);null==c.align&&(c.align=a.align)};
b.Zv=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.So()&&c.elements.push(new m.i.yf(this.s,this.Nh(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new m.i.yf(this.s,this.Nh(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.al()&&c.elements.push(new m.i.yf(this.s,this.Nh(d[d.length-1],null)))}}};
b.Nh=function(a,c){if(!a&&c&&m.i.m.ci(c))return this.s.Cv;if(a&&m.i.m.Lg(a)&&!c){if(m.i.m.yl(a))return this.s.Je;if(m.i.m.Kg(a))return this.s.Bc;if(m.i.m.ci(a))return this.s.Je}return a&&m.i.m.Al(a)&&c&&(m.i.m.Oj(c)||m.i.m.Ng(c))?c.Qd:a&&m.i.m.Mg(a)&&c&&(m.i.m.Oj(c)||m.i.m.Ng(c))?c.Qd-this.s.mb:this.s.vd};b.fq=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Lb)bd(this,c);else{var d=this.ll(c)-c.width;0<d&&cd(c,d);m.i.m.PE(c)&&(c.De=c.width)}};b.ll=function(){return this.width-this.Vd};
function cd(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(m.i.m.Md(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(m.i.m.Md(f)){e=f;break a}e=null}if(a.Ig||a.Lb)a.De+=c;a.align==m.gp?e.width+=c:a.align==m.fp?(d.width+=c/2,e.width+=c/2):a.align==m.Tt?d.width+=c:e.width+=c;a.width+=c}
function bd(a,c){var d=T(c),e=c.width-d.width,f=a.fh;e=f-e;0<e&&cd(c,e);e=c.width;f=a.ll(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.De=Math.max(c.width,a.fh+c.sw)}function ad(a,c,d){a=new m.i.gn(a.s,a.zx(c,d),a.width-a.Vd);c.Lb&&(a.bx=!0);d.Lb&&(a.dL=!0);return a}b.zx=function(){return this.s.vd};
b.mx=function(a,c){return m.i.m.Md(c)?a.Ub+c.height/2:m.i.m.Xn(a)?(a=a.Ub+a.height-a.Xk,m.i.m.Ng(c)?a+c.height/2:a-c.height/2):m.i.m.io(a)?m.i.m.ai(c)?a.Hf-c.height/2:a.Hf+c.height/2:a.Ub+a.height/2};function dd(a,c){for(var d=c.Ha,e=0,f;f=c.elements[e];e++)m.i.m.Md(f)&&(f.height=c.height),f.Ha=d,f.mj=a.mx(c,f),d+=f.width}
b.Xw=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Ub=c,e.Ha=this.Vd,c+=e.height,a=Math.max(a,e.De),dd(this,e);this.L&&this.Da.X&&this.Da.X.isConnected()&&(a=Math.max(a,B(this.Da.X.sa()).width));this.dk=a+this.Vd;this.height=c;this.Ro=this.Eb.Hf;this.pb.je=c-this.pb.Xk};m.i.Ac=function(a,c){this.Da=a;this.ea=c;a.Ua();this.Wn=this.La="";this.s=c.jb.U()};b=m.i.Ac.prototype;b.draw=function(){ed(this);fd(this);gd(this);this.Da.ub.ot(this.La+"\n"+this.Wn);this.ea.H&&this.Da.ub.qr();m.i.tm&&this.Da.ct.ED(this.Da,this.ea);hd(this)};function hd(a){a.Da.height=a.ea.height;a.Da.width=a.ea.dk}function ed(a){for(var c=0,d;d=a.ea.Mx[c];c++)d.icon.AE.setAttribute("display","none")}
function fd(a){a.gr();for(var c=1;c<a.ea.rows.length-1;c++){var d=a.ea.rows[c];d.Hx?a.$k(d):d.Lb?a.er(d):d.Ig?a.hr(d):a.Tw(d)}a.$q();a.dr()}
b.gr=function(){var a=this.ea.Eb,c=a.elements,d=this.ea.Eb;if(d.connection){var e=d.Ha+d.Qd;P(d.connection.Ec,this.ea.H?-e:e,0)}this.La+=m.g.u.moveBy(a.Ha,this.ea.Ro);for(d=0;e=c[d];d++)m.i.m.Mg(e)?this.La+=this.s.xk.Ft:m.i.m.$x(e)?this.La+=this.s.xk.sG:m.i.m.Oj(e)?this.La+=e.shape.Wg:m.i.m.ai(e)?this.La+=this.s.aj.path:m.i.m.Md(e)&&(this.La+=m.g.u.W("h",e.width));this.La+=m.g.u.W("v",a.height)};b.$k=function(a){this.La+=this.s.Ti.path+m.g.u.W("v",a.height-this.s.Ti.height)};
b.hr=function(a){var c=T(a);this.Oy(a);var d="function"==typeof c.shape.Sd?c.shape.Sd(c.height):c.shape.Sd;this.La+=m.g.u.W("H",c.Ha+c.width)+d+m.g.u.W("v",a.height-c.nj)};b.er=function(a){var c=T(a);this.La+=m.g.u.W("H",c.Ha+c.Qd+c.shape.width)+(c.shape.Ly+m.g.u.W("h",-(c.Qd-this.s.Tm.width))+this.s.Tm.Os)+m.g.u.W("v",a.height-2*this.s.Tm.height)+this.s.Tm.Jo+m.g.u.W("H",a.Ha+a.width);this.Ry(a)};b.Tw=function(a){this.La+=m.g.u.W("V",a.Ub+a.height)};
b.$q=function(){var a=this.ea.pb,c=a.elements;this.Qy();for(var d=0,e="",f=c.length-1,h;h=c[f];f--)m.i.m.Ng(h)?e+=h.shape.Ly:m.i.m.Al(h)?e+=m.g.u.W("H",a.Ha):m.i.m.Mg(h)?e+=this.s.xk.pq:m.i.m.$x(h)?(e+=this.s.xk.MC,d=this.s.xk.QF):m.i.m.Md(h)&&(e+=m.g.u.W("h",-1*h.width));this.La+=m.g.u.W("V",a.je-d);this.La+=e};
b.dr=function(){var a=this.ea.L;if(this.ea.L){var c=this.ea.Vd+this.ea.L.Pk;P(this.Da.L,this.ea.H?-c:c,this.ea.L.md)}a&&(c=a.md+a.height,a="function"==typeof a.shape.Ol?a.shape.Ol(a.height):a.shape.Ol,this.La+=m.g.u.W("V",c)+a);this.La+="z"};
function gd(a){for(var c=0,d;d=a.ea.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(m.i.m.Kg(f))a.cr(f);else if(m.i.m.Mj(f)||m.i.m.Wf(f)){var h=a;if(m.i.m.Wf(f))var k=f.Ww.oa();else m.i.m.Mj(f)&&(k=f.icon.AE);var l=f.mj-f.height/2,n=f.Ha,p="";h.ea.H&&(n=-(n+f.width),f.MD&&(n+=f.width,p="scale(-1 1)"));m.i.m.Mj(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+n+","+l+")"),f.icon.aD()):k.setAttribute("transform","translate("+n+","+l+")"+p);h.ea.ve&&k.setAttribute("display",
"none")}}b.cr=function(a){var c=a.width,d=a.height,e=a.md,f=a.nj+e;this.Wn+=m.g.u.moveTo(a.Ha+a.Ve,a.mj-d/2)+m.g.u.W("v",e)+a.shape.Sd+m.g.u.W("v",d-f)+m.g.u.W("h",c-a.Ve)+m.g.u.W("v",-d)+"z";this.Py(a)};b.Py=function(a){var c=a.mj-a.height/2;if(a.Ec){var d=a.Ha+a.Ve+a.Pk;this.ea.H&&(d*=-1);P(a.Ec,d,c+a.md)}};b.Ry=function(a){var c=T(a);if(c.Ec){var d=a.Ha+a.fh+c.Qd;this.ea.H&&(d*=-1);P(c.Ec,d,a.Ub)}};b.Oy=function(a){var c=T(a);if(c.Ec){var d=a.Ha+a.width;this.ea.H&&(d*=-1);P(c.Ec,d,a.Ub)}};
b.Qy=function(){var a=this.ea.pb;if(a.connection){var c=a.connection,d=c.Ha;P(c.Ec,this.ea.H?-d:d,a.je)}};m.i.Bf=function(a,c,d){this.pj=d;this.sf=a;this.Db=m.g.j.J("path",{"class":"blocklyPath"},this.sf);this.style=c;this.ps=this.Wk=null};b=m.i.Bf.prototype;b.ot=function(a){this.Db.setAttribute("d",a)};b.qr=function(){this.Db.setAttribute("transform","scale(-1 1)")};b.dg=function(a){a?(this.sf.appendChild(a),this.Wk=a):this.Wk=null};b.eg=function(a){a?(this.Wk?this.sf.insertBefore(a,this.Wk):this.sf.appendChild(a),this.ps=a):this.ps=null};
b.fc=function(a){this.Db.setAttribute("stroke",this.style.Re);this.Db.setAttribute("fill",this.style.zg);this.wz(a.Pa);this.Jt(!a.isEnabled()||Ob(a))};b.Ai=function(a){this.style=a};function C(a,c,d){d?m.g.j.yb(a.sf,c):m.g.j.Pc(a.sf,c)}b.uz=function(a){a?this.Db.setAttribute("filter","url(#"+this.pj.In+")"):this.Db.setAttribute("filter","none")};b.wz=function(a){a&&(this.Db.setAttribute("stroke","none"),this.Db.setAttribute("fill",this.style.yn))};
b.Jt=function(a){C(this,"blocklyDisabled",a);a&&this.Db.setAttribute("fill","url(#"+this.pj.Nw+")")};m.i.Df=function(a){this.name=a;this.Ms=this.s=null};b=m.i.Df.prototype;b.re=function(){return this.name+"-renderer"};b.Na=function(a,c){this.s=this.hs();c&&(this.Ms=c,m.g.object.Nd(this.s,c));this.s.Zl(a);this.s.Na()};b.Ma=function(a,c){this.s.Ma(a,this.name+"-"+c.name,"."+this.re()+"."+c.re())};b.Ws=function(a,c){var d=this.U();d.G();this.s=this.hs();this.Ms&&m.g.object.Nd(this.s,this.Ms);this.s.Tl=d.Tl;this.s.Zl(c);this.s.Na();this.Ma(a,c)};b.G=function(){this.s&&this.s.G()};b.hs=function(){return new m.i.xf};
b.qy=function(a){return new m.i.ee(this,a)};b.oy=function(a,c){return new m.i.Ac(a,c)};b.py=function(a,c){return new m.i.Bf(a,c,this.s)};b.U=function(){return this.s};b.Fa=function(a){if(m.i.tm&&!a.ct){if(!m.i.qu)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new m.i.qu(this.U());a.ct=c}c=this.qy(a);c.measure();this.oy(a,c).draw()};m.Z={};m.Z.xf=function(){m.Z.xf.v.constructor.call(this);this.vp=!1;this.bc=1;this.pB=30};m.g.object.S(m.Z.xf,m.i.xf);m.Z.xf.prototype.xr=function(a){return m.Z.xf.v.xr.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.Sm+";","stroke: none;","}"])};m.Z.Bu=function(a){this.ea=a;this.vl=this.ba="";this.cc=this.ea.H;a=a.jb;this.s=a.U();this.nd=a.nd;this.Yc=this.nd.OFFSET;this.Ls=this.nd.EB;this.Jj=this.nd.cB;this.Sl=this.nd.Pp;this.pF=this.nd.Vi;this.iG=this.nd.aj;this.by=this.nd.Ti};m.Z.Bu.prototype.$k=function(a){this.ea.H&&(this.ba+=this.by.Wg+m.g.u.W("v",a.height-this.by.height-this.Yc))};
function id(a,c){var d=c.Ha+c.width-a.Yc;c.bx&&(a.ba+=m.g.u.W("H",d));a.cc&&(a.ba+=m.g.u.W("H",d),c.height>a.Yc&&(a.ba+=m.g.u.W("V",c.Ub+c.height-a.Yc)))};m.Z.rg=function(a,c){m.Z.rg.v.constructor.call(this,a,c);this.Ag&&(this.width+=this.s.bc,this.height+=this.s.bc)};m.g.object.S(m.Z.rg,m.i.rg);m.Z.vg=function(a,c){m.Z.vg.v.constructor.call(this,a,c);this.Ag&&(this.height+=this.s.bc)};m.g.object.S(m.Z.vg,m.i.vg);m.Z.ee=function(a,c){m.Z.ee.v.constructor.call(this,a,c)};m.g.object.S(m.Z.ee,m.i.ee);b=m.Z.ee.prototype;b.Ss=function(){m.Z.ee.v.Ss.call(this);this.Da.N.length&&this.Da.N[this.Da.N.length-1].type==m.bb||(this.pb.minHeight=this.s.vd-this.s.bc)};
b.$v=function(a,c){this.Nj&&a.type==m.hb?(c.elements.push(new m.Z.rg(this.s,a)),c.Nr=!0):a.type==m.bb?(c.elements.push(new m.Z.vg(this.s,a)),c.Lb=!0):a.type==m.hb?(c.elements.push(new m.i.Mm(this.s,a)),c.Ig=!0):a.type==m.Ge&&(c.minHeight=Math.max(c.minHeight,this.s.pu),c.Dj=!0);this.Nj||null!=c.align||(c.align=a.align)};
b.Zv=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.Ig&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.So()&&d.elements.push(new m.i.yf(this.s,this.Nh(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var h=this.Nh(e[f],e[f+1]);d.elements.push(new m.i.yf(this.s,h))}d.elements.push(e[e.length-1]);d.al()&&(h=this.Nh(e[e.length-1],null),a&&d.Dj&&(h+=this.s.hn),d.elements.push(new m.i.yf(this.s,h)))}}};
b.Nh=function(a,c){if(!a)return c&&m.i.m.Wf(c)&&c.Ld?this.s.vd:c&&m.i.m.Kg(c)?this.s.Pu:c&&m.i.m.ci(c)?this.s.Cv:this.s.Bc;if(!m.i.m.Lg(a)&&(!c||m.i.m.ci(c)))return m.i.m.Wf(a)&&a.Ld?this.s.vd:m.i.m.Mj(a)?2*this.s.Bc+1:m.i.m.ai(a)?this.s.Je:m.i.m.OE(a)?this.s.Bc:m.i.m.Mg(a)?this.s.tB:m.i.m.Xx(a)?this.s.Je:this.s.Bc;if(m.i.m.Lg(a)&&!c){if(m.i.m.yl(a))return this.s.Je;if(m.i.m.Kg(a))return this.s.Bc;if(m.i.m.ci(a))return this.s.Je}if(!m.i.m.Lg(a)&&c&&m.i.m.Lg(c)){if(m.i.m.Wf(a)&&a.Ld){if(m.i.m.Kg(c)||
m.i.m.yl(c))return this.s.QB}else{if(m.i.m.Kg(c)||m.i.m.yl(c))return this.s.Pu;if(m.i.m.ci(c))return this.s.Bc}return this.s.Bc-1}if(m.i.m.Mj(a)&&c&&!m.i.m.Lg(c))return this.s.Bc;if(m.i.m.Kg(a)&&c&&m.i.m.Wf(c))return c.Ld?this.s.vd:this.s.Bc;if(m.i.m.Al(a)&&c){if(m.i.m.ai(c))return this.s.Je;if(m.i.m.Oj(c))return c.Qd;if(m.i.m.Ng(c))return a=(this.H?1:-1)*this.s.bc/2,c.Qd+a}if(m.i.m.Mg(a)&&c){if(m.i.m.Oj(c))return c.Qd-this.s.mb;if(m.i.m.Ng(c))return a=(this.H?1:-1)*this.s.bc/2,c.Qd-this.s.mb+a}return m.i.m.Wf(a)&&
c&&m.i.m.Wf(c)&&a.Ld==c.Ld||c&&m.i.m.Xx(c)?this.s.Bc:this.s.vd};b.zx=function(a,c){return m.i.m.io(a)&&m.i.m.Xn(c)?this.s.DA:m.i.m.io(a)||m.i.m.Xn(c)?this.s.Je:a.Ig&&c.Ig?this.s.Bc:!a.Lb&&c.Lb?this.s.$z:a.Lb&&c.Lb||!a.Lb&&c.Dj||a.Dj?this.s.Bc:this.s.vd};
b.mx=function(a,c){if(m.i.m.Md(c))return a.Ub+c.height/2;if(m.i.m.Xn(a))return a=a.Ub+a.height-a.Xk,m.i.m.Ng(c)?a+c.height/2:a-c.height/2;if(m.i.m.io(a))return m.i.m.ai(c)?a.Hf-c.height/2:a.Hf+c.height/2;var d=a.Ub;m.i.m.Wf(c)||m.i.m.Mj(c)?(d+=c.height/2,(a.Nr||a.Lb)&&c.height+this.s.Fv<=a.height&&(d+=this.s.Fv)):d=m.i.m.Kg(c)?d+c.height/2:d+a.height/2;return d};
b.fq=function(){if(this.Nj){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.zs=a,m.i.m.JE(e)&&(e.Lb&&bd(this,e),c&&c.Lb&&e.width<c.width?e.zs=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Lb?a=this.ll(e):m.i.m.Md(e)?e.width=Math.max(a,e.zs):(a=Math.max(a,e.zs)-e.width,0<a&&cd(e,a),a=e.width)}else m.Z.ee.v.fq.call(this)};b.ll=function(a){return this.Nj&&a.Lb?this.fh+this.s.pB+this.Vd:m.Z.ee.v.ll.call(this,a)};
b.Xw=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Ub=c;e.Ha=this.Vd;c+=e.height;a=Math.max(a,e.De);var f=c-this.Eb.ij;e==this.pb&&f<this.s.rk&&(f=this.s.rk-f,this.pb.height+=f,c+=f);dd(this,e)}this.L&&this.Da.X&&this.Da.X.isConnected()&&(a=Math.max(a,B(this.Da.X.sa()).width-this.s.bc));this.pb.je=c-this.pb.Xk;this.dk=a+this.Vd+this.s.bc;this.width+=this.s.bc;this.height=c+this.s.bc;this.Ro=this.Eb.Hf};m.Z.Ac=function(a,c){m.Z.Ac.v.constructor.call(this,a,c);this.df=new m.Z.Bu(c)};m.g.object.S(m.Z.Ac,m.i.Ac);b=m.Z.Ac.prototype;b.draw=function(){ed(this);fd(this);gd(this);var a=this.Da.ub;a.ot(this.La+"\n"+this.Wn);var c=this.df;a.Ci.setAttribute("d",c.ba+"\n"+c.vl);this.ea.H&&a.qr();m.i.tm&&this.Da.ct.ED(this.Da,this.ea);hd(this)};
b.gr=function(){var a=this.df,c=this.ea.Eb;a.ba+=m.g.u.moveBy(c.Ha,a.ea.Ro);for(var d=0,e;e=c.elements[d];d++)m.i.m.Al(e)?a.ba+=a.nd.Av:m.i.m.Mg(e)?a.ba+=a.Ls.Ft(a.cc):m.i.m.Oj(e)?a.ba+=a.pF.Wg:m.i.m.ai(e)?a.ba+=a.iG.path(a.cc):m.i.m.Md(e)&&0!=e.width&&(a.ba+=m.g.u.W("H",e.Ha+e.width-a.Yc));a.ba+=m.g.u.W("H",c.Ha+c.width-a.Yc);id(this.df,this.ea.Eb);m.Z.Ac.v.gr.call(this)};b.$k=function(a){this.df.$k(a);m.Z.Ac.v.$k.call(this,a)};
b.hr=function(a){var c=this.df,d=T(a);if(c.cc){var e=a.height-d.nj;c.ba+=m.g.u.moveTo(d.Ha+d.width-c.Yc,a.Ub)+c.Sl.Sd(c.cc)+m.g.u.W("v",e)}else c.ba+=m.g.u.moveTo(d.Ha+d.width,a.Ub)+c.Sl.Sd(c.cc);m.Z.Ac.v.hr.call(this,a)};
b.er=function(a){var c=this.df,d=T(a);if(c.cc){var e=a.height-2*c.Jj.height;c.ba+=m.g.u.moveTo(d.Ha,a.Ub)+c.Jj.Os(c.cc)+m.g.u.W("v",e)+c.Jj.Jo(c.cc)+m.g.u.lineTo(a.width-d.Ha-c.Jj.width,0)}else c.ba+=m.g.u.moveTo(d.Ha,a.Ub+a.height)+c.Jj.Jo(c.cc)+m.g.u.lineTo(a.width-d.Ha-c.Jj.width,0);m.Z.Ac.v.er.call(this,a)};b.Tw=function(a){id(this.df,a);this.La+=m.g.u.W("H",a.Ha+a.width)+m.g.u.W("V",a.Ub+a.height)};
b.$q=function(){var a=this.df,c=this.ea.pb;if(a.cc)a.ba+=m.g.u.W("V",c.je-a.Yc);else{var d=a.ea.pb.elements[0];m.i.m.Al(d)?a.ba+=m.g.u.moveTo(c.Ha+a.Yc,c.je-a.Yc):m.i.m.Mg(d)&&(a.ba+=m.g.u.moveTo(c.Ha,c.je),a.ba+=a.Ls.pq())}m.Z.Ac.v.$q.call(this)};
b.dr=function(){var a=this.df,c=a.ea.L;c&&(c=c.md+c.height,a.cc?a.ba+=m.g.u.moveTo(a.ea.Vd,c):(a.ba+=m.g.u.moveTo(a.ea.Vd+a.Yc,a.ea.pb.je-a.Yc),a.ba+=m.g.u.W("V",c)),a.ba+=a.Sl.Ol(a.cc));a.cc||(c=a.ea.Eb,a.ba=m.i.m.Mg(c.elements[0])?a.ba+m.g.u.W("V",a.Ls.height):a.ba+m.g.u.W("V",c.Hf+a.Yc));m.Z.Ac.v.dr.call(this)};
b.cr=function(a){var c=this.df,d=c.Yc,e=a.Ha+a.Ve,f=a.mj-a.height/2,h=a.width-a.Ve,k=f+d;if(c.cc){f=a.md-d;var l=a.height-(a.md+a.nj)+d;c.vl+=m.g.u.moveTo(e-d,k)+m.g.u.W("v",f)+c.Sl.Sd(c.cc)+m.g.u.W("v",l)+m.g.u.W("h",h)}else c.vl+=m.g.u.moveTo(a.Ha+a.width+d,k)+m.g.u.W("v",a.height)+m.g.u.W("h",-h)+m.g.u.moveTo(e,f+a.md)+c.Sl.Sd(c.cc);m.Z.Ac.v.cr.call(this,a)};b.Py=function(a){var c=a.mj-a.height/2;if(a.Ec){var d=a.Ha+a.Ve+this.s.bc;this.ea.H&&(d*=-1);P(a.Ec,d,c+a.md+this.s.bc)}};
b.Ry=function(a){var c=T(a);if(c.Ec){var d=a.Ha+a.fh+c.Qd;d=this.ea.H?-1*d:d+this.s.bc;P(c.Ec,d,a.Ub+this.s.bc)}};b.Oy=function(a){var c=T(a);if(c.Ec){var d=a.Ha+a.width+this.s.bc;this.ea.H&&(d*=-1);P(c.Ec,d,a.Ub)}};b.Qy=function(){var a=this.ea.pb;if(a.connection){var c=a.connection,d=c.Ha;P(c.Ec,(this.ea.H?-d:d)+this.s.bc/2,a.je+this.s.bc)}};m.Z.Au=function(a){this.oj=a;this.OFFSET=.5;this.Av=m.g.u.moveBy(this.OFFSET,this.OFFSET)};b=m.Z.Au.prototype;b.Na=function(){this.cB=jd(this);this.EB=kd(this);this.Pp=this.ls();this.Vi=this.ks();this.Ti=this.js();this.aj=this.ns()};
function jd(a){var c=a.oj.mb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=m.g.u.moveBy(d,d)+m.g.u.arc("a","0 0,0",c,m.g.u.Ea(-d-a,c-d)),f=m.g.u.arc("a","0 0,0",c+a,m.g.u.Ea(c+a,c+a)),h=m.g.u.moveBy(d,-d)+m.g.u.arc("a","0 0,0",c+a,m.g.u.Ea(c-d,d+a));return{width:c+a,height:c,Os:function(k){return k?e:""},Jo:function(k){return k?f:h}}}
function kd(a){var c=a.oj.mb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=m.g.u.moveBy(d,d)+m.g.u.arc("a","0 0,1",c-a,m.g.u.Ea(c-d,-d+a)),f=m.g.u.moveBy(a,c)+m.g.u.arc("a","0 0,1",c-a,m.g.u.Ea(c,-c+a)),h=-d,k=m.g.u.moveBy(d,h)+m.g.u.arc("a","0 0,1",c-a,m.g.u.Ea(-d+a,-h-c));return{height:c,Ft:function(l){return l?e:f},pq:function(){return k}}}
b.ls=function(){var a=this.oj.hn,c=this.oj.Bk,d=m.g.u.moveBy(-2,-c+3.4)+m.g.u.lineTo(-.45*a,-2.1),e=m.g.u.W("v",2.5)+m.g.u.moveBy(.97*-a,2.5)+m.g.u.curve("q",[m.g.u.Ea(.05*-a,10),m.g.u.Ea(.3*a,9.5)])+m.g.u.moveBy(.67*a,-1.9)+m.g.u.W("v",2.5),f=m.g.u.W("v",-1.5)+m.g.u.moveBy(-.92*a,-.5)+m.g.u.curve("q",[m.g.u.Ea(-.19*a,-5.5),m.g.u.Ea(0,-11)])+m.g.u.moveBy(.92*a,1),h=m.g.u.moveBy(-5,c-.7)+m.g.u.lineTo(.46*a,-2.1);return{width:a,height:c,Ol:function(k){return k?d:f},Sd:function(k){return k?e:h}}};
b.ks=function(){return{Wg:m.g.u.W("h",this.OFFSET)+this.oj.Vi.Wg}};b.js=function(){return{Wg:m.g.u.lineTo(5.1,2.6)+m.g.u.moveBy(-10.2,6.8)+m.g.u.lineTo(5.1,2.6),height:12,width:10.2}};b.ns=function(){var a=this.oj.aj.height,c=m.g.u.moveBy(25,-8.7)+m.g.u.curve("c",[m.g.u.Ea(29.7,-6.2),m.g.u.Ea(57.2,-.5),m.g.u.Ea(75,8.7)]),d=m.g.u.curve("c",[m.g.u.Ea(17.8,-9.2),m.g.u.Ea(45.3,-14.9),m.g.u.Ea(75,-8.7)])+m.g.u.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};m.Z.Bf=function(a,c,d){this.pj=d;this.sf=a;this.jm=m.g.j.J("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.sf);this.Db=m.g.j.J("path",{"class":"blocklyPath"},this.sf);this.Ci=m.g.j.J("path",{"class":"blocklyPathLight"},this.sf);this.Bq="#000000";this.style=c};m.g.object.S(m.Z.Bf,m.i.Bf);b=m.Z.Bf.prototype;b.ot=function(a){this.Db.setAttribute("d",a);this.jm.setAttribute("d",a)};
b.qr=function(){this.Db.setAttribute("transform","scale(-1 1)");this.Ci.setAttribute("transform","scale(-1 1)");this.jm.setAttribute("transform","translate(1,1) scale(-1 1)")};b.fc=function(a){this.Ci.style.display="";this.jm.style.display="";this.Ci.setAttribute("stroke",this.style.Re);this.jm.setAttribute("fill",this.Bq);m.Z.Bf.v.fc.call(this,a);this.Db.setAttribute("stroke","none")};b.Ai=function(a){this.style=a;this.Bq=m.g.qb.mq("#000",this.style.zg,.2)||this.Bq};
b.uz=function(a){a?(this.Db.setAttribute("filter","url(#"+this.pj.In+")"),this.Ci.style.display="none"):(this.Db.setAttribute("filter","none"),this.Ci.style.display="inline")};b.wz=function(a){a&&(this.Ci.style.display="none",this.jm.setAttribute("fill",this.style.yn),this.Db.setAttribute("stroke","none"),this.Db.setAttribute("fill",this.style.yn))};b.Jt=function(a){m.Z.Bf.v.Jt.call(this,a);a&&this.Db.setAttribute("stroke","none")};m.Z.Df=function(a){m.Z.Df.v.constructor.call(this,a);this.nd=null};m.g.object.S(m.Z.Df,m.i.Df);b=m.Z.Df.prototype;b.Na=function(a,c){m.Z.Df.v.Na.call(this,a,c);this.nd=new m.Z.Au(this.U());this.nd.Na()};b.Ws=function(a,c){m.Z.Df.v.Ws.call(this,a,c);this.nd.Na()};b.hs=function(){return new m.Z.xf};b.qy=function(a){return new m.Z.ee(this,a)};b.oy=function(a,c){return new m.Z.Ac(a,c)};b.py=function(a,c){return new m.Z.Bf(a,c,this.U())};m.i.register("geras",m.Z.Df);m.K.ADD_COMMENT="Add Comment";m.K.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";m.K.CHANGE_VALUE_TITLE="Change value:";m.K.CLEAN_UP="Clean up Blocks";m.K.COLLAPSE_ALL="Collapse Blocks";m.K.COLLAPSE_BLOCK="Collapse Block";m.K.DELETE_ALL_BLOCKS="Delete all %1 blocks?";m.K.DELETE_BLOCK="Delete Block";m.K.DELETE_VARIABLE="Delete the '%1' variable";m.K.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";
m.K.DELETE_X_BLOCKS="Delete %1 Blocks";m.K.DISABLE_BLOCK="Disable Block";m.K.DUPLICATE_BLOCK="Duplicate";m.K.DUPLICATE_COMMENT="Duplicate Comment";m.K.ENABLE_BLOCK="Enable Block";m.K.EXPAND_ALL="Expand Blocks";m.K.EXPAND_BLOCK="Expand Block";m.K.EXTERNAL_INPUTS="External Inputs";m.K.HELP="Help";m.K.INLINE_INPUTS="Inline Inputs";m.K.NEW_VARIABLE="Create variable...";m.K.NEW_VARIABLE_TITLE="New variable name:";m.K.PROCEDURES_DEFNORETURN_PROCEDURE="do something";m.K.REDO="Redo";m.K.REMOVE_COMMENT="Remove Comment";
m.K.RENAME_VARIABLE="Rename variable...";m.K.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";m.K.UNDO="Undo";m.K.UNNAMED_KEY="unnamed";m.K.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";m.K.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";m.K.WORKSPACE_ARIA_LABEL="Blockly Workspace";m.K.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";m.K.PROCEDURES_DEFRETURN_PROCEDURE=m.K.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},ld=null,md=null;function nd(){var a=ld();od("xml="+encodeURIComponent(a))}var pd={};function od(a){var c=qd;pd["/storage"]&&pd["/storage"].abort();pd["/storage"]=new XMLHttpRequest;pd["/storage"].onload=function(){200===this.status?c&&c.call(this):rd(S("Games_httpRequestError")+"\nXHR status: "+this.status);pd["/storage"]=null};pd["/storage"].open("POST","/storage");pd["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");pd["/storage"].send(a)}
function qd(){window.location.hash=this.responseText.trim();rd(S("Games_linkAlert").replace("%1",window.location.href));md=ld()}function rd(a){if("object"===typeof U){var c=document.getElementById("linkButton");U.lG(c,a)}else alert(a)};var sd,H=null,td="";function ud(){Oc();sd;var a=document.getElementById("linkButton");a&&(Mc?a.style.display="none":(ld=vd,Tc(a,nd)));Ic=100;(a=document.getElementById("languageMenu"))&&a.addEventListener("change",wd,!0);Ic=Nc("Coinval",0,800);switch(Sc){case "start":sd=1;break;case "circus":sd=2;break;case "bridge":sd=3;break;case "mazeangle":sd=4;break;case "maze":sd=5;break;case "door":sd=6}}
function vd(){var a=m.O.Dz(!0);if(1==H.Kb(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return m.O.Gd(a)}function xd(){"object"==typeof BlocklyStorage&&null!==md&&md!=vd()&&(window.location.hash="",md=null)}function yd(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;H=m.Wh("blockly",a);L(H,xd)}var zd="start.html circus.html bridge.html mazeangle.html maze.html door.html ocean.html mazeperimeter.html findfriend.html gamefinsihed.html".split(" ");
function Ad(){window.location=(Mc?"index.html":"./")+"?lang="+Q}function wd(){window.sessionStorage&&(window.sessionStorage.VE=vd());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function Bd(){window.location=(Mc?zd[sd]:"./")+"?lang="+Q+"&level="+R+"&Coinval="+Ic}function Cd(a){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}sc(a,void 0)}function Dd(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function Ed(a){if("click"==a.type&&"touchend"==Fd&&Gd+2E3>Date.now()||Fd==a.type&&Gd+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;Fd=a.type;Gd=Date.now();return!1}var Fd=null,Gd=0;
function Hd(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function Id(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};var U={Yh:!1,Kw:null,En:null,am:function(a,c,d,e,f,h){function k(){U.Yh&&(l.style.visibility="visible",l.style.zIndex=10,n.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);U.Yh&&U.Uf(!1);m.Rf()&&m.Xb(!0);U.Yh=!0;U.Kw=c;U.En=h;var l=document.getElementById("dialog");h=document.getElementById("dialogShadow");var n=document.getElementById("dialogBorder"),p;for(p in f)l.style[p]=f[p];e&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),U.Oq=m.hc(e,"mousedown",null,U.tD));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(U.oo(c,!1,.2),U.oo(l,!0,.8),setTimeout(k,175)):k()},Lw:0,Mw:0,tD:function(a){U.Rq();if(!m.g.Bl(a)){var c=document.getElementById("dialog");U.Lw=c.offsetLeft-a.clientX;U.Mw=c.offsetTop-a.clientY;U.Qq=m.hc(document,"mouseup",null,U.Rq);U.Pq=m.hc(document,"mousemove",null,U.uD);a.stopPropagation()}},uD:function(a){var c=document.getElementById("dialog"),
d=U.Lw+a.clientX;a=U.Mw+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Rq:function(){U.Qq&&(m.Ra(U.Qq),U.Qq=null);U.Pq&&(m.Ra(U.Pq),U.Pq=null)},Uf:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(U.Yh){U.Rq();U.Oq&&(m.Ra(U.Oq),U.Oq=null);U.Yh=!1;U.En&&U.En();U.En=null;var d=!1===a?
null:U.Kw;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(U.oo(a,!1,.8),U.oo(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},oo:function(a,c,d){function e(){f.style.width=h.width+"px";f.style.height=h.height+"px";f.style.left=h.x+"px";f.style.top=
h.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),h=U.hx(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},hx:function(a){var c=m.g.style.Oh(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},lG:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");U.am(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},U.kz);U.gG()},wC:function(){if(!Rc())if(U.Yh||H.qd())setTimeout(U.wC,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",U.Uf,!0);c.addEventListener("touchend",U.Uf,!0);c=document.getElementById("abortOk");c.addEventListener("click",Ad,!0);c.addEventListener("touchend",Ad,!0);
U.am(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",U.Yv,!0)});document.body.addEventListener("keydown",U.Yv,!0)}},VJ:function(){var a=document.getElementById("dialogDone");if(H){var c=document.getElementById("dialogLinesText");c.textContent="";var d=td;d=Dd(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");
f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?S("Games_linesOfCode1"):S("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d="Are you ready for next level?";c=document.getElementById("doneOk");c.addEventListener("click",Bd,!0);c.addEventListener("touchend",Bd,!0);U.am(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",U.rw,!0)});document.body.addEventListener("keydown",
U.rw,!0);document.getElementById("dialogDoneText").textContent=d},Jw:function(a){!U.Yh||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(U.Uf(!0),a.stopPropagation(),a.preventDefault())},gG:function(){document.body.addEventListener("keydown",U.Jw,!0)},kz:function(){document.body.removeEventListener("keydown",U.Jw,!0)},rw:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Bd()},Yv:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)U.Uf(!0),
a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Ad()}};window.BlocklyDialogs=U;U.hideDialog=U.Uf;m.Generator=function(a){this.ws=a};m.Generator.Wu="generated_function";b=m.Generator.prototype;b.cn=null;b.dn=null;b.mA=60;b.Zm=[];
function Jd(a,c){if(!c)return"";if(!c.isEnabled())return Jd(a,w(c));if(c.ve())return Jd(a,I(c,!1)[0]);var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.ws+'" does not know how to generate  code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.L)throw TypeError("Expecting string from statement block: "+c.type);return[a.gt(c,d[0],void 0),d[1]]}if("string"==typeof d)return a.cn&&!c.Bt&&(d=Kd(a.cn,c)+d),a.dn&&!c.Bt&&(d+=Kd(a.dn,c)),a.gt(c,d,void 0);if(null===d)return"";
throw SyntaxError("Invalid code generated: "+d);}
function Ld(a,c,d){var e=m.I;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=(a=ea(a,c))&&a.connection&&a.connection.sa();if(!f)return"";c=Jd(e,f);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+f.type);a=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var h=Math.floor(d),k=Math.floor(c);if(h<=k&&(h!=k||0!=h&&99!=h))for(f=!0,h=0;h<e.Zm.length;h++)if(e.Zm[h][0]==
d&&e.Zm[h][1]==c){f=!1;break}f&&(a="("+a+")");return a}function Kd(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.Rp="";function Md(a,c){a.Rp+=c+","}b.Na=function(){};b.gt=function(a,c){return c};b.finish=function(a){return a};b.az=function(a){return a};m.I=new m.Generator("JavaScript");Md(m.I,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(m.g.global).join(","));m.I.xI=0;m.I.QI=1.1;m.I.Ym=1.2;m.I.Xm=2;m.I.MI=3;m.I.GI=3;m.I.AI=4.1;m.I.TI=4.2;m.I.hv=4.3;m.I.dv=4.4;
m.I.SI=4.5;m.I.UI=4.6;m.I.HI=4.7;m.I.yI=4.8;m.I.KI=5;m.I.fv=5.1;m.I.II=5.2;m.I.OI=5.3;m.I.gv=6.1;m.I.Wm=6.2;m.I.CI=7;m.I.RI=8;m.I.LI=8;m.I.NI=8;m.I.JI=9;m.I.zI=10;m.I.DI=11;m.I.BI=12;m.I.cv=13;m.I.ev=14;m.I.FI=15;m.I.wI=16;m.I.VI=17;m.I.EI=18;m.I.CB=99;m.I.Zm=[[m.I.Xm,m.I.Ym],[m.I.Xm,m.I.Xm],[m.I.Ym,m.I.Ym],[m.I.Ym,m.I.Xm],[m.I.dv,m.I.dv],[m.I.fv,m.I.fv],[m.I.Wm,m.I.Wm],[m.I.cv,m.I.cv],[m.I.ev,m.I.ev]];
m.I.Na=function(a){m.I.Dn=Object.create(null);m.I.PD=Object.create(null);m.I.vm?m.I.vm.reset():m.I.vm=new m.xd(m.I.Rp);m.I.vm.tt(a.Ba);for(var c=[],d=m.Y.yC(a),e=0;e<d.length;e++)c.push(Gc(d[e],m.xd.qp));a=m.Y.aw(a);for(e=0;e<a.length;e++)c.push(Gc(a[e].eb(),m.ej));c.length&&(m.I.Dn.variables="var "+c.join(", ")+";")};m.I.finish=function(a){var c=[],d;for(d in m.I.Dn)c.push(m.I.Dn[d]);delete m.I.Dn;delete m.I.PD;m.I.vm.reset();return c.join("\n\n")+"\n\n\n"+a};m.I.az=function(a){return a+";\n"};
m.I.JF=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};m.I.WK=function(a){return a.split(/\n/g).map(m.I.JF).join(" + '\\n' +\n")};
m.I.gt=function(a,c,d){var e="";if(!a.L||!a.L.la){var f=a.me.text;f&&(f=m.g.Ga.Ez(f,m.I.mA-3),e+="// "+(f+"\n").replace(/(?!\n$)\n/g,"\n// "));for(var h=0;h<a.N.length;h++)if(a.N[h].type==m.hb){var k=a.N[h].connection.sa();if(k){f=[];k=t(k,!0);for(var l=0;l<k.length;l++){var n=k[l].me.text;n&&f.push(n)}f.length&&f.push("");(f=f.join("\n"))&&(e+="// "+f.replace(/(?!\n$)\n/g,"\n// "))}}}a=a.X&&a.X.sa();d=d?"":Jd(m.I,a);return e+c+d};
m.I.iK=function(a,c,d,e,f){d=d||0;f=f||m.I.CB;a.C.options.Go&&d--;var h=a.C.options.Go?"1":"0";a=0<d?Ld(a,c,m.I.Wm)||h:0>d?Ld(a,c,m.I.gv)||h:e?Ld(a,c,m.I.hv)||h:Ld(a,c,f)||h;if(m.Yx(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=m.I.Wm}else 0>d&&(a=a+" - "+-d,k=m.I.gv);e&&(a=d?"-("+a+")":"-"+a,k=m.I.hv);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};m.Pb=function(a,c,d){this.gz=!0;m.Pb.v.constructor.call(this,a,c,d);this.Do=this.Co=this.Zc=null;this.Nn=!1;this.o=null};m.g.object.S(m.Pb,m.gd);m.Pb.prototype.Pi="";m.Pb.na=function(a){var c=m.g.yc(a.text);return new m.Pb(c,void 0,a)};m.Pb.prototype.Yi=!0;m.Pb.bA=4;b=m.Pb.prototype;b.gu="text";b.Vc=function(a){m.Pb.v.Vc.call(this,a);"boolean"==typeof a.spellcheck&&(this.gz=a.spellcheck)};
b.Vh=function(){if(this.U().yu){for(var a=0,c=0,d=0,e;e=this.D.N[d];d++){for(var f=0;e.Ta[f];f++)a++;e.connection&&c++}this.Nn=1>=a&&this.D.L&&!c}else this.Nn=!1;this.Nn?this.zq=this.D.oa():xb(this);yb(this)};b.Bg=function(a){return null===a||void 0===a?null:String(a)};b.Rw=function(){if(this.Kj){this.Xr=!1;var a=this.ac;this.ac=this.Zc.xG;this.D&&m.h.isEnabled()&&m.h.Ia(new m.h.kh(this.D,"field",this.name||null,a,this.ac))}};b.Cg=function(a){this.Xr=!0;this.ac=a;this.Kj||(this.ff=!0)};
b.fc=function(){this.D&&this.U().yu&&(this.zb?this.zb.setAttribute("stroke",this.D.style.Re):this.D.ub.Db.setAttribute("fill",this.U().tu))};b.ag=function(){m.Pb.v.ag.call(this);if(this.Kj){Nd(this);var a=this.Zc;this.Xr?(m.g.j.Pc(a,"blocklyInvalidInput"),m.g.Xa.nf(a,m.g.Xa.State.Fu,!1)):(m.g.j.yb(a,"blocklyInvalidInput"),m.g.Xa.nf(a,m.g.Xa.State.Fu,!0))}};
b.fg=function(a,c){this.o=this.D.C;a=c||!1;!a&&(m.g.userAgent.Qu||m.g.userAgent.Li||m.g.userAgent.sh)?Od(this):(m.R.show(this,this.D.H,this.DG.bind(this)),this.Zc=this.Mt(),this.Kj=!0,a||(this.Zc.focus({preventScroll:!0}),this.Zc.select()))};function Od(a){m.prompt(m.K.CHANGE_VALUE_TITLE,a.Fg(),function(c){a.setValue(c)})}
b.Mt=function(){var a=m.R.Sa;m.g.j.yb(wb(this),"editing");var c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.gz);var d=vc(this.o),e=this.U().pg*d+"pt";a.style.fontSize=e;c.style.fontSize=e;e=m.Pb.bA*d+"px";if(this.Nn){e=Cb(this);e=(e.bottom-e.top)/2+"px";var f=this.D.getParent()?this.D.getParent().style.Re:this.D.style.Re;c.style.border=1*d+"px solid "+f;a.style.borderRadius=e;a.style.transition="box-shadow 0.25s ease 0s";this.U().NA&&(a.style.boxShadow=
"rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*d+"px")}c.style.borderRadius=e;a.appendChild(c);c.value=c.defaultValue=String(this.ac);c.xG=this.ac;c.Dy=null;Nd(this);this.Co=m.qa(c,"keydown",this,this.Fs);this.Do=m.qa(c,"input",this,this.tF);return c};
b.DG=function(){this.Kj=!1;this.Xr=!0;Ua(this);this.sF&&this.sF(this.ac);this.Co&&(m.Ra(this.Co),this.Co=null);this.Do&&(m.Ra(this.Do),this.Do=null);var a=m.R.Sa.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.Zc=null;m.g.j.Pc(wb(this),"editing")};
b.Fs=function(a){if(a.keyCode==m.g.ya.rp)m.R.ua(),m.B.Rh();else if(a.keyCode==m.g.ya.sp)this.Zc.value=this.Zc.defaultValue,m.R.ua(),m.B.Rh();else if(a.keyCode==m.g.ya.$B){m.R.ua();m.B.Rh();var c=this.D,d=!a.shiftKey,e=new m.jn;O(e,m.A.qj(this));var f=e.Oa;e.Oc(d?m.navigation.wm:m.navigation.xm);(d=e.Oa)&&d!==f&&(f=d.ga,z(f)&&f.fg(void 0),c.C.vc&&O(c.C.rb(),d));a.preventDefault()}};b.tF=function(){var a=this.Zc.value;a!==this.Zc.Dy&&(this.Zc.Dy=a,m.h.ka(!0),this.setValue(a),Ua(this),Nd(this),m.h.ka(!1))};
function Nd(a){var c=m.R.Sa,d=Cb(a);c.style.width=d.right-d.left+"px";c.style.height=d.bottom-d.top+"px";a=new m.g.P(a.D.H?d.right-c.offsetWidth:d.left,d.top);c.style.left=a.x+"px";c.style.top=a.y+"px"}m.Pb.qF=function(a){console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.");if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);return isNaN(a)?null:String(a)};
m.Pb.ZK=function(a){(a=m.Pb.qF(a))&&(a=String(Math.max(0,Math.floor(a))));return a};m.Pb.prototype.ay=function(){return!0};m.Pb.prototype.Qn=function(){return this.Kj&&this.Zc?this.Zc.value:null};m.qe.register("field_input",m.Pb);m.td=function(a,c,d,e,f,h){this.Jl=-Infinity;this.Hl=Infinity;this.Tj=0;this.Lq=null;m.td.v.constructor.call(this,a,f,h);h||(Pd(this,c),Qd(this,d),Rd(this,e),this.setValue(this.getValue()))};m.g.object.S(m.td,m.Pb);m.td.prototype.Pi=0;m.td.na=function(a){return new m.td(a.value,void 0,void 0,void 0,void 0,a)};m.td.prototype.Yi=!0;m.td.prototype.Vc=function(a){m.td.v.Vc.call(this,a);Pd(this,a.min);Qd(this,a.max);Rd(this,a.precision)};
function Pd(a,c){null==c?a.Jl=-Infinity:(c=Number(c),isNaN(c)||(a.Jl=c))}function Qd(a,c){null==c?a.Hl=Infinity:(c=Number(c),isNaN(c)||(a.Hl=c))}function Rd(a,c){null==c?a.Tj=0:(c=Number(c),isNaN(c)||(a.Tj=c));var d=a.Tj.toString(),e=d.indexOf(".");a.Lq=-1==e?c?0:null:d.length-e-1}
m.td.prototype.Bg=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.Jl),this.Hl);this.Tj&&isFinite(a)&&(a=Math.round(a/this.Tj)*this.Tj);null!=this.Lq&&(a=Number(a.toFixed(this.Lq)));return a};
m.td.prototype.Mt=function(){var a=m.td.v.Mt.call(this);-Infinity<this.Jl&&m.g.Xa.nf(a,m.g.Xa.State.jC,this.Jl);Infinity>this.Hl&&m.g.Xa.nf(a,m.g.Xa.State.iC,this.Hl);return a};m.qe.register("field_number",m.td);m.$=function(a,c,d){this.Nk=m.$.iA;this.ri=m.$.OFFSET;this.Gz=m.$.mC;this.Vl=m.$.MB;m.$.v.constructor.call(this,a,c,d);this.wo=this.vn=this.wn=this.mo=this.il=null};m.g.object.S(m.$,m.Pb);m.$.prototype.Pi=0;m.$.na=function(a){return new m.$(a.angle,void 0,a)};m.$.prototype.Yi=!0;m.$.MB=15;m.$.Qb=50;m.$.iA=!1;m.$.OFFSET=0;m.$.mC=360;m.$.Cf=m.$.Qb-1;b=m.$.prototype;
b.Vc=function(a){m.$.v.Vc.call(this,a);switch(a.mode){case "compass":this.Nk=!0;this.ri=90;break;case "protractor":this.Nk=!1,this.ri=0}var c=a.clockwise;"boolean"==typeof c&&(this.Nk=c);c=a.offset;null!=c&&(c=Number(c),isNaN(c)||(this.ri=c));c=a.wrap;null!=c&&(c=Number(c),isNaN(c)||(this.Gz=c));a=a.round;null!=a&&(a=Number(a),isNaN(a)||(this.Vl=a))};b.Vh=function(){m.$.v.Vh.call(this);this.lz=m.g.j.J("tspan",{},null);this.lz.appendChild(document.createTextNode("\u00b0"));this.oc.appendChild(this.lz)};
b.ag=function(){m.$.v.ag.call(this);Sd(this)};b.fg=function(a){m.$.v.fg.call(this,a,m.g.userAgent.Qu||m.g.userAgent.Li||m.g.userAgent.sh);a=this.ir();m.B.jx().appendChild(a);m.B.bh(this.D.style.zg,this.D.style.Re);m.B.dz(this,this.jr.bind(this));Sd(this)};
b.ir=function(){var a=m.g.j.J("svg",{xmlns:m.g.j.zk,"xmlns:html":m.g.j.Rm,"xmlns:xlink":m.g.j.Bd,version:"1.1",height:2*m.$.Qb+"px",width:2*m.$.Qb+"px",style:"touch-action: none"},null),c=m.g.j.J("circle",{cx:m.$.Qb,cy:m.$.Qb,r:m.$.Cf,"class":"blocklyAngleCircle"},a);this.il=m.g.j.J("path",{"class":"blocklyAngleGauge"},a);this.mo=m.g.j.J("line",{x1:m.$.Qb,y1:m.$.Qb,"class":"blocklyAngleLine"},a);for(var d=0;360>d;d+=15)m.g.j.J("line",{x1:m.$.Qb+m.$.Cf,y1:m.$.Qb,x2:m.$.Qb+m.$.Cf-(0==d%45?10:5),y2:m.$.Qb,
"class":"blocklyAngleMarks",transform:"rotate("+d+","+m.$.Qb+","+m.$.Qb+")"},a);this.wn=m.qa(a,"click",this,this.xE);this.vn=m.qa(c,"click",this,this.Ml,!0,!0);this.wo=m.qa(c,"mousemove",this,this.Ml,!0,!0);return a};b.jr=function(){this.wn&&(m.Ra(this.wn),this.wn=null);this.vn&&(m.Ra(this.vn),this.vn=null);this.wo&&(m.Ra(this.wo),this.wo=null);this.mo=this.il=null};b.xE=function(){m.B.Fj(this);m.R.ua()};
b.Ml=function(a){var c=this.il.ownerSVGElement.getBoundingClientRect(),d=a.clientX-c.left-m.$.Qb;a=a.clientY-c.top-m.$.Qb;c=Math.atan(-a/d);isNaN(c)||(c=m.g.Mc.mz(c),0>d?c+=180:0<a&&(c+=360),c=this.Nk?this.ri+360-c:360-(this.ri-c),Td(this,c))};function Td(a,c){a.Vl&&(c=Math.round(c/a.Vl)*a.Vl);c=Ud(a,c);c!=a.ac&&(a.ff=!0,a.Kj&&(a.Zc.value=String(c)),a.setValue(c))}
function Sd(a){if(a.il){var c=Number(a.Fg())+a.ri,d=m.g.Mc.lm(c%360);c=["M ",m.$.Qb,",",m.$.Qb];var e=m.$.Qb,f=m.$.Qb;if(!isNaN(d)){var h=Number(a.Nk),k=m.g.Mc.lm(a.ri),l=Math.cos(k)*m.$.Cf,n=Math.sin(k)*-m.$.Cf;h&&(d=2*k-d);e+=Math.cos(d)*m.$.Cf;f-=Math.sin(d)*m.$.Cf;d=Math.abs(Math.floor((d-k)/Math.PI)%2);h&&(d=1-d);c.push(" l ",l,",",n," A ",m.$.Cf,",",m.$.Cf," 0 ",d," ",h," ",e,",",f," z")}a.il.setAttribute("d",c.join(""));a.mo.setAttribute("x2",e);a.mo.setAttribute("y2",f)}}
b.Fs=function(a){m.$.v.Fs.call(this,a);var c;a.keyCode===m.g.ya.iB?c=this.D.H?1:-1:a.keyCode===m.g.ya.KB?c=this.D.H?-1:1:a.keyCode===m.g.ya.ou?c=-1:a.keyCode===m.g.ya.Lv&&(c=1);if(c){var d=this.getValue();Td(this,d+c*this.Vl);a.preventDefault();a.stopPropagation()}};b.Bg=function(a){a=Number(a);return isNaN(a)||!isFinite(a)?null:Ud(this,a)};function Ud(a,c){c%=360;0>c&&(c+=360);c>a.Gz&&(c-=360);return c}m.fd.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(","));
m.qe.register("field_angle",m.$);m.hd=function(a,c,d,e,f){this.li=m.hd.FD;this.qD=a||"";this.mc=new m.g.zd(0,0);f&&this.Vc(f);c&&(this.Zo=c);f||Vd(this,d,e)};m.g.object.S(m.hd,m.ab);m.hd.na=function(a){var c=m.g.yc(a.variable);return new m.hd(c,void 0,void 0,void 0,a)};b=m.hd.prototype;b.Yi=!0;b.Vc=function(a){m.hd.v.Vc.call(this,a);Vd(this,a.variableTypes,a.defaultType)};b.Uh=function(){if(!this.cd){var a=m.Y.qx(this.D.C,null,this.qD,this.pD);this.Cg(a.eb())}};
b.vt=function(){return m.hd.v.vt.call(this)&&(!this.U().up||"variables_get"!=this.D.type)};b.hl=function(a){var c=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";c=m.Y.qx(this.D.C,c,d,e);if(null!=e&&e!==c.type)throw Error("Serialized variable type with id '"+c.eb()+"' had type "+c.type+", and does not match variable field that references it: "+m.O.Gd(a)+".");this.setValue(c.eb())};
b.nz=function(a){this.Uh();a.id=this.cd.eb();a.textContent=this.cd.name;this.cd.type&&a.setAttribute("variabletype",this.cd.type);return a};b.st=function(a){if(a.Pa)throw Error("Variable fields are not allowed to exist on shadow blocks.");m.hd.v.st.call(this,a)};b.getValue=function(){return this.cd?this.cd.eb():null};b.Fg=function(){return this.cd?this.cd.name:""};b.ue=function(){return this.cd};b.Cx=function(){return this.cd?this.Zo:null};
b.Bg=function(a){if(null===a)return null;var c=m.Y.ue(this.D.C,a);if(!c)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;c=c.type;var d;a:if(d=Wd(this)){for(var e=0;e<d.length;e++)if(c==d[e]){d=!0;break a}d=!1}else d=!0;return d?a:(console.warn("Variable type doesn't match this field!  Type was "+c),null)};b.Cg=function(a){this.cd=m.Y.ue(this.D.C,a);m.hd.v.Cg.call(this,a)};
function Wd(a){var c=a.AG;if(null===c&&a.D&&a.D.C)return a.D.C.Ir();c=c||[""];if(0==c.length)throw a=a.Fg(),Error("'variableTypes' of field variable "+a+" was an empty list");return c}
function Vd(a,c,d){d=d||"";if(null==c||void 0==c)c=null;else if(Array.isArray(c)){for(var e=!1,f=0;f<c.length;f++)c[f]==d&&(e=!0);if(!e)throw Error("Invalid default type '"+d+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.pD=d;a.AG=c}
m.hd.FD=function(){if(!this.cd)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.Fg(),c=[];if(this.D&&this.D.C)for(var d=Wd(this),e=0;e<d.length;e++)c=c.concat(this.D.C.ol(d[e]));c.sort(m.Ek.pw);d=[];for(e=0;e<c.length;e++)d[e]=[c[e].name,c[e].eb()];d.push([m.K.RENAME_VARIABLE,m.vv]);m.K.DELETE_VARIABLE&&d.push([m.K.DELETE_VARIABLE.replace("%1",a),m.mu]);return d};
m.hd.prototype.Fy=function(a){a=a.getValue();if(this.D&&this.D.C){if(a==m.vv){m.Y.Zs(this.D.C,this.cd);return}if(a==m.mu){this.D.C.Ih(this.cd.eb());return}}this.setValue(a)};m.hd.prototype.No=function(){return!0};m.qe.register("field_variable",m.hd);m.Ie=function(a,c,d,e,f,h,k){if(!a)throw Error("Src value of an image field is required");a=m.g.yc(a);d=Number(m.g.yc(d));c=Number(m.g.yc(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.fl=!1;this.nn="";m.Ie.v.constructor.call(this,a,null,k);k||(this.fl=!!h,this.nn=m.g.yc(e)||"");this.mc=new m.g.zd(c,d+m.Ie.rC);this.BE=d;this.Jf=null;"function"==
typeof f&&(this.Jf=f);this.Kc=null};m.g.object.S(m.Ie,m.gd);m.Ie.prototype.Pi="";m.Ie.na=function(a){return new m.Ie(a.src,a.width,a.height,void 0,void 0,void 0,a)};m.Ie.rC=1;b=m.Ie.prototype;b.jk=!1;b.ff=!1;b.Vc=function(a){m.Ie.v.Vc.call(this,a);this.fl=!!a.flipRtl;this.nn=m.g.yc(a.alt)||""};b.Vh=function(){this.Kc=m.g.j.J("image",{height:this.BE+"px",width:this.mc.width+"px",alt:this.nn},this.Xc);this.Kc.setAttributeNS(m.g.j.Bd,"xlink:href",this.ac);this.Jf&&(this.Kc.style.cursor="pointer")};
b.xz=function(){};b.Bg=function(a){return"string"!=typeof a?null:a};b.Cg=function(a){this.ac=a;this.Kc&&this.Kc.setAttributeNS(m.g.j.Bd,"xlink:href",String(this.ac))};b.nx=function(){return this.fl};b.fg=function(){this.Jf&&this.Jf(this)};b.Qn=function(){return this.nn};m.qe.register("field_image",m.Ie);var Xd={},V,W,X,Yd,Zd,be,ce,de,ee,fe;m.ed.door_moveblock={Na:function(){Pb(this,{lastDummyAlign0:"RIGHT",message0:"Block : %1 %2 %3 Move To : %4 %5",args0:[{type:"field_number",name:"x1",value:1,min:1,max:6},{type:"field_number",name:"y1",value:1,min:1,max:5},{type:"input_dummy",align:"RIGHT"},{type:"field_number",name:"x2",value:1,min:1,max:6},{type:"field_number",name:"y2",value:1,min:1,max:5}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:290,tooltip:S("Door_moveTooltip"),helpUrl:""})}};
m.I.door_moveblock=function(a){var c=K(a,"x1"),d=K(a,"y1"),e=K(a,"x2"),f=K(a,"y2");return"moveblock("+c+", "+d+", "+e+", "+f+", 'block_id_"+a.id+"');\n"};
m.ed.door_rotate={Na:function(){Pb(this,{lastDummyAlign0:"RIGHT",message0:"Block : %1 %2 %3 Rotate : %4  By : %5",args0:[{type:"field_number",name:"x1",value:1,min:1,max:6},{type:"field_number",name:"y1",value:1,min:1,max:5},{type:"input_dummy"},{type:"field_dropdown",name:"direction",options:[["Right","right"],["Left","left"]]},{type:"field_angle",name:"angle",angle:0}],previousStatement:null,nextStatement:null,colour:290,tooltip:S("Door_rotateTooltip"),helpUrl:""})}};
m.I.door_rotate=function(a){var c=K(a,"x1"),d=K(a,"y1"),e=K(a,"direction"),f=K(a,"angle");return"rotateblock("+c+", "+d+", "+e+", "+f+", 'block_id_"+a.id+"');\n"};g=g||{};g.S=function(a,c){function d(){}d.prototype=c.prototype;a.v=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.dw=function(e,f,h){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}};if(!g.userAgent){var ge="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(ge=navigator.userAgent);var he=0==ge.indexOf("Opera");g.userAgent={TK:{IH:"ScriptEngine"in window},AB:he,Zd:!he&&-1!=ge.indexOf("MSIE"),bq:!he&&-1!=ge.indexOf("WebKit")}}
g.DC||(g.DC={assert:function(a){if(!a)throw Error("Assertion error");},eK:function(){}});g.j||(g.j={});
g.format||(g.format={FK:function(a,c){a=String(a);for(var d=[],e=0,f=!1,h=!1,k=0,l=0,n=0,p=a.length;n<p;++n){var q=a.charCodeAt(n);k>=c&&32!=q&&(d[e++]=a.substring(l,n),l=n,d[e++]=g.format.lC,k=0);if(f)62==q&&(f=!1);else if(h)switch(q){case 59:h=!1;++k;break;case 60:h=!1;f=!0;break;case 32:h=!1,k=0}else switch(q){case 60:f=!0;break;case 38:h=!0;break;case 32:k=0;break;default:++k}}d[e++]=a.substring(l);return d.join("")},lC:g.userAgent.bq?"<wbr></wbr>":g.userAgent.AB?"&shy;":g.userAgent.Zd?"&#8203;":
"<wbr>"});g.Tn||(g.Tn={lq:{}});g.Tn.lq.LH=!1;g.Tn.lq.JL=function(a,c){return"number"==typeof a?0<a?1:0>a?-1:c?null:0:null==a?null:a?-1:1};g.Tn.lq.bK=function(a,c){var d=0,e=0,f=!1;a=(c?a.replace(ie,""):a).split(je);for(c=0;c<a.length;c++){var h=a[c];ke.test(h)?(d++,e++):le.test(h)?f=!0:me.test(h)?e++:ne.test(h)&&(f=!0)}return 0==e?f?1:0:d/e>oe?-1:1};g.Ga||(g.Ga={YK:function(a,c){a=String(a);return g.Ga.wB.test(a)?a.replace(/(\r\n|\r|\n)/g,c?"<br />":"<br>"):a},OL:encodeURIComponent,wB:/[\r\n]/});
g.eG||(g.eG={kL:function(a,c,d,e){return pe(a,c,e,!0,d)},lL:function(a,c,d,e){return pe(a,c,e,!1,d)},mL:function(a,c,d,e){a.innerHTML=c(d,null,e)},data:{}});var qe=g.oh?{qL:!0}:{},re=g.oh?{rL:!0}:{};function se(){throw Error("Do not instantiate directly");}se.prototype.ww=null;se.prototype.toString=function(){return this.content};var te={};
function pe(a,c,d,e,f){var h=d||document;d=h.createElement("div");d.innerHTML=a(c||te,void 0,f);if(1==d.childNodes.length&&(a=d.firstChild,!e||1==a.nodeType))return a;if(e)return d;for(e=h.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e}
var ie=/<[^>]*>|&[^;]+;/g,ke=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\u200f\ufb1d-\ufdff\ufe70-\ufefc]/,me=/[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,le=/^http:\/\/.*/,ne=/\d/,je=/\s+/,oe=.4;function ue(a){if(null!=a)switch(a.ww){case 1:return 1;case -1:return-1;case 0:return 0}return null}function ve(){se.call(this)}g.S(ve,se);
ve.prototype.xw=qe;function Y(a){return null!=a&&a.xw===qe?a:we(String(String(a)).replace(xe,ye),ue(a))}
var we=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.ww=e);return f}}(ve),ze={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ye(a){return ze[a]}var xe=/[\x00\x22\x26\x27\x3c\x3e]/g;function Ae(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function Be(){var a="skin="+Y(Ce),c='<table width="100%"><tr><td style="display : none"><h1><span id="title">'+((Mc?'<a href="index.html?lang='+Y(Q)+'">':'<a href="./?lang='+Y(Q)+'">')+"Blockly Games</a> : "+Y("Door")+"</span>");if(R){a=""+(a?Y(a):"");for(var d=" &nbsp; ",e=1;11>e;e++){var f="?lang="+Y(Q)+"&level="+Y(e)+(a?"&"+Y(a):"");d+=" "+(e==R?'<span class="level_number level_done" id="level'+Y(e)+'">'+Y(e)+"</span>":10==e?'<a class="level_number" id="level'+Y(e)+'" href="'+Y(f)+'">'+Y(e)+"</a>":
'<a class="level_dot" id="level'+Y(e)+'" href="'+Y(f)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Games_name">Bright Champs</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">CircumCircle</span><span id="Games_door">Door</span><span id="Games_findfriend">Find Friend</span><span id="Games_mazeperimeter">Perimeter</span><span id="Games_mazeangle">Angle</span><span id="Games_ocean">Ocean</span><span id="Games_bridge">Bridge</span><span id="Games_circus">Circus</span><span id="Games_start">Treasure Hunt</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Door_moveForward">move forward</span><span id="Door_turnNorth">turn North</span><span id="Door_turnNorthEast">turn North-East</span><span id="Door_turnEast">turn East</span><span id="Door_turnSouthEast">turn South-East</span><span id="Door_turnSouth">turn South</span><span id="Door_turnSouthWest">turn South-West</span><span id="Door_turnWest">turn West</span><span id="Door_turnNorthWest">turn North-West</span><span id="Door_doCode">do</span><span id="Door_elseCode">else</span><span id="Door_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Door_pathAhead">if path ahead</span><span id="Door_pathNorth">if path to the North</span><span id="Door_pathNorthEast">if path to the North-East</span><span id="Door_pathEast">if path to the East</span><span id="Door_pathSouthEast">if path to the South-East</span><span id="Door_pathSouth">if path to the South</span><span id="Door_pathSouthWest">if path to the South-West</span><span id="Door_pathWest">if path to the West</span><span id="Door_pathNorthWest">if path to the North-West</span><span id="Door_repeatUntil">repeat until</span><span id="Door_rotateTooltip">Rotates the selected block by the specified amount in specified direction.</span><span id="Door_moveTooltip">Exchanges the selected block with the move to location block.</span><span id="Door_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Door_ifelseTooltip">If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Door_whileTooltip">Repeat the enclosed actions until finish point is reached.</span><span id="Door_capacity0">You have %0 blocks left.</span><span id="Door_capacity1">You have %1 block left.</span><span id="Door_capacity2">You have %2 blocks left.</span></div>'+
(c+a+'</h1></td><td id ="brightChampsLogo" class ="companylogo"><a href="https://www.brightchamps.com/"><img id= "BClogo" src="Bright Champs logo.png" height="45px" ></a></td><td class ="farSide"><div id = "coinanimation" ><canvas id ="coin" width ="45px" height="45px" ></canvas><canvas id="coinvalue" width="80px" height="45px"></canvas><button id="helpButton">Help</button></div></td><td id="header_cta" class="farSide" width="325" style="display :none"><select id="languageMenu" style="display :none"></select>&nbsp;<button id="linkButton" style="display :none" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;'+
('<button id="pegmanButton" style="display :none"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>'.xw===re?"zSoyz":'<button id="pegmanButton" style="display :none"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>')+'</td></tr></table><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgDoor" width="1200px" height="1000px"></svg><div id="capacityBubble"><div id="capacity"></div></div></div><table id="buttontable" width="500px"><tr><td style="text-align : centre"><button id="runButton" class="primary"title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton"  class="primary"title="Put the player back at the start of the door."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><block type="door_rotate"></block><block type = "door_moveblock"></block></xml><div id="blockly"></div><div id="modall" class="modall"><div class="modal-content"><span class="close">&times;</span><p>Find the area enclosed by the rectangle formed</p><label for="fname">Area: </label><input type="text" id="fname" name="fname"></br><h3 id="answer"> Verdict Pending </h3><div class="btnr"><button class="primary" onclick="checkAnswer()"> Submit </button></div></div></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>')+
(Ae()+'</div><div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">Solve the area corresponding to block you are standing on and move to the correct direction to solve this door.</div>')+Ae()+"</div>"+(1==R?'<div id="dialogHelpStack" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Stack a couple of \'move forward\' blocks together to help me reach the goal.</td><td valign="top"><img src="door/help_stack.png" class="mirrorImg" height=63 width=136></td></tr></table></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>On this level, you need to stack together all of the blocks in the white workspace.<div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpRun" class="dialogHiddenContent"><table><tr><td>Run your program to see what happens.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="door/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':
2==R?'<div id="dialogHelpReset" class="dialogHiddenContent"><table><tr><td>Your program didn\'t solve the door. Press \'Reset\' and try again.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="door/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':3==R||4==R?(3==R?'<div id="dialogHelpRepeat" class="dialogHiddenContent"><table><tr><td><img src="door/help_up.png"></td><td>Reach the end of this path using only two blocks. Use \'repeat\' to run a block more than once.</td><td><img src="common/help.png"></td></tr></table></div>':
"")+'<div id="dialogHelpCapacity" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>You have used up all the blocks for this level. To create a new block, you first need to delete an existing block.</td></tr></table></div><div id="dialogHelpRepeatMany" class="dialogHiddenContent"><table><tr><td><img src="door/help_up.png"></td><td>You can fit more than one block inside a \'repeat\' block.</td><td><img src="common/help.png"></td></tr></table></div>':5==R?
'<div id="dialogHelpSkins" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td width="95%">Choose your favourite player from this menu.</td><td><img src="door/help_up.png"></td></tr></table></div>':6==R?'<div id="dialogHelpIf" class="dialogHiddenContent"><table><tr><td><img src="door/help_up.png"></td><td>An \'if\' block will do something only if the condition is true. Try turning left if there is a path to the left.</td><td><img src="common/help.png"></td></tr></table></div>':
7==R?'<div id="dialogHelpMenu" class="dialogHiddenContent"><table><tr><td><img src="door/help_up.png"></td><td id="helpMenuText">Click on %1 in the \'if\' block to change its condition.</td><td><img src="common/help.png"></td></tr></table></div>':9==R?'<div id="dialogHelpIfElse" class="dialogHiddenContent"><table><tr><td><img src="door/help_down.png"></td><td>If-else blocks will do one thing or the other.</td><td><img src="common/help.png"></td></tr></table></div>':10==R?'<div id="dialogHelpWallFollow" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Can you solve this complicated door? Try following the left-hand wall. Advanced programmers only!'+
Ae()+"</td></tr></table></div>":"")};var Sc="door",De=[void 0,Infinity,Infinity,2,5,5,5,5,10,7,10][R],Ee=[{dm:"door/pegman.png",Ct:"door/puzzle-without-label.png",EK:"door/Idle.png",sy:"door/marker.png",background:"door/14bg.png",ny:"#000",mw:"door/coin-sprite.png",Nt:["door/win.mp3","door/win.ogg"],Gq:["door/fail_pegman.mp3","door/fail_pegman.ogg"],Aw:1},{dm:"door/astro.png",Ct:"door/tiles_astro.png",sy:"door/marker.png",background:"door/bg_astro.jpg",ny:"#fff",mw:"door/coin.png",Nt:["door/win.mp3","door/win.ogg"],Gq:["door/fail_astro.mp3",
"door/fail_astro.ogg"],Aw:2},{dm:"door/panda.png",Ct:"door/tiles_panda.png",sy:"door/marker.png",background:"door/bg_panda.jpg",ny:"#000",mw:"door/coin.png",Nt:["door/win.mp3","door/win.ogg"],Gq:["door/fail_panda.mp3","door/fail_panda.ogg"],Aw:3}],Ce=Nc("skin",0,Ee.length),Fe=Ee[Ce],Ge=[void 0,[[0,1,1,0,1,1],[2,0,0,1,0,1],[0,0,1,0,1,1],[0,1,0,1,0,0],[0,0,1,1,1,3]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,
0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,3,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0],[0,2,1,0,0,0,0,0],[1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,
0],[0,1,0,0,0,1,0,0],[0,1,1,3,0,1,0,0],[0,0,0,0,0,1,0,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,1,1,0],[0,1,1,3,0,1,0,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,0,0,0],[0,1,0,0,1,1,0,0],[0,1,1,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,2,1,1,0,3,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0],[1,1,1,1,1,0,1,0],[0,1,0,
1,0,2,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,0,3,0,1,0],[0,1,1,0,1,1,1,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,1,0,0,1,0],[0,2,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]][R],He=Ge.length,Ie=Ge[0].length,Z=200,Je=80,Ke=0,Le=[],Me={"0,0":[0,3],"1,0":[3,0],"2,0":[2,0],"3,0":[1,0],"4,0":[4,0],"5,0":[5,0],"0,1":[0,1],"0,2":[0,2],"0,3":[0,0],"0,4":[0,4],"1,1":[1,1],"1,2":[1,2],"1,3":[1,3],"1,4":[1,4],"2,1":[2,1],"2,2":[2,2],"2,3":[2,3],"2,4":[2,4],"3,1":[3,1],"3,2":[3,2],"3,3":[3,3],"3,4":[3,4],"4,1":[4,
1],"4,2":[4,2],"4,3":[4,3],"4,4":[4,4],"5,1":[5,1],"5,2":[5,2],"5,3":[5,3],"5,4":[5,4]};
function Ne(){var a=document.getElementById("svgDoor");a.style.width=W+"px";a.style.height=X+"px";a.setAttribute("viewBox","0 0 "+W+" "+X);m.g.j.J("rect",{height:X,width:W,fill:"#F1EEE7","stroke-width":1,stroke:"#CCB"},a);if(Fe.background){var c=m.g.j.J("image",{height:X,width:W,x:0,y:0},a);c.setAttributeNS(m.g.j.Bd,"xlink:href",Fe.background)}for(var d=0;d<He;d++)for(var e=0;e<Ie;e++){var f=e.toString()+","+d.toString();c=Me[f][0];f=Me[f][1];var h=m.g.j.J("clipPath",{id:"tileClipPath"+(e+1).toString()+
(d+1).toString()},a);m.g.j.J("rect",{height:Z,width:Z,x:e*Z,y:d*Z},h);c=m.g.j.J("image",{id:(e+1).toString()+(d+1).toString(),height:5*Z,width:6*Z,"clip-path":"url(#tileClipPath"+(e+1).toString()+(d+1).toString()+")",x:(e-c)*Z,y:(d-f)*Z},a);c.setAttributeNS(m.g.j.Bd,"xlink:href",Fe.Ct)}}
function Oe(){if(!H.qd()&&1!=Ke&&!Rc()){var a=-1!=Kc.indexOf(Q),c=m.O.Gd(m.O.Dz()),d=H.ca.o.Kb(!0),e=null,f=null,h=null;if(1!=R)if(2==R)0!=Ke&&"none"==document.getElementById("runButton").style.display&&(e=document.getElementById("dialogHelpReset"),h={width:"360px",top:"410px"},h[a?"right":"left"]="400px",f=document.getElementById("resetButton"));else if(3==R)-1==c.indexOf("door_forever")&&(0==Xa(H)?(e=document.getElementById("dialogHelpCapacity"),h={width:"430px",top:"310px"},h[a?"right":"left"]=
"50px",f=document.getElementById("capacityBubble")):(e=document.getElementById("dialogHelpRepeat"),h={width:"360px",top:"360px"},h[a?"right":"left"]="425px",f=d[3].oa()));else if(4==R)if(0==Xa(H)&&(-1==c.indexOf("door_forever")||1<H.Kb(!1).length))e=document.getElementById("dialogHelpCapacity"),h={width:"430px",top:"310px"},h[a?"right":"left"]="50px",f=document.getElementById("capacityBubble");else{c=!0;for(var k=J(H),l=0;l<k.length;l++){var n=k[l];if("door_forever"==n.type){for(var p=0;n;)n=I(n),
n=n.length?n[0]:null,p++;if(2<p){c=!1;break}}}c&&(e=document.getElementById("dialogHelpRepeatMany"),h={width:"360px",top:"360px"},h[a?"right":"left"]="425px",f=d[3].oa())}else if(5==R)0!=Ce||Pe.xC||(e=document.getElementById("dialogHelpSkins"),h={width:"360px",top:"60px"},h[a?"left":"right"]="20px",f=document.getElementById("pegmanButton"));else if(6==R)-1==c.indexOf("door_if")&&(e=document.getElementById("dialogHelpIf"),h={width:"360px",top:"430px"},h[a?"right":"left"]="425px",f=d[4].oa());else if(7==
R){if(!Qe){k=document.createElement("span");k.className="helpMenuFake";l=[S("Door_pathAhead"),S("Door_pathLeft"),S("Door_pathRight")];p=m.g.Ga.nw(l);n=m.g.Ga.ow(l);k.textContent=(n?l[0].slice(p,-n):l[0].substring(p))+" "+m.ab.zm;p=document.getElementById("helpMenuText");l=p.textContent;p.textContent="";n=l.split(/%\d/);for(l=0;l<n.length;l++)p.appendChild(document.createTextNode(n[l])),l!=n.length-1&&p.appendChild(k.cloneNode(!0));Qe=!0}-1==c.indexOf("isPathRight")&&(e=document.getElementById("dialogHelpMenu"),
h={width:"360px",top:"430px"},h[a?"right":"left"]="425px",f=d[4].oa())}else 9==R&&-1==c.indexOf("door_ifElse")&&(e=document.getElementById("dialogHelpIfElse"),h={width:"360px",top:"305px"},h[a?"right":"left"]="425px",f=d[5].oa());e?e.parentNode!=document.getElementById("dialog")&&U.am(e,f,!0,!1,h,null):U.Uf(!1)}}var Qe;
function Pe(a){var c=document.getElementById("pegmanMenu");"block"==c.style.display?Re(a):Ed(a)||(a=document.getElementById("pegmanButton"),a.classList.add("buttonHover"),c.style.top=a.offsetTop+a.offsetHeight+"px",c.style.left=a.offsetLeft+"px",c.style.display="block",Xd.Ps=m.hc(document.body,"mousedown",null,Re),(c=document.getElementById("dialogHelpSkins"))&&"dialogHiddenContent"!=c.className&&U.Uf(!1),Pe.xC=!0)}
function Re(a){Ed(a)||(document.getElementById("pegmanMenu").style.display="none",document.getElementById("pegmanButton").classList.remove("buttonHover"),Xd.Ps&&(m.Ra(Xd.Ps),delete Xd.Ps))}function Se(a){for(var c=0;c<Le.length;c++)clearTimeout(Le[c]);Le=[];Te.clear();be=Yd.x;ce=Yd.y;de=be;ee=ce;a&&(Ue(!1),Le.push(setTimeout(function(){V=130},5*V)))}
function Ve(a){if(!Ed(a)){U.Uf(!1);a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");We()}}function Xe(a){Ed(a)||(sc(null),Se(!1),Oe())}function Ye(a,c){a.setProperty(c,"moveblock",a.createNativeFunction(function(){}));a.setProperty(c,"rotateblock",a.createNativeFunction(function(){}))}
function We(){if("Interpreter"in window){fe=[];m.selected&&gb(m.selected);var a=m.I;var c=H;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=m.Rf());var d=[];a.Na(c);c=c.Kb(!0);for(var e=0,f;f=c[e];e++){var h=Jd(a,f);Array.isArray(h)&&(h=h[0]);h&&(f.L&&(h=a.az(h),a.cn&&!f.Bt&&(h=Kd(a.cn,f)+h),a.dn&&!f.Bt&&(h+=Kd(a.dn,f))),d.push(h))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");td=a=d=d.replace(/[ \t]+\n/g,"\n");vd();Ke=0;a=new Interpreter(a,
Ye);try{for(d=1E4;a.step();)if(0==d--)throw Infinity;Ke=de!=Zd.x||ee!=Zd.y?-1:1}catch(k){Infinity===k?Ke=2:!1===k?Ke=-2:(Ke=-2,alert(k))}1==Ke?(V=80,fe.push(["finish",null])):V=130;Le.push(setTimeout(Ze,100))}else setTimeout(We,250)}var Te=new Set;
function Ze(){var a=fe.shift();if(a){if(Te.has(a[1]))a=1;else{Cd(a[1]);switch(a[0]){case "move":var c=document.getElementById(a[2].toString()+a[3].toString()),d=document.getElementById(a[4].toString()+a[5].toString()),e=c.getAttribute("x"),f=c.getAttribute("y");c.setAttribute("x",d.getAttribute("x"));c.setAttribute("y",d.getAttribute("x"));d.setAttribute("x",e);d.setAttribute("y",f);document.getElementById("tileClipPath"+a[2].toString()+a[3].toString()).setAttribute("x",c.getAttribute("x"));document.getElementById("tileClipPath"+
a[2].toString()+a[3].toString()).setAttribute("y",c.getAttribute("y"));document.getElementById("tileClipPath"+a[4].toString()+a[5].toString()).setAttribute("x",d.getAttribute("x"));document.getElementById("tileClipPath"+a[4].toString()+a[5].toString()).setAttribute("y",d.getAttribute("y"));break;case "finish":Ue(!0)}Te.add(a[1]);a=Xd.IL}Le.push(setTimeout(Ze,V*a))}else Cd(null),Oe()}
function $e(a){if("dialogHiddenContent"!=document.getElementById("dialogDone").className){var c=document.getElementById("pegSpin"),d=U.hx(c),e=a.clientX-(d.x+d.width/2-window.pageXOffset);a=m.g.Mc.mz(Math.atan((a.clientY-(d.y+d.height/2-window.pageYOffset))/e));e=Math.round((0<e?a+90:a+270)/360*16);16==e&&(e=15);c.style.backgroundPosition=-e*Je+"px 0px"}}
function Ue(a){a&&H.ie.play("win",.5);V=150;Le.push(setTimeout(function(){},V));Le.push(setTimeout(function(){},2*V));Le.push(setTimeout(function(){},3*V))}function af(){var a=document.getElementById("help"),c=document.getElementById("helpButton");U.am(a,c,!0,!0,{width:"50%",left:"25%",top:"5em"},bf);U.KJ()}function bf(){U.kz()}
window.addEventListener("load",function(){function a(){l.style.top=Math.max(10,n.offsetTop-window.pageYOffset)+"px";l.style.left=k?"10px":W+20+"px";l.style.width=window.innerWidth-(W+40)+"px";l.style.paddingBottom=10*Hc+"px";p.style.left=l.offsetLeft+"px";p.style.width=window.innerWidth-(W+40)+"px";p.style.top=l.offsetTop+X-p.offsetHeight+"px";document.getElementById("runButton").style.left=l.offsetLeft+"px";document.getElementById("runButton").style.top=l.offsetTop+X-p.offsetHeight+"px";document.getElementById("resetButton").style.left=
document.getElementById("runButton").offsetLeft+document.getElementById("runButton").offsetWidth+"px";document.getElementById("resetButton").style.top=l.offsetTop+X-p.offsetHeight+"px";document.getElementById("resetButton").style.marginRight="0px"}function c(q){return function(){window.sessionStorage&&(window.sessionStorage.VE=vd());location=location.protocol+"//"+location.host+location.pathname+"?lang="+Q+"&level="+R+"&skin="+q}}document.body.innerHTML=Be();ud();document.querySelector("#pegmanButton>img").style.backgroundImage=
"url("+Fe.dm+")";for(var d=document.getElementById("pegmanMenu"),e=0;e<Ee.length;e++)if(e!=Ce){var f=document.createElement("div"),h=document.createElement("img");h.src="common/1x1.gif";h.style.backgroundImage="url("+Ee[e].dm+")";f.appendChild(h);d.appendChild(f);m.hc(f,"mousedown",null,c(e))}m.hc(window,"resize",null,Re);d=document.getElementById("pegmanButton");m.hc(d,"mousedown",null,Pe);d=document.getElementById("pegmanButtonArrow");e=document.createTextNode(m.ab.zm);d.appendChild(e);var k=-1!=
Kc.indexOf(Q);Z*=Hc;W=Z*Ie;X=Z*He;Je=130*Hc;var l=document.getElementById("blockly"),n=document.getElementById("visualization"),p=document.getElementById("buttontable");window.addEventListener("scroll",function(){a(null);m.km(H);p.style.left=l.offsetLeft+"px";p.style.width=window.innerWidth-(W+40)+"px";p.style.top=l.offsetTop+X-p.offsetHeight+"px";document.getElementById("runButton").style.left=l.offsetLeft+"px";document.getElementById("runButton").style.top=l.offsetTop+X-p.offsetHeight+"px";document.getElementById("resetButton").style.left=
document.getElementById("runButton").offsetLeft+document.getElementById("runButton").offsetWidth+"px";document.getElementById("resetButton").style.top=l.offsetTop+X-p.offsetHeight+"px";document.getElementById("resetButton").style.marginRight="0px"});window.addEventListener("resize",a);a(null);Z/=Hc;W=Z/Ie;X=Z/He;Je=130/Hc;Z*=Hc;W=Z*Ie;X=Z*He;Je=130*Hc;yd({maxBlocks:De,rtl:k,trashcan:!0,zoom:{startScale:1}});H.ie.load(Fe.Nt,"win");H.ie.load(Fe.Gq,"fail");Md(m.I,"moveForward,moveBackward,turnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");
Ne();d=document.getElementById("runButton");e=document.getElementById("resetButton");e.style.minWidth||(e.style.minWidth=d.offsetWidth+"px");for(d=0;d<He;d++)for(e=0;e<Ie;e++)2==Ge[d][e]?Yd={x:e,y:d}:3==Ge[d][e]&&(Zd={x:e,y:d});Se(!0);L(H,function(){var q=Xa(H),r=document.getElementById("capacity");if(Infinity==q)r.style.display="none";else{r.style.display="inline";r.innerHTML="";q=Number(q);var u=document.createElement("span");u.className="capacityNumber";u.appendChild(document.createTextNode(q));
q=(0==q?S("Door_capacity0"):1==q?S("Door_capacity1"):S("Door_capacity2")).split(/%\d/);for(var v=0;v<q.length;v++)r.appendChild(document.createTextNode(q[v])),v!=q.length-1&&r.appendChild(u.cloneNode(!0))}});document.body.addEventListener("mousemove",$e,!0);Tc("runButton",Ve);Tc("resetButton",Xe);d=document.getElementById("dialogDoneButtons");e=document.createElement("img");e.id="pegSpin";e.src="common/1x1.gif";e.style.backgroundImage="url("+Fe.dm+")";d.parentNode.insertBefore(e,d);Hd();Id();Tc("helpButton",
af)});
