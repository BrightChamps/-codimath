// Automatically generated file.  Do not edit!
'use strict';var b,h=h||{};h.global=this||self;h.HJ=function(a){return void 0!==a};h.NJ=function(a){return"string"==typeof a};h.DJ=function(a){return"boolean"==typeof a};h.Vw=function(a){return"number"==typeof a};h.Zv=function(a,c,d){a=a.split(".");d=d||h.global;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===c?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=c};h.define=function(a,c){return c};h.hG=2012;h.Vg=!0;
h.HG="en";h.XA=!0;h.RA=!1;h.sz=!h.Vg;h.RF=!1;h.ZJ=function(a){if(h.Tw())throw Error("goog.provide cannot be used within a module.");h.Av(a)};h.Av=function(a,c){h.Zv(a,c)};h.sJ=function(a){if(a&&a!=h.global)return h.uw(a.document);null===h.bq&&(h.bq=h.uw(h.global.document));return h.bq};h.sA=/^[\w+/_-]+[=]{0,2}$/;h.bq=null;h.uw=function(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&h.sA.test(a)?a:""};h.aB=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
h.module=function(a){if("string"!==typeof a||!a||-1==a.search(h.aB))throw Error("Invalid module identifier");if(!h.Sw())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");
if(h.Hc.dl)throw Error("goog.module may only be called once per module.");h.Hc.dl=a};h.module.get=function(){return null};h.module.lJ=function(){return null};h.Hc=null;h.Tw=function(){return h.Sw()||h.yD()};h.Sw=function(){return!!h.Hc&&"goog"==h.Hc.type};h.yD=function(){if(h.Hc&&"es6"==h.Hc.type)return!0;var a=h.global.$jscomp;return a?"function"!=typeof a.Lq?!1:!!a.Lq():!1};h.module.eq=function(){h.Hc.eq=!0};
h.SI=function(a){if(h.Hc)h.Hc.dl=a;else{var c=h.global.$jscomp;if(!c||"function"!=typeof c.Lq)throw Error('Module with namespace "'+a+'" has been loaded incorrectly.');c=c.AE(c.Lq());h.ex[a]={exports:c,type:"es6",SD:a}}};h.uK=function(a){if(h.sz)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};h.cJ=function(){};h.pJ=function(a,c){a=a.split(".");c=c||h.global;for(var d=0;d<a.length;d++)if(c=c[a[d]],null==c)return null;return c};
h.wJ=function(a,c){c=c||h.global;for(var d in a)c[d]=a[d]};h.AI=function(){};h.SF=!0;h.gx=function(a){h.global.console&&h.global.console.error(a)};h.AE=function(){};h.iK=function(){return{}};h.uB="";h.VJ=function(){};h.zI=function(){throw Error("unimplemented abstract method");};h.BI=function(a){a.hr=void 0;a.kJ=function(){if(a.hr)return a.hr;h.Vg&&(h.Qw[h.Qw.length]=a);return a.hr=new a}};h.Qw=[];h.GG=!0;h.HA=h.Vg;h.ex={};h.LF=!1;h.jI="detect";h.vF=!1;h.kI="";h.WA="transpile.js";h.Wq=null;
h.mF=function(){if(null==h.Wq){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(c){a=!1}h.Wq=a}return h.Wq};h.qF=function(a){return"(function(){"+a+"\n;})();\n"};
h.PJ=function(a){var c=h.Hc;try{h.Hc={dl:"",eq:!1,type:"goog"};if(h.xD(a))var d=a.call(void 0,{});else if("string"===typeof a)h.mF()&&(a=h.qF(a)),d=h.KD.call(void 0,a);else throw Error("Invalid module definition");var e=h.Hc.dl;if("string"===typeof e&&e)h.Hc.eq?h.Av(e,d):h.HA&&Object.seal&&"object"==typeof d&&null!=d&&Object.seal(d),h.ex[e]={exports:d,type:"goog",SD:h.Hc.dl};else throw Error('Invalid module name "'+e+'"');}finally{h.Hc=c}};h.KD=function(a){eval(a);return{}};
h.UJ=function(a){a=a.split("/");for(var c=0;c<a.length;)"."==a[c]?a.splice(c,1):c&&".."==a[c]&&a[c-1]&&".."!=a[c-1]?a.splice(--c,2):c++;return a.join("/")};h.JD=function(a){if(h.global.cz)return h.global.cz(a);try{var c=new h.global.XMLHttpRequest;c.open("get",a,!1);c.send();return 0==c.status||200==c.status?c.responseText:null}catch(d){return null}};
h.EK=function(a,c,d){var e=h.global.$jscomp;e||(h.global.$jscomp=e={});var f=e.Os;if(!f){var g=h.uB+h.WA,k=h.JD(g);if(k){(function(){(0,eval)(k+"\n//# sourceURL="+g)}).call(h.global);if(h.global.$gwtExport&&h.global.$gwtExport.$jscomp&&!h.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(h.global.$gwtExport));h.global.$jscomp.Os=h.global.$gwtExport.$jscomp.transpile;e=h.global.$jscomp;f=e.Os}}f||(f=e.Os=function(l,
n){h.gx(n+" requires transpilation but no transpiler was found.");return l});return f(a,c,d)};
h.oo=function(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c};h.Hh=function(){return!1};h.IJ=function(a){return null!=a};h.isArray=function(a){return"array"==h.oo(a)};h.BJ=function(a){var c=h.oo(a);return"array"==c||"object"==c&&"number"==typeof a.length};h.GJ=function(a){return h.DD(a)&&"function"==typeof a.getFullYear};h.xD=function(a){return"function"==h.oo(a)};h.DD=function(a){var c=typeof a;return"object"==c&&null!=a||"function"==c};h.$C=function(a){return a[h.hh]||(a[h.hh]=++h.kF)};
h.xJ=function(a){return!!a[h.hh]};h.yE=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(h.hh);try{delete a[h.hh]}catch(c){}};h.hh="closure_uid_"+(1E9*Math.random()>>>0);h.kF=0;h.iJ=h.$C;h.cK=h.yE;h.PB=function(a){var c=h.oo(a);if("object"==c||"array"==c){if("function"===typeof a.clone)return a.clone();c="array"==c?[]:{};for(var d in a)c[d]=h.PB(a[d]);return c}return a};h.xB=function(a,c,d){return a.call.apply(a.bind,arguments)};
h.wB=function(a,c,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(c,f)}}return function(){return a.apply(c,arguments)}};h.bind=function(a,c,d){h.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?h.xB:h.wB;return h.bind.apply(null,arguments)};
h.XJ=function(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice();e.push.apply(e,arguments);return a.apply(this,e)}};h.Ve=function(a,c){for(var d in c)a[d]=c[d]};h.now=h.XA&&Date.now||function(){return+new Date};
h.vJ=function(a){if(h.global.execScript)h.global.execScript(a,"JavaScript");else if(h.global.eval){if(null==h.gn){try{h.global.eval("var _evalTest_ = 1;")}catch(e){}if("undefined"!=typeof h.global._evalTest_){try{delete h.global._evalTest_}catch(e){}h.gn=!0}else h.gn=!1}if(h.gn)h.global.eval(a);else{var c=h.global.document,d=c.createElement("SCRIPT");d.type="text/javascript";d.defer=!1;d.appendChild(c.createTextNode(a));c.head.appendChild(d);c.head.removeChild(d)}}else throw Error("goog.globalEval not available");
};h.gn=null;h.fJ=function(a,c){function d(g){g=g.split("-");for(var k=[],l=0;l<g.length;l++)k.push(e(g[l]));return k.join("-")}function e(g){return h.Hv[g]||g}if("."==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var f=h.Hv?"BY_WHOLE"==h.dC?e:d:function(g){return g};a=c?a+"-"+f(c):f(a);return h.global.bz?h.global.bz(a):a};h.qK=function(a,c){h.Hv=a;h.dC=c};
h.nJ=function(a,c,d){d&&d.yJ&&(a=a.replace(/</g,"&lt;"));c&&(a=a.replace(/\{\$([^}]+)}/g,function(e,f){return null!=c&&f in c?c[f]:e}));return a};h.oJ=function(a){return a};h.ZI=function(a,c,d){h.Zv(a,c,d)};h.YI=function(a,c,d){a[c]=d};h.S=function(a,c){function d(){}d.prototype=c.prototype;a.A=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.gv=function(e,f,g){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return c.prototype[f].apply(e,k)}};
h.gv=function(a,c,d){var e=arguments.callee.caller;if(h.RA||h.Vg&&!e)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if("undefined"!==typeof e.A){for(var f=Array(arguments.length-1),g=1;g<arguments.length;g++)f[g-1]=arguments[g];return e.A.constructor.apply(a,f)}if("string"!=typeof c&&"symbol"!=typeof c)throw Error("method names provided to goog.base must be a string or a symbol");f=Array(arguments.length-
2);for(g=2;g<arguments.length;g++)f[g-2]=arguments[g];g=!1;for(var k=a.constructor.prototype;k;k=Object.getPrototypeOf(k))if(k[c]===e)g=!0;else if(g)return k[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("goog.base called from a method of one name to a method of a different name");};h.scope=function(a){if(h.Tw())throw Error("goog.scope is not supported within a module.");a.call(h.global)};
h.vd=function(a,c){var d=c.constructor,e=c.ZE;d&&d!=Object.prototype.constructor||(d=function(){throw Error("cannot instantiate an interface (no constructor defined).");});d=h.vd.$B(d,a);a&&h.S(d,a);delete c.constructor;delete c.ZE;h.vd.ev(d.prototype,c);null!=e&&(e instanceof Function?e(d):h.vd.ev(d,e));return d};h.vd.GA=h.Vg;
h.vd.$B=function(a,c){function d(){var f=a.apply(this,arguments)||this;f[h.hh]=f[h.hh];this.constructor===d&&e&&Object.seal instanceof Function&&Object.seal(f);return f}if(!h.vd.GA)return a;var e=!h.vd.GD(c);return d};h.vd.GD=function(a){return a&&a.prototype&&a.prototype[h.YA]};h.vd.cu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
h.vd.ev=function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);for(var e=0;e<h.vd.cu.length;e++)d=h.vd.cu[e],Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])};h.BK=function(){};h.YA="goog_defineClass_legacy_unsealable";h.Mu="";h.rn=function(a){return a};h.aC=function(){var a=h.Mu+"#base",c=null,d=h.global.trustedTypes||h.global.qI;if(!d||!d.createPolicy)return c;try{c=d.createPolicy(a,{createHTML:h.rn,createScript:h.rn,createScriptURL:h.rn,RI:h.rn})}catch(e){h.gx(e.message)}return c};
h.nI=h.Mu?h.aC():null;
var m={g:{}};m.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
m.L={};m.g.global.Blockly||(m.g.global.Blockly={});m.g.global.Blockly.Msg||(m.g.global.Blockly.Msg=m.L);
m.Ri={};m.Qt=40;m.pu=125;m.vz=5;m.Jz=10;m.Zc=28;m.fz=m.Zc;m.iz=8;m.Fo=250;m.Go=10;m.dz=30;m.gA=750;m.KA=100;m.wz=!0;m.Sz=.45;m.Tz=.65;m.Bi={width:96,height:124,url:"sprites.png"};m.cb=1;m.Rd=2;m.Ma=3;m.Sd=4;m.lf=5;m.Bo=-1;m.Ao=0;m.$s=1;m.OF=0;m.PF=1;m.MF=1;m.NF=2;m.yi=[];m.yi[m.cb]=m.Rd;m.yi[m.Rd]=m.cb;m.yi[m.Ma]=m.Sd;m.yi[m.Sd]=m.Ma;m.eh=0;m.ck=1;m.Vd=2;m.dh=3;m.rt=null;m.Lo=1;m.st=2;m.Gi="VARIABLE";m.bB="VARIABLE_DYNAMIC";m.su="PROCEDURE";m.WH="RENAME_VARIABLE_ID";m.KF="DELETE_VARIABLE_ID";m.g.mb={};m.g.mb.parse=function(a){a=String(a).toLowerCase().trim();var c=m.g.mb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?m.g.mb.us(a,c,d):null};
m.g.mb.us=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};m.g.mb.Iw=function(a){a=m.g.mb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
m.g.mb.Mw=function(a){var c=m.Sz,d=255*m.Tz,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var n=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=n;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=n;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=n;break;case 6:case 0:e=d,f=c,g=a}}return m.g.mb.us(Math.floor(e),Math.floor(f),Math.floor(g))};
m.g.mb.Hp=function(a,c,d){a=m.g.mb.parse(a);if(!a)return null;c=m.g.mb.parse(c);if(!c)return null;a=m.g.mb.Iw(a);c=m.g.mb.Iw(c);return m.g.mb.us(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};m.g.mb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};m.g.P=function(a,c){this.x=a;this.y=c};m.g.P.Ef=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};m.g.P.pq=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};m.g.P.OD=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};m.g.P.Ak=function(a,c){return new m.g.P(a.x-c.x,a.y-c.y)};m.g.P.sum=function(a,c){return new m.g.P(a.x+c.x,a.y+c.y)};m.g.P.prototype.scale=function(a){this.x*=a;this.y*=a;return this};m.g.P.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};m.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};m.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};m.g.Da={};m.g.Da.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};m.g.Da.Ds=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};m.g.Da.uv=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||m.g.Da.Ds(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
m.g.Da.vv=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||m.g.Da.Ds(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};m.g.Da.zy=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=m.g.Da.sF(a[d],c);return a.join("\n")};
m.g.Da.sF=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,n=1;for(e=0;e<d.length-1;e++)n<(e+1.5)/l?(n++,a[e]=!0):a[e]=!1;a=m.g.Da.Ay(d,a,c);e=m.g.Da.Vs(d,a,c);a=m.g.Da.tF(d,a);f++}while(e>g);return k};
m.g.Da.Vs=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
m.g.Da.Ay=function(a,c,d){for(var e=m.g.Da.Vs(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=m.g.Da.Vs(a,k,d);l>e&&(e=l,f=k)}return f?m.g.Da.Ay(a,f,d):c};m.g.Da.tF=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};m.g.Ud=function(a,c){this.width=a;this.height=c};m.g.Ud.Ef=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};m.g.style={};m.g.style.Hf=function(a){if("none"!=m.g.style.yw(a,"display"))return m.g.style.ww(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new m.g.Ud(g,a)};m.g.style.ww=function(a){return new m.g.Ud(a.offsetWidth,a.offsetHeight)};m.g.style.yw=function(a,c){return m.g.style.getComputedStyle(a,c)||m.g.style.LC(a,c)||a.style&&a.style[c]};
m.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};m.g.style.LC=function(a,c){return a.currentStyle?a.currentStyle[c]:null};m.g.style.wh=function(a){var c=new m.g.P(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new m.g.P(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
m.g.style.bD=function(){var a=document.body,c=document.documentElement;return new m.g.P(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};m.g.style.rK=function(a,c){a.style.display=c?"":"none"};m.g.style.LJ=function(a){return"rtl"==m.g.style.yw(a,"direction")};
m.g.style.IC=function(a){var c=m.g.style.getComputedStyle(a,"borderLeftWidth"),d=m.g.style.getComputedStyle(a,"borderRightWidth"),e=m.g.style.getComputedStyle(a,"borderTopWidth");a=m.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};m.g.style.GE=function(a,c){a=m.g.style.OC(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
m.g.style.OC=function(a,c){var d=m.g.style.wh(a),e=m.g.style.wh(c),f=m.g.style.IC(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=m.g.style.ww(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new m.g.P(f,k)};m.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}m.g.userAgent.raw=a;var d=m.g.userAgent.raw.toUpperCase();m.g.userAgent.Pd=c("Trident")||c("MSIE");m.g.userAgent.Wg=c("Edge");m.g.userAgent.bA=c("JavaFX");m.g.userAgent.CF=(c("Chrome")||c("CriOS"))&&!m.g.userAgent.Wg;m.g.userAgent.xp=c("WebKit")&&!m.g.userAgent.Wg;m.g.userAgent.Nz=c("Gecko")&&!m.g.userAgent.xp&&!m.g.userAgent.Pd&&!m.g.userAgent.Wg;m.g.userAgent.Vl=c("Android");m.g.userAgent.Rj=c("iPad");m.g.userAgent.Nt=c("iPod");m.g.userAgent.Mt=
c("iPhone")&&!m.g.userAgent.Rj&&!m.g.userAgent.Nt;m.g.userAgent.hA=c("Macintosh");m.g.userAgent.TA=m.g.userAgent.Rj||m.g.userAgent.Vl&&!c("Mobile")||c("Silk");m.g.userAgent.PG=!m.g.userAgent.TA&&(m.g.userAgent.Nt||m.g.userAgent.Mt||m.g.userAgent.Vl||c("IEMobile"))})(m.g.global.navigator&&m.g.global.navigator.userAgent||"");
m.g.eE=function(a){a.preventDefault();a.stopPropagation()};m.g.Cn=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
m.g.je=function(a){var c=new m.g.P(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(m.g.je.eB))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(m.g.je.fB))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
m.g.Lk=function(a){for(var c=0,d=0;a;){var e=m.g.je(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new m.g.P(c,d)};m.g.je.eB=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;m.g.je.fB=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;m.g.Xk=function(a){return a.ctrlKey&&m.g.userAgent.hA?!0:2==a.button};
m.g.fl=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};m.g.vw=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*m.Qt,y:a.deltaY*m.Qt};case 2:return{x:a.deltaX*m.pu,y:a.deltaY*m.pu}}};m.g.eF=function(a){return m.g.Ls(a,!0)};m.g.Wc=function(a){if("string"!=typeof a)return a;a=m.g.Ls(a,!1);return a.length?String(a[0]):""};
m.g.ov=function(a){for(var c=m.L,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
m.g.Ls=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=m.g.Da.startsWith(l,"BKY_")?
l.substring(4):null)&&l in m.L?(f=m.L[l],"string"==typeof f?Array.prototype.push.apply(d,m.g.Ls(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};m.g.Ff=function(){for(var a=m.g.Ff.Yx.length,c=[],d=0;20>d;d++)c[d]=m.g.Ff.Yx.charAt(Math.random()*a);return c.join("")};
m.g.Ff.Yx="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
m.g.Ch=function(){if(void 0!==m.g.Ch.Op)return m.g.Ch.Op;if(!m.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=m.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
m.g.Ch.Op="none"!==c;return m.g.Ch.Op};m.g.Sx=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};m.g.aD=function(){var a=m.g.style.bD();return new m.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
m.g.hk=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};m.g.TC=function(){var a=document.documentElement,c=window;return m.g.userAgent.Pd&&c.pageYOffset!=a.scrollTop?new m.g.P(a.scrollLeft,a.scrollTop):new m.g.P(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};m.g.Hq=function(a,c){var d=Object.create(null),e=t(a,!0);c&&(a=v(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
m.g.FE=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new m.g.P(d-e.left,c-e.top);c=m.g.Lk(a.qb);return m.g.P.Ak(d,c).scale(1/a.scale)};m.g.Xn=function(a){var c="string"==typeof a?m.g.Wc(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{oD:d,Ok:m.g.mb.Mw(d)};if(d=m.g.mb.parse(c))return{oD:null,Ok:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};m.h={};m.h.Cw="";m.h.ec=!0;m.h.lq=0;m.h.em="create";m.h.Do=m.h.em;m.h.Lj="delete";m.h.gt=m.h.Lj;m.h.Jj="change";m.h.Vy=m.h.Jj;m.h.Vj="move";m.h.ht=m.h.Vj;m.h.Pu="var_create";m.h.Qu="var_delete";m.h.Su="var_rename";m.h.Dm="ui";m.h.cm="comment_create";m.h.nt="comment_delete";m.h.mt="comment_change";m.h.dm="comment_move";m.h.Dt="finished_loading";m.h.Yy=[m.h.Do,m.h.ht,m.h.cm,m.h.dm];m.h.Pj=[];m.h.Ia=function(a){m.h.isEnabled()&&(m.h.Pj.length||setTimeout(m.h.AC,0),m.h.Pj.push(a))};
m.h.AC=function(){for(var a=m.h.filter(m.h.Pj,!0),c=m.h.Pj.length=0,d;d=a[c];c++)if(d.sb){var e=m.kb.Ik(d.sb);if(e){var f=d;if(f.ec)for(e.Fj.push(f),e.ao.length=0;e.Fj.length>e.Tt&&0<=e.Tt;)e.Fj.shift();for(var g=0;d=e.Gc[g];g++)d(f)}}};
m.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.Hh()){var k=[g.type,g.cc,g.sb].join(" "),l=e[k],n=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==m.h.Vj&&l.index==f-1)n.Rh=g.Rh,n.Qh=g.Qh,n.Cg=g.Cg,l.index=f;else if(g.type==m.h.Jj&&g.element==n.element&&g.name==n.name)n.newValue=g.newValue;else if(g.type!=m.h.Dm||"click"!=g.element||"commentOpen"!=n.element&&"mutatorOpen"!=n.element&&"warningOpen"!=n.element)e[k]={event:g,
index:1},d.push(g)}a=d.filter(function(p){return!p.Hh()});c||a.reverse();for(f=1;g=a[f];f++)g.type==m.h.Jj&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};m.h.JI=function(){for(var a=0,c;c=m.h.Pj[a];a++)c.ec=!1};m.h.disable=function(){m.h.lq++};m.h.enable=function(){m.h.lq--};m.h.isEnabled=function(){return 0==m.h.lq};m.h.Pb=function(){return m.h.Cw};m.h.la=function(a){m.h.Cw="boolean"==typeof a?a?m.g.Ff():"":a};
m.h.kw=function(a){var c=[];a=t(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};
m.h.ra=function(a){switch(a.type){case m.h.em:var c=new m.h.Nd(null);break;case m.h.Lj:c=new m.h.xe(null);break;case m.h.Jj:c=new m.h.Xf(null,"","","","");break;case m.h.Vj:c=new m.h.$g(null);break;case m.h.Pu:c=new m.h.rd(null);break;case m.h.Qu:c=new m.h.Wd(null);break;case m.h.Su:c=new m.h.Ce(null,"");break;case m.h.Dm:c=new m.h.ac(null,"","","");break;case m.h.cm:c=new m.h.hf(null);break;case m.h.mt:c=new m.h.mi(null,"","");break;case m.h.dm:c=new m.h.Ug(null);break;case m.h.nt:c=new m.h.jf(null);
break;case m.h.Dt:c=new m.h.pi(void 0);break;default:throw Error("Unknown event type.");}c.ra(a);c.sb=(void 0).id;return c};m.h.UI=function(a){if((a.type==m.h.Vj||a.type==m.h.em)&&a.sb){var c=m.kb.Ik(a.sb);if(a=c.Bc(a.cc)){var d=a.getParent();if(d&&d.isEnabled())for(c=t(a,!1),a=0;d=c[a];a++)d.$e(!0);else if((a.K||a.R)&&!c.fd()){do a.$e(!1),a=v(a);while(a)}}}};
m.h.Abstract=function(){this.sb=void 0;this.group=m.h.Pb();this.ec=m.h.ec};m.h.Abstract.prototype.Na=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};m.h.Abstract.prototype.ra=function(a){this.group=a.group};m.h.Abstract.prototype.Hh=function(){return!1};m.h.Abstract.prototype.run=function(){};function ca(a){if(a.sb)var c=m.kb.Ik(a.sb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};m.g.object={};m.g.object.S=function(a,c){a.A=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};m.g.object.Ve=function(a,c){for(var d in c)a[d]=c[d]};m.g.object.Ui=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?m.g.object.Ui(a[d]||Object.create(null),c[d]):c[d];return a};m.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};m.g.xml={};m.g.xml.qA="https://developers.google.com/blockly/xml";m.g.xml.document=function(){return document};m.g.xml.createElement=function(a){return m.g.xml.document().createElementNS(m.g.xml.qA,a)};m.g.xml.createTextNode=function(a){return m.g.xml.document().createTextNode(a)};m.g.xml.bF=function(a){return(new DOMParser).parseFromString(a,"text/xml")};m.g.xml.fe=function(a){return(new XMLSerializer).serializeToString(a)};m.h.ve=function(a){m.h.ve.A.constructor.call(this);this.cc=a.id;this.sb=a.C.id};m.g.object.S(m.h.ve,m.h.Abstract);m.h.ve.prototype.Na=function(){var a=m.h.ve.A.Na.call(this);a.blockId=this.cc;return a};m.h.ve.prototype.ra=function(a){m.h.ve.A.ra.call(this,a);this.cc=a.blockId};m.h.Xf=function(a,c,d,e,f){a&&(m.h.Xf.A.constructor.call(this,a),this.element=c,this.name=d,this.oldValue=e,this.newValue=f)};m.g.object.S(m.h.Xf,m.h.ve);m.h.li=m.h.Xf;b=m.h.Xf.prototype;b.type=m.h.Jj;
b.Na=function(){var a=m.h.Xf.A.Na.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};b.ra=function(a){m.h.Xf.A.ra.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};b.Hh=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=ca(this).Bc(this.cc);if(c)switch(c.me&&c.me.Qb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=da(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.wj(a||null);break;case "collapsed":c.Kg(!!a);break;case "disabled":c.$e(!a);break;case "inline":c.Yh(!!a);break;case "mutation":var d="";c.Ed&&(d=(d=c.Ed())&&m.N.fe(d));if(c.Df){var e=m.N.ci(a||"<mutation/>");c.Df(e)}m.h.Ia(new m.h.Xf(c,"mutation",null,
d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.cc)};m.h.Nd=function(a){a&&(m.h.Nd.A.constructor.call(this,a),this.xml=a.C.ma?m.N.Jp(a):m.N.vf(a),this.Ah=m.h.kw(a))};m.g.object.S(m.h.Nd,m.h.ve);m.h.$l=m.h.Nd;m.h.Nd.prototype.type=m.h.em;m.h.Nd.prototype.Na=function(){var a=m.h.Nd.A.Na.call(this);a.xml=m.N.fe(this.xml);a.ids=this.Ah;return a};
m.h.Nd.prototype.ra=function(a){m.h.Nd.A.ra.call(this,a);this.xml=m.N.ci(a.xml);this.Ah=a.ids};m.h.Nd.prototype.run=function(a){var c=ca(this);if(a)a=m.g.xml.createElement("xml"),a.appendChild(this.xml),m.N.Bk(a,c);else{a=0;for(var d;d=this.Ah[a];a++){var e=c.Bc(d);e?e.F(!1):d==this.cc&&console.warn("Can't uncreate non-existent block: "+d)}}};
m.h.xe=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");m.h.xe.A.constructor.call(this,a);this.Qr=a.C.ma?m.N.Jp(a):m.N.vf(a);this.Ah=m.h.kw(a)}};m.g.object.S(m.h.xe,m.h.ve);m.h.Zy=m.h.xe;m.h.xe.prototype.type=m.h.Lj;m.h.xe.prototype.Na=function(){var a=m.h.xe.A.Na.call(this);a.ids=this.Ah;return a};m.h.xe.prototype.ra=function(a){m.h.xe.A.ra.call(this,a);this.Ah=a.ids};
m.h.xe.prototype.run=function(a){var c=ca(this);if(a){a=0;for(var d;d=this.Ah[a];a++){var e=c.Bc(d);e?e.F(!1):d==this.cc&&console.warn("Can't delete non-existent block: "+d)}}else a=m.g.xml.createElement("xml"),a.appendChild(this.Qr),m.N.Bk(a,c)};m.h.$g=function(a){a&&(m.h.$g.A.constructor.call(this,a),a=ea(this),this.vx=a.Bx,this.ux=a.Nw,this.Nr=a.Fv)};m.g.object.S(m.h.$g,m.h.ve);m.h.Ij=m.h.$g;b=m.h.$g.prototype;b.type=m.h.Vj;
b.Na=function(){var a=m.h.$g.A.Na.call(this);this.Rh&&(a.newParentId=this.Rh);this.Qh&&(a.newInputName=this.Qh);this.Cg&&(a.newCoordinate=Math.round(this.Cg.x)+","+Math.round(this.Cg.y));return a};b.ra=function(a){m.h.$g.A.ra.call(this,a);this.Rh=a.newParentId;this.Qh=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Cg=new m.g.P(Number(a[0]),Number(a[1])))};b.Uh=function(){var a=ea(this);this.Rh=a.Bx;this.Qh=a.Nw;this.Cg=a.Fv};
function ea(a){var c=ca(a).Bc(a.cc);a={};var d=c.getParent();if(d){if(a.Bx=d.id,c=fa(d,c))a.Nw=c.name}else a.Fv=c.Pa();return a}b.Hh=function(){return this.vx==this.Rh&&this.ux==this.Qh&&m.g.P.Ef(this.Nr,this.Cg)};
b.run=function(a){var c=ca(this),d=c.Bc(this.cc);if(d){var e=a?this.Rh:this.vx,f=a?this.Qh:this.ux;a=a?this.Cg:this.Nr;var g=null;if(e&&(g=c.Bc(e),!g)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&w(d);if(a)f=d.Pa(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.K||d.R;if(f){if(c=ha(g,f))var k=c.connection}else d.type==m.Sd&&(k=g.V);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.cc)};m.v=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Ol=a;this.kj=m.v.wD(a);this.ka=c;this.vo=null;(a=d||null)&&a.By&&(this.vo=a.By)};m.v.types={Nb:"field",Yc:"block",md:"input",ah:"output",od:"next",qd:"previous",ze:"stack",De:"workspace"};m.v.eg=!1;m.v.pz=-20;m.v.wD=function(a){switch(a){case m.v.types.qd:case m.v.types.od:case m.v.types.md:case m.v.types.ah:return!0}return!1};m.v.tk=function(a){return a?new m.v(m.v.types.Nb,a):null};
m.v.Me=function(a){return a?a.type==m.cb||a.type==m.Ma&&a.Qe()?m.v.mh(a.Qe()):a.type==m.Ma?new m.v(m.v.types.od,a):a.type==m.Rd?new m.v(m.v.types.ah,a):a.type==m.Sd?new m.v(m.v.types.qd,a):null:null};m.v.mh=function(a){return a&&a.connection?new m.v(m.v.types.md,a.connection):null};m.v.Le=function(a){return a?new m.v(m.v.types.Yc,a):null};m.v.wk=function(a){return a?new m.v(m.v.types.ze,a):null};m.v.Si=function(a,c){return c&&a?new m.v(m.v.types.De,a,{By:c}):null};
m.v.$p=function(a){var c=a.R||a.K;return c?m.v.Me(c):m.v.Le(a)};b=m.v.prototype;b.Qa=function(){return this.Ol};function ia(a,c){a=a.ka;a instanceof m.Jc||(a=a.T());if(!a||!a.C)return null;var d=a.Dc();a=d.C.Hb(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:m.v.wk(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function ja(a){if(!a)return null;do var c=a.R&&a.R.pa();while(c&&v(c)==a&&(a=c));return(c=a.R||a.K)&&c.ea&&c.ea.Qe()?m.v.mh(c.ea.Qe()):m.v.wk(a)}b.T=function(){return this.Qa()===m.v.types.Yc?this.ka:this.Qa()===m.v.types.ze?this.ka:this.Qa()===m.v.types.De?null:this.ka.T()};
b.next=function(){switch(this.Ol){case m.v.types.ze:return ia(this,!0);case m.v.types.ah:var a=this.ka;return m.v.Le(a.T());case m.v.types.Nb:a:{var c=this.ka,d=c.Qe();a=c.T();c=d.$a.indexOf(c)+1;d=a.O.indexOf(d);for(var e;e=a.O[d];d++){for(var f=e.$a;c<f.length;){if(ka(f[c])||m.v.eg){a=m.v.tk(f[c]);break a}c++}c=0;if(e.connection){a=m.v.mh(e);break a}}a=null}return a;case m.v.types.md:a:{c=this.ka.Qe();a=c.T();for(c=a.O.indexOf(c)+1;d=a.O[c];c++){e=d.$a;f=0;for(var g;g=e[f];f++)if(ka(g)||m.v.eg){a=
m.v.tk(g);break a}if(d.connection){a=m.v.mh(d);break a}}a=null}return a;case m.v.types.Yc:return m.v.Me(this.ka.V);case m.v.types.qd:return a=this.ka,m.v.Le(a.T());case m.v.types.od:return a=this.ka,m.v.Me(a.ea)}return null};
b.Te=function(){switch(this.Ol){case m.v.types.De:var a=this.ka.Hb(!0);if(0<a.length)return m.v.wk(a[0]);break;case m.v.types.ze:a=this.ka;var c=a.R||a.K;return c?m.v.Me(c):m.v.Le(a);case m.v.types.Yc:a=this.ka;a:{a=a.O;c=0;for(var d;d=a[c];c++){for(var e=d.$a,f=0,g;g=e[f];f++)if(ka(g)||m.v.eg){a=m.v.tk(g);break a}if(d.connection){a=m.v.mh(d);break a}}a=null}return a;case m.v.types.md:return m.v.Me(this.ka.ea)}return null};
b.Id=function(){switch(this.Ol){case m.v.types.ze:return ia(this,!1);case m.v.types.Nb:a:{var a=this.ka;var c=a.Qe();var d=a.T();a=c.$a.indexOf(a)-1;for(var e=d.O.indexOf(c),f;f=d.O[e];e--){if(f.connection&&f!==c){c=m.v.mh(f);break a}for(f=f.$a;-1<a;){if(ka(f[a])||m.v.eg){c=m.v.tk(f[a]);break a}a--}0<=e-1&&(a=d.O[e-1].$a.length-1)}c=null}return c;case m.v.types.md:a:{c=this.ka.Qe();d=c.T();for(a=d.O.indexOf(c);e=d.O[a];a--){if(e.connection&&e!==c){c=m.v.mh(e);break a}e=e.$a;f=e.length-1;for(var g;g=
e[f];f--)if(ka(g)||m.v.eg){c=m.v.tk(g);break a}}c=null}return c;case m.v.types.Yc:return c=this.ka,m.v.Me(c.R||c.K);case m.v.types.qd:c=this.ka;if((c=c.ea)&&!c.Qe())return m.v.Me(c);break;case m.v.types.od:return c=this.ka,m.v.Le(c.T())}return null};
b.We=function(){switch(this.Ol){case m.v.types.ze:var a=this.ka,c=a.Pa();return m.v.Si(a.C,new m.g.P(c.x,c.y+m.v.pz));case m.v.types.ah:return a=this.ka,(c=a.ea)?m.v.Me(c):m.v.wk(a.T());case m.v.types.Nb:return m.v.Le(this.ka.T());case m.v.types.md:return a=this.ka,m.v.Le(a.T());case m.v.types.Yc:return a=this.ka,ja(a);case m.v.types.qd:return a=this.ka,ja(a.T());case m.v.types.od:return a=this.ka,ja(a.T())}return null};m.g.j={};m.g.j.Am="http://www.w3.org/2000/svg";m.g.j.Po="http://www.w3.org/1999/xhtml";m.g.j.Mc="http://www.w3.org/1999/xlink";m.g.j.pf={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};m.g.j.Yd=null;m.g.j.Mp=0;m.g.j.Lm=null;m.g.j.J=function(a,c,d){a=document.createElementNS(m.g.j.Am,a);for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
m.g.j.Db=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};m.g.j.hd=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};m.g.j.Xq=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};
m.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};m.g.j.ij=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};m.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&m.g.j.pf.DOCUMENT_POSITION_CONTAINED_BY)};m.g.j.ul=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};m.g.j.Dl=function(){m.g.j.Mp++;m.g.j.Yd||(m.g.j.Yd={})};
m.g.j.El=function(){m.g.j.Mp--;m.g.j.Mp||(m.g.j.Yd=null)};m.g.j.uJ=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(m.g.j.Yd&&(d=m.g.j.Yd[c]))return d;try{d=m.g.userAgent.Pd||m.g.userAgent.Wg?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}m.g.j.Yd&&(m.g.j.Yd[c]=d);return d};m.g.j.Mq=function(a,c,d,e){return m.g.j.UC(a,c+"pt",d,e)};
m.g.j.UC=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(m.g.j.Yd&&(g=m.g.j.Yd[a]))return g;m.g.j.Lm||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),m.g.j.Lm=g.getContext("2d"));m.g.j.Lm.font=d+" "+c+" "+e;g=m.g.j.Lm.measureText(f).width;m.g.j.Yd&&(m.g.j.Yd[a]=g);return g};
m.g.j.PD=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.Xd=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};m.Za={};m.Za.nq=0;m.Za.Ym=null;m.Za.oC=function(a){var c=a.C,d=a.oa();c.Nc.play("delete");a=la(c,d);d=d.cloneNode(!0);d.iF=a.x;d.jF=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");x(c).appendChild(d);d.fv=d.getBBox();m.Za.Uv(d,c.H,new Date,c.scale)};m.Za.Uv=function(a,c,d,e){var f=(new Date-d)/150;1<f?m.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.iF+(c?-1:1)*a.fv.width*e/2*f)+","+(a.jF+a.fv.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(m.Za.Uv,10,a,c,d,e))};
m.Za.VB=function(a){var c=a.C,d=c.scale;c.Nc.play("click");if(!(1>d)){var e=la(c,a.oa());a.K?(e.x+=(a.H?3:-3)*d,e.y+=13*d):a.R&&(e.x+=(a.H?-23:23)*d,e.y+=3*d);a=m.g.j.J("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},x(c));m.Za.zv(a,new Date,d)}};m.Za.zv=function(a,c,d){var e=(new Date-c)/150;1<e?m.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,m.Za.nq=setTimeout(m.Za.zv,10,a,c,d))};
m.Za.nC=function(a){a.C.Nc.play("disconnect");if(!(1>a.C.scale)){var c=z(a).height;c=Math.atan(10/c)/Math.PI*180;a.H||(c*=-1);m.Za.Tv(a.oa(),c,new Date)}};m.Za.Tv=function(a,c,d){var e=(new Date-d)/200;1<e?a.Bl="":(a.Bl="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",m.Za.Ym=a,m.Za.nq=setTimeout(m.Za.Tv,10,a,c,d));a.setAttribute("transform",a.Ml+a.Bl)};m.Za.oq=function(){if(m.Za.Ym){clearTimeout(m.Za.nq);var a=m.Za.Ym;a.Bl="";a.setAttribute("transform",a.Ml);m.Za.Ym=null}};m.h.ac=function(a,c,d,e){m.h.ac.A.constructor.call(this);this.cc=a?a.id:null;this.sb=a?a.C.id:void 0;this.element=c;this.oldValue=d;this.newValue=e;this.ec=!1};m.g.object.S(m.h.ac,m.h.Abstract);m.h.ac.prototype.type=m.h.Dm;m.h.ac.prototype.Na=function(){var a=m.h.ac.A.Na.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.cc&&(a.blockId=this.cc);return a};
m.h.ac.prototype.ra=function(a){m.h.ac.A.ra.call(this,a);this.element=a.element;this.newValue=a.newValue;this.cc=a.blockId};
m.Qd=function(a){this.Uf=m.selected=a;this.o=a.C;this.oj=this.kr=null;this.Gk=ma(this,this.Uf);this.pc=this.vb=null;this.ff=!1;this.Ek=this.$q=this.Lh=null;this.Jm=na(this)};m.Qd.zi={Uo:0,Yz:1,zu:2};m.Qd.prototype.F=function(){this.Jm.length=0;m.h.disable();try{this.Gk&&this.Gk.F(),this.oj&&this.oj.F()}finally{m.h.enable()}};
m.Qd.prototype.update=function(a,c){var d=this.vb&&this.pc?m.fz:m.Zc;for(var e=null,f=null,g=0;g<this.Jm.length;g++){var k=this.Jm[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.$n)}e=(d={closest:e,local:f,$n:d},!!d.closest)&&c!=m.st;if((this.ff=!!c&&!this.Uf.getParent()&&this.Uf.ed()&&!e)||oa(this,d,a)){m.h.disable();d.closest?(a=this.vb!=d.closest,c=this.pc!=d.local,this.vb&&this.pc&&(a||c||this.ff)&&pa(this)):pa(this);this.pc=this.vb=this.Lh=null;if(!this.ff&&(a=d.closest,c=d.local,
a))if(a==this.vb||a.T().ke())console.log("Trying to connect to an insertion marker");else{this.vb=a;this.pc=c;a=this.vb;d=this.pc;c=this.Uf;d.type==m.Rd||d.type==m.Sd?((e=!a.isConnected())||(e=a.pa(),d.type==m.Rd?(d=e.K,c=m.ga.Zw(c,e)):(d=e.R,c=c.Fn()),e=c?qa(d,c):!1),c=e?m.Qd.zi.Uo:m.Qd.zi.zu):c=m.Qd.zi.Uo;switch(c){case m.Qd.zi.Yz:this.$q=this.vb.T();break;case m.Qd.zi.Uo:e=this.pc;c=this.vb;d=this.kr&&e==this.kr?this.oj:this.Gk;e=d.Nq(e.T(),e);if(e==this.Lh)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");
d.Ca();d.ma=!0;d.oa().setAttribute("visibility","visible");e&&c&&ra(d,e,c);c&&e.connect(c);this.Lh=e;break;case m.Qd.zi.zu:this.Ek=this.vb.pa(),sa(this.Ek.xb,"blocklyReplaceable",!0)}a&&(d=a.I.C.fb.X(),c=ta(d,a),a.type==m.cb||a.type==m.Rd?(d=d.Ei,c=m.g.u.moveBy(0,-d)+m.g.u.U("v",d)+c.Hd+m.g.u.U("v",d)):(d=d.Xj-d.jb,c=m.g.u.moveBy(-d,0)+m.g.u.U("h",d)+c.Gg+m.g.u.U("h",d)),d=a.I.Pa(),m.ga.Lw=m.g.j.J("path",{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+
")"+(a.I.H?" scale(-1 1)":"")},a.I.oa()))}m.h.enable()}};function ma(a,c){var d=c.type;m.h.disable();try{var e=a.o.Jr(d);e.Vx(!0);if(c.Ed){var f=c.Ed();f&&e.Df(f)}for(a=0;a<c.O.length;a++){var g=c.O[a];if(g.name!=m.Jc.Kj){var k=e.O[a];for(d=0;d<g.$a.length;d++)k.$a[d].setValue(g.$a[d].getValue())}}e.Kg(c.isCollapsed());e.Yh(ua(c));e.hj();e.oa().setAttribute("visibility","hidden")}finally{m.h.enable()}return e}
function na(a){var c=a.Uf.ie(!1),d=a.Uf.Fn();d&&d!=a.Uf.V&&(c.push(d),a.kr=d,a.oj=ma(a,d.T()));return c}
function oa(a,c,d){var e=c.local,f=c.closest;c=c.$n;if(e&&f){if(a.pc&&a.vb){if(a.vb==f&&a.pc==e)return!1;e=a.pc.x+d.x-a.vb.x;a=a.pc.y+d.y-a.vb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-m.iz)}if(a.pc||a.vb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.pc||!a.vb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function pa(a){a.vb&&a.vb.pa()&&(m.g.j.removeNode(m.ga.Lw),delete m.ga.Lw);if(a.Ek)sa(a.Ek.xb,"blocklyReplaceable",!1),a.Ek=null;else if(a.$q)a.$q=null;else if(a.Lh)if(a.Lh){var c=a.Lh,d=c.T(),e=d.V,f=d.R,g=d.K;g=c.type==m.cb&&!(g&&g.ea);!(c!=e||f&&f.ea)||g?w(c.pa(),!1):c.type==m.Ma&&c!=e?(e=c.ea,w(e.T(),!1),f=f?f.ea:null,w(d,!0),f&&f.connect(e)):w(d,!0);if(c.ea)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Lh=null;d.oa().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
m.Qd.prototype.$i=function(){var a=[];this.Gk&&a.push(this.Gk);this.oj&&a.push(this.oj);return a};m.Sg=function(a,c){this.eb=a;this.o=c;this.Pe=new m.Qd(this.eb);this.oh=null;this.ff=!1;this.cf=this.eb.Pa();this.cn=m.Sg.sD(a)};m.Sg.prototype.F=function(){this.cn.length=0;this.Pe&&this.Pe.F()};m.Sg.sD=function(a){var c=[];a=t(a,!1);for(var d=0,e;e=a[d];d++){e=va(e);for(var f=0;f<e.length;f++){var g={location:e[f].jJ(),icon:e[f]};c.push(g)}}return c};
function wa(a,c,d){d=a.sj(d);var e=m.g.P.sum(a.cf,d);a.eb.Hr(e);for(e=0;e<a.cn.length;e++){var f=a.cn[e];f.icon.sK(m.g.P.sum(f.location,d))}a.oh=xa(a.o,c);a.Pe.update(d,a.oh);a.ff=a.Pe.ff;c=a.o.jc;a.ff?(ya(a.eb,!0),a.oh==m.Lo&&c&&Aa(c,!0)):(ya(a.eb,!1),c&&Aa(c,!1))}
function Ba(a,c,d){wa(a,c,d);a.cn=[];c=new m.h.ac(a.eb,"dragStop",t(a.eb,!1),null);m.h.Ia(c);m.g.j.El();m.Za.oq();d=a.sj(d);c=m.g.P.sum(a.cf,d);var e=a.eb;e.Sl&&(e.translate(c.x,c.y),e.C.$c.Nm(e.C.qb));c=a.o.jc;a.ff?(c&&setTimeout(c.close.bind(c),100),a.Fk(),a.eb.F(!1,!0),m.Yi=[]):c&&c.close();a.ff||(Ca(a.eb,d.x,d.y),a.eb.Lg(!1),a.Fk(),a.Pe.vb?(d=a.Pe,d.vb&&(m.h.disable(),pa(d),m.h.enable(),d.pc.connect(d.vb),d.Uf.ma&&(m.Za.VB((A(d.pc)?d.vb:d.pc).T()),Da(d.Uf.Dc())))):a.eb.Ca(),Ea(a.eb));a.o.Xb(!0);
(d=a.o.ta)&&"function"==typeof d.ns&&d.ns(a.eb.ed()?"blocklyToolboxDelete":"blocklyToolboxGrab");m.h.la(!1)}m.Sg.prototype.Fk=function(){var a=new m.h.Ij(this.eb);a.Nr=this.cf;a.Uh();m.h.Ia(a)};m.Sg.prototype.sj=function(a){a=new m.g.P(a.x/this.o.scale,a.y/this.o.scale);this.o.An&&a.scale(1/this.o.options.Uc.scale);return a};m.Sg.prototype.$i=function(){return this.Pe&&this.Pe.$i?this.Pe.$i():[]};m.Touch={};m.Touch.Lu="ontouchstart"in m.g.global||!!(m.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!m.g.global.navigator||!m.g.global.navigator.maxTouchPoints&&!m.g.global.navigator.msMaxTouchPoints);m.Touch.Ll=null;m.Touch.Ae={};
m.g.global.PointerEvent?m.Touch.Ae={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:m.Touch.Lu&&(m.Touch.Ae={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});m.Gn=0;
m.ND=function(a,c){m.zg();a.changedTouches&&1!=a.changedTouches.length||(m.Gn=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&Fa(c,a)},m.gA))};m.zg=function(){m.Gn&&(clearTimeout(m.Gn),m.Gn=0)};m.Touch.Om=function(){m.Touch.Ll=null};m.Touch.Es=function(a){return!m.Touch.BD(a)||m.Touch.MB(a)};
m.Touch.mn=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};m.Touch.MB=function(a){var c=m.Touch.mn(a);return void 0!==m.Touch.Ll&&null!==m.Touch.Ll?m.Touch.Ll==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(m.Touch.Ll=c,!0):!1};
m.Touch.JE=function(a){if(m.g.Da.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};m.Touch.BD=function(a){return m.g.Da.startsWith(a.type,"touch")||m.g.Da.startsWith(a.type,"mouse")||m.g.Da.startsWith(a.type,"pointer")};m.Touch.En=function(a){return m.g.Da.startsWith(a.type,"touch")||m.g.Da.startsWith(a.type,"pointer")};
m.Touch.UE=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};
m.g.QG=function(){};
m.$j=function(a){this.o=a;this.yd=new m.Ha(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.Ld=new m.Ha(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.qk=m.g.j.J("rect",{height:m.Ha.fc,width:m.Ha.fc,"class":"blocklyScrollbarBackground"},null);m.g.j.ij(this.qk,a.Sf);this.pb=null};m.$j.prototype.F=function(){m.g.j.removeNode(this.qk);this.pb=this.o=this.qk=null;this.yd.F();this.yd=null;this.Ld.F();this.Ld=null};
m.$j.prototype.resize=function(){var a=this.o.wd();if(a){var c=!1,d=!1;this.pb&&this.pb.rb==a.rb&&this.pb.Ab==a.Ab&&this.pb.xc==a.xc&&this.pb.lc==a.lc?(this.pb&&this.pb.Ke==a.Ke&&this.pb.Bb==a.Bb&&this.pb.zc==a.zc||(c=!0),this.pb&&this.pb.ud==a.ud&&this.pb.Mb==a.Mb&&this.pb.oc==a.oc||(d=!0)):d=c=!0;c&&this.yd.resize(a);d&&this.Ld.resize(a);this.pb&&this.pb.rb==a.rb&&this.pb.lc==a.lc||this.qk.setAttribute("x",this.Ld.position.x);this.pb&&this.pb.Ab==a.Ab&&this.pb.xc==a.xc||this.qk.setAttribute("y",
this.yd.position.y);this.pb=a}};m.$j.prototype.set=function(a,c){var d={};a*=this.yd.ratio;c*=this.Ld.ratio;var e=this.Ld.Jd,f=a/this.yd.Jd;d.x=isNaN(f)?0:f;e=c/e;d.y=isNaN(e)?0:e;this.o.vl(d);Ga(this.yd,a);Ga(this.Ld,c)};
m.Ha=function(a,c,d,e){this.o=a;this.rj=d||!1;this.zh=c;this.ratio=this.pb=null;this.rk(e);this.position=new m.g.P(0,0);a=m.Ha.fc;c?(this.hc.setAttribute("height",a),this.Xe.setAttribute("height",a),this.Xc.setAttribute("height",a-5),this.Xc.setAttribute("y",2.5),this.Yk="width",this.Fx="x"):(this.hc.setAttribute("width",a),this.Xe.setAttribute("width",a),this.Xc.setAttribute("width",a-5),this.Xc.setAttribute("x",2.5),this.Yk="height",this.Fx="y");this.yx=m.wa(this.hc,"mousedown",this,this.iE);this.zx=
m.wa(this.Xc,"mousedown",this,this.jE)};b=m.Ha.prototype;b.Vr=new m.g.P(0,0);b.$x=0;b.Jd=0;b.qg=0;b.Nk=0;b.Mf=!0;b.kh=!0;m.Ha.fc=15;m.Touch.Lu&&(m.Ha.fc=25);m.Ha.QD=function(a,c){return a&&c&&a.rb==c.rb&&a.Ab==c.Ab&&a.Bb==c.Bb&&a.Mb==c.Mb&&a.xc==c.xc&&a.lc==c.lc&&a.Ke==c.Ke&&a.ud==c.ud&&a.zc==c.zc&&a.oc==c.oc?!0:!1};
m.Ha.prototype.F=function(){Ha();m.hb(this.yx);this.yx=null;m.hb(this.zx);this.zx=null;m.g.j.removeNode(this.Xe);this.hc=this.M=this.Xe=null;this.Xc&&(this.o.ic.unsubscribe(this.Xc),this.Xc=null);this.o=null};function Ga(a,c){a.Nk=c;a.Xc.setAttribute(a.Fx,a.Nk)}function Ia(a,c){a.Jd=c;a.Xe.setAttribute(a.Yk,a.Jd);a.hc.setAttribute(a.Yk,a.Jd)}m.$j.prototype.Xh=function(a){this.yd.Xh(a);this.Ld.Xh(a)};b=m.Ha.prototype;
b.setPosition=function(a,c){this.position.x=a;this.position.y=c;m.g.j.ul(this.Xe,"translate("+(this.position.x+this.Vr.x)+"px,"+(this.position.y+this.Vr.y)+"px)")};b.resize=function(a){if(!a&&(a=this.o.wd(),!a))return;m.Ha.QD(a,this.pb)||(this.pb=a,this.zh?Ja(this,a):Ka(this,a),La(this))};function Ja(a,c){var d=c.rb-1;a.rj&&(d-=m.Ha.fc);Ia(a,Math.max(0,d));d=c.lc+.5;a.rj&&a.o.H&&(d+=m.Ha.fc);a.setPosition(d,c.xc+c.Ab-m.Ha.fc-.5);Ma(a,c)}
function Ma(a,c){a.rj||a.Qb(a.Jd<c.Ke);a.ratio=a.Jd/c.Ke;if(-Infinity==a.ratio||Infinity==a.ratio||isNaN(a.ratio))a.ratio=0;a.qg=Math.max(0,c.rb*a.ratio);a.Xc.setAttribute(a.Yk,a.qg);Ga(a,Na(a,(c.Bb-c.zc)*a.ratio))}function Ka(a,c){var d=c.Ab-1;a.rj&&(d-=m.Ha.fc);Ia(a,Math.max(0,d));d=c.lc+.5;a.o.H||(d+=c.rb-m.Ha.fc-1);a.setPosition(d,c.xc+.5);Oa(a,c)}
function Oa(a,c){a.rj||a.Qb(a.Jd<c.ud);a.ratio=a.Jd/c.ud;if(-Infinity==a.ratio||Infinity==a.ratio||isNaN(a.ratio))a.ratio=0;a.qg=Math.max(0,c.Ab*a.ratio);a.Xc.setAttribute(a.Yk,a.qg);Ga(a,Na(a,(c.Mb-c.oc)*a.ratio))}
b.rk=function(a){var c="blocklyScrollbar"+(this.zh?"Horizontal":"Vertical");a&&(c+=" "+a);this.Xe=m.g.j.J("svg",{"class":c},null);this.M=m.g.j.J("g",{},this.Xe);this.hc=m.g.j.J("rect",{"class":"blocklyScrollbarBackground"},this.M);a=Math.floor((m.Ha.fc-5)/2);this.Xc=m.g.j.J("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.M);this.o.ic.subscribe(this.Xc,"scrollbarColour","fill");this.o.ic.subscribe(this.Xc,"scrollbarOpacity","fill-opacity");m.g.j.ij(this.Xe,x(this.o))};b.isVisible=function(){return this.Mf};
b.Xh=function(a){var c=a!=this.kh;this.kh=a;c&&this.Pl()};b.Qb=function(a){var c=a!=this.isVisible();if(this.rj)throw Error("Unable to toggle visibility of paired scrollbars.");this.Mf=a;c&&this.Pl()};b.Pl=function(){this.kh&&this.isVisible()?this.Xe.setAttribute("display","block"):this.Xe.setAttribute("display","none")};
b.iE=function(a){Pa(this.o);m.Touch.Om();Ha();if(m.g.Xk(a))a.stopPropagation();else{var c=m.g.fl(a,x(this.o),Qa(this.o));c=this.zh?c.x:c.y;var d=m.g.Lk(this.Xc);d=this.zh?d.x:d.y;var e=this.Nk,f=.95*this.qg;c<=d?e-=f:c>=d+this.qg&&(e+=f);Ga(this,Na(this,e));La(this);a.stopPropagation();a.preventDefault()}};
b.jE=function(a){Pa(this.o);Ha();m.g.Xk(a)?a.stopPropagation():(this.WE=this.Nk,Ra(this.o),this.$x=this.zh?a.clientX:a.clientY,m.Ha.Fg=m.wa(document,"mouseup",this,this.nE),m.Ha.Eg=m.wa(document,"mousemove",this,this.kE),a.stopPropagation(),a.preventDefault())};b.kE=function(a){Ga(this,Na(this,this.WE+((this.zh?a.clientX:a.clientY)-this.$x)));La(this)};b.nE=function(){Sa(this.o);m.Touch.Om();Ha()};function Ha(){m.Ub(!0);m.Ha.Fg&&(m.hb(m.Ha.Fg),m.Ha.Fg=null);m.Ha.Eg&&(m.hb(m.Ha.Eg),m.Ha.Eg=null)}
function Na(a,c){return c=0>=c||isNaN(c)||a.Jd<a.qg?0:Math.min(c,a.Jd-a.qg)}function La(a){var c=a.Nk/a.Jd;isNaN(c)&&(c=0);var d={};a.zh?d.x=c:d.y=c;a.o.vl(d)}b.set=function(a){Ga(this,Na(this,a*this.ratio));La(this)};m.g.Cd={};m.g.Cd.Ks=function(a){return a*Math.PI/180};m.g.Cd.dF=function(a){return 180*a/Math.PI};m.g.Cd.jk=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};m.Z={};m.Z.Nl={};m.Z.nz="default";m.Z.Cb=function(a){this.Ir=a};m.Z.Cb.prototype.toString=function(){return this.Ir};m.Z.Cb.RENDERER=new m.Z.Cb("renderer");m.Z.Cb.Nb=new m.Z.Cb("field");m.Z.Cb.bk=new m.Z.Cb("toolbox");m.Z.Cb.Ku=new m.Z.Cb("theme");
m.Z.register=function(a,c,d){if(!(a instanceof m.Z.Cb)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var e=m.Z.Nl[a];e||(e=m.Z.Nl[a]={});m.Z.nF(a,d);if(e[c])throw Error('Name "'+c+'" with type "'+a+'" already registered.');
e[c]=d};m.Z.nF=function(a,c){switch(a){case String(m.Z.Cb.Nb):if("function"!=typeof c.ra)throw Error('Type "'+a+'" must have a fromJson function');}};m.Z.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=m.Z.Nl[a];d?d[c]?delete m.Z.Nl[a][c]:console.warn('No name "'+c+'" with type "'+a+'" found'):console.warn('No type "'+a+'" found')};
m.Z.ow=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=m.Z.Nl[a];return d?d[c]?d[c]:(console.warn('No name "'+c+'" with type "'+a+'" found'),null):(console.warn('No type "'+a+'" found'),null)};m.Z.Jq=function(a,c){return m.Z.ow(a,c)};m.Z.pw=function(a){return m.Z.ow(m.Z.Cb.Ku,a)};m.Z.MC=function(a){var c=m.Z.Cb.bk;a=a.plugins[c.toString()]||m.Z.nz;return"function"==typeof a?a:m.Z.Jq(c,a)};m.fh=function(a,c,d,e){this.name=a;this.gg=c||Object.create(null);this.Pp=d||Object.create(null);this.wv=e||Object.create(null);this.fontStyle=Object.create(null);this.Hs=null;m.Z.register(m.Z.Cb.Ku,a,this)};m.fh.prototype.ge=function(){return this.name+"-theme"};function Ta(a,c){return(c=a.wv[c])&&"string"==typeof propertyValue&&Ta(a,c)?Ta(a,c):c?String(c):null}
m.fh.gC=function(a,c){var d=new m.fh(a),e=c.base;e&&("string"==typeof e&&(e=m.Z.pw(e)),e instanceof m.fh&&(m.g.object.Ui(d,e),d.name=a));m.g.object.Ui(d.gg,c.blockStyles);m.g.object.Ui(d.Pp,c.categoryStyles);m.g.object.Ui(d.wv,c.componentStyles);m.g.object.Ui(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.Hs=c.startHats);return d};m.sf={};m.sf.Yf={};m.sf.Yf.fC={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
m.sf.Yf.Pp={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};m.sf.Yf=new m.fh("classic",m.sf.Yf.fC,m.sf.Yf.Pp);m.g.Oa={xI:0,JG:3,Ty:8,gI:9,VG:12,wt:13,Ai:16,IF:17,Ny:18,NH:19,AF:20,xt:27,LA:32,BA:33,AA:34,Cz:35,Qz:36,DG:37,ZA:38,XH:39,uz:40,QH:43,TH:44,To:45,Lj:46,ZERO:48,ONE:49,oI:50,hI:51,oG:52,nG:53,eI:54,cI:55,QF:56,TG:57,lG:59,jG:61,iG:173,kG:163,UH:63,wF:64,Ws:65,xF:66,$y:67,qt:68,E:69,VF:70,pG:71,tG:72,Uz:73,zG:74,cA:75,AG:76,IG:77,SG:78,kH:79,MH:80,Q:81,VH:82,Au:83,SA:84,rI:85,$A:86,Uu:87,$u:88,gB:89,iB:90,nA:91,yI:92,HF:93,jH:96,cH:97,iH:98,hH:99,ZG:100,YG:101,gH:102,fH:103,XG:104,bH:105,aH:106,eH:107,
$G:109,dH:110,WG:111,WF:112,$F:113,aG:114,bG:115,cG:116,dG:117,eG:118,fG:119,gG:120,XF:121,YF:122,ZF:123,UG:144,$H:145,mG:166,CG:183,aI:186,JF:189,TF:187,GF:188,OH:190,fI:191,uF:192,iI:192,dI:222,lH:219,yF:220,DF:221,wI:224,KG:224,LG:91,MG:93,vI:229,uI:252,PH:255};m.va={};m.va.sa={};m.va.sa.Kh={};m.va.sa.Bg={Ai:"Shift",hz:"Control",Ny:"Alt",nA:"Meta"};m.va.sa.nK=function(a,c){var d=m.va.sa.VC(c);d&&delete m.va.sa.Kh[d];m.va.sa.Kh[a]=c};m.va.sa.LE=function(a){m.va.sa.Kh=a};m.va.sa.mJ=function(){var a={};m.g.object.Ve(a,m.va.sa.Kh);return a};m.va.sa.HC=function(a){return m.va.sa.Kh[a]};m.va.sa.VC=function(a){for(var c=Object.keys(m.va.sa.Kh),d=0,e;e=c[d];d++)if(m.va.sa.Kh[e].name===a.name)return e;return null};
m.va.sa.HE=function(a){for(var c=m.g.object.values(m.va.sa.Bg),d="",e=0,f;f=c[e];e++)a.getModifierState(f)&&(d+=f);return d+=a.keyCode};m.va.sa.KB=function(a,c){for(var d=0,e;e=a[d];d++)if(0>c.indexOf(e))throw Error(e+" is not a valid modifier key.");};m.va.sa.vk=function(a,c){var d="",e=m.g.object.values(m.va.sa.Bg);m.va.sa.KB(c,e);for(var f=0,g;g=e[f];f++)-1<c.indexOf(g)&&(d+=g);return d+a};
m.va.sa.XB=function(){var a={},c=m.va.sa.vk(m.g.Oa.cA,[m.va.sa.Bg.hz,m.va.sa.Bg.Ai]),d=m.va.sa.vk(m.g.Oa.Uu,[m.va.sa.Bg.Ai]),e=m.va.sa.vk(m.g.Oa.Ws,[m.va.sa.Bg.Ai]),f=m.va.sa.vk(m.g.Oa.Au,[m.va.sa.Bg.Ai]),g=m.va.sa.vk(m.g.Oa.qt,[m.va.sa.Bg.Ai]);a[m.g.Oa.Uu]=m.navigation.zo;a[m.g.Oa.Ws]=m.navigation.Ys;a[m.g.Oa.Au]=m.navigation.xo;a[m.g.Oa.qt]=m.navigation.Xs;a[m.g.Oa.Uz]=m.navigation.Fy;a[m.g.Oa.wt]=m.navigation.Gy;a[m.g.Oa.$u]=m.navigation.Ey;a[m.g.Oa.SA]=m.navigation.Ly;a[m.g.Oa.E]=m.navigation.wo;
a[m.g.Oa.xt]=m.navigation.wo;a[c]=m.navigation.Zs;a[d]=m.navigation.Ky;a[e]=m.navigation.Iy;a[f]=m.navigation.Hy;a[g]=m.navigation.Jy;return a};m.g.ri={};m.g.ri.dE=0;m.g.ri.Qq=function(){return"blockly-"+(m.g.ri.dE++).toString(36)};m.g.se={};m.g.se.Xp=function(a){return a?Array.isArray(a)&&a.length&&!a[0].nodeType?(m.g.se.dj(a)&&console.warn("Due to some performance issues, defining a toolbox usingJSON is not ready yet. Please define your toolbox using xml."),a):m.g.se.jy(a):null};
m.g.se.jy=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},g=e.tagName.toUpperCase();f.kind=g;"BLOCK"==g?f.blockxml=e:"CATEGORY"==g&&(f.contents=m.g.se.jy(e));for(g=0;g<e.attributes.length;g++){var k=e.attributes[g];f[k.nodeName]=k.value}c.push(f)}return c};m.g.se.dj=function(a){return Array.isArray(a)?!(!a.length||"CATEGORY"!=a[0].kind.toUpperCase()):!(!a||!a.getElementsByTagName("category").length)};m.h.pi=function(a){this.sb=a.id;this.group=m.h.Pb();this.ec=!1};m.g.object.S(m.h.pi,m.h.ac);m.h.pi.prototype.type=m.h.Dt;m.h.pi.prototype.Na=function(){var a={type:this.type};this.group&&(a.group=this.group);this.sb&&(a.workspaceId=this.sb);return a};m.h.pi.prototype.ra=function(a){this.sb=a.workspaceId;this.group=a.group};m.h.tf=function(a){m.h.tf.A.constructor.call(this);this.Og=a.Gb();this.sb=a.C.id};m.g.object.S(m.h.tf,m.h.Abstract);m.h.tf.prototype.Na=function(){var a=m.h.tf.A.Na.call(this);a.varId=this.Og;return a};m.h.tf.prototype.ra=function(a){m.h.tf.A.Na.call(this);this.Og=a.varId};m.h.rd=function(a){a&&(m.h.rd.A.constructor.call(this,a),this.gi=a.type,this.ei=a.name)};m.g.object.S(m.h.rd,m.h.tf);m.h.rd.prototype.type=m.h.Pu;
m.h.rd.prototype.Na=function(){var a=m.h.rd.A.Na.call(this);a.varType=this.gi;a.varName=this.ei;return a};m.h.rd.prototype.ra=function(a){m.h.rd.A.ra.call(this,a);this.gi=a.varType;this.ei=a.varName};m.h.rd.prototype.run=function(a){var c=ca(this);a?c.ce(this.ei,this.gi,this.Og):c.Vi(this.Og)};m.h.Wd=function(a){a&&(m.h.Wd.A.constructor.call(this,a),this.gi=a.type,this.ei=a.name)};m.g.object.S(m.h.Wd,m.h.tf);m.h.Wd.prototype.type=m.h.Qu;
m.h.Wd.prototype.Na=function(){var a=m.h.Wd.A.Na.call(this);a.varType=this.gi;a.varName=this.ei;return a};m.h.Wd.prototype.ra=function(a){m.h.Wd.A.ra.call(this,a);this.gi=a.varType;this.ei=a.varName};m.h.Wd.prototype.run=function(a){var c=ca(this);a?c.Vi(this.Og):c.ce(this.ei,this.gi,this.Og)};m.h.Ce=function(a,c){a&&(m.h.Ce.A.constructor.call(this,a),this.Pr=a.name,this.Kr=c)};m.g.object.S(m.h.Ce,m.h.tf);m.h.Ce.prototype.type=m.h.Su;
m.h.Ce.prototype.Na=function(){var a=m.h.Ce.A.Na.call(this);a.oldName=this.Pr;a.newName=this.Kr;return a};m.h.Ce.prototype.ra=function(a){m.h.Ce.A.ra.call(this,a);this.Pr=a.oldName;this.Kr=a.newName};m.h.Ce.prototype.run=function(a){var c=ca(this);a?c.Vh(this.Og,this.Kr):c.Vh(this.Og,this.Pr)};m.N={};m.N.yy=function(a){var c=B,d=m.g.xml.createElement("xml"),e=m.N.oF(m.aa.dv(c));e.hasChildNodes()&&d.appendChild(e);var f=[].concat(c.no);1<f.length&&(c.bf.offset=Math.sin(m.g.Cd.Ks(m.kb.Bu)),c.H&&(c.bf.offset*=-1),f.sort(c.bf));e=0;for(var g;g=f[e];e++)d.appendChild(g.gy(a));c=c.Hb(!0);for(e=0;f=c[e];e++)d.appendChild(m.N.Jp(f,a));return d};
m.N.oF=function(a){for(var c=m.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=m.g.xml.createElement("variable");f.appendChild(m.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.Gb();c.appendChild(f)}return c};m.N.Jp=function(a,c){if(a.ke()&&(a=Ua(a,!1)[0],!a))return new DocumentFragment;var d;a.C.H&&(d=a.C.Mk());c=m.N.vf(a,c);var e=a.Pa();c.setAttribute("x",Math.round(a.C.H?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
m.N.yC=function(a){var c=!1;a.name&&(a.Cu?c=!0:a.Mj&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=m.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};m.N.pB=function(a,c){for(var d=0,e;e=a.O[d];d++)for(var f=0,g;g=e.$a[f];f++)(g=m.N.yC(g))&&c.appendChild(g)};
m.N.vf=function(a,c){if(a.ke())return(a=Ua(a,!1)[0])?m.N.vf(a):new DocumentFragment;var d=m.g.xml.createElement(a.Ra?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.Ed){var e=a.Ed();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}m.N.pB(a,d);if(e=a.$d.text){var f=a.$d.size,g=a.$d.Ex,k=m.g.xml.createElement("comment");k.appendChild(m.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=m.g.xml.createElement("data"),e.appendChild(m.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.O[e];e++){var l;g=!0;if(f.type!=m.lf){var n=f.connection.pa();f.type==m.cb?l=m.g.xml.createElement("value"):f.type==m.Ma&&(l=m.g.xml.createElement("statement"));k=f.connection.af;!k||n&&n.Ra||l.appendChild(m.N.rv(k,c));n&&(k=m.N.vf(n,c),k.nodeType==m.g.j.pf.ELEMENT_NODE&&(l.appendChild(k),g=!1));l.setAttribute("name",f.name);g||d.appendChild(l)}}void 0!=a.Jf&&a.Jf!=a.uD&&d.setAttribute("inline",
a.Jf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.ed()||a.Ra||d.setAttribute("deletable",!1);a.Sc()||a.Ra||d.setAttribute("movable",!1);a.Ad()||d.setAttribute("editable",!1);if(e=v(a))k=m.N.vf(e,c),k.nodeType==m.g.j.pf.ELEMENT_NODE&&(l=m.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.V&&a.V.af;!k||e&&e.Ra||l.appendChild(m.N.rv(k,c));return d};
m.N.rv=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==m.g.j.pf.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&m.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==m.g.j.pf.TEXT_NODE&&""==e.data.trim()&&m.g.j.removeNode(e))}return a};
m.N.fe=function(a){a=m.g.xml.fe(a);var c=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var d=a;a=a.replace(c,"$1&#10;$2")}while(a!=d);return a.replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};m.N.VI=function(a){a=m.N.fe(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};
m.N.ci=function(a){var c=m.g.xml.bF(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};m.N.LI=function(a,c){c.Xb(!1);c.clear();a=m.N.Bk(a,c);c.Xb(!0);return a};
m.N.Bk=function(a,c){if(a instanceof m.kb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.H&&(e=c.Mk());d=[];m.g.j.Dl();var f=m.h.Pb();f||m.h.la(!0);c.Xb&&c.Xb(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var n=l.nodeName.toLowerCase(),p=l;if("block"==n||"shadow"==n&&!m.h.ec){var q=m.N.Xi(p,c);d.push(q.id);var r=p.hasAttribute("x")?parseInt(p.getAttribute("x"),10):10,u=p.hasAttribute("y")?parseInt(p.getAttribute("y"),10):10;isNaN(r)||
isNaN(u)||q.moveBy(c.H?e-r:r,u);g=!1}else{if("shadow"==n)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==n)c.ma?m.Hi?m.Hi.setValue(p.textContent):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):m.dB?m.dB.setValue(p.textContent):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==n){if(g)m.N.rC(p,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||m.h.la(!1),m.g.j.El()}c.Xb&&c.Xb(!0);m.h.Ia(new m.h.pi(c));return d};m.N.DI=function(a,c){var d;c.hasOwnProperty("scale")&&(d=Va(c));a=m.N.Bk(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.H?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var n=c.Bc(a[d]).Pa();n.y<l&&(l=n.y);n.x<g&&(g=n.x);n.x>k&&(k=n.x)}e=e-l+10;f=c.H?f-k:f-g;for(d=0;d<a.length;d++)c.Bc(a[d]).moveBy(f,e)}return a};
m.N.Xi=function(a,c){if(a instanceof m.kb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}m.h.disable();d=c.uh();try{var e=m.N.rq(a,c),f=t(e,!1);if(c.ma){Wa(e,!1);for(var g=f.length-1;0<=g;g--)f[g].hj();for(g=f.length-1;0<=g;g--)f[g].Ca(!1);setTimeout(function(){e.Cf||Wa(e,!0)},1);Xa(e);Ya(c)}else for(g=f.length-1;0<=g;g--);}finally{m.h.enable()}if(m.h.isEnabled()){a=m.aa.hw(c,d);for(g=0;g<a.length;g++)m.h.Ia(new m.h.rd(a[g]));m.h.Ia(new m.h.$l(e))}return e};
m.N.rC=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==m.g.j.pf.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.ce(e.textContent,f,g)}};
m.N.rq=function(a,c){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=c.Jr(e,f);var g=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=m.g.j.pf.TEXT_NODE){var l=g=null;var n=0;for(var p;p=k.childNodes[n];n++)p.nodeType==m.g.j.pf.ELEMENT_NODE&&("block"==p.nodeName.toLowerCase()?g=p:"shadow"==p.nodeName.toLowerCase()&&(l=p));!g&&l&&(g=l);p=k.getAttribute("name");n=k;switch(k.nodeName.toLowerCase()){case "mutation":d.Df&&
(d.Df(n),d.hj&&d.hj());break;case "comment":if(!m.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}g=n.textContent;l="true"==n.getAttribute("pinned");k=parseInt(n.getAttribute("w"),10);n=parseInt(n.getAttribute("h"),10);d.wj(g);d.$d.Ex=l;isNaN(k)||isNaN(n)||(d.$d.size=new m.g.Ud(k,n));l&&d.NC&&!d.Ue&&setTimeout(function(){d.Ge.Qb(!0)},1);break;case "data":d.data=k.textContent;break;case "title":case "field":m.N.qC(d,p,n);break;case "value":case "statement":n=
ha(d,p);if(!n){console.warn("Ignoring non-existent input "+p+" in block "+e);break}l&&(n.connection.af=l);if(g)if(g=m.N.rq(g,c),g.K)n.connection.connect(g.K);else if(g.R)n.connection.connect(g.R);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.V&&(d.V.af=l);if(g){if(!d.V)throw TypeError("Next statement does not exist.");if(d.V.isConnected())throw TypeError("Next statement is already connected.");g=m.N.rq(g,c);if(!g.R)throw TypeError("Next block does not have previous statement.");
d.V.connect(g.R)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.Yh("true"==f);(f=a.getAttribute("disabled"))&&d.$e("true"!=f&&"disabled"!=f);if(f=a.getAttribute("deletable"))d.Lv="true"==f;(f=a.getAttribute("movable"))&&d.ys("true"==f);(f=a.getAttribute("editable"))&&d.xs("true"==f);(f=a.getAttribute("collapsed"))&&d.Kg("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=Ua(d,!1);for(f=0;c=a[f];f++)if(!c.Ra)throw TypeError("Shadow block not allowed non-shadow child.");
if(Za(d).length)throw TypeError("Shadow blocks cannot have variable references.");d.Bs(!0)}return d};m.N.qC=function(a,c,d){var e=da(a,c);e?e.setValue(d.textContent):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};m.N.hC=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};m.wc=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,n=!1;else{d=a.toolbox;Array.isArray(d)||(d=m.wc.Cx(d||null));d=m.g.se.Xp(d);e=m.g.se.dj(d);f=a.trashcan;void 0===f&&(f=e);var p=a.maxTrashcanContents;f?void 0===p&&(p=32):p=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);n=a.sounds;void 0===n&&(n=!0)}var q=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var u=a.toolboxPosition;u="end"!==u;u=r?u?m.eh:m.ck:u==q?m.dh:m.Vd;var y=
a.css;void 0===y&&(y=!0);var P="https://blockly-demo.appspot.com/static/media/";a.media?P=a.media:a.path&&(P=a.path+"media/");var ba=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,za=a.keyMap||m.va.sa.XB(),ie=a.renderer||"geras",je=a.plugins||{};this.H=q;this.Vn=ba;this.collapse=g;this.QB=k;this.disable=l;this.readOnly=c;this.Dr=a.maxBlocks||Infinity;this.Kn=a.maxInstances;this.Zn=P;this.dj=e;this.Wb=m.wc.qE(a,e);this.Gw=f;this.Ln=p;this.mD=n;this.kD=y;this.zd=r;this.Jh=d;this.Bw=m.wc.pE(a);this.Va=
m.wc.sE(a);this.gb=u;this.cF=m.wc.rE(a);this.sa=za;this.ps=ie;this.qs=a.rendererOverrides;this.Vq=null;this.Uc=a.parentWorkspace;this.plugins=je};m.zF=function(){};m.wc.qE=function(a,c){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?c:!!d.scrollbars||!!a.scrollbars;e.Qg=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.lg=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
m.wc.sE=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.Qg=void 0===a.wheel?!1:!!a.wheel;c.YE=void 0===a.startScale?1:Number(a.startScale);c.bl=void 0===a.maxScale?3:Number(a.maxScale);c.cl=void 0===a.minScale?.3:Number(a.minScale);c.EE=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.ds=void 0===a.pinch?c.Qg||c.controls:!!a.pinch;return c};
m.wc.pE=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.mb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.wK=0<c.spacing&&!!a.snap;return c};m.wc.rE=function(a){a=a.theme||m.sf.Yf;return"string"==typeof a?m.Z.pw(a):a instanceof m.fh?a:m.fh.gC(a.name||"builtin"+m.g.ri.Qq(),a)};
m.wc.Cx=function(a){if(a){if("string"!=typeof a&&(m.g.userAgent.Pd&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=m.N.ci(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};m.wp=function(a){this.Ka=Object.create(null);this.C=a};b=m.wp.prototype;b.clear=function(){this.Ka=Object.create(null)};b.Nx=function(a,c){var d=this.og(c,a.type),e=C(this.C,!1);m.h.la(!0);try{if(d&&d.Gb()!=a.Gb()){var f=a.type;c!=d.name&&$a(d,c,e);for(c=0;c<e.length;c++){var g=void 0;a.Gb();d.Gb();for(var k=0;g=e[c].O[k];k++)for(var l=0;g.$a[l];l++);}m.h.Ia(new m.h.Wd(a));this.Ka[f].splice(this.nn(f).indexOf(a),1)}else $a(a,c,e)}finally{m.h.la(!1)}};
b.Vh=function(a,c){var d=this.pg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.Nx(d,c)};function $a(a,c,d){m.h.Ia(new m.h.Ce(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.O[f];f++)for(var g=0;c.$a[g];g++);}
b.ce=function(a,c,d){var e=this.og(a,c);if(e){if(d&&e.Gb()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.Gb()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.pg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||m.g.Ff();c=c||"";e=new m.Em(this.C,a,c,e);a=this.Ka[c]||[];a.push(e);delete this.Ka[c];this.Ka[c]=a;return e};
b.Vi=function(a){var c=this.pg(a);if(c){var d=c.name,e=this.Uq(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=ab(f,"NAME");d=m.L.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);m.alert(d);return}var g=this;1<e.length?(d=m.L.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),m.confirm(d,function(k){k&&c&&bb(g,c,e)})):bb(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function bb(a,c,d){var e=m.h.Pb();e||m.h.la(!0);try{for(var f=0;f<d.length;f++)d[f].F(!0);var g=a.Ka[c.type];a=0;for(var k;k=g[a];a++)if(k.Gb()==c.Gb()){g.splice(a,1);m.h.Ia(new m.h.Wd(c));break}}finally{e||m.h.la(!1)}}b.og=function(a,c){if(c=this.Ka[c||""])for(var d=0,e;e=c[d];d++)if(m.pd.Ef(e.name,a))return e;return null};b.pg=function(a){for(var c=Object.keys(this.Ka),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Ka[e][f];f++)if(g.Gb()==a)return g;return null};
b.nn=function(a){return(a=this.Ka[a||""])?a.slice():[]};b.uh=function(){var a=[],c;for(c in this.Ka)a=a.concat(this.Ka[c]);return a};b.Gq=function(){var a=[],c;for(c in this.Ka)for(var d=this.Ka[c],e=0,f;f=d[e];e++)a.push(f.name);return a};b.Uq=function(a){for(var c=[],d=C(this.C,!1),e=0;e<d.length;e++){var f=Za(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].Gb()==a&&c.push(d[e])}return c};m.kb=function(a){this.id=m.g.Ff();m.kb.ek[this.id]=this;this.options=a||new m.wc({});this.H=!!this.options.H;this.zd=!!this.options.zd;this.gb=this.options.gb;this.Kl=[];this.no=[];this.Rm=Object.create(null);this.Gc=[];this.Fj=[];this.ao=[];this.Ip=Object.create(null);this.Wf=Object.create(null);this.Ka=new m.wp(this);this.tj=null};b=m.kb.prototype;b.ma=!1;b.jr=!1;b.Tt=1024;b.Tm=null;b.F=function(){this.Gc.length=0;this.clear();delete m.kb.ek[this.id]};m.kb.Bu=3;b=m.kb.prototype;
b.bf=function(a,c){a=a.Pa();c=c.Pa();return a.y+m.kb.prototype.bf.offset*a.x-(c.y+m.kb.prototype.bf.offset*c.x)};b.Gm=function(a){this.Kl.push(a)};b.bo=function(a){if(!m.g.hk(this.Kl,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.Hb=function(a){var c=[].concat(this.Kl);a&&1<c.length&&(this.bf.offset=Math.sin(m.g.Cd.Ks(m.kb.Bu)),this.H&&(this.bf.offset*=-1),c.sort(this.bf));return c};function cb(a,c){return a.Wf[c]?a.Wf[c].slice(0):[]}
function C(a,c){if(c){a=a.Hb(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,t(a[d],!0))}else for(c=a.Hb(!1),d=0;d<c.length;d++)c.push.apply(c,Ua(c[d],!1));return c.filter(function(e){return!e.ke()})}b.clear=function(){this.jr=!0;try{var a=m.h.Pb();for(a||m.h.la(!0);this.Kl.length;)this.Kl[0].F(!1);for(;this.no.length;)this.no[this.no.length-1].F(!1);a||m.h.la(!1);this.Ka.clear();this.tj&&this.tj.clear()}finally{this.jr=!1}};b.Vh=function(a,c){this.Ka.Vh(a,c)};
b.ce=function(a,c,d){return this.Ka.ce(a,c,d)};b.Uq=function(a){return this.Ka.Uq(a)};b.Vi=function(a){this.Ka.Vi(a)};b.og=function(a,c){return this.Ka.og(a,c)};b.pg=function(a){return this.Ka.pg(a)};b.nn=function(a){return this.Ka.nn(a)};b.uh=function(){return this.Ka.uh()};b.Gq=function(){return this.Ka.Gq()};b.Mk=function(){return 0};b.Jr=function(a,c){return new m.Jc(this,a,c)};function db(a){return isNaN(a.options.Dr)?Infinity:a.options.Dr-C(a,!1).length}
function eb(a,c){if(!fb(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.Kn?(void 0!==a.options.Kn[e]?a.options.Kn[e]:Infinity)-cb(a,e).length:Infinity))return!1;d+=c[e]}return d>db(a)?!1:!0}function fb(a){return Infinity!=a.options.Dr||!!a.options.Kn}
b.po=function(a){var c=a?this.ao:this.Fj,d=a?this.Fj:this.ao,e=c.pop();if(e){for(var f=[e];c.length&&e.group&&e.group==c[c.length-1].group;)f.push(c.pop());for(c=0;e=f[c];c++)d.push(e);f=m.h.filter(f,a);m.h.ec=!1;try{for(c=0;e=f[c];c++)e.run(a)}finally{m.h.ec=!0}}};function gb(a,c){a.Gc.push(c)}function hb(a,c){m.g.hk(a.Gc,c)}b.Bc=function(a){return this.Ip[a]||null};b.Cs=function(a){this.Ka=a};m.kb.ek=Object.create(null);m.kb.Ik=function(a){return m.kb.ek[a]||null};
m.kb.getAll=function(){var a=[],c;for(c in m.kb.ek)a.push(m.kb.ek[c]);return a};m.Ga=function(a,c,d,e,f,g){this.o=a;this.Af=c;this.OE=d;this.Sr=this.Rr=this.qx=this.Rx=null;this.Cf=!1;d=m.Ga.Ry;this.o.H&&(d=-d);this.sB=m.g.Cd.Ks(d);a.Sf.appendChild(this.rk(c,!(!f||!g)));this.Eb=e;this.Ox&&ib(this);f&&g||(a=this.Af.getBBox(),f=a.width+2*m.Ga.Rg,g=a.height+2*m.Ga.Rg);jb(this,f,g);ib(this);kb(this);this.Ox=!0};m.Ga.Rg=6;m.Ga.Sy=5;m.Ga.Ry=20;m.Ga.dt=4;m.Ga.Oy=8;m.Ga.Fg=null;m.Ga.Eg=null;m.Ga.Ps=function(){m.Ga.Fg&&(m.hb(m.Ga.Fg),m.Ga.Fg=null);m.Ga.Eg&&(m.hb(m.Ga.Eg),m.Ga.Eg=null)};
m.Ga.EB=function(){m.Touch.Om();m.Ga.Ps()};b=m.Ga.prototype;b.Ox=!1;b.Eb=null;b.Ze=0;b.Ig=0;b.bb=0;b.dc=0;b.Fp=!0;
b.rk=function(a,c){this.Fe=m.g.j.J("g",{},null);var d={filter:"url(#"+this.o.fb.X().dn+")"};m.g.userAgent.bA&&(d={});d=m.g.j.J("g",d,this.Fe);this.hv=m.g.j.J("path",{},d);this.Km=m.g.j.J("rect",{"class":"blocklyDraggable",x:0,y:0,rx:m.Ga.Rg,ry:m.Ga.Rg},d);c?(this.Pf=m.g.j.J("g",{"class":this.o.H?"blocklyResizeSW":"blocklyResizeSE"},this.Fe),c=2*m.Ga.Rg,m.g.j.J("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Pf),m.g.j.J("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/
3},this.Pf),m.g.j.J("line",{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Pf)):this.Pf=null;this.o.options.readOnly||(this.Rr=m.wa(this.Km,"mousedown",this,this.DB),this.Pf&&(this.Sr=m.wa(this.Pf,"mousedown",this,this.BE)));this.Fe.appendChild(a);return this.Fe};b.oa=function(){return this.Fe};b.DB=function(a){var c=this.o.mg(a);if(c){if(c.yh)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.jd||(c.jd=this);c.Dd=a}};b.xl=function(){};
b.ed=function(){return!1};b.BE=function(a){var c=this.Fe.parentNode;c.lastChild!==this.Fe&&c.appendChild(this.Fe);m.Ga.Ps();m.g.Xk(a)||(this.o.Gs(a,new m.g.P(this.o.H?-this.bb:this.bb,this.dc)),m.Ga.Fg=m.wa(document,"mouseup",this,m.Ga.EB),m.Ga.Eg=m.wa(document,"mousemove",this,this.CE),m.Ub());a.stopPropagation()};b.CE=function(a){this.Fp=!1;var c=this.o;a=m.g.fl(a,x(c),Qa(c));a.x/=c.scale;a.y/=c.scale;c=m.g.P.sum(c.Wv,a);jb(this,this.o.H?-c.x:c.x,c.y);this.o.H&&ib(this)};
function lb(a,c,d){var e=a.o.H?a.Eb.x-c.x-a.bb:c.x+a.Eb.x;c=c.y+a.Eb.y;return Math.max(0,Math.min(1,(Math.min(e+a.bb,d.Bb+d.rb)-Math.max(e,d.Bb))*(Math.min(c+a.dc,d.Mb+d.Ab)-Math.max(c,d.Mb))/(a.bb*a.dc)))}function ib(a){var c=a.Eb.x;c=a.o.H?c-(a.Ze+a.bb):c+a.Ze;a.moveTo(c,a.Ig+a.Eb.y)}b.moveTo=function(a,c){this.Fe.setAttribute("transform","translate("+a+","+c+")")};b.Lg=function(a){!a&&this.qx&&this.qx()};
function jb(a,c,d){var e=2*m.Ga.Rg;c=Math.max(c,e+45);d=Math.max(d,e+20);a.bb=c;a.dc=d;a.Km.setAttribute("width",c);a.Km.setAttribute("height",d);a.Pf&&(a.o.H?a.Pf.setAttribute("transform","translate("+2*m.Ga.Rg+","+(d-e)+") scale(-1 1)"):a.Pf.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.Fp){c=a.o.wd();c.Bb/=a.o.scale;c.rb/=a.o.scale;c.Mb/=a.o.scale;c.Ab/=a.o.scale;d=-a.bb/4;if(!(a.bb>c.rb)){if(a.o.H){e=a.Eb.x-d;var f=e-a.bb;var g=c.Bb+c.rb,k=c.Bb+m.Ha.fc/a.o.scale}else f=d+a.Eb.x,
e=f+a.bb,k=c.Bb,g=c.Bb+c.rb-m.Ha.fc/a.o.scale;a.o.H?f<k?d=-(k-a.Eb.x+a.bb):e>g&&(d=-(g-a.Eb.x)):f<k?d=k-a.Eb.x:e>g&&(d=g-a.Eb.x-a.bb)}f=d;d=-a.dc/4;if(!(a.dc>c.Ab)){e=a.Eb.y+d;g=e+a.dc;k=c.Mb;var l=c.Mb+c.Ab-m.Ha.fc/a.o.scale,n=a.Eb.y;e<k?d=k-n:g>l&&(d=l-n-a.dc)}k=d;g=a.OE.getBBox();d={x:f,y:-a.dc-a.o.fb.X().Uj};e={x:-a.bb-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=lb(a,d,c);l=lb(a,e,c);n=lb(a,f,c);c=Math.max(k,l,n,lb(a,g,c));k==c?(a.Ze=d.x,a.Ig=d.y):
l==c?(a.Ze=e.x,a.Ig=e.y):n==c?(a.Ze=f.x,a.Ig=f.y):(a.Ze=g.x,a.Ig=g.y)}ib(a);kb(a);a.Rx&&a.Rx()}
function kb(a){var c=[],d=a.bb/2,e=a.dc/2,f=-a.Ze,g=-a.Ig;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.o.H&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var n=l+Math.PI/2;n>2*Math.PI&&(n-=2*Math.PI);var p=Math.sin(n),q=Math.cos(n),r=new m.g.Ud(a.bb,a.dc);n=(r.width+r.height)/m.Ga.Sy;n=Math.min(n,r.width,r.height)/4;r=1-m.Ga.Oy/k;f=d+r*f;g=e+r*g;r=d+n*q;var u=e+n*p;d-=n*q;e-=n*p;p=l+a.sB;p>2*Math.PI&&(p-=2*Math.PI);l=Math.sin(p)*k/m.Ga.dt;k=Math.cos(p)*k/m.Ga.dt;c.push("M"+
r+","+u);c.push("C"+(r+k)+","+(u+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.hv.setAttribute("d",c.join(" "))}b.oe=function(a){this.Km.setAttribute("fill",a);this.hv.setAttribute("fill",a)};b.F=function(){this.Rr&&m.hb(this.Rr);this.Sr&&m.hb(this.Sr);m.Ga.Ps();m.g.j.removeNode(this.Fe);this.Cf=!0};b.Hr=function(a,c){a?a.di(c.x,c.y):this.moveTo(c.x,c.y);this.Ze=this.o.H?this.Eb.x-c.x-this.bb:c.x-this.Eb.x;this.Ig=c.y-this.Eb.y;kb(this)};
b.Pa=function(){return new m.g.P(this.o.H?-this.Ze+this.Eb.x-this.bb:this.Eb.x+this.Ze,this.Eb.y+this.Ig)};m.h.gf=function(a){this.He=a.id;this.sb=a.C.id;this.group=m.h.Pb();this.ec=m.h.ec};m.g.object.S(m.h.gf,m.h.Abstract);m.h.gf.prototype.Na=function(){var a=m.h.gf.A.Na.call(this);this.He&&(a.commentId=this.He);return a};m.h.gf.prototype.ra=function(a){m.h.gf.A.ra.call(this,a);this.He=a.commentId};m.h.mi=function(a,c,d){a&&(m.h.mi.A.constructor.call(this,a),this.tx=c,this.Qn=d)};m.g.object.S(m.h.mi,m.h.gf);b=m.h.mi.prototype;b.type=m.h.mt;
b.Na=function(){var a=m.h.mi.A.Na.call(this);a.newContents=this.Qn;return a};b.ra=function(a){m.h.mi.A.ra.call(this,a);this.Qn=a.newValue};b.Hh=function(){return this.tx==this.Qn};b.run=function(a){var c;(c=ca(this).Rm[this.He]||null)?c.pK(a?this.Qn:this.tx):console.warn("Can't change non-existent comment: "+this.He)};m.h.hf=function(a){a&&(m.h.hf.A.constructor.call(this,a),this.xml=a.gy())};m.g.object.S(m.h.hf,m.h.gf);m.h.hf.prototype.type=m.h.cm;
m.h.hf.prototype.Na=function(){var a=m.h.hf.A.Na.call(this);a.xml=m.N.fe(this.xml);return a};m.h.hf.prototype.ra=function(a){m.h.hf.A.ra.call(this,a);this.xml=m.N.ci(a.xml)};m.h.hf.prototype.run=function(a){m.h.ot(this,a)};m.h.ot=function(a,c){var d=ca(a);c?(c=m.g.xml.createElement("xml"),c.appendChild(a.xml),m.N.Bk(c,d)):(d=d.Rm[a.He]||null)?d.F(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.He)};m.h.jf=function(a){a&&(m.h.jf.A.constructor.call(this,a),this.xml=a.gy())};
m.g.object.S(m.h.jf,m.h.gf);m.h.jf.prototype.type=m.h.nt;m.h.jf.prototype.Na=function(){return m.h.jf.A.Na.call(this)};m.h.jf.prototype.ra=function(a){m.h.jf.A.ra.call(this,a)};m.h.jf.prototype.run=function(a){m.h.ot(this,!a)};m.h.Ug=function(a){a&&(m.h.Ug.A.constructor.call(this,a),this.Vp=a,this.Or=a.Aw(),this.Ph=null)};m.g.object.S(m.h.Ug,m.h.gf);b=m.h.Ug.prototype;
b.Uh=function(){if(!this.Vp)throw Error("Tried to record the new position of a comment on the same event twice.");this.Ph=this.Vp.Aw();this.Vp=null};b.type=m.h.dm;b.Na=function(){var a=m.h.Ug.A.Na.call(this);this.Ph&&(a.newCoordinate=Math.round(this.Ph.x)+","+Math.round(this.Ph.y));return a};b.ra=function(a){m.h.Ug.A.ra.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.Ph=new m.g.P(Number(a[0]),Number(a[1])))};b.Hh=function(){return m.g.P.Ef(this.Or,this.Ph)};
b.run=function(a){var c;if(c=ca(this).Rm[this.He]||null){a=a?this.Ph:this.Or;var d=c.Aw();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.He)};m.am=function(a,c){this.Ob=a;this.o=c;this.oh=null;this.uo=!1;this.cf=this.Ob.Pa();this.ph=m.g.Ch()&&c.$c?c.$c:null};m.am.prototype.F=function(){this.ph=this.o=this.Ob=null};function mb(a,c,d){d=a.sj(d);d=m.g.P.sum(a.cf,d);a.Ob.Hr(a.ph,d);a.Ob.ed()&&(a.oh=xa(a.o,c),a.uo=a.oh!=m.rt,c=a.o.jc,a.uo?(ya(a.Ob,!0),a.oh==m.Lo&&c&&Aa(c,!0)):(ya(a.Ob,!1),c&&Aa(c,!1)))}
function nb(a,c,d){mb(a,c,d);c=a.sj(d);c=m.g.P.sum(a.cf,c);a.Ob.moveTo(c.x,c.y);c=a.o.jc;a.uo?(c&&setTimeout(c.close.bind(c),100),a.Fk(),a.Ob.F(!1,!0)):c&&c.close();a.uo||(a.ph&&a.ph.Nm(a.o.Sf),a.Ob.Lg&&a.Ob.Lg(!1),a.Fk());a.o.Xb(!0);(c=a.o.ta)&&"function"==typeof c.ns&&c.ns(a.Ob.ed()?"blocklyToolboxDelete":"blocklyToolboxGrab");m.h.la(!1)}m.am.prototype.Fk=function(){if(this.Ob.EJ){var a=new m.h.Ug(this.Ob);a.Or=this.cf;a.Uh();m.h.Ia(a)}};
m.am.prototype.sj=function(a){a=new m.g.P(a.x/this.o.scale,a.y/this.o.scale);this.o.An&&a.scale(1/this.o.options.Uc.scale);return a};m.fk=function(a){this.o=a;this.ay=new m.g.P(a.scrollX,a.scrollY)};m.fk.prototype.F=function(){this.o=null};m.fk.prototype.Gs=function(){m.selected&&ob(m.selected);Ra(this.o)};m.fk.prototype.lg=function(a){a=m.g.P.sum(this.ay,a);this.o.scroll(a.x,a.y)};m.mm=function(a){m.mm.A.constructor.call(this,a.o);this.Tx=a.xa;this.nD=a.zd};m.g.object.S(m.mm,m.fk);m.mm.prototype.lg=function(a){a=m.g.P.sum(this.ay,a);this.nD?this.Tx.set(-a.x):this.Tx.set(-a.y)};m.Ic=function(a){this.name=a};m.navigation={};m.navigation.pj=null;m.navigation.Hu=1;m.navigation.zm=2;m.navigation.Iu=3;m.navigation.Xu=40;m.navigation.nh=m.navigation.zm;m.navigation.ya={qd:"previous",od:"next",So:"in",gp:"out",To:"insert",ap:"mark",tt:"disconnect",bk:"toolbox",No:"exit",tp:"toggle_keyboard_nav",Yt:"move workspace cursor up",Vt:"move workspace cursor down",Wt:"move workspace cursor left",Xt:"move workspace cursor right"};m.navigation.Tj="local_marker_1";m.navigation.Cc=function(){return m.navigation.yb().Cc(m.navigation.Tj)};
m.navigation.yb=function(){return m.Gf()};m.navigation.ew=function(){var a=m.navigation.yb().ta;a&&(m.navigation.nh=m.navigation.Iu,m.navigation.Qx(!1),m.navigation.Cc().Ua||m.navigation.Ar(),a.mK())};m.navigation.dw=function(){m.navigation.nh=m.navigation.Hu;var a=m.navigation.yb();var c=a.ta;a=c?D(c):D(a);m.navigation.Cc().Ua||m.navigation.Ar();a&&a.o&&(a=a.o.Hb(!0),0<a.length&&(a=a[0],a=m.v.wk(a),E(m.navigation.Zi(),a)))};
m.navigation.jn=function(){m.Ub();var a=m.navigation.yb(),c=a.ob(),d=!!a.ta,e=a.Hb(!0);m.navigation.Qx(d);m.navigation.nh=m.navigation.zm;0<e.length?E(c,m.v.$p(e[0])):(a=m.v.Si(a,new m.g.P(100,100)),E(c,a))};m.navigation.Zi=function(){var a=m.navigation.yb(),c=null;a.ma&&(c=(a=(c=a.ta)?D(c):D(a))?a.o.ob():null);return c};
m.navigation.vD=function(){var a=m.navigation.yb(),c=D(a);if(c&&c.isVisible()){var d=m.navigation.Zi().Ua.ka;d.isEnabled()?(c=pb(c,d),c.Ca(),Wa(c,!0),E(a.ob(),m.v.Le(c)),m.navigation.mx()||m.navigation.tc("Something went wrong while inserting a block from the flyout."),m.navigation.jn(),E(a.ob(),m.v.$p(c)),m.navigation.xE()):m.navigation.tc("Can't insert a disabled block.")}else m.navigation.tc("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
m.navigation.Qx=function(a){m.navigation.Zi()&&(m.navigation.Zi().Fa(),a&&D(m.navigation.yb()).Fa())};
m.navigation.RD=function(){var a=m.navigation.Cc().Ua,c=m.navigation.yb().ob().Ua;if(!a)return m.navigation.tc("Cannot insert with no marked node."),!1;if(!c)return m.navigation.tc("Cannot insert with no cursor node."),!1;a=a.Qa();c=c.Qa();return a==m.v.types.Nb?(m.navigation.tc("Should not have been able to mark a field."),!1):a==m.v.types.Yc?(m.navigation.tc("Should not have been able to mark a block."),!1):a==m.v.types.ze?(m.navigation.tc("Should not have been able to mark a stack."),!1):c==m.v.types.Nb?
(m.navigation.tc("Cannot attach a field to anything else."),!1):c==m.v.types.De?(m.navigation.tc("Cannot attach a workspace to anything else."),!1):!0};m.navigation.XD=function(a,c){if(!a)return!1;if(a.Ra)return m.navigation.tc("Cannot move a shadow block to the workspace."),!1;a.getParent()&&w(a,!1);a.moveTo(c.vo);return!0};
m.navigation.mx=function(){var a=m.navigation.Cc().Ua,c=m.navigation.yb().ob().Ua;if(!m.navigation.RD())return!1;var d=a.Qa(),e=c.Qa(),f=c.ka,g=a.ka;if(a.kj&&c.kj)return m.navigation.ae(f,g);if(a.kj&&(e==m.v.types.Yc||e==m.v.types.ze))return m.navigation.Pw(f,g);if(d==m.v.types.De)return c=c?c.T():null,m.navigation.XD(c,a);m.navigation.tc("Unexpected state in Blockly.navigation.modify_.");return!1};
m.navigation.mC=function(a,c){var d=a.T(),e=c.T();d.Dc()==e.Dc()&&(-1<t(d,!1).indexOf(e)?m.navigation.ln(c).disconnect():m.navigation.ln(a).disconnect())};m.navigation.Gr=function(a,c){if(!a||!c)return!1;var d=a.T();return qb(c,a)==m.ga.bm?(m.navigation.mC(a,c),A(c)||ra(d.Dc(),a,c),c.connect(a),!0):!1};m.navigation.ln=function(a){var c=a.T();return A(a)?c.R?c.R:c.K?c.K:null:a};m.navigation.zw=function(a){return A(a)?a:a.ea?a.ea:null};
m.navigation.ae=function(a,c){if(!a||!c)return!1;var d=m.navigation.ln(a),e=m.navigation.zw(c),f=m.navigation.zw(a),g=m.navigation.ln(c);if(d&&e&&m.navigation.Gr(d,e)||f&&g&&m.navigation.Gr(f,g)||m.navigation.Gr(a,c))return!0;try{rb(c,a)}catch(k){m.navigation.tc("Connection failed with error: "+k)}return!1};
m.navigation.Pw=function(a,c){switch(c.type){case m.Sd:if(m.navigation.ae(a.V,c))return!0;break;case m.Ma:if(m.navigation.ae(a.R,c))return!0;break;case m.cb:if(m.navigation.ae(a.K,c))return!0;break;case m.Rd:for(var d=0;d<a.O.length;d++){var e=a.O[d].connection;if(e&&e.type===m.cb&&m.navigation.ae(e,c))return!0}if(a.K&&m.navigation.ae(a.K,c))return!0}m.navigation.tc("This block can not be inserted at the marked location.");return!1};
m.navigation.lC=function(){var a=m.navigation.yb(),c=a.ob().Ua;if(c.kj){var d=c.ka;d.isConnected()?(c=A(d)?d:d.ea,d=A(d)?d.ea:d,d.T().Ra?m.navigation.rr("Cannot disconnect a shadow block"):(c.disconnect(),sb(d,c),Da(c.T().Dc()),c=m.v.Me(c),E(a.ob(),c))):m.navigation.rr("Cannot disconnect unconnected connection")}else m.navigation.rr("Cannot disconnect blocks when the cursor is not on a connection")};m.navigation.Ar=function(){E(m.navigation.Cc(),m.navigation.yb().ob().Ua)};
m.navigation.xE=function(){var a=m.navigation.Cc();E(a,null);a.Fa()};m.navigation.zj=function(a){m.navigation.nh=a};m.navigation.YD=function(a){var c=m.navigation.yb();if(c&&(c=c.ob())){var d=c.Ua;d=d?d.T():null;d===a?d.getParent()?(a=d.R||d.K)&&E(c,m.v.Me(a.ea)):E(c,m.v.Si(d.C,d.Pa())):d&&-1<Ua(a,!1).indexOf(d)&&E(c,m.v.Si(d.C,d.Pa()))}};m.navigation.QJ=function(a){var c=m.navigation.yb().ob();if(c){var d=c.Ua;d=d?d.T():null;d===a&&E(c,m.v.Le(d))}};
m.navigation.vC=function(){var a=m.navigation.yb();a.Fc||(a.Fc=!0,m.navigation.jn())};m.navigation.kC=function(){var a=m.navigation.yb();a.Fc&&(a.Fc=!1,a.ob().Fa(),m.navigation.Cc().Fa(),m.navigation.Zi()&&m.navigation.Zi().Fa())};m.navigation.rr=function(a){m.navigation.pj?m.navigation.pj("log",a):console.log(a)};m.navigation.tc=function(a){m.navigation.pj?m.navigation.pj("warn",a):console.warn(a)};m.navigation.WI=function(a){m.navigation.pj?m.navigation.pj("error",a):console.error(a)};
m.navigation.xx=function(a){a=m.va.sa.HE(a);return(a=m.va.sa.HC(a))?m.navigation.Tc(a):!1};m.navigation.Tc=function(a){var c=m.navigation.yb(),d=c.options.readOnly,e=!1;c.Fc?d?-1<m.navigation.EA.indexOf(a)&&(e=m.navigation.Dw(a)):e=m.navigation.Dw(a):a.name===m.navigation.ya.tp&&(m.navigation.vC(),e=!0);return e};
m.navigation.Dw=function(a){return a.name==m.navigation.ya.bk||m.navigation.nh==m.navigation.Iu?m.navigation.fF(a):a.name==m.navigation.ya.tp?(m.navigation.kC(),!0):m.navigation.nh==m.navigation.zm?m.navigation.rF(a):m.navigation.nh==m.navigation.Hu?m.navigation.DC(a):!1};
m.navigation.DC=function(a){var c=m.navigation.yb(),d=c.ta;if((c=d?D(d):D(c))&&c.Tc(a))return!0;switch(a.name){case m.navigation.ya.gp:return m.navigation.ew(),!0;case m.navigation.ya.ap:return m.navigation.vD(),!0;case m.navigation.ya.No:return m.navigation.jn(),!0;default:return!1}};
m.navigation.fF=function(a){var c=m.navigation.yb(),d=c.ta;return d&&"function"==typeof d.Tc&&d.Tc(a)?!0:a.name===m.navigation.ya.bk?(c.ta?m.navigation.ew():m.navigation.dw(),!0):a.name===m.navigation.ya.So?(m.navigation.dw(),!0):a.name===m.navigation.ya.No?(m.navigation.jn(),!0):!1};m.navigation.Pn=function(a,c){var d=m.navigation.yb(),e=d.ob(),f=d.ob().Ua;if(f.Qa()!==m.v.types.De)return!1;f=f.vo;E(e,m.v.Si(d,new m.g.P(a*m.navigation.Xu+f.x,c*m.navigation.Xu+f.y)));return!0};
m.navigation.rF=function(a){if(m.navigation.yb().ob().Tc(a))return!0;switch(a.name){case m.navigation.ya.To:return m.navigation.mx(),!0;case m.navigation.ya.ap:return m.navigation.dD(),!0;case m.navigation.ya.tt:return m.navigation.lC(),!0;case m.navigation.ya.Yt:return m.navigation.Pn(0,-1);case m.navigation.ya.Vt:return m.navigation.Pn(0,1);case m.navigation.ya.Wt:return m.navigation.Pn(-1,0);case m.navigation.ya.Xt:return m.navigation.Pn(1,0);default:return!1}};
m.navigation.dD=function(){var a=m.navigation.yb().ob().Ua,c=a.Qa();c==m.v.types.Nb?(a=a.ka,ka(a)&&a.zl(void 0)):a.kj||c==m.v.types.De?m.navigation.Ar():c==m.v.types.Yc?m.navigation.tc("Cannot mark a block."):c==m.v.types.ze&&m.navigation.tc("Cannot mark a stack.")};m.navigation.zo=new m.Ic(m.navigation.ya.qd);m.navigation.Ys=new m.Ic(m.navigation.ya.gp);m.navigation.xo=new m.Ic(m.navigation.ya.od);m.navigation.Xs=new m.Ic(m.navigation.ya.So);m.navigation.Fy=new m.Ic(m.navigation.ya.To);
m.navigation.Gy=new m.Ic(m.navigation.ya.ap);m.navigation.Ey=new m.Ic(m.navigation.ya.tt);m.navigation.Ly=new m.Ic(m.navigation.ya.bk);m.navigation.wo=new m.Ic(m.navigation.ya.No);m.navigation.Zs=new m.Ic(m.navigation.ya.tp);m.navigation.Iy=new m.Ic(m.navigation.ya.Wt);m.navigation.Jy=new m.Ic(m.navigation.ya.Xt);m.navigation.Ky=new m.Ic(m.navigation.ya.Yt);m.navigation.Hy=new m.Ic(m.navigation.ya.Vt);m.navigation.EA=[m.navigation.zo,m.navigation.Ys,m.navigation.Xs,m.navigation.xo,m.navigation.Zs];m.D={};m.D.visible=!1;m.D.Mi=!1;m.D.eA=50;m.D.ox=0;m.D.Al=0;m.D.mr=0;m.D.nr=0;m.D.na=null;m.D.jl=null;m.D.du=0;m.D.fu=10;m.D.DA=10;m.D.Rz=750;m.D.$o=5;m.D.Ya=null;m.D.La=function(){m.D.Ya||(m.D.Ya=document.createElement("div"),m.D.Ya.className="blocklyTooltipDiv",(m.Wn||document.body).appendChild(m.D.Ya))};m.D.Li=function(a){a.VD=m.bc(a,"mouseover",null,m.D.mE);a.TD=m.bc(a,"mouseout",null,m.D.lE);a.addEventListener("mousemove",m.D.Ax,!1)};
m.D.Qs=function(a){a&&(m.hb(a.VD),m.hb(a.TD),a.removeEventListener("mousemove",m.D.Ax))};m.D.mE=function(a){if(!m.D.Mi){for(a=a.currentTarget;"string"!=typeof a.te&&"function"!=typeof a.te;)a=a.te;m.D.na!=a&&(m.D.Fa(),m.D.jl=null,m.D.na=a);clearTimeout(m.D.ox)}};m.D.lE=function(){m.D.Mi||(m.D.ox=setTimeout(function(){m.D.na=null;m.D.jl=null;m.D.Fa()},1),clearTimeout(m.D.Al))};
m.D.Ax=function(a){if(m.D.na&&m.D.na.te&&!m.D.Mi)if(m.D.visible){var c=m.D.mr-a.pageX;a=m.D.nr-a.pageY;Math.sqrt(c*c+a*a)>m.D.DA&&m.D.Fa()}else m.D.jl!=m.D.na&&(clearTimeout(m.D.Al),m.D.mr=a.pageX,m.D.nr=a.pageY,m.D.Al=setTimeout(m.D.QE,m.D.Rz))};m.D.F=function(){m.D.na=null;m.D.jl=null;m.D.Fa()};m.D.Fa=function(){m.D.visible&&(m.D.visible=!1,m.D.Ya&&(m.D.Ya.style.display="none"));m.D.Al&&clearTimeout(m.D.Al)};m.D.block=function(){m.D.Fa();m.D.Mi=!0};m.D.lF=function(){m.D.Mi=!1};
m.D.QE=function(){if(!m.D.Mi&&(m.D.jl=m.D.na,m.D.Ya)){m.D.Ya.textContent="";for(var a=m.D.na.te;"function"==typeof a;)a=a();a=m.g.Da.zy(a,m.D.eA);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));m.D.Ya.appendChild(d)}a=m.D.na.H;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;m.D.Ya.style.direction=a?"rtl":"ltr";m.D.Ya.style.display="block";m.D.visible=!0;var e=m.D.mr;e=a?e-(m.D.du+m.D.Ya.offsetWidth):
e+m.D.du;var f=m.D.nr+m.D.fu;f+m.D.Ya.offsetHeight>d+window.scrollY&&(f-=m.D.Ya.offsetHeight+2*m.D.fu);a?e=Math.max(m.D.$o-window.scrollX,e):e+m.D.Ya.offsetWidth>c+window.scrollX-2*m.D.$o&&(e=c-m.D.Ya.offsetWidth-2*m.D.$o);m.D.Ya.style.top=f+"px";m.D.Ya.style.left=e+"px"}};m.Yg=function(a,c){this.nx=null;this.Ac=new m.g.P(0,0);this.Jb=this.Lb=this.Aj=this.Bj=this.jd=null;this.aq=c;this.Sk=this.Eh=this.Tk=this.xh=!1;this.Dd=a;this.ba=this.ji=this.Ee=this.hg=this.Un=this.Tn=null;this.yn=this.yh=this.mv=!1;this.Hw=!m.wz};b=m.Yg.prototype;b.F=function(){m.Touch.Om();m.D.lF();this.aq.Tb=null;this.Tn&&m.hb(this.Tn);this.Un&&m.hb(this.Un);this.Ee&&this.Ee.F();this.ji&&this.ji.F();this.hg&&this.hg.F()};
function tb(a,c){a.Ac=m.g.P.Ak(new m.g.P(c.clientX,c.clientY),a.nx);if(a.xh)var d=!1;else a.xh=m.g.P.OD(a.Ac)>(a.ba?m.Jz:m.vz),d=a.xh;if(d){if(a.mv)throw Error("updateIsDragging_ should only be called once per gesture.");a.mv=!0;if(a.jd){a.Sk=!0;a.hg=new m.am(a.jd,a.Jb);d=a.hg;m.h.Pb()||m.h.la(!0);d.o.Xb(!1);d.Ob.Fp=!1;d.ph&&(d.Ob.moveTo(0,0),d.ph.di(d.cf.x,d.cf.y),ub(d.ph,d.Ob.oa()));d.Ob.Lg&&d.Ob.Lg(!0);var e=d.o.ta;e&&"function"==typeof e.zp&&e.zp(d.Ob.ed()?"blocklyToolboxDelete":"blocklyToolboxGrab");
mb(a.hg,a.Dd,a.Ac);d=!0}else d=!1;if(!d){if(a.Lb)if(a.ba?(a.Lb&&a.Lb.isEnabled()?((d=!vb(a.ba))||(d=a.Ac,d=Math.atan2(d.y,d.x)/Math.PI*180,e=a.ba.sC,d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1),d?(a.Jb=a.ba.ab,wb(a.Jb),m.h.Pb()||m.h.la(!0),a.Aj=null,a.Lb=pb(a.ba,a.Lb),a.Lb.select(),d=!0):d=!1):d=!1,a.Eh=d):a.Lb.Sc()&&(a.Eh=!0),a.Eh){a.Ee=new m.Sg(a.Lb,a.Jb);d=a.Ee;e=a.Ac;var f=a.Hw;m.h.Pb()||m.h.la(!0);var g=new m.h.ac(d.eb,"dragStart",null,t(d.eb,!1));m.h.Ia(g);d.o.An&&Da(d.eb);m.g.j.Dl();d.o.Xb(!1);m.Za.oq();
if(d.eb.getParent()||f&&d.eb.V&&d.eb.V.pa())w(d.eb,f),e=d.sj(e),e=m.g.P.sum(d.cf,e),d.eb.translate(e.x,e.y),m.Za.nC(d.eb),e=d.Pe,e.Jm=na(e);d.eb.Lg(!0);e=d.eb;e.Sl&&(f=e.Pa(),e.oa().removeAttribute("transform"),e.C.$c.di(f.x,f.y),(f=e.oa())&&ub(e.C.$c,f));(e=d.o.ta)&&"function"==typeof e.zp&&e.zp(d.eb.ed()?"blocklyToolboxDelete":"blocklyToolboxGrab");wa(a.Ee,a.Dd,a.Ac);d=!0}else d=!1;else d=!1;if(d=!d)if(a.ba)d=vb(a.ba);else if(d=a.Jb)d=a.Jb,d=d.options.Wb&&d.options.Wb.lg;d&&(a.ji=a.ba?new m.mm(a.ba):
new m.fk(a.Jb),a.Tk=!0,a.ji.Gs())}m.zg()}a.Dd=c}
b.qq=function(a){m.g.Cn(a)?this.cancel():(this.yh=!0,m.Za.oq(),wb(this.Jb),this.Jb.An&&this.Jb.resize(),m.Ub(!!this.ba),Pa(this.Jb),this.Dd=a,m.D.block(),this.Lb&&(!this.Lb.Ue&&a.shiftKey&&this.Lb.C.Fc?E(this.aq.ob(),m.v.$p(this.Lb)):this.Lb.select()),m.g.Xk(a)?Fa(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||m.ND(a,this),this.nx=new m.g.P(a.clientX,a.clientY),this.Hw=a.altKey||a.ctrlKey||a.metaKey,this.Li(a)))};
b.Li=function(a){this.Tn=m.wa(document,"mousemove",null,this.cj.bind(this));this.Un=m.wa(document,"mouseup",null,this.on.bind(this));a.preventDefault();a.stopPropagation()};b.cj=function(a){tb(this,a);this.Tk?this.ji.lg(this.Ac):this.Eh?wa(this.Ee,this.Dd,this.Ac):this.Sk&&mb(this.hg,this.Dd,this.Ac);a.preventDefault();a.stopPropagation()};
b.on=function(a){tb(this,a);m.zg();if(this.yn)console.log("Trying to end a gesture recursively.");else{this.yn=!0;if(this.Sk)nb(this.hg,a,this.Ac);else if(this.Eh)Ba(this.Ee,a,this.Ac);else if(this.Tk){var c=this.ji;c.lg(this.Ac);Sa(c.o)}else if(this.jd&&!this.xh)this.jd.KE&&this.jd.KE(),this.jd.select&&this.jd.select();else if(xb(this)){c=this.Bj;var d=this.Dd;ka(c)&&c.zl(d);yb(this)}else!this.Aj||this.xh||xb(this)?this.Aj||this.jd||this.Bj||this.xh||(c=this.aq,a.shiftKey&&c.Fc?(d=m.g.FE(c,new m.g.P(a.clientX,
a.clientY)),d=m.v.Si(c,d),E(c.ob(),d)):m.selected&&ob(m.selected),d=new m.h.ac(null,"workspaceClick",null,null),d.sb=c.id,m.h.Ia(d)):(this.ba&&this.ba.Ki?this.Lb.isEnabled()&&(m.h.Pb()||m.h.la(!0),Ea(pb(this.ba,this.Lb))):m.h.Ia(new m.h.ac(this.Aj,"click",void 0,void 0)),yb(this),m.h.la(!1));a.preventDefault();a.stopPropagation();this.F()}};
b.cancel=function(){if(!this.yn){m.zg();if(this.Sk)nb(this.hg,this.Dd,this.Ac);else if(this.Eh)Ba(this.Ee,this.Dd,this.Ac);else if(this.Tk){var a=this.ji;a.lg(this.Ac);Sa(a.o)}this.F()}};function Fa(a,c){a.Lb?(yb(a),m.Ub(!!a.ba),a.Lb.xl(c)):a.jd?a.jd.xl(c):a.Jb&&!a.ba&&(m.Ub(),a.Jb.xl(c));c.preventDefault();c.stopPropagation();a.F()}
function zb(a,c,d){if(a.yh)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Jb||(a.Jb=d);a.Dd=c;a.qq(c);a.Jb.Fc&&m.navigation.zj(m.navigation.zm)}function Ab(a,c,d){if(a.yh)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.ba||(a.ba=d);zb(a,c,d.o)}function yb(a){a.Lb&&!a.ba&&Da(a.Lb)}function Bb(a,c){a.Aj||a.jd||(a.Aj=c,c.Ue&&c!=c.Dc()?Cb(a,c.Dc()):Cb(a,c))}
function Cb(a,c){c.Ra?Cb(a,c.getParent()):a.Lb=c}function xb(a){return(a.Bj?ka(a.Bj):!1)&&!a.xh&&(!a.ba||!a.ba.Ki)}b.fd=function(){return this.Tk||this.Eh||this.Sk};b.$i=function(){return this.Ee?this.Ee.$i():[]};m.Yg.sn=function(){for(var a=m.kb.getAll(),c=0,d;d=a[c];c++)if(d.Tb)return!0;return!1};m.ld=function(a,c,d){this.ef=this.Ko;this.ky=this.ty=null;this.qc=new m.g.Ud(0,0);this.s=this.Fr=this.bi=this.rc=this.Fb=this.Qc=this.Of=this.Bf=null;d&&this.lk(d);this.setValue(a);c&&(this.ty=c)};b=m.ld.prototype;b.Ko=null;b.name=void 0;b.Cf=!1;b.lx=50;b.I=null;b.tg=!0;b.Pg=!0;b.qv=null;m.ld.au="\u00a0";b=m.ld.prototype;b.Mj=!0;b.Cu=!1;b.lk=function(a){var c=a.tooltip;"string"==typeof c&&(c=m.g.Wc(a.tooltip));c&&this.qe(c)};
b.X=function(){!this.s&&this.I&&this.I.C&&this.I.C.ma&&(this.s=this.I.C.fb.X());return this.s};b.T=function(){return this.I};b.Aa=function(){this.Qc||(this.Qc=m.g.j.J("g",{},null),this.isVisible()||(this.Qc.style.display="none"),this.I.oa().appendChild(this.Qc),this.tn(),Db(this),this.qe(this.ky),m.D.Li(Eb(this)),this.Fr=m.wa(Eb(this),"mousedown",this,this.Dg))};b.tn=function(){Fb(this);Gb(this)};
function Fb(a){a.Fb=m.g.j.J("rect",{rx:a.X().jm,ry:a.X().jm,x:0,y:0,height:a.qc.height,width:a.qc.width,"class":"blocklyFieldRect"},a.Qc)}function Gb(a){a.rc=m.g.j.J("text",{"class":"blocklyText"},a.Qc);a.X().Oo&&a.rc.setAttribute("dominant-baseline","central");a.bi=document.createTextNode("");a.rc.appendChild(a.bi)}b.F=function(){m.B.Pk(this);m.W.Pk(this);m.D.Qs(Eb(this));this.Fr&&m.hb(this.Fr);m.g.j.removeNode(this.Qc);this.Cf=!0};
function Db(a){var c=a.Qc;a.Mj&&c&&(a.I.Ad()?(m.g.j.Db(c,"blocklyEditableText"),m.g.j.hd(c,"blocklyNonEditableText"),c.style.cursor=a.jz):(m.g.j.Db(c,"blocklyNonEditableText"),m.g.j.hd(c,"blocklyEditableText"),c.style.cursor=""))}function ka(a){return!!a.I&&a.I.Ad()&&!!a.zl&&"function"===typeof a.zl}b.isVisible=function(){return this.Pg};b.Qb=function(a){if(this.Pg!=a){this.Pg=a;var c=this.oa();c&&(c.style.display=a?"block":"none")}};b.oa=function(){return this.Qc};b.mc=function(){};
b.rl=function(){this.bi&&(this.bi.nodeValue=Hb(this));this.qy()};b.qy=function(){var a=this.X(),c=this.Fb?this.X().Nj:0,d=2*c,e=a.km,f=0;this.rc&&(f=m.g.j.Mq(this.rc,a.Xg,a.$f,a.Zf),d+=f);this.Fb&&(e=Math.max(e,a.zt));this.qc.height=e;this.qc.width=d;Ib(this,c,f);Jb(this)};function Ib(a,c,d){if(a.rc){var e=a.X(),f=a.qc.height/2;a.rc.setAttribute("x",a.I.H?a.qc.width-d-c:c);a.rc.setAttribute("y",e.Oo?f:f-e.km/2+e.Ct)}}
function Jb(a){a.Fb&&(a.Fb.setAttribute("width",a.qc.width),a.Fb.setAttribute("height",a.qc.height),a.Fb.setAttribute("rx",a.X().jm),a.Fb.setAttribute("ry",a.X().jm))}b.Hf=function(){if(!this.isVisible())return new m.g.Ud(0,0);this.tg?(this.rl(),this.tg=!1):this.Pg&&0==this.qc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.rl());return this.qc};
function Hb(a){var c=Kb(a);if(!c)return m.ld.au;c.length>a.lx&&(c=c.substring(0,a.lx-2)+"\u2026");c=c.replace(/\s/g,m.ld.au);a.I&&a.I.H&&(c+="\u200f");return c}function Kb(a){if(a.Tq){var c=a.Tq.call(a);if(null!==c)return String(c)}return String(a.getValue())}b.al=function(){this.tg=!0;this.s=null};function Lb(a){a.tg=!0;a.I&&a.I.ma&&(a.I.Ca(),a.I.Oc(),a.Ss())}
b.setValue=function(a){if(null!==a){var c=this.$m(a);a=Mb(this,a,c);if(!(a instanceof Error)){if(c=this.ty)if(c=c.call(this,a),a=Mb(this,a,c),a instanceof Error)return;c=this.I;if(!c||!c.Cf){var d=this.getValue();d!==a&&(c&&m.h.isEnabled()&&m.h.Ia(new m.h.li(c,"field",this.name||null,d,a)),this.an(a),this.tg&&Lb(this))}}}};function Mb(a,c,d){if(null===d)return a.tg&&Lb(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.ef};b.$m=function(a){return null===a||void 0===a?null:a};
b.an=function(a){this.ef=a;this.tg=!0};b.Dg=function(a){if(this.I&&this.I.C&&(a=this.I.C.mg(a))){if(a.yh)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Bj||(a.Bj=this)}};b.qe=function(a){var c=Eb(this);c?c.te=a||""===a?a:this.I:this.ky=a};function Eb(a){return a.qv||a.oa()}b.Qe=function(){for(var a=null,c=this.I,d=c.O,e=0;e<c.O.length;e++)for(var f=d[e],g=f.$a,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.nw=function(){return!1};b.Tc=function(){return!1};
b.Qf=function(a){a?(this.Qc.appendChild(a),this.Bf=a):this.Bf=null};b.Rf=function(a){a?(this.Qc.appendChild(a),this.Of=a):this.Of=null};b.Ss=function(){var a=this.I.C;a.Fc&&this.Bf&&a.ob().draw();a.Fc&&this.Of&&a.Cc(m.navigation.Tj).draw()};m.qh={};m.qh.register=function(a,c){m.Z.register(m.Z.Cb.Nb,a,c)};m.qh.unregister=function(a){m.Z.unregister(m.Z.Cb.Nb,a)};m.qh.ra=function(a){var c=m.Z.Jq(m.Z.Cb.Nb,a.type);return c?c.ra(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};m.g.ub={};m.g.ub.Qy="aria-";m.g.ub.FA="role";m.g.ub.vm={qG:"grid",rG:"gridcell",sG:"group",fA:"listbox",lA:"menu",mA:"menuitem",OG:"menuitemcheckbox",wA:"option",SH:"presentation",op:"row",lI:"tree",mI:"treeitem"};m.g.ub.State={My:"activedescendant",EF:"colcount",rz:"disabled",UF:"expanded",wG:"invalid",dA:"label",BG:"labelledby",FG:"level",LH:"orientation",RH:"posinset",ZH:"rowcount",IA:"selected",bI:"setsize",sI:"valuemax",tI:"valuemin"};m.g.ub.Mg=function(a,c){a.setAttribute(m.g.ub.FA,c)};
m.g.ub.zj=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(m.g.ub.Qy+c,d)};m.bp=function(){this.le=[];this.Wh=this.na=this.Sn=this.Nn=this.Mn=this.yf=this.On=this.sg=this.Ur=null};b=m.bp.prototype;b.yp=function(a){this.le.push(a)};
b.Ca=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.Wh&&m.g.ub.Mg(c,this.Wh);this.na=c;for(var d=0,e;e=this.le[d];d++)c.appendChild(e.La());this.On=m.wa(c,"mouseover",this,this.iD,!0);this.yf=m.wa(c,"click",this,this.cD,!0);this.Mn=m.wa(c,"mouseenter",this,this.gD,!0);this.Nn=m.wa(c,"mouseleave",this,this.hD,!0);this.Sn=m.wa(c,"keydown",this,this.eD);a.appendChild(c)};
b.focus=function(){var a=this.na;a&&(a.focus({preventScroll:!0}),m.g.j.Db(a,"blocklyFocused"))};b.Mg=function(a){this.Wh=a};b.F=function(){this.On&&(m.hb(this.On),this.On=null);this.yf&&(m.hb(this.yf),this.yf=null);this.Mn&&(m.hb(this.Mn),this.Mn=null);this.Nn&&(m.hb(this.Nn),this.Nn=null);this.Sn&&(m.hb(this.Sn),this.Sn=null);for(var a=0,c;c=this.le[a];a++)c.F();this.na=null};
function Nb(a,c){for(var d=a.na;c&&c!=d;){if(m.g.j.Xq(c,"blocklyMenuItem"))for(var e=0,f;f=a.le[e];e++)if(f.na==c)return f;c=c.parentElement}return null}b.pe=function(a){var c=this.sg;c&&(c.pe(!1),this.sg=null);a&&(a.pe(!0),this.sg=a,c=this.na,m.g.style.GE(a.na,c),m.g.ub.zj(c,m.g.ub.State.My,a.Gb()))};function Ob(a){var c=a.le.indexOf(a.sg);Pb(a,0>c?a.le.length:c,-1)}function Pb(a,c,d){c+=d;for(var e;e=a.le[c];){if(e.isEnabled()){a.pe(e);break}c+=d}}
b.iD=function(a){(a=Nb(this,a.target))&&(a.isEnabled()?this.sg!=a&&this.pe(a):this.pe(null))};b.cD=function(a){var c=this.Ur;this.Ur=null;c&&"number"==typeof a.clientX&&1>m.g.P.pq(c,new m.g.P(a.clientX,a.clientY))||(a=Nb(this,a.target))&&a.isEnabled()&&a.gk&&a.gk(a)};b.gD=function(){this.focus()};b.hD=function(){if(this.na){var a=this.na;a&&(a.blur(),m.g.j.hd(a,"blocklyFocused"));this.pe(null)}};
b.eD=function(a){if(this.le.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.sg;switch(a.keyCode){case m.g.Oa.wt:case m.g.Oa.LA:c&&c.isEnabled()&&c.gk&&c.gk(c);break;case m.g.Oa.ZA:Ob(this);break;case m.g.Oa.uz:Pb(this,this.le.indexOf(this.sg),1);break;case m.g.Oa.BA:case m.g.Oa.Qz:Pb(this,-1,1);break;case m.g.Oa.AA:case m.g.Oa.Cz:Pb(this,this.le.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.Hf=function(){var a=this.na,c=m.g.style.Hf(a);c.height=a.scrollHeight;return c};m.cp=function(a,c){this.Af=a;this.ef=c;this.fn=!0;this.na=null;this.ho=!1;this.Wh=null;this.Kw=this.Rp=this.Qp=!1;this.gk=null};b=m.cp.prototype;
b.La=function(){var a=document.createElement("div");a.id=m.g.ri.Qq();this.na=a;a.className="blocklyMenuItem goog-menuitem "+(this.fn?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.Rp?"blocklyMenuItemSelected goog-option-selected ":"")+(this.Kw?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.ho?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.Qp){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.Af;"string"==typeof this.Af&&(d=document.createTextNode(this.Af));c.appendChild(d);a.appendChild(c);this.Wh&&m.g.ub.Mg(a,this.Wh);m.g.ub.zj(a,m.g.ub.State.IA,this.Qp&&this.Rp||!1);m.g.ub.zj(a,m.g.ub.State.rz,!this.fn);return a};b.F=function(){this.na=null};b.Gb=function(){return this.na.id};b.getValue=function(){return this.ef};b.Mg=function(a){this.Wh=a};
b.pe=function(a){this.Kw=a;var c=this.na;c&&this.isEnabled()&&(a?(m.g.j.Db(c,"blocklyMenuItemHighlight"),m.g.j.Db(c,"goog-menuitem-highlight")):(m.g.j.hd(c,"blocklyMenuItemHighlight"),m.g.j.hd(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.fn};b.$e=function(a){this.fn=a};function Qb(a,c,d){a.gk=c.bind(d)};m.Sa=function(a,c,d){"function"!=typeof a&&m.Sa.sy(a);this.qj=a;this.Is=this.gs=this.kn=null;a=this.qj;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=m.g.Wc(g):(null!=g.alt&&(a[f][0].alt=m.g.Wc(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=m.g.Da.Ds(e);g=m.g.Da.uv(e,f);var k=m.g.Da.vv(e,f);!g&&!k||f<=g+k||(g&&(this.gs=e[0].substring(0,g-1)),k&&(this.Is=e[0].substr(1-k)),this.qj=m.Sa.rB(a,g,k))}}this.uj=this.getOptions(!1)[0];
m.Sa.A.constructor.call(this,this.uj[1],c,d);this.Cj=this.sd=this.Ec=this.Vb=this.tl=null};m.g.object.S(m.Sa,m.ld);m.Sa.ra=function(a){return new m.Sa(a.options,void 0,a)};m.Sa.prototype.Cu=!0;m.Sa.BF=25;m.Sa.NG=.45;m.Sa.Vz=5;m.Sa.Wz=2*m.Sa.Vz;m.Sa.Wl=m.g.userAgent.Vl?"\u25bc":"\u25be";b=m.Sa.prototype;b.jz="default";
b.tn=function(){!this.X().Bt||this.X().Bt&&!this.I.Ra?Fb(this):this.qv=this.I.oa();Gb(this);this.Ec=m.g.j.J("image",{},this.Qc);this.X().Gz?(this.Cj=m.g.j.J("image",{height:this.X().Oj+"px",width:this.X().Oj+"px"},this.Qc),this.Cj.setAttributeNS(m.g.j.Mc,"xlink:href",this.X().Hz)):(this.sd=m.g.j.J("tspan",{},this.rc),this.sd.appendChild(document.createTextNode(this.I.H?m.Sa.Wl+" ":" "+m.Sa.Wl)),this.I.H?this.rc.insertBefore(this.sd,this.bi):this.rc.appendChild(this.sd));this.Fb&&m.g.j.Db(this.Fb,
"blocklyDropdownRect")};
b.zl=function(a){var c=new m.bp;c.Mg(m.g.ub.vm.fA);var d=this.getOptions(!1);this.tl=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new m.cp(f,g);f.Mg(m.g.ub.vm.wA);f.ho=this.I.H;f.Qp=!0;c.yp(f);f.Rp=g==this.ef;g==this.ef&&(this.tl=f);Qb(f,this.fD,this)}this.Vb=c;this.Vb.Ur=a&&"number"===typeof a.clientX?new m.g.P(a.clientX,a.clientY):null;this.Vb.Ca(m.B.RC());m.g.j.Db(this.Vb.na,"blocklyDropdownMenu");
this.X().Fz&&(a=this.I.Ra?this.I.getParent().Kq():this.I.Kq(),c=this.I.Ra?this.I.getParent().style.Oi:this.I.style.Oi,m.B.oe(a,c));m.B.PE(this,this.uC.bind(this));this.Vb.focus();this.tl&&this.Vb.pe(this.tl);this.mc()};b.uC=function(){this.Vb&&this.Vb.F();this.tl=this.Vb=null;this.mc()};b.fD=function(a){m.B.Pk(this,!0);this.setValue(a.getValue())};m.Sa.rB=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};b=m.Sa.prototype;
b.getOptions=function(a){return"function"==typeof this.qj?(this.kn&&a||(this.kn=this.qj.call(this),m.Sa.sy(this.kn)),this.kn):this.qj};b.$m=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.I&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.I.type+", Field name: "+this.name+", Value: "+a),null)};
b.an=function(a){m.Sa.A.an.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.ef&&(this.uj=d)};b.mc=function(){this.Fb&&(this.Fb.setAttribute("stroke",this.I.style.Oi),this.Vb?this.Fb.setAttribute("fill",this.I.style.Oi):this.Fb.setAttribute("fill","transparent"));this.I&&this.sd&&(this.sd.style.fill=this.I.Ra?this.I.style.Qm:this.I.style.jh)};
b.rl=function(){this.bi.nodeValue="";this.Ec.style.display="none";var a=this.uj&&this.uj[0];if(a&&"object"==typeof a){this.Ec.style.display="";this.Ec.setAttributeNS(m.g.j.Mc,"xlink:href",a.src);this.Ec.setAttribute("height",a.height);this.Ec.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Fb,e=Math.max(d?this.X().At:0,c+m.Sa.Wz);d=d?this.X().Nj:0;var f=this.Cj?Rb(this,a+d,e/2-this.X().Oj/2):m.g.j.Mq(this.sd,this.X().Xg,this.X().$f,this.X().Zf);this.qc.width=a+
f+2*d;this.qc.height=e;var g=0;this.I.H?this.Ec.setAttribute("x",d+f):(g=a+f,this.rc.setAttribute("text-anchor","end"),this.Ec.setAttribute("x",d));this.Ec.setAttribute("y",e/2-c/2);Ib(this,g+d,a+f)}else this.bi.nodeValue=Hb(this),m.g.j.Db(this.rc,"blocklyDropdownText"),this.rc.setAttribute("text-anchor","start"),e=!!this.Fb,c=Math.max(e?this.X().At:0,this.X().km),a=m.g.j.Mq(this.rc,this.X().Xg,this.X().$f,this.X().Zf),e=e?this.X().Nj:0,d=0,this.Cj&&(d=Rb(this,a+e,c/2-this.X().Oj/2)),this.qc.width=
a+d+2*e,this.qc.height=c,Ib(this,e,a);Jb(this)};function Rb(a,c,d){if(!a.Cj)return 0;var e=a.Fb?a.X().Nj:0,f=a.X().Iz,g=a.X().Oj;a.Cj.setAttribute("transform","translate("+(a.I.H?e:c+f)+","+d+")");return g+f}b.Tq=function(){if(!this.uj)return null;var a=this.uj[0];return"object"==typeof a?a.alt:a};
m.Sa.sy=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};m.Sa.prototype.Tc=function(a){if(this.Vb){if(a===m.navigation.zo)return Ob(this.Vb),!0;if(a===m.navigation.xo)return a=this.Vb,Pb(a,a.le.indexOf(a.sg),1),!0}return m.Sa.A.Tc.call(this,a)};m.qh.register("field_dropdown",m.Sa);m.$b=function(a){this.o=a;this.lh=[];this.rh=null;if(!(0>=this.o.options.Ln)){a=new m.wc({scrollbars:!0,parentWorkspace:this.o,rtl:this.o.H,oneBasedIndex:this.o.options.Vn,renderer:this.o.options.ps,rendererOverrides:this.o.options.qs});if(this.o.zd){a.gb=this.o.gb==m.eh?m.ck:m.eh;if(!m.Ro)throw Error("Missing require for Blockly.HorizontalFlyout");this.rh=new m.Ro(a)}else{a.gb=this.o.gb==m.dh?m.Vd:m.dh;if(!m.ih)throw Error("Missing require for Blockly.VerticalFlyout");this.rh=new m.ih(a)}gb(this.o,
this.gE.bind(this))}};b=m.$b.prototype;b.dk=47;b.Yl=44;b.wi=16;b.iA=20;b.Rt=20;b.pm=10;b.rp=0;b.sp=32;b.Oz=.1;m.$b.Py=80;m.$b.ct=4;m.$b.gu=.4;m.$b.uA=.8;m.$b.St=45;b=m.$b.prototype;b.Bn=!1;b.Er=0;b.M=null;b.lo=null;b.pr=0;b.yg=0;b.ax=0;b.ly=0;
b.La=function(){this.M=m.g.j.J("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=m.g.j.J("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.M);m.g.j.J("rect",{width:this.dk,height:this.Yl,y:this.wi},c);var d=m.g.j.J("image",{width:m.Bi.width,x:-this.rp,height:m.Bi.height,y:-this.sp,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.M);d.setAttributeNS(m.g.j.Mc,"xlink:href",this.o.options.Zn+m.Bi.url);c=m.g.j.J("clipPath",{id:"blocklyTrashLidClipPath"+a},this.M);
m.g.j.J("rect",{width:this.dk,height:this.wi},c);this.lo=m.g.j.J("image",{width:m.Bi.width,x:-this.rp,height:m.Bi.height,y:-this.sp,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.M);this.lo.setAttributeNS(m.g.j.Mc,"xlink:href",this.o.options.Zn+m.Bi.url);m.wa(this.M,"mouseup",this,this.click);m.bc(d,"mouseover",this,this.WD);m.bc(d,"mouseout",this,this.UD);this.Bp();return this.M};
b.Aa=function(a){0<this.o.options.Ln&&(m.g.j.ij(this.rh.La("svg"),x(this.o)),this.rh.Aa(this.o));this.so=this.iA+a;Aa(this,!1);return this.so+this.Yl+this.wi};b.F=function(){this.M&&(m.g.j.removeNode(this.M),this.M=null);this.o=this.lo=null;clearTimeout(this.pr)};
b.position=function(){if(this.so){var a=this.o.wd();a&&(this.ax=a.gb==m.Vd||this.o.zd&&!this.o.H?a.rb+a.lc-this.dk-this.Rt-m.Ha.fc:this.Rt+m.Ha.fc,this.ly=a.gb==m.ck?this.so:a.Ab+a.xc-(this.Yl+this.wi)-this.so,this.M.setAttribute("transform","translate("+this.ax+","+this.ly+")"))}};b.Jk=function(){if(!this.M)return null;var a=this.M.getBoundingClientRect(),c=a.top+this.sp-this.pm;a=a.left+this.rp-this.pm;return new m.g.Rect(c,c+this.wi+this.Yl+2*this.pm,a,a+this.dk+2*this.pm)};
function Aa(a,c){a.Bn!=c&&(clearTimeout(a.pr),a.Bn=c,a.Bp())}b.Bp=function(){var a=1/(m.$b.ct+1);this.yg+=this.Bn?a:-a;this.yg=Math.min(Math.max(this.yg,this.Er),1);Sb(this,this.yg*m.$b.St);this.M.style.opacity=m.$b.gu+this.yg*(m.$b.uA-m.$b.gu);this.yg>this.Er&&1>this.yg&&(this.pr=setTimeout(this.Bp.bind(this),m.$b.Py/m.$b.ct))};function Sb(a,c){var d=a.o.gb==m.dh||a.o.zd&&a.o.H;a.lo.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.dk-4)+","+(a.wi-2)+")")}b.close=function(){Aa(this,!1)};
b.click=function(){if(this.lh.length){for(var a=[],c=0,d;d=this.lh[c];c++)a[c]=m.N.ci(d);this.rh.show(a)}};b.WD=function(){this.lh.length&&Aa(this,!0)};b.UD=function(){Aa(this,!1)};
b.gE=function(a){if(!(0>=this.o.options.Ln)&&a.type==m.h.gt&&"shadow"!=a.Qr.tagName.toLowerCase()){for(var c=a=a.Qr.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=m.N.fe(a);if(-1==this.lh.indexOf(a)){for(this.lh.unshift(a);this.lh.length>
this.o.options.Ln;)this.lh.pop();this.Er=a=this.Oz;this.Bn||Sb(this,a*m.$b.St)}}};m.kc=Object.create(null);m.ga=function(a,c){this.I=a;this.type=c};m.ga.bm=0;m.ga.vu=1;m.ga.yu=2;m.ga.xu=3;m.ga.tu=4;m.ga.uu=5;m.ga.wu=6;b=m.ga.prototype;b.ea=null;b.Cf=!1;b.Zd=null;b.af=null;b.x=0;b.y=0;
b.ae=function(a){var c=this,d=c.T(),e=a.T();a.isConnected()&&a.disconnect();if(c.isConnected()){var f=c.pa(),g=c.af;c.af=null;if(f.Ra)g=m.N.vf(f),f.F(!1),f=null;else if(c.type==m.cb){if(!f.K)throw Error("Orphan block does not have an output connection.");var k=m.ga.Zw(e,f);k&&(f.K.connect(k),f=null)}else if(c.type==m.Ma){if(!f.R)throw Error("Orphan block does not have a previous connection.");for(k=e;k.V;){var l=v(k);if(l&&!l.Ra)k=l;else{qa(f.R,k.V)&&(k.V.connect(f.R),f=null);break}}}if(f&&(c.disconnect(),
m.h.ec)){var n=m.h.Pb();setTimeout(function(){f.C&&!f.getParent()&&(m.h.la(n),f.K?f.K.Rn(c):f.R&&f.R.Rn(c),m.h.la(!1))},m.Fo)}c.af=g}var p;m.h.isEnabled()&&(p=new m.h.Ij(e));m.ga.UB(c,a);e.yj(d);p&&(p.Uh(),m.h.Ia(p))};b.F=function(){if(this.isConnected()){this.af=null;var a=this.pa();a.Ra?a.F(!1):w(a)}this.Cf=!0};b.T=function(){return this.I};function A(a){return a.type==m.cb||a.type==m.Ma}b.isConnected=function(){return!!this.ea};
function qb(a,c){if(!c)return m.ga.xu;if(A(a))var d=a.I,e=c.T();else e=a.I,d=c.T();return d&&d==e?m.ga.vu:c.type!=m.yi[a.type]?m.ga.yu:d&&e&&d.C!==e.C?m.ga.uu:qa(a,c)?d.Ra&&!e.Ra?m.ga.wu:m.ga.bm:m.ga.tu}
function rb(a,c){switch(qb(a,c)){case m.ga.bm:break;case m.ga.vu:throw Error("Attempted to connect a block to itself.");case m.ga.uu:throw Error("Blocks not on same workspace.");case m.ga.yu:throw Error("Attempt to connect incompatible types.");case m.ga.xu:throw Error("Target connection is null.");case m.ga.tu:throw Error("Connection checks failed. "+(a+" expected "+a.Zd+", found "+c.Zd));case m.ga.wu:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}}
b.wn=function(a){if(a.I.ke()||qb(this,a)!=m.ga.bm)return!1;switch(a.type){case m.Sd:return this.ea||-1!=m.Yi.indexOf(a)?a=!1:a.ea?(a=a.pa(),a=a.ke()?!(a.R&&a.R.pa()):!1):a=!0,a;case m.Rd:if(a.isConnected()&&!a.pa().ke()||this.isConnected())return!1;break;case m.cb:if(a.isConnected()&&!a.pa().Sc()&&!a.pa().Ra)return!1;break;case m.Ma:if(a.isConnected()&&!this.I.V&&!a.pa().Ra&&a.pa().V)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=m.Yi.indexOf(a)?!1:
!0};b.Rn=function(){};b.connect=function(a){if(this.ea!=a){rb(this,a);var c=m.h.Pb();c||m.h.la(!0);A(this)?this.ae(a):a.ae(this);c||m.h.la(!1)}};m.ga.UB=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.ea=c;c.ea=a};m.ga.RE=function(a,c){for(var d=null,e=0;e<a.O.length;e++){var f=a.O[e].connection;if(f&&f.type==m.cb&&qa(c.K,f)){if(d)return null;d=f}}return d};m.ga.Zw=function(a,c){for(var d;d=m.ga.RE(a,c);)if(a=d.pa(),!a||a.Ra)return d;return null};b=m.ga.prototype;
b.disconnect=function(){var a=this.ea;if(!a)throw Error("Source connection not connected.");if(a.ea!=this)throw Error("Target connection not connected to source connection.");if(A(this)){var c=this.I;var d=a.T();a=this}else c=a.T(),d=this.I;var e=m.h.Pb();e||m.h.la(!0);this.mq(c,d);a.ts();e||m.h.la(!1)};b.mq=function(a,c){var d;m.h.isEnabled()&&(d=new m.h.Ij(c));this.ea=this.ea.ea=null;c.yj(null);d&&(d.Uh(),m.h.Ia(d))};
b.ts=function(){var a=this.T(),c=this.af;if(a.C&&c&&m.h.ec)if(a=m.N.Xi(c,a.C),a.K)this.connect(a.K);else if(a.R)this.connect(a.R);else throw Error("Child block does not have output or previous statement.");};b.pa=function(){return this.isConnected()?this.ea.T():null};function qa(a,c){if(!a.Zd||!c.Zd)return!0;for(var d=0;d<a.Zd.length;d++)if(-1!=c.Zd.indexOf(a.Zd[d]))return!0;return!1}b.wx=function(){!this.isConnected()||this.ea&&qa(this,this.ea)||w(A(this)?this.pa():this.I)};
b.vj=function(a){a?(Array.isArray(a)||(a=[a]),this.Zd=a,this.wx()):this.Zd=null};b.sx=function(){return[]};b.Qe=function(){for(var a=null,c=this.I,d=c.O,e=0;e<c.O.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.I;if(a)if(a.K==this)var c="Output Connection of ";else if(a.R==this)c="Previous Connection of ";else if(a.V==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.O[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};m.ua={};m.ua.Hj={};m.ua.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(m.ua.Hj[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');m.ua.Hj[a]=c};m.ua.aK=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');m.ua.register(a,function(){this.Ve(c)})};
m.ua.bK=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';m.ua.nv(f,c.Df,"domToMutation");m.ua.nv(f,c.Ed,"mutationToDom");var g=m.ua.pv(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');m.ua.register(a,function(){if(g){if(!m.pA)throw Error(f+"Missing require for Blockly.Mutator");this.Wx(new m.pA(e||[]))}this.Ve(c);d&&d.apply(this)})};m.ua.unregister=function(a){m.ua.Hj[a]?delete m.ua.Hj[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
m.ua.apply=function(a,c,d){var e=m.ua.Hj[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)m.ua.LB(a,c);else var f=m.ua.Pq(c);e.apply(c);if(d)m.ua.IB('Error after applying mutator "'+a+'": ',c);else if(!m.ua.aE(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
m.ua.nv=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};m.ua.LB=function(a,c){if(m.ua.Pq(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
m.ua.pv=function(a,c){var d=void 0!==a.Wp,e=void 0!==a.fq;if(d&&e){if("function"!=typeof a.Wp)throw Error(c+"compose must be a function.");if("function"!=typeof a.fq)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
m.ua.IB=function(a,c){if("function"!=typeof c.Df)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.Ed)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');m.ua.pv(c,a)};m.ua.Pq=function(a){var c=[];void 0!==a.Df&&c.push(a.Df);void 0!==a.Ed&&c.push(a.Ed);void 0!==a.Wp&&c.push(a.Wp);void 0!==a.fq&&c.push(a.fq);return c};m.ua.aE=function(a,c){c=m.ua.Pq(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
m.ua.FI=function(a,c){var d=[];"object"==typeof document&&m.g.Sx(function(){for(var e in c)m.g.ov(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(m.ua.JB(this,a,c),d.push(this.type));this.qe(function(){var e=String(ab(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=m.g.Wc(f);return f}.bind(this))}};
m.ua.JB=function(a,c,d){var e=da(a,c);if("function"!=typeof e.qj){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};m.ua.GI=function(a,c){"object"==typeof document&&m.g.Sx(function(){m.g.ov(a)});return function(){this.qe(function(){var d=da(this,c);return m.g.Wc(a).replace("%1",d?Kb(d):"")}.bind(this))}};
m.ua.xC=function(){this.gF=this.te;this.qe(function(){var a=this.getParent();return a&&ua(a)&&a.te||this.gF}.bind(this))};m.ua.register("parent_tooltip_when_inline",m.ua.xC);m.Kc=function(a,c,d){this.Mm=null;m.Kc.A.constructor.call(this,a,null,d);d||(this.Mm=c||null)};m.g.object.S(m.Kc,m.ld);m.Kc.prototype.Ko="";m.Kc.ra=function(a){var c=m.g.Wc(a.text);return new m.Kc(c,void 0,a)};m.Kc.prototype.Mj=!1;m.Kc.prototype.lk=function(a){m.Kc.A.lk.call(this,a);this.Mm=a["class"]};m.Kc.prototype.tn=function(){Gb(this);this.Mm&&m.g.j.Db(this.rc,this.Mm)};m.Kc.prototype.$m=function(a){return null===a||void 0===a?null:String(a)};m.qh.register("field_label",m.Kc);m.Ot=function(a,c,d,e){if(a!=m.lf&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.I=d;this.connection=e;this.$a=[]};b=m.Ot.prototype;b.align=m.Bo;b.Pg=!0;b.T=function(){return this.I};function Tb(a,c,d){Ub(a,a.$a.length,c,d);return a}
function Ub(a,c,d,e){if(0>c||c>a.$a.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=new m.Kc(d));if(d.I)throw Error("Field already bound to a block.");d.I=a.I;a.I.ma&&d.Aa();d.name=e;d.Qb(a.isVisible());e=d;e.gs&&(c=Ub(a,c,e.gs));a.$a.splice(c,0,d);++c;e.Is&&(c=Ub(a,c,e.Is));a.I.ma&&(a.I=a.I,a.I.Ca(),a.I.Oc());return c}b.isVisible=function(){return this.Pg};
b.Qb=function(a){if(this.Pg!=a){this.Pg=a;for(var c=0,d;d=this.$a[c];c++)d.Qb(a);if(this.connection){this.connection=this.connection;if(a)Vb(this.connection);else if(c=this.connection,Wb(c,!1),c.ea)for(c=t(c.pa(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.ie(!0),g=0;g<f.length;g++)Wb(f[g],!1);e=va(e);for(g=0;g<e.length;g++)e[g].Qb(!1)}if(c=this.connection.pa())c.oa().style.display=a?"block":"none"}}};b.al=function(){for(var a=0,c;c=this.$a[a];a++)c.al()};
b.vj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.vj(a)};b.Aa=function(){if(this.I.C.ma)for(var a=0;a<this.$a.length;a++)this.$a[a].Aa()};b.F=function(){for(var a=0,c;c=this.$a[a];a++)c.F();this.connection&&this.connection.F();this.I=null};m.Jc=function(a,c,d){if(m.Generator&&"undefined"!=typeof m.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Bc(d)?d:m.g.Ff();a.Ip[this.id]=this;this.R=this.V=this.K=null;this.O=[];this.Jf=void 0;this.disabled=!1;this.te="";this.contextMenu=!0;this.Ye=null;this.xf=[];this.Yv=this.px=this.Lv=!0;this.zf=this.Ra=!1;this.$d={text:null,Ex:!1,size:new m.g.Ud(160,80)};this.Cy=new m.g.P(0,0);this.C=a;this.Ue=a.Lf;this.H=a.H;this.Vk=!1;
this.Re=void 0;this.ma=null;if(c){this.type=c;d=m.kc[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);m.g.object.Ve(this,d)}a.Gm(this);a.Wf[this.type]||(a.Wf[this.type]=[]);a.Wf[this.type].push(this);"function"==typeof this.Aa&&this.Aa();this.uD=this.Jf;if(m.h.isEnabled()){(a=m.h.Pb())||m.h.la(!0);try{m.h.Ia(new m.h.$l(this))}finally{a||m.h.la(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.hl&&
hb(this.C,this.hl);if(this.onchange=a)this.hl=a.bind(this),gb(this.C,this.hl)}};m.Jc.Kj="_TEMP_COLLAPSED_INPUT";m.Jc.Ho="_TEMP_COLLAPSED_FIELD";b=m.Jc.prototype;b.data=null;b.Cf=!1;b.td="#000000";b.Fl=null;
b.F=function(a){if(this.C){this.hl&&hb(this.C,this.hl);w(this,a);m.h.isEnabled()&&m.h.Ia(new m.h.Zy(this));m.h.disable();try{if(this.C){this.C.bo(this);var c=this.C;c.Wf[this.type].splice(c.Wf[this.type].indexOf(this),1);c.Wf[this.type].length||delete c.Wf[this.type];delete this.C.Ip[this.id];this.C=null}m.selected==this&&(m.selected=null);for(var d=this.xf.length-1;0<=d;d--)this.xf[d].F(!1);d=0;for(var e;e=this.O[d];d++)e.F();this.O.length=0;var f=this.ie(!0);d=0;for(var g;g=f[d];d++)g.F()}finally{m.h.enable(),
this.Cf=!0}}};function w(a,c){if(a.K){var d=null;a.K.isConnected()&&(d=a.K.ea,a.K.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.O.length;e++){var f=a.O[e].connection;if(f&&f.type==m.cb&&f.ea){if(c){a=null;break a}c=f}}a=c}a&&a.isConnected()&&!a.pa().Ra&&(a=a.ea,a.disconnect(),qa(a,d)?d.connect(a):a.Rn(d))}}else a.R&&(d=null,a.R.isConnected()&&(d=a.R.ea,a.R.disconnect()),e=v(a),c&&e&&!e.Ra&&(a=a.V.ea,a.disconnect(),d&&qa(d,a)&&d.connect(a)))}
b.ie=function(){var a=[];this.K&&a.push(this.K);this.R&&a.push(this.R);this.V&&a.push(this.V);for(var c=0,d;d=this.O[c];c++)d.connection&&a.push(d.connection);return a};b.Fn=function(){for(var a=this.V;a;){var c=a.pa();if(!c)return a;a=c.V}return null};b.Oc=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")};b.getParent=function(){return this.Ye};
function fa(a,c){for(var d=0,e;e=a.O[d];d++)if(e.connection&&e.connection.pa()==c)return e;return null}function Xb(a){do{var c=a;a=a.getParent();if(!a)return null}while(v(a)==c);return a}function v(a){return a.V&&a.V.pa()}b.Dc=function(){var a=this;do{var c=a;a=c.Ye}while(a);return c};function Ua(a,c){if(!c)return a.xf;c=[];for(var d=0,e;e=a.O[d];d++)e.connection&&(e=e.connection.pa())&&c.push(e);(a=v(a))&&c.push(a);return c}
b.yj=function(a){if(a!=this.Ye){if(this.Ye){m.g.hk(this.Ye.xf,this);if(this.R&&this.R.isConnected())throw Error("Still connected to previous block.");if(this.K&&this.K.isConnected())throw Error("Still connected to parent block.");this.Ye=null}else this.C.bo(this);(this.Ye=a)?a.xf.push(this):this.C.Gm(this)}};function t(a,c){var d=[a];a=Ua(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,t(e,c));return d}b.ed=function(){return this.Lv&&!this.Ra&&!(this.C&&this.C.options.readOnly)};
b.Sc=function(){return this.px&&!this.Ra&&!(this.C&&this.C.options.readOnly)};b.ys=function(a){this.px=a};b.Bs=function(a){this.Ra=a};b.ke=function(){return this.Vk};b.Vx=function(a){this.Vk=a};b.Ad=function(){return this.Yv&&!(this.C&&this.C.options.readOnly)};b.xs=function(a){this.Yv=a;a=0;for(var c;c=this.O[a];a++)for(var d=0,e;e=c.$a[d];d++)Db(e)};
b.Nq=function(a,c){var d=this.ie(!0);a=a.ie(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.qe=function(a){this.te=a};b.Kq=function(){return this.td};b.oe=function(a){this.td=m.g.Xn(a).Ok};b.$h=function(a){this.Fl=a};function da(a,c){for(var d=0,e;e=a.O[d];d++)for(var f=0,g;g=e.$a[f];f++)if(g.name==c)return g;return null}function Za(a){for(var c=0,d;d=a.O[c];c++)for(var e=0;d.$a[e];e++);return[]}
function ab(a,c){return(a=da(a,c))?a.getValue():null}b.Zh=function(a,c){if(a){void 0===c&&(c=null);if(!this.R){if(this.K)throw Error("Remove output connection prior to adding previous connection.");this.R=this.$k(m.Sd)}this.R.vj(c)}else if(this.R){if(this.R.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.R.F();this.R=null}};
b.xj=function(a,c){if(a)void 0===c&&(c=null),this.V||(this.V=this.$k(m.Ma)),this.V.vj(c);else if(this.V){if(this.V.isConnected())throw Error("Must disconnect next statement before removing connection.");this.V.F();this.V=null}};
b.zs=function(a,c){if(a){void 0===c&&(c=null);if(!this.K){if(this.R)throw Error("Remove previous connection prior to adding output connection.");this.K=this.$k(m.Rd)}this.K.vj(c)}else if(this.K){if(this.K.isConnected())throw Error("Must disconnect output value before removing connection.");this.K.F();this.K=null}};b.Yh=function(a){this.Jf!=a&&(m.h.Ia(new m.h.li(this,"inline",null,this.Jf,a)),this.Jf=a)};
function ua(a){if(void 0!=a.Jf)return a.Jf;for(var c=1;c<a.O.length;c++)if(a.O[c-1].type==m.lf&&a.O[c].type==m.lf)return!1;for(c=1;c<a.O.length;c++)if(a.O[c-1].type==m.cb&&a.O[c].type==m.lf)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.$e=function(a){this.isEnabled()!=a&&(m.h.Ia(new m.h.li(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Yb(a){for(a=Xb(a);a;){if(a.disabled)return!0;a=Xb(a)}return!1}b.isCollapsed=function(){return this.zf};
b.Kg=function(a){this.zf!=a&&(m.h.Ia(new m.h.li(this,"collapsed",null,this.zf,a)),this.zf=a)};
b.toString=function(a,c){function d(p){var q=p.Zd;!q&&p.ea&&(q=p.ea.Zd);return!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function e(){k&&k.Qa()==l.Qa()&&k.ka==l.ka&&(k=null)}var f=[];c=c||"?";var g=m.v.eg;m.v.eg=!0;for(var k=m.v.Le(this),l=k;k;){switch(k.Qa()){case m.v.types.md:var n=k.ka;k.Te()?d(n)&&f.push("("):f.push(c);break;case m.v.types.Nb:n=k.ka,n.name!=m.Jc.Ho&&f.push(Kb(n))}n=k;k=n.Te()||n.next();if(!k){k=n.We();for(e();k&&!k.next();)k=k.We(),e(),k&&k.Qa()==m.v.types.md&&d(k.ka)&&
f.push(")");k&&(k=k.next())}}m.v.eg=g;c=2;for(g=f.length;c<g;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2),g-=2);f=f.join(" ").replace(/(\() | (\))/gmi,"$1$2").trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function Zb(a,c){return a.uf(m.lf,c||"")}
function $b(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.Re&&(a.Re=c.style.Re,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.$h(e)}catch(P){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.oe(e)}catch(P){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){for(var f=a,g=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,n=m.g.eF(c["message"+e]),p=[],q=0,r=[],u=0;u<n.length;u++){var y=n[u];if("number"==typeof y){if(0>=y||y>g.length)throw Error('Block "'+f.type+'": Message index %'+y+" out of range.");if(p[y])throw Error('Block "'+f.type+'": Message index %'+y+" duplicated.");p[y]=!0;q++;r.push(g[y-1])}else(y=y.trim())&&r.push(y)}if(q!=g.length)throw Error('Block "'+f.type+'": Message does not reference all '+
g.length+" arg(s).");r.length&&("string"==typeof r[r.length-1]||m.g.Da.startsWith(r[r.length-1].type,"field_"))&&(u={type:"input_dummy"},k&&(u.align=k),r.push(u));k={LEFT:m.Bo,RIGHT:m.$s,CENTRE:m.Ao,CENTER:m.Ao};g=[];for(u=0;u<r.length;u++)if(p=r[u],"string"==typeof p)g.push([p,void 0]);else{n=q=null;do if(y=!1,"string"==typeof p)q=new m.Kc(p);else switch(p.type){case "input_value":n=f.uf(m.cb,p.name);break;case "input_statement":n=f.uf(m.Ma,p.name);break;case "input_dummy":n=Zb(f,p.name);break;default:q=
m.qh.ra(p),!q&&p.alt&&(p=p.alt,y=!0)}while(y);if(q)g.push([q,p.name]);else if(n){p.check&&n.vj(p.check);p.align&&(q=k[p.align.toUpperCase()],void 0===q?console.warn(l+"Illegal align value: ",p.align):(p=n,p.align=q,p.I.ma&&(p.I=p.I,p.I.Ca())));for(p=0;p<g.length;p++)Tb(n,g[p][0],g[p][1]);g.length=0}}e++}void 0!==c.inputsInline&&a.Yh(c.inputsInline);void 0!==c.output&&a.zs(!0,c.output);void 0!==c.previousStatement&&a.Zh(!0,c.previousStatement);void 0!==c.nextStatement&&a.xj(!0,c.nextStatement);void 0!==
c.tooltip&&(e=c.tooltip,e=m.g.Wc(e),a.qe(e));void 0!==c.enableContextMenu&&(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=m.g.Wc(e),a.fj=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&m.ua.apply(c.mutator,a,!0);if(Array.isArray(c.extensions))for(c=c.extensions,d=0;d<c.length;++d)m.ua.apply(c[d],a,!1)}
b.Ve=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}m.g.object.Ve(this,a)};b.uf=function(a,c){var d=null;if(a==m.cb||a==m.Ma)d=this.$k(a);a=new m.Ot(a,c,this,d);this.O.push(a);return a};
b.ls=function(a,c){for(var d=0,e;e=this.O[d];d++)if(e.name==a)return e.F(),this.O.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function ha(a,c){for(var d=0,e;e=a.O[d];d++)if(e.name==c)return e;return null}function ac(a,c){return(a=ha(a,c))&&a.connection&&a.connection.pa()}b.wj=function(a){this.$d.text!=a&&(m.h.Ia(new m.h.li(this,"comment",null,this.$d.text,a)),this.$d.text=a)};b.Wx=function(){};b.Pa=function(){return this.Cy};
b.moveBy=function(a,c){if(this.Ye)throw Error("Block has parent.");var d=new m.h.Ij(this);this.Cy.translate(a,c);d.Uh();m.h.Ia(d)};b.$k=function(a){return new m.ga(this,a)};m.i={};m.i.Rl=!1;m.i.register=function(a,c){m.Z.register(m.Z.Cb.RENDERER,a,c)};m.i.unregister=function(a){m.Z.unregister(m.Z.Cb.RENDERER,a)};m.i.xK=function(){m.i.Rl=!0};m.i.yK=function(){m.i.Rl=!1};m.i.Aa=function(a,c,d){a=new (m.Z.Jq(m.Z.Cb.RENDERER,a))(a);a.Aa(c,d);return a};m.Wj=function(){this.Pc=this.Ua=this.mb=null;this.type="marker"};function E(a,c){var d=a.Ua;a.Ua=c;a.Pc&&a.Pc.draw(d,a.Ua)}m.Wj.prototype.draw=function(){this.Pc&&this.Pc.draw(this.Ua,this.Ua)};m.Wj.prototype.Fa=function(){this.Pc&&this.Pc.Fa()};m.Wj.prototype.F=function(){this.Pc&&this.Pc.F()};m.oi=function(){m.oi.A.constructor.call(this);this.type="cursor"};m.g.object.S(m.oi,m.Wj);b=m.oi.prototype;b.next=function(){var a=this.Ua;if(!a)return null;for(a=a.next();a&&a.next()&&(a.Qa()==m.v.types.od||a.Qa()==m.v.types.Yc);)a=a.next();a&&E(this,a);return a};b.Te=function(){var a=this.Ua;if(!a)return null;if(a.Qa()==m.v.types.qd||a.Qa()==m.v.types.ah)a=a.next();(a=a.Te())&&E(this,a);return a};
b.Id=function(){var a=this.Ua;if(!a)return null;for(a=a.Id();a&&a.Id()&&(a.Qa()==m.v.types.od||a.Qa()==m.v.types.Yc);)a=a.Id();a&&E(this,a);return a};b.We=function(){var a=this.Ua;if(!a)return null;(a=a.We())&&a.Qa()==m.v.types.Yc&&(a=a.Id()||a);a&&E(this,a);return a};
b.Tc=function(a){if(this.Ua&&this.Ua.Qa()===m.v.types.Nb&&this.Ua.ka.Tc(a))return!0;switch(a.name){case m.navigation.ya.qd:return this.Id(),!0;case m.navigation.ya.gp:return this.We(),!0;case m.navigation.ya.od:return this.next(),!0;case m.navigation.ya.So:return this.Te(),!0;default:return!1}};m.lm=function(){m.lm.A.constructor.call(this)};m.g.object.S(m.lm,m.oi);b=m.lm.prototype;b.Tc=function(a){switch(a.name){case m.navigation.ya.qd:return this.Id(),!0;case m.navigation.ya.od:return this.next(),!0;default:return!1}};b.next=function(){var a=this.Ua;if(!a)return null;(a=a.next())&&E(this,a);return a};b.Te=function(){return null};b.Id=function(){var a=this.Ua;if(!a)return null;(a=a.Id())&&E(this,a);return a};b.We=function(){return null};m.i.xG=function(){};m.qa={};m.qa.Vm=null;m.qa.Vb=null;m.qa.show=function(a,c,d){m.W.show(m.qa,d,m.qa.F);if(c.length){var e=m.qa.tE(c,d);m.qa.Vb=e;m.qa.vE(e,a,d);setTimeout(function(){e.focus()},1);m.qa.Vm=null}else m.qa.Fa()};m.qa.tE=function(a,c){var d=new m.bp;d.Mg(m.g.ub.vm.lA);for(var e=0,f;f=a[e];e++){var g=new m.cp(f.text);g.ho=c;g.Mg(m.g.ub.vm.mA);d.yp(g);g.$e(f.enabled);f.enabled&&Qb(g,function(){m.qa.Fa();this.Sb()},f)}return d};
m.qa.vE=function(a,c,d){var e=m.g.aD();c=new m.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);m.qa.cC(a);var f=a.Hf();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);m.W.uE(e,c,f,d);a.focus()};m.qa.cC=function(a){a.Ca(m.W.Ya);var c=a.na;m.g.j.Db(c,"blocklyContextMenu");m.wa(c,"contextmenu",null,m.g.eE);a.focus()};m.qa.Fa=function(){m.W.Pk(m.qa);m.qa.Vm=null};m.qa.F=function(){m.qa.Vb&&(m.qa.Vb.F(),m.qa.Vb=null)};
m.qa.II=function(a,c){return function(){m.h.disable();try{var d=m.N.Xi(c,a.C),e=a.Pa();e.x=a.H?e.x-m.Zc:e.x+m.Zc;e.y+=2*m.Zc;d.moveBy(e.x,e.y)}finally{m.h.enable()}m.h.isEnabled()&&!d.Ra&&m.h.Ia(new m.h.$l(d));d.select()}};m.qa.zB=function(a){var c=t(a,!1).length,d=v(a);d&&(c-=t(d,!1).length);return{text:1==c?m.L.DELETE_BLOCK:m.L.DELETE_X_BLOCKS.replace("%1",String(c)),enabled:!0,Sb:function(){m.h.la(!0);a.F(!0,!0);m.h.la(!1)}}};
m.qa.BB=function(a){return{enabled:!("function"==typeof a.fj?!a.fj():!a.fj),text:m.L.HELP,Sb:function(){a.showHelp()}}};m.qa.AB=function(a){var c=fb(a.C)?eb(a.C,m.g.Hq(a,!0)):!0;return{text:m.L.DUPLICATE_BLOCK,enabled:c,Sb:function(){m.duplicate(a)}}};m.qa.yB=function(a){var c={enabled:!m.g.userAgent.Pd};a.Ge?(c.text=m.L.REMOVE_COMMENT,c.Sb=function(){a.wj(null)}):(c.text=m.L.ADD_COMMENT,c.Sb=function(){a.wj("")});return c};
m.qa.NI=function(a){return{text:m.L.REMOVE_COMMENT,enabled:!0,Sb:function(){m.h.la(!0);a.F(!0,!0);m.h.la(!1)}}};m.qa.OI=function(a){return{text:m.L.DUPLICATE_COMMENT,enabled:!0,Sb:function(){m.duplicate(a)}}};
m.qa.IK=function(a,c){if(!m.Hi)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!m.g.userAgent.Pd};d.text=m.L.ADD_COMMENT;d.Sb=function(){var e=new m.Hi(a,m.L.WORKSPACE_COMMENT_DEFAULT_TEXT,m.Hi.qz,m.Hi.qz),f=aa(a).getBoundingClientRect();f=new m.g.P(c.clientX-f.left,c.clientY-f.top);var g=m.g.Lk(a.qb);f=m.g.P.Ak(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.ma&&(e.hj(),e.Ca(),e.select())};return d};m.tb=function(a,c){m.tb.A.constructor.call(this,a,c);this.Ne=a.C.Tm[c];this.Iv=a.C.Tm[m.yi[c]];this.Sh=new m.g.P(0,0);this.Vf=m.tb.Be.Vu;this.ea=null};m.g.object.S(m.tb,m.ga);m.tb.Be={Vu:-1,Ou:0,Fi:1};b=m.tb.prototype;b.F=function(){m.tb.A.F.call(this);this.Vf==m.tb.Be.Fi&&bc(this.Ne,this,this.y)};b.T=function(){return m.tb.A.T.call(this)};b.pa=function(){return m.tb.A.pa.call(this)};function cc(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function sb(a,c){if(!a.I.C.fd()){var d=a.I.Dc();if(!d.Ue){var e=!1;if(!d.Sc()){d=c.T().Dc();if(!d.Sc())return;c=a;e=!0}var f=m.selected==d;f||d.Fm();var g=c.x+m.Zc+Math.floor(Math.random()*m.Go)-a.x,k=c.y+m.Zc+Math.floor(Math.random()*m.Go)-a.y;e&&(k=-k);d.H&&(g=c.x-m.Zc-Math.floor(Math.random()*m.Go)-a.x);d.moveBy(g,k);f||d.ql()}}}
b.moveTo=function(a,c){if(this.Vf==m.tb.Be.Vu){var d=this.Ne;d.wb.splice(dc(d,c),0,this);this.Vf=m.tb.Be.Fi}else this.Vf==m.tb.Be.Fi&&(bc(this.Ne,this,this.y),d=this.Ne,d.wb.splice(dc(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function ec(a,c){a.moveTo(c.x+a.Sh.x,c.y+a.Sh.y)}function fc(a,c,d){a.Sh.x=c;a.Sh.y=d}
function gc(a){var c=a.ea.x-a.x,d=a.ea.y-a.y;if(0!=c||0!=d){a=a.pa();var e=a.oa();if(!e)throw Error("block is not rendered.");e=m.g.je(e);a.oa().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Ca(a,-c,-d)}}
b.closest=function(a,c){var d=this.Iv;if(d.wb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=dc(d,this.y);c=null;for(var k=a,l,n=g-1;0<=n&&Math.abs(d.wb[n].y-this.y)<=a;)l=d.wb[n],this.wn(l,k)&&(c=l,k=cc(l,this)),n--;for(;g<d.wb.length&&Math.abs(d.wb[g].y-this.y)<=a;)l=d.wb[g],this.wn(l,k)&&(c=l,k=cc(l,this)),g++;this.x=f;this.y=e;a={connection:c,$n:k}}else a={connection:null,$n:a};return a};
function Wb(a,c){c&&a.Vf==m.tb.Be.Fi||!c&&a.Vf==m.tb.Be.Ou||a.I.Ue||(c?(c=a.Ne,c.wb.splice(dc(c,a.y),0,a),a.Vf=m.tb.Be.Fi):(a.Vf==m.tb.Be.Fi&&bc(a.Ne,a,a.y),a.Vf=m.tb.Be.Ou))}function Vb(a){Wb(a,!0);var c=[];if(a.type!=m.cb&&a.type!=m.Ma)return c;if(a=a.pa()){if(a.isCollapsed()){var d=[];a.K&&d.push(a.K);a.V&&d.push(a.V);a.R&&d.push(a.R)}else d=a.ie(!0);for(var e=0;e<d.length;e++)c.push.apply(c,Vb(d[e]));c.length||(c[0]=a)}return c}b.wn=function(a,c){return cc(this,a)>c?!1:m.tb.A.wn.call(this,a)};
b.Rn=function(a){sb(this,a)};b.mq=function(a,c){m.tb.A.mq.call(this,a,c);a.ma&&a.Ca();c.ma&&(Xa(c),c.Ca(),c.oa().style.display="block")};b.ts=function(){var a=this.T(),c=this.af;if(a.C&&c&&m.h.ec){m.tb.A.ts.call(this);c=this.pa();if(!c)throw Error("Couldn't respawn the shadow block that should exist here.");c.hj();c.Ca(!1);a.ma&&a.Ca()}};b.sx=function(a){return hc(this.Iv,this,a)};
b.ae=function(a){m.tb.A.ae.call(this,a);var c=this.T();a=a.T();var d=c.ma,e=a.ma;d&&Xa(c);e&&Xa(a);d&&e&&(this.type==m.Ma||this.type==m.Sd?a.Ca():c.Ca());if(c=fa(c,a))c=c.isVisible(),a.oa().style.display=c?"block":"none"};b.wx=function(){!this.isConnected()||this.ea&&qa(this,this.ea)||(w(A(this)?this.pa():this.I),this.I.Oc())};m.Zl=function(){m.Zl.A.constructor.call(this)};m.g.object.S(m.Zl,m.oi);b=m.Zl.prototype;b.next=function(){var a=this.Ua;if(!a)return null;(a=ic(this,a,this.Ts))&&E(this,a);return a};b.Te=function(){return this.next()};b.Id=function(){var a=this.Ua;if(!a)return null;(a=jc(this,a,this.Ts))&&E(this,a);return a};b.We=function(){return this.Id()};function ic(a,c,d){if(!c)return null;var e=c.Te()||c.next();if(d(e))return e;if(e)return ic(a,e,d);c=kc(a,c.We());return d(c)?c:c?ic(a,c,d):null}
function jc(a,c,d){if(!c)return null;var e=c.Id();e=e?lc(a,e):c.We();return d(e)?e:e?jc(a,e,d):null}b.Ts=function(a){var c=!1;a=a&&a.Qa();if(a==m.v.types.ah||a==m.v.types.md||a==m.v.types.Nb||a==m.v.types.od||a==m.v.types.qd||a==m.v.types.De)c=!0;return c};function kc(a,c){if(!c)return null;var d=c.next();return d?d:kc(a,c.We())}function lc(a,c){if(!c.Te())return c;for(c=c.Te();c.next();)c=c.next();return lc(a,c)};m.vp=function(){m.vp.A.constructor.call(this)};m.g.object.S(m.vp,m.Zl);m.vp.prototype.Ts=function(a){a&&a.Qa();return!1};m.Xa=function(a,c,d){this.M=m.g.j.J("g",{},null);this.M.Ml="";this.style=mc(a.fb.X(),null);this.xb=a.fb.jx(this.M,this.style);this.os=this.ma=!1;this.C=a;this.R=this.V=this.K=null;this.Sl=m.g.Ch()&&!!a.$c;var e=this.xb.Kb;e.te=this;m.D.Li(e);m.Xa.A.constructor.call(this,a,c,d);this.M.dataset&&(this.M.dataset.id=this.id)};m.g.object.S(m.Xa,m.Jc);m.Xa.prototype.height=0;m.Xa.prototype.width=0;m.Xa.prototype.to=null;m.Xa.vG=-1;m.Xa.FF="TEMP_COLLAPSED_WARNING_";b=m.Xa.prototype;
b.hj=function(){if(!this.C.ma)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.O[a];a++)c.Aa();c=va(this);for(a=0;a<c.length;a++)c[a].YB();this.mc();sa(this.xb,"blocklyDraggable",this.Sc());a=this.oa();this.C.options.readOnly||this.wC||!a||m.wa(a,"mousedown",this,this.Dg);this.wC=!0;a.parentNode||this.C.qb.appendChild(a)};
b.select=function(){if(this.Ra&&this.getParent())this.getParent().select();else if(m.selected!=this){var a=null;if(m.selected){a=m.selected.id;m.h.disable();try{ob(m.selected)}finally{m.h.enable()}}a=new m.h.ac(null,"selected",a,this.id);a.sb=this.C.id;m.h.Ia(a);m.selected=this;this.Fm()}};function ob(a){if(m.selected==a){var c=new m.h.ac(null,"selected",a.id,null);c.sb=a.C.id;m.h.Ia(c);m.selected=null;a.ql()}}b.me=null;b.Ge=null;b.xy=null;
function va(a){var c=[];a.me&&c.push(a.me);a.Ge&&c.push(a.Ge);a.xy&&c.push(a.xy);return c}b.yj=function(a){var c=this.Ye;if(a!=c){m.g.j.Dl();m.Xa.A.yj.call(this,a);m.g.j.El();var d=this.oa();if(!this.C.jr&&d){var e=this.Pa();a?(a.oa().appendChild(d),a=this.Pa(),Ca(this,a.x-e.x,a.y-e.y)):c&&(this.C.qb.appendChild(d),this.translate(e.x,e.y));this.mc()}}};
b.Pa=function(){var a=0,c=0,d=this.Sl?this.C.$c.Pb():null,e=this.oa();if(e){do{var f=m.g.je(e);a+=f.x;c+=f.y;this.Sl&&this.C.$c.Oe.firstChild==e&&(f=this.C.$c.Sq(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.C.qb&&e!=d)}return new m.g.P(a,c)};b.moveBy=function(a,c){if(this.Ye)throw Error("Block has parent.");var d=m.h.isEnabled();if(d)var e=new m.h.Ij(this);var f=this.Pa();this.translate(f.x+a,f.y+c);Ca(this,a,c);d&&(e.Uh(),m.h.Ia(e));Ya(this.C)};
b.translate=function(a,c){this.oa().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Pa();this.moveBy(a.x-c.x,a.y-c.y)};b.Hr=function(a){this.Sl?this.C.$c.di(a.x,a.y):(this.M.Ml="translate("+a.x+","+a.y+")",this.M.setAttribute("transform",this.M.Ml+this.M.Bl))};
function nc(a){if(a.C&&!a.C.fd()&&!a.getParent()&&!a.Ue){var c=a.C.xd;if(c&&c.SE){var d=c.Fs,e=d/2,f=a.Pa();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function oc(a){var c=a.Pa(),d=z(a);if(a.H){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new m.g.Rect(c.y,c.y+d.height,a,e)}b.al=function(){this.xb.Ri=this.C.fb.X();for(var a=0,c;c=this.O[a];a++)c.al()};
b.Kg=function(a){this.zf!=a&&(m.Xa.A.Kg.call(this,a),a?this.ma&&this.Ca():pc(this))};function pc(a){for(var c=a.isCollapsed(),d=0,e;e=a.O[d];d++)e.name!=m.Jc.Kj&&e.Qb(!c);if(c){e=va(a);for(d=0;c=e[d];d++)c.Qb(!1);d=a.toString(m.dz);(e=da(a,m.Jc.Ho))?e.setValue(d):(e=ha(a,m.Jc.Kj)||Zb(a,m.Jc.Kj),Tb(e,new m.Kc(d),m.Jc.Ho))}else a.ls(m.Jc.Kj)}
b.Dg=function(a){var c=this.C&&this.C.mg(a);if(c){if(c.yh)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Bb(c,this);c.Dd=a}};b.showHelp=function(){var a="function"==typeof this.fj?this.fj():this.fj;a&&window.open(a)};
function qc(a){if(a.C.options.readOnly||!a.contextMenu)return null;var c=[];if(!a.Ue){a.ed()&&a.Sc()&&c.push(m.qa.AB(a));a.C.options.QB&&!a.zf&&a.Ad()&&c.push(m.qa.yB(a));if(a.Sc())if(a.zf)a.C.options.collapse&&(d={enabled:!0},d.text=m.L.EXPAND_BLOCK,d.Sb=function(){a.Kg(!1)},c.push(d));else{for(var d=1;d<a.O.length;d++)if(a.O[d-1].type!=m.Ma&&a.O[d].type!=m.Ma){d={enabled:!0};var e=ua(a);d.text=e?m.L.EXTERNAL_INPUTS:m.L.INLINE_INPUTS;d.Sb=function(){a.Yh(!e)};c.push(d);break}a.C.options.collapse&&
(d={enabled:!0},d.text=m.L.COLLAPSE_BLOCK,d.Sb=function(){a.Kg(!0)},c.push(d))}a.C.options.disable&&a.Ad()&&(d={text:a.isEnabled()?m.L.DISABLE_BLOCK:m.L.ENABLE_BLOCK,enabled:!Yb(a),Sb:function(){var f=m.h.Pb();f||m.h.la(!0);a.$e(!a.isEnabled());f||m.h.la(!1)}},c.push(d));a.ed()&&c.push(m.qa.zB(a))}c.push(m.qa.BB(a));a.eC&&a.eC(c);return c}b.xl=function(a){var c=qc(this);c&&c.length&&(m.qa.show(a,c,this.H),m.qa.Vm=this)};
function Ca(a,c,d){if(a.ma){for(var e=a.ie(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=va(a);for(f=0;f<e.length;f++)e[f].SB();for(f=0;f<a.xf.length;f++)Ca(a.xf[f],c,d)}}b.Lg=function(a){if(a){var c=this.oa();c.Ml="";c.Bl="";m.Yi=m.Yi.concat(this.ie(!0));m.g.j.Db(this.M,"blocklyDragging")}else m.Yi=[],m.g.j.hd(this.M,"blocklyDragging");for(c=0;c<this.xf.length;c++)this.xf[c].Lg(a)};b.ys=function(a){m.Xa.A.ys.call(this,a);sa(this.xb,"blocklyDraggable",a)};
b.xs=function(a){m.Xa.A.xs.call(this,a);a=va(this);for(var c=0;c<a.length;c++)Db(a[c])};b.Bs=function(a){m.Xa.A.Bs.call(this,a);this.mc()};b.Vx=function(a){this.Vk!=a&&(this.Vk=a)&&(this.oe(this.C.fb.X().Vo),sa(this.xb,"blocklyInsertionMarker",!0))};b.oa=function(){return this.M};
b.F=function(a,c){if(this.C){m.D.F();m.D.Qs(this.xb.Kb);m.g.j.Dl();var d=this.C;if(m.selected==this){ob(this);var e=this.C;e.Tb&&e.Tb.cancel()}m.qa.Vm==this&&m.qa.Fa();this.C.Fc&&m.navigation.YD(this);c&&this.ma&&(w(this,a),m.Za.oC(this));this.ma=!1;if(this.to){for(var f in this.to)clearTimeout(this.to[f]);this.to=null}c=va(this);for(e=0;e<c.length;e++)c[e].F();m.Xa.A.F.call(this,!!a);m.g.j.removeNode(this.M);Ya(d);this.M=null;m.g.j.El()}};
b.mc=function(){this.xb.mc(this);for(var a=va(this),c=0;c<a.length;c++)a[c].mc();for(a=0;c=this.O[a];a++)for(var d=0,e;e=c.$a[d];d++)e.mc()};function Xa(a){var c=Ua(a,!1);a.mc();a=0;for(var d;d=c[a];a++)Xa(d)}b.NC=function(){return this.Ge};b.wj=function(a){if(!m.Comment)throw Error("Missing require for Blockly.Comment");this.$d.text!=a&&(m.Xa.A.wj.call(this,a),a=null!=a,!!this.Ge==a?this.Ge.GK():(a?this.Ge=new m.Comment(this):(this.Ge.F(),this.Ge=null),this.ma&&(this.Ca(),this.Oc())))};
b.Wx=function(a){this.me&&this.me!==a&&this.me.F();a&&(a.oK(this),this.me=a,a.YB());this.ma&&(this.Ca(),this.Oc())};b.$e=function(a){this.isEnabled()!=a&&(m.Xa.A.$e.call(this,a),this.ma&&!Yb(this)&&Xa(this))};b.pe=function(a){this.ma&&this.xb.ny(a)};b.Fm=function(){sa(this.xb,"blocklySelected",!0)};b.ql=function(){sa(this.xb,"blocklySelected",!1)};function ya(a,c){sa(a.xb,"blocklyDraggingDelete",c)}b.Kq=function(){return this.style.jh};
b.oe=function(a){m.Xa.A.oe.call(this,a);a=rc(this.C.fb.X(),this.td);this.xb.$h(a.style);this.style=a.style;this.Fl=a.name;this.mc()};b.$h=function(a){var c=mc(this.C.fb.X(),a);this.Fl=a;if(c)this.Re=c.Re,this.xb.$h(c),this.td=c.jh,this.style=c,this.mc();else throw Error("Invalid style name: "+a);};function Da(a){do{var c=a.oa(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.Zh=function(a,c){m.Xa.A.Zh.call(this,a,c);this.ma&&(this.Ca(),this.Oc())};
b.xj=function(a,c){m.Xa.A.xj.call(this,a,c);this.ma&&(this.Ca(),this.Oc())};b.zs=function(a,c){m.Xa.A.zs.call(this,a,c);this.ma&&(this.Ca(),this.Oc())};b.Yh=function(a){m.Xa.A.Yh.call(this,a);this.ma&&(this.Ca(),this.Oc())};b.ls=function(a,c){a=m.Xa.A.ls.call(this,a,c);this.ma&&(this.Ca(),this.Oc());return a};b.uf=function(a,c){a=m.Xa.A.uf.call(this,a,c);this.ma&&(this.Ca(),this.Oc());return a};
function Wa(a,c){a.R&&Wb(a.R,c);a.K&&Wb(a.K,c);if(a.V){Wb(a.V,c);var d=a.V.pa();d&&Wa(d,c)}if(!a.zf)for(d=0;d<a.O.length;d++){var e=a.O[d].connection;e&&(Wb(e,c),(e=e.pa())&&Wa(e,c))}}b.ie=function(a){var c=[];if(a||this.ma)if(this.K&&c.push(this.K),this.R&&c.push(this.R),this.V&&c.push(this.V),a||!this.zf){a=0;for(var d;d=this.O[a];a++)d.connection&&c.push(d.connection)}return c};b.Fn=function(){return m.Xa.A.Fn.call(this)};b.Nq=function(a,c){return m.Xa.A.Nq.call(this,a,c)};
b.$k=function(a){return new m.tb(this,a)};b.Oc=function(){if(this.C&&!this.C.fd()){var a=this.Dc();if(!a.Ue)for(var c=this.ie(!1),d=0,e;e=c[d];d++){e.isConnected()&&A(e)&&e.pa().Oc();for(var f=e.sx(m.Zc),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.T().Dc()!=a&&(A(e)?sb(k,e):sb(e,k))}}};function Ea(a){var c=m.h.Pb();setTimeout(function(){m.h.la(c);nc(a);m.h.la(!1)},m.Fo/2);setTimeout(function(){m.h.la(c);a.Oc();m.h.la(!1)},m.Fo)}
function ra(a,c,d){c.type!=m.Ma&&c.type!=m.cb||a.moveBy(d.x-c.x,d.y-c.y)}b.getParent=function(){return m.Xa.A.getParent.call(this)};b.Dc=function(){return m.Xa.A.Dc.call(this)};
b.Ca=function(a){if(!this.os){this.os=!0;try{this.ma=!0;m.g.j.Dl();this.isCollapsed()&&pc(this);this.C.fb.Ca(this);var c=this.Pa();this.R&&ec(this.R,c);this.K&&ec(this.K,c);for(var d=0;d<this.O.length;d++){var e=this.O[d].connection;e&&(ec(e,c),e.isConnected()&&gc(e))}this.V&&(ec(this.V,c),this.V.isConnected()&&gc(this.V));if(!1!==a){var f=this.getParent();f?f.Ca(!0):Ya(this.C)}m.g.j.El();this.Ss()}finally{this.os=!1}}};
b.Ss=function(){this.C.Fc&&this.xb.yk&&this.C.ob().draw();this.C.Fc&&this.xb.Br&&this.C.Cc(m.navigation.Tj).draw()};b.Qf=function(a){this.xb.Qf(a)};b.Rf=function(a){this.xb.Rf(a)};function z(a){var c=a.height,d=a.width,e=v(a);e&&(e=z(e),a=a.C.fb.X().bu,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};m.ni=function(){this.wb=[]};function sc(a,c,d){if(!a.wb.length)return-1;var e=dc(a,d);if(e>=a.wb.length)return-1;d=c.y;for(var f=e;0<=f&&a.wb[f].y==d;){if(a.wb[f]==c)return f;f--}for(;e<a.wb.length&&a.wb[e].y==d;){if(a.wb[e]==c)return e;e++}return-1}function dc(a,c){if(!a.wb.length)return 0;for(var d=0,e=a.wb.length;d<e;){var f=Math.floor((d+e)/2);if(a.wb[f].y<c)d=f+1;else if(a.wb[f].y>c)e=f;else{d=f;break}}return d}
function bc(a,c,d){c=sc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.wb.splice(c,1)}function hc(a,c,d){function e(p){var q=g-f[p].x,r=k-f[p].y;Math.sqrt(q*q+r*r)<=d&&n.push(f[p]);return r<d}var f=a.wb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var n=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return n}m.ni.Aa=function(){var a=[];a[m.cb]=new m.ni;a[m.Rd]=new m.ni;a[m.Ma]=new m.ni;a[m.Sd]=new m.ni;return a};m.Zg=function(a,c){this.bj=a;this.Fs=c.spacing;this.bx=c.length;this.ID=(this.qr=a.firstChild)&&this.qr.nextSibling;this.SE=c.snap};m.Zg.prototype.Jg=1;m.Zg.prototype.F=function(){this.bj=null};m.Zg.prototype.update=function(a){this.Jg=a;var c=this.Fs*a||100;this.bj.setAttribute("width",c);this.bj.setAttribute("height",c);c=Math.floor(this.Fs/2)+.5;var d=c-this.bx/2,e=c+this.bx/2;c*=a;d*=a;e*=a;tc(this.qr,a,d,e,c,c);tc(this.ID,a,c,c,d,e)};
function tc(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}m.Zg.prototype.moveTo=function(a,c){this.bj.setAttribute("x",a);this.bj.setAttribute("y",c);(m.g.userAgent.Pd||m.g.userAgent.Wg)&&this.update(this.Jg)};
m.Zg.La=function(a,c,d){a=m.g.j.J("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(m.g.j.J("line",{stroke:c.colour},a),1<c.length&&m.g.j.J("line",{stroke:c.colour},a)):m.g.j.J("line",{},a);return a};m.Zt=function(a){this.Bf=this.ee=null;this.Oh={};this.o=a};function uc(a,c){var d=a.Oh[c];if(d)d.F(),delete a.Oh[c];else throw Error("Marker with id "+c+" does not exist. Can only unregistermarkers that exist.");}b=m.Zt.prototype;b.ob=function(){return this.ee};b.Cc=function(a){return this.Oh[a]};b.ws=function(a){this.ee&&this.ee.Pc&&this.ee.Pc.F();if(this.ee=a)a=this.ee,a=new m.i.nf(this.o,this.o.fb.X(),a),this.ee.Pc=a,this.Qf(this.ee.Pc.La())};
b.Qf=function(a){a?(this.o.qb.appendChild(a),this.Bf=a):this.Bf=null};b.Rf=function(a){a?this.o.qb&&(this.Bf?this.o.qb.insertBefore(a,this.Bf):this.o.qb.appendChild(a)):this.Of=null};b.F=function(){for(var a=Object.keys(this.Oh),c=0,d;d=a[c];c++)uc(this,d);this.Oh=null;this.ee.F();this.ee=null};m.Nu=function(a,c){this.o=a;this.Tf=c;this.Gl=[];this.Ie=Object.create(null)};b=m.Nu.prototype;b.ng=function(){return this.Tf};b.wl=function(a){var c=this.Tf;this.Tf=a;if(a=aa(this.o))c&&m.g.j.hd(a,c.ge()),m.g.j.Db(a,this.Tf.ge());for(c=0;a=this.Gl[c];c++)vc(a);c=0;a=Object.keys(this.Ie);for(var d;d=a[c];c++)for(var e=0,f;f=this.Ie[d][e];e++)f.element.style[f.propertyName]=this.Tf&&Ta(this.Tf,d)||"";m.Ub()};
b.subscribe=function(a,c,d){this.Ie[c]||(this.Ie[c]=[]);this.Ie[c].push({element:a,propertyName:d});a.style[d]=this.Tf&&Ta(this.Tf,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.Ie),d=0,e;e=c[d];d++){for(var f=this.Ie[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.Ie[e].length||delete this.Ie[e]}};b.F=function(){this.Ie=this.Gl=this.Tf=this.Gd=null};m.Lc=function(a,c){m.Lc.A.constructor.call(this,a,c);this.zn=!1;this.ad=Object.create(null);this.Zx=this.ll=0;this.Ww=this.Tr=null};m.g.object.S(m.Lc,m.Yg);m.Lc.jB=5;m.Lc.kB=6;b=m.Lc.prototype;b.qq=function(a){this.Ww=this.Jb.options.Va&&this.Jb.options.Va.ds;m.Lc.A.qq.call(this,a);!this.yn&&m.Touch.En(a)&&wc(this,a)};
b.Li=function(a){this.Tr=m.wa(document,"mousedown",null,this.jD.bind(this),!0);this.Tn=m.wa(document,"mousemove",null,this.cj.bind(this),!0);this.Un=m.wa(document,"mouseup",null,this.on.bind(this),!0);a.preventDefault();a.stopPropagation()};b.jD=function(a){!this.fd()&&m.Touch.En(a)&&(wc(this,a),this.zn&&m.zg())};
b.cj=function(a){if(this.fd())m.Touch.Es(a)&&m.Lc.A.cj.call(this,a);else if(this.zn){if(m.Touch.En(a)){this.ad[m.Touch.mn(a)]=xc(this,a);var c=Object.keys(this.ad);if(this.Ww&&2===c.length){c=Object.keys(this.ad);c=m.g.P.pq(this.ad[c[0]],this.ad[c[1]])/this.Zx;if(0<this.ll&&Infinity>this.ll){var d=c-this.ll;d=0<d?d*m.Lc.jB:d*m.Lc.kB;var e=this.Jb,f=m.g.fl(a,x(e),Qa(e));e.zoom(f.x,f.y,d)}this.ll=c;a.preventDefault()}else m.Lc.A.cj.call(this,a)}m.zg()}else m.Lc.A.cj.call(this,a)};
b.on=function(a){if(m.Touch.En(a)&&!this.fd()){var c=m.Touch.mn(a);this.ad[c]&&delete this.ad[c];2>Object.keys(this.ad).length&&(this.ad=Object.create(null),this.ll=0)}!this.zn||this.fd()?m.Touch.Es(a)&&m.Lc.A.on.call(this,a):(a.preventDefault(),a.stopPropagation(),this.F())};b.F=function(){m.Lc.A.F.call(this);this.Tr&&m.hb(this.Tr)};function wc(a,c){a.ad[m.Touch.mn(c)]=xc(a,c);var d=Object.keys(a.ad);2==d.length&&(a.Zx=m.g.P.pq(a.ad[d[0]],a.ad[d[1]]),a.zn=!0,c.preventDefault())}
function xc(a,c){return a.Jb?new m.g.P(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};m.Yu=function(a){this.Yr=a;this.Zj=Object.create(null)};b=m.Yu.prototype;b.lr=null;b.F=function(){this.Zj=this.Yr=null};b.load=function(a,c){if(a.length){try{var d=new m.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new m.g.global.Audio(g);break}}e&&e.play&&(this.Zj[c]=e)}};
b.preload=function(){for(var a in this.Zj){var c=this.Zj[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(m.g.userAgent.Rj||m.g.userAgent.Mt)break}};b.play=function(a,c){var d=this.Zj[a];d?(a=new Date,null!=this.lr&&a-this.lr<m.KA||(this.lr=a,d=m.g.userAgent.Rj||m.g.userAgent.Vl?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.Yr&&this.Yr.Nc.play(a,c)};m.Zu=function(a){this.pk=a;this.La()};b=m.Zu.prototype;b.ib=null;b.pk=null;b.La=function(){this.ib||(this.ib=m.g.j.J("svg",{xmlns:m.g.j.Am,"xmlns:html":m.g.j.Po,"xmlns:xlink":m.g.j.Mc,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.pk.appendChild(this.ib))};b.di=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.ib.style.display="block";m.g.j.ul(this.ib,"translate3d("+a+"px, "+c+"px, 0px)")};b.Sq=function(){return m.g.je(this.ib)};
b.Nm=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.ib.childNodes[0],d=this.ib.childNodes[1];if(!(c&&d&&m.g.j.Xq(c,"blocklyBlockCanvas")&&m.g.j.Xq(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.hs?m.g.j.ij(c,this.hs):a.insertBefore(c,a.firstChild);m.g.j.ij(d,c);this.ib.style.display="none";if(this.ib.childNodes.length)throw Error("Drag surface was not cleared.");m.g.j.ul(this.ib,
"");this.hs=null};
m.Wa=function(a,c,d){m.Wa.A.constructor.call(this,a);this.wd=a.wd||m.Wa.ZC;this.vl=a.vl||m.Wa.NE;this.Tm=m.ni.Aa();c&&(this.$c=c);d&&(this.ii=d);this.qo=!!this.ii&&m.g.Ch();this.Qk=[];this.Nc=new m.Yu(a.Uc);this.xd=this.options.Vq?new m.Zg(this.options.Vq,a.Bw):null;this.gd=new m.Zt(this);this.Ms={};this.bw={};m.aa&&m.aa.sh&&yc(this,m.Gi,m.aa.sh);m.Tu&&m.Tu.sh&&yc(this,m.bB,m.Tu.sh);m.Ta&&m.Ta.sh&&(yc(this,m.su,m.Ta.sh),gb(this,m.Ta.$D));this.ic=this.options.Uc?this.options.Uc.ic:new m.Nu(this,this.options.cF||
m.sf.Yf);this.ic.Gl.push(this);this.fb=m.i.Aa(this.options.ps||"geras",this.ng(),this.options.qs);this.Np=null;this.Fc=!1;this.mo=[]};m.g.object.S(m.Wa,m.kb);b=m.Wa.prototype;b.co=null;b.ma=!0;b.Mf=!0;b.Lf=!1;b.An=!1;b.ss=!0;b.scrollX=0;b.scrollY=0;b.Wv=null;b.scale=1;b.jc=null;b.xa=null;b.ba=null;b.ta=null;b.Tb=null;b.$c=null;b.ii=null;b.qo=!1;b.xn=!1;b.gr=null;b.$w=null;b.ab=null;b.Rw=null;b.ir=!0;b.Qf=function(a){this.gd.Qf(a)};b.Rf=function(a){this.gd.Rf(a)};
b.Cc=function(a){return this.gd?this.gd.Cc(a):null};b.ob=function(){return this.gd?this.gd.ob():null};b.ng=function(){return this.ic.ng()};b.wl=function(a){a||(a=m.sf.Yf);this.ic.wl(a)};function vc(a){a.M&&a.fb.ks(a.M,a.ng());zc(C(a,!1).filter(function(d){return void 0!==d.Fl}));Ac(a);a.ta&&vc(a.ta);a.isVisible()&&a.Qb(!0);var c=new m.h.ac(null,"theme",null,null);c.sb=a.id;m.h.Ia(c)}function zc(a){for(var c=0,d;d=a[c];c++){var e=d.Fl;e&&(d.$h(e),d.me&&d.me.FK())}}
function Qa(a){if(a.ir){var c=x(a).getScreenCTM();c&&(a.Rw=c.inverse(),a.ir=!1)}return a.Rw}b.Ql=function(){this.ir=!0};b.isVisible=function(){return this.Mf};function la(a,c){var d=0,e=0,f=1;if(m.g.j.containsNode(a.qb,c)||m.g.j.containsNode(a.Sf,c))f=a.scale;do{var g=m.g.je(c);if(c==a.qb||c==a.Sf)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=x(a));return new m.g.P(d,e)}
function aa(a){if(!a.gr)for(var c=a.M;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.gr=c;break}c=c.parentNode}return a.gr}
b.La=function(a){this.M=m.g.j.J("g",{"class":"blocklyWorkspace"},null);a&&(this.hc=m.g.j.J("rect",{height:"100%",width:"100%","class":a},this.M),"blocklyMainBackground"==a&&this.xd?this.hc.style.fill="url(#"+this.xd.bj.id+")":this.ic.subscribe(this.hc,"workspaceBackgroundColour","fill"));this.qb=m.g.j.J("g",{"class":"blocklyBlockCanvas"},this.M);this.Sf=m.g.j.J("g",{"class":"blocklyBubbleCanvas"},this.M);this.Lf||(m.wa(this.M,"mousedown",this,this.Dg,!1,!0),m.wa(this.M,"wheel",this,this.oE));if(this.options.dj){if(!m.pI)throw Error("Missing require for Blockly.Toolbox");
this.ta=new (m.Z.MC(this.options))(this)}this.xd&&this.xd.update(this.scale);Bc(this);this.gd.ws(new m.oi);a=this.gd;var c=m.navigation.Tj,d=new m.Wj;a.Oh[c]&&uc(a,c);var e=new m.i.nf(a.o,a.o.fb.X(),d);d.Pc=e;a.Rf(d.Pc.La());a.Oh[c]=d;this.fb.La(this.M,this.ng());return this.M};
b.F=function(){this.ma=!1;this.Tb&&this.Tb.cancel();this.M&&(m.g.j.removeNode(this.M),this.M=null);this.Sf=this.qb=null;this.ta&&(this.ta.F(),this.ta=null);this.ba&&(this.ba.F(),this.ba=null);this.jc&&(this.jc.F(),this.jc=null);this.xa&&(this.xa.F(),this.xa=null);this.ki&&(this.ki.F(),this.ki=null);this.Nc&&(this.Nc.F(),this.Nc=null);this.xd&&(this.xd.F(),this.xd=null);this.fb.F();this.gd&&(this.gd.F(),this.gd=null);m.Wa.A.F.call(this);if(this.ic){var a=this.ic,c=a.Gl.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Gl.splice(c,1);this.ic.unsubscribe(this.hc);this.options.Uc||(this.ic.F(),this.ic=null)}this.bw=this.Ms=this.Tm=null;this.options.Uc||(a=x(this).parentNode)&&m.g.j.removeNode(a);this.co&&(m.hb(this.co),this.co=null)};b.Jr=function(a,c){return new m.Xa(this,a,c)};function Cc(a){if(!m.$b)throw Error("Missing require for Blockly.Trashcan");a.jc=new m.$b(a);var c=a.jc.La();a.M.insertBefore(c,a.qb)}
function Dc(a){if(!m.lB)throw Error("Missing require for Blockly.ZoomControls");a.ki=new m.lB(a);var c=a.ki.La();a.M.appendChild(c)}
function Ec(a){var c=new m.wc({parentWorkspace:a,rtl:a.H,oneBasedIndex:a.options.Vn,horizontalLayout:a.zd,renderer:a.options.ps,rendererOverrides:a.options.qs});c.gb=a.options.gb;if(a.zd){if(!m.Ro)throw Error("Missing require for Blockly.HorizontalFlyout");a.ba=new m.Ro(c)}else{if(!m.ih)throw Error("Missing require for Blockly.VerticalFlyout");a.ba=new m.ih(c)}a.ba.Ki=!1;a.ba.o.Qb(!0);return a.ba.La("svg")}function D(a,c){return a.ba||c?a.ba:a.ta?D(a.ta):null}
function Ya(a){a.ss&&a.ma&&(a.xa&&a.xa.resize(),a.Ql())}b.resize=function(){this.ta&&this.ta.position();this.ba&&this.ba.position();this.jc&&this.jc.position();this.ki&&this.ki.position();this.xa&&this.xa.resize();this.Ql();Bc(this)};function wb(a){var c=m.g.TC();m.g.P.Ef(a.$w,c)||(a.$w=c,a.Ql(),Bc(a))}function x(a){if(!a.Np)for(var c=a.M;c;){if("svg"==c.tagName){a.Np=c;break}c=c.parentNode}return a.Np}
b.translate=function(a,c){if(this.qo&&this.xn)this.ii.di(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.qb.setAttribute("transform",d);this.Sf.setAttribute("transform",d)}if(this.$c){d=this.$c;var e=this.scale;d.Jg=e;d.Oe.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.xd&&this.xd.moveTo(a,c)};
function Sa(a){if(a.qo){a.xn=!1;var c=a.ii.Sq();a.ii.Nm(a.M);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.qb.setAttribute("transform",c);a.Sf.setAttribute("transform",c)}}
function Ra(a){if(a.qo&&!a.xn){a.xn=!0;var c=a.qb.previousSibling,d=parseInt(x(a).getAttribute("width"),10),e=parseInt(x(a).getAttribute("height"),10),f=m.g.je(a.qb),g=a.ii,k=a.qb,l=a.Sf,n=a.scale;if(g.ib.childNodes.length)throw Error("Already dragging a block.");g.hs=c;k.setAttribute("transform","translate(0, 0) scale("+n+")");l.setAttribute("transform","translate(0, 0) scale("+n+")");g.ib.setAttribute("width",d);g.ib.setAttribute("height",e);g.ib.appendChild(k);g.ib.appendChild(l);g.ib.style.display=
"block";a.ii.di(f.x,f.y)}}b.Mk=function(){var a=this.wd();return a?a.rb/this.scale:0};b.Qb=function(a){this.Mf=a;if(this.M)if(this.xa&&this.xa.Xh(a),D(this)&&D(this).Xh(a),x(this).style.display=a?"block":"none",this.ta&&this.ta.Qb(a),a){a=C(this,!1);for(var c=a.length-1;0<=c;c--)a[c].al();this.Ca();this.ta&&this.ta.position()}else m.Ub(!0)};b.Ca=function(){for(var a=C(this,!1),c=a.length-1;0<=c;c--)a[c].Ca(!1);if(this.Tb)for(a=this.Tb.$i(),c=0;c<a.length;c++)a[c].Ca(!1);c=this.gd;c.o.Fc&&c.Bf&&c.o.ob().draw()};
function Fc(a,c){var d=B;if(void 0===c){for(var e=0,f;f=d.Qk[e];e++)f.pe(!1);d.Qk.length=0}if(f=a?d.Bc(a):null)(a=void 0===c||c)?-1==d.Qk.indexOf(f)&&d.Qk.push(f):m.g.hk(d.Qk,f),f.pe(a)}
function Gc(a){var c=m.kk;if(a.ma&&!(c.getElementsByTagName("block").length>=db(a)))if(a.Tb&&a.Tb.cancel(),"comment"==c.tagName.toLowerCase()){m.h.disable();try{m.Hi.setValue(c.textContent);var d=void 0;var e=parseInt(c.getAttribute("x"),10),f=parseInt(c.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.H&&(e=-e),d.moveBy(e+50,f+50))}finally{m.h.enable()}d.select()}else a:{m.h.disable();try{var g=m.N.Xi(c,a),k=a.Cc(m.navigation.Tj).Ua;if(a.Fc&&k&&k.kj){m.navigation.Pw(g,k.ka);break a}var l=parseInt(c.getAttribute("x"),
10),n=parseInt(c.getAttribute("y"),10);if(!isNaN(l)&&!isNaN(n)){a.H&&(l=-l);do{c=!1;var p=C(a,!1);d=0;for(var q;q=p[d];d++){var r=q.Pa();if(1>=Math.abs(l-r.x)&&1>=Math.abs(n-r.y)){c=!0;break}}if(!c){var u=g.ie(!1);d=0;for(var y;y=u[d];d++)if(y.closest(m.Zc,new m.g.P(l,n)).connection){c=!0;break}}c&&(l=a.H?l-m.Zc:l+m.Zc,n+=2*m.Zc)}while(c);g.moveBy(l,n)}}finally{m.h.enable()}m.h.isEnabled()&&!g.Ra&&m.h.Ia(new m.h.$l(g));g.select()}}function Ac(a){(a=a.Lf?a.ab:a)&&!a.Tb&&a.ta&&D(a.ta)&&a.ta.$J()}
b.Vh=function(a,c){m.Wa.A.Vh.call(this,a,c);Ac(this)};b.Vi=function(a){m.Wa.A.Vi.call(this,a);Ac(this)};b.ce=function(a,c,d){a=m.Wa.A.ce.call(this,a,c,d);Ac(this);return a};function Bc(a){a.Nv=a.jc&&a.M.parentNode?a.jc.Jk():null;a.Mv=a.ba?a.ba.Jk():a.ta&&"function"==typeof a.ta.Jk?a.ta.Jk():null}function xa(a,c){return a.Nv&&a.Nv.contains(c.clientX,c.clientY)?m.Lo:a.Mv&&a.Mv.contains(c.clientX,c.clientY)?m.st:m.rt}b.Dg=function(a){var c=this.mg(a);c&&zb(c,a,this)};
b.Gs=function(a,c){a=m.g.fl(a,x(this),Qa(this));a.x/=this.scale;a.y/=this.scale;this.Wv=m.g.P.Ak(c,a)};b.fd=function(){return null!=this.Tb&&this.Tb.fd()};function Hc(a){return a.options.Wb&&a.options.Wb.scrollbars||a.options.Wb&&a.options.Wb.Qg||a.options.Wb&&a.options.Wb.lg||a.options.Va&&a.options.Va.controls||a.options.Va&&a.options.Va.Qg||a.options.Va&&a.options.Va.ds}
b.Sc=function(){return this.options.Wb&&this.options.Wb.scrollbars||this.options.Wb&&this.options.Wb.Qg||this.options.Wb&&this.options.Wb.lg||this.options.Va&&this.options.Va.Qg||this.options.Va&&this.options.Va.ds};
b.oE=function(a){if(m.Yg.sn())a.preventDefault(),a.stopPropagation();else{var c=this.options.Va&&this.options.Va.Qg,d=this.options.Wb&&this.options.Wb.Qg;if(c||d){var e=m.g.vw(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=m.g.fl(a,x(this),Qa(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function Va(a){a=[].concat(a.mo);if(!a.length)return new m.g.Rect(0,0,0,0);for(var c=oc(a[0]),d=1;d<a.length;d++){var e=oc(a[d]);e.top<c.top&&(c.top=e.top);e.bottom>c.bottom&&(c.bottom=e.bottom);e.left<c.left&&(c.left=e.left);e.right>c.right&&(c.right=e.right)}return c}b.NB=function(){this.Xb(!1);m.h.la(!0);for(var a=this.Hb(!0),c=0,d=0,e;e=a[d];d++)if(e.Sc()){var f=e.Pa();e.moveBy(-f.x,c-f.y);nc(e);c=e.Pa().y+z(e).height+this.fb.X().Uj}m.h.la(!1);this.Xb(!0)};
b.xl=function(a){function c(y){if(y.ed())u=u.concat(t(y,!1));else{y=Ua(y,!1);for(var P=0;P<y.length;P++)c(y[P])}}function d(){m.h.la(g);var y=u.shift();y&&(y.C?(y.F(!1,!0),setTimeout(d,10)):d());m.h.la(!1)}if(!this.options.readOnly&&!this.Lf){var e=[],f=this.Hb(!0),g=m.g.Ff(),k=this,l={};l.text=m.L.UNDO;l.enabled=0<this.Fj.length;l.Sb=this.po.bind(this,!1);e.push(l);l={};l.text=m.L.REDO;l.enabled=0<this.ao.length;l.Sb=this.po.bind(this,!0);e.push(l);this.Sc()&&(l={},l.text=m.L.CLEAN_UP,l.enabled=
1<f.length,l.Sb=this.NB.bind(this),e.push(l));if(this.options.collapse){for(var n=l=!1,p=0;p<f.length;p++)for(var q=f[p];q;)q.isCollapsed()?l=!0:n=!0,q=v(q);var r=function(y){for(var P=0,ba=0;ba<f.length;ba++)for(var za=f[ba];za;)setTimeout(za.Kg.bind(za,y),P),za=v(za),P+=10};n={enabled:n};n.text=m.L.COLLAPSE_ALL;n.Sb=function(){r(!0)};e.push(n);l={enabled:l};l.text=m.L.EXPAND_ALL;l.Sb=function(){r(!1)};e.push(l)}var u=[];for(p=0;p<f.length;p++)c(f[p]);l={text:1==u.length?m.L.DELETE_BLOCK:m.L.DELETE_X_BLOCKS.replace("%1",
String(u.length)),enabled:0<u.length,Sb:function(){k.Tb&&k.Tb.cancel();2>u.length?d():m.confirm(m.L.DELETE_ALL_BLOCKS.replace("%1",u.length),function(y){y&&d()})}};e.push(l);this.TB&&this.TB(e,a);m.qa.show(a,e,this.H)}};function Pa(a){if(a.options.Uc)Pa(a.options.Uc);else{m.Zk=a;document.activeElement&&document.activeElement.blur();try{x(a).focus({preventScroll:!0})}catch(c){try{x(a).parentNode.setActive()}catch(d){x(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.Va.EE,d);var e=this.scale*d;if(this.scale!=e){e>this.options.Va.bl?d=this.options.Va.bl/this.scale:e<this.options.Va.cl&&(d=this.options.Va.cl/this.scale);var f=this.qb.getCTM(),g=x(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.Va.bl&&a>this.options.Va.bl?a=this.options.Va.bl:this.options.Va.cl&&a<this.options.Va.cl&&(a=this.options.Va.cl);this.scale=a;m.Ub(!1);this.ba&&(this.ba.js(),Bc(this));this.xd&&this.xd.update(this.scale);a=this.wd();this.scrollX-=a.lc;this.scrollY-=a.xc;a.Bb+=a.lc;a.Mb+=a.xc;this.scroll(this.scrollX,this.scrollY);this.xa&&(this.ba?(Ja(this.xa.yd,a),Ka(this.xa.Ld,a)):(Ma(this.xa.yd,a),Oa(this.xa.Ld,a)))};
b.scroll=function(a,c){m.Ub(!0);var d=this.wd(),e=d.Ke+d.zc-d.rb,f=d.ud+d.oc-d.Ab;a=Math.min(a,-d.zc);c=Math.min(c,-d.oc);a=Math.max(a,-e);c=Math.max(c,-f);this.scrollX=a;this.scrollY=c;this.xa&&(Ga(this.xa.yd,-(a+d.zc)*this.xa.yd.ratio),Ga(this.xa.Ld,-(c+d.oc)*this.xa.Ld.ratio));a+=d.lc;c+=d.xc;this.translate(a,c)};m.Wa.lw=function(a){var c=0,d=0;a&&(c=a.Mk(),d=a.dc);return new m.g.Ud(c,d)};m.Wa.QC=function(a,c){return Hc(a)?m.Wa.PC(a,c):m.Wa.jw(a)};
m.Wa.jw=function(a){var c=Va(a),d=a.scale;a=c.top*d;var e=c.bottom*d,f=c.left*d;c=c.right*d;return{top:a,bottom:e,left:f,right:c,width:c-f,height:e-a}};m.Wa.PC=function(a,c){a=m.Wa.jw(a);var d=c.width;c=c.height;var e=d/2,f=c/2,g=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-c);return{left:g,top:k,height:Math.max(a.bottom+f,a.top+c)-k,width:Math.max(a.right+e,a.left+d)-g}};
m.Wa.ZC=function(){var a=m.Wa.lw(this.ta),c=m.Wa.lw(this.ba),d=m.aF(x(this)),e={height:d.height,width:d.width};if(this.ta)if(this.gb==m.eh||this.gb==m.ck)e.height-=a.height;else{if(this.gb==m.Vd||this.gb==m.dh)e.width-=a.width}else if(this.ba)if(this.gb==m.eh||this.gb==m.ck)e.height-=c.height;else if(this.gb==m.Vd||this.gb==m.dh)e.width-=c.width;var f=m.Wa.QC(this,e),g=0;this.ta&&this.gb==m.Vd?g=a.width:this.ba&&this.gb==m.Vd&&(g=c.width);var k=0;this.ta&&this.gb==m.eh?k=a.height:this.ba&&this.gb==
m.eh&&(k=c.height);return{ud:f.height,Ke:f.width,oc:f.top,zc:f.left,Ab:e.height,rb:e.width,Mb:-this.scrollY,Bb:-this.scrollX,xc:k,lc:g,zK:d.height,AK:d.width,iy:a.width,DK:a.height,gb:this.gb,bJ:c.width,aJ:c.height}};m.Wa.NE=function(a){var c=this.wd();"number"==typeof a.x&&(this.scrollX=-c.Ke*a.x-c.zc);"number"==typeof a.y&&(this.scrollY=-c.ud*a.y-c.oc);this.translate(this.scrollX+c.lc,this.scrollY+c.xc)};b=m.Wa.prototype;b.Bc=function(a){return m.Wa.A.Bc.call(this,a)};
b.Hb=function(a){return m.Wa.A.Hb.call(this,a)};b.Gm=function(a){this.mo.push(a);m.Wa.A.Gm.call(this,a)};b.bo=function(a){m.g.hk(this.mo,a);m.Wa.A.bo.call(this,a)};b.Xb=function(a){var c=!this.ss&&a;this.ss=a;c&&Ya(this)};b.clear=function(){this.Xb(!1);m.Wa.A.clear.call(this);this.mo=[];this.Xb(!0)};function Ic(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.bw.CREATE_VARIABLE=c}
function yc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Ms[c]=d}b.mg=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Tb;return d?c&&d.yh?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.Tb=new m.Lc(a,this):null};m.Qj=function(a){a.wd=this.Oq.bind(this);a.vl=this.ME.bind(this);this.o=new m.Wa(a);this.o.Lf=!0;this.o.Qb(this.Mf);this.H=!!a.H;this.zd=!1;this.Ej=a.gb;this.Aq=[];this.Jn=[];this.ik=[];this.Gc=[];this.bs=[];this.Dj=this.o.fb.X().Cm;this.ab=null};b=m.Qj.prototype;b.Ki=!0;b.Mf=!1;b.kh=!0;b.jb=8;b.cg=m.Qj.prototype.jb;b.Lz=3*m.Qj.prototype.cg;b.Mz=3*m.Qj.prototype.cg;b.pp=2;b.bb=0;b.dc=0;b.sC=70;
b.La=function(a){this.M=m.g.j.J(a,{"class":"blocklyFlyout",style:"display: none"},null);this.hc=m.g.j.J("path",{"class":"blocklyFlyoutBackground"},this.M);this.M.appendChild(this.o.La());this.o.ic.subscribe(this.hc,"flyoutBackgroundColour","fill");this.o.ic.subscribe(this.hc,"flyoutOpacity","fill-opacity");this.o.gd.ws(new m.lm);return this.M};
b.Aa=function(a){this.ab=a;this.o.ab=a;this.xa=new m.Ha(this.o,this.zd,!1,"blocklyFlyoutScrollbar");this.Fa();Array.prototype.push.apply(this.Aq,m.wa(this.M,"wheel",this,this.pF));this.Ki||(this.hn=this.Bq.bind(this),gb(this.ab,this.hn));Array.prototype.push.apply(this.Aq,m.wa(this.hc,"mousedown",this,this.Dg));this.o.mg=this.ab.mg.bind(this.ab);this.o.Cs(this.ab.Ka);a=this.o;a.tj=new m.wp(a)};
b.F=function(){this.Fa();m.hb(this.Aq);this.hn&&(hb(this.ab,this.hn),this.hn=null);this.xa&&(this.xa.F(),this.xa=null);this.o&&(this.o.ic.unsubscribe(this.hc),this.o.ab=null,this.o.F(),this.o=null);this.M&&(m.g.j.removeNode(this.M),this.M=null);this.ab=this.hc=null};b.Mk=function(){return this.bb};b.isVisible=function(){return this.Mf};b.Qb=function(a){var c=a!=this.isVisible();this.Mf=a;c&&this.Pl()};b.Xh=function(a){var c=a!=this.kh;this.kh=a;c&&this.Pl()};
b.Pl=function(){var a=this.kh?this.isVisible():!1;this.M.style.display=a?"block":"none";this.xa.Xh(a)};b.Fa=function(){if(this.isVisible()){this.Qb(!1);for(var a=0,c;c=this.Gc[a];a++)m.hb(c);this.Gc.length=0;this.Hg&&(hb(this.o,this.Hg),this.Hg=null)}};
b.show=function(a){this.o.Xb(!1);this.Fa();Jc(this);if("string"==typeof a){a=this.o.ab.Ms[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.o.ab);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.Qb(!0);a=m.g.se.Xp(a);a=Kc(this,a);Lc(this,a.WB,a.FC);this.Gc.push(m.wa(this.hc,"mouseover",this,function(){for(var c=this.o.Hb(!1),d=0,e;e=c[d];d++)e.ql()}));this.zd?this.dc=0:
this.bb=0;this.o.Xb(!0);this.js();this.Bq();this.position();this.Hg=this.js.bind(this);gb(this.o,this.Hg)};
function Kc(a,c){var d=[],e=[];a.bs.length=0;for(var f=a.zd?a.Lz:a.Mz,g=0,k;k=c[g];g++)switch(k.kind.toUpperCase()){case "BLOCK":var l=k;var n=l;k=null;var p=n.blockxml;p&&"string"!=typeof p?k=p:p&&"string"==typeof p?k=m.N.ci(p):n.type&&(k=m.g.xml.createElement("xml"),k.setAttribute("type",n.type),k.setAttribute("disabled",n.disabled));if(!k)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");n=k;k=a;p=m.N.Xi(n,k.o);p.isEnabled()||k.bs.push(p);k=p;l=parseInt(l.gap||
n.getAttribute("gap"),10);e.push(isNaN(l)?f:l);d.push({type:"block",block:k});break;case "SEP":l=e;n=f;k=parseInt(k.gap,10);!isNaN(k)&&0<l.length?l[l.length-1]=k:l.push(n);break;case "LABEL":l=Mc(a,k,!0);d.push({type:"button",button:l});e.push(f);break;case "BUTTON":l=Mc(a,k,!1),d.push({type:"button",button:l}),e.push(f)}return{WB:d,FC:e}}function Mc(a,c,d){if(!m.Kz)throw Error("Missing require for Blockly.FlyoutButton");return new m.Kz(a.o,a.ab,c,d)}
function Jc(a){for(var c=a.o.Hb(!1),d=0,e;e=c[d];d++)e.C==a.o&&e.F(!1,!1);for(d=0;d<a.Jn.length;d++)if(c=a.Jn[d])m.D.Qs(c),m.g.j.removeNode(c);for(d=a.Jn.length=0;c=a.ik[d];d++)c.F();a.ik.length=0;a.o.tj.clear()}function Nc(a,c){return function(d){var e=a.ab.mg(d);e&&(Bb(e,c),Ab(e,d,a))}}b.Dg=function(a){var c=this.ab.mg(a);c&&Ab(c,a,this)};
function pb(a,c){var d=null;m.h.disable();var e=a.ab.uh();a.ab.Xb(!1);try{var f=a.ab;if(!c.oa())throw Error("oldBlock is not rendered.");var g=m.N.vf(c,!0);f.Xb(!1);var k=m.N.Xi(g,f);if(!k.oa())throw Error("block is not rendered.");var l=m.g.Lk(f.qb),n=m.g.Lk(a.o.qb),p=c.Pa();p.scale(a.o.scale);var q=m.g.P.sum(n,p),r=m.g.P.Ak(q,l);r.scale(1/f.scale);k.moveBy(r.x,r.y);d=k;m.Ub()}finally{m.h.enable()}c=m.aa.hw(a.ab,e);if(m.h.isEnabled())for(m.h.la(!0),m.h.Ia(new m.h.Nd(d)),e=0;e<c.length;e++)m.h.Ia(new m.h.rd(c[e]));
a.Ki?a.Fa():a.Bq();return d}b.Bq=function(){for(var a=this.o.Hb(!1),c=0,d;d=a[c];c++)if(-1==this.bs.indexOf(d))for(var e=eb(this.ab,m.g.Hq(d));d;)d.$e(e),d=v(d)};
b.js=function(){this.Hg&&hb(this.o,this.Hg);this.o.scale=this.ab.scale;for(var a=0,c=this.o.Hb(!1),d=0,e;e=c[d];d++){var f=z(e).width;e.K&&(f-=this.Dj);a=Math.max(a,f)}for(d=0;e=this.ik[d];d++)a=Math.max(a,e.width);a+=1.5*this.cg+this.Dj;a*=this.o.scale;a+=m.Ha.fc;if(this.bb!=a){for(d=0;e=c[d];d++){if(this.H){f=e.Pa().x;var g=a/this.o.scale-this.cg;e.K||(g-=this.Dj);e.moveBy(g-f,0)}e.cw&&(f=e.cw,g=e,e=z(g),f.setAttribute("width",e.width),f.setAttribute("height",e.height),g=g.Pa(),f.setAttribute("y",
g.y),f.setAttribute("x",this.H?g.x-e.width:g.x))}if(this.H)for(d=0;e=this.ik[d];d++)c=e.rJ().y,e.moveTo(a/this.o.scale-e.width-this.cg-this.Dj,c);this.bb=a;this.position()}this.Hg&&gb(this.o,this.Hg)};function vb(a){return a.xa?a.xa.isVisible():!1}b.Tc=function(a){return this.o.ob().Tc(a)};m.W={};m.W.Gd=null;m.W.Zm=null;m.W.ne="";m.W.re="";m.W.La=function(){m.W.Ya||(m.W.Ya=document.createElement("div"),m.W.Ya.className="blocklyWidgetDiv",(m.Wn||document.body).appendChild(m.W.Ya))};m.W.show=function(a,c,d){m.W.Fa();m.W.Gd=a;m.W.Zm=d;a=m.W.Ya;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=m.Gf();m.W.ne=c.fb.ge();m.W.re=c.ng().ge();m.g.j.Db(a,m.W.ne);m.g.j.Db(a,m.W.re)};
m.W.Fa=function(){if(m.W.isVisible()){m.W.Gd=null;var a=m.W.Ya;a.style.display="none";a.style.left="";a.style.top="";m.W.Zm&&m.W.Zm();m.W.Zm=null;a.textContent="";m.W.ne&&(m.g.j.hd(a,m.W.ne),m.W.ne="");m.W.re&&(m.g.j.hd(a,m.W.re),m.W.re="");Pa(m.Gf())}};m.W.isVisible=function(){return!!m.W.Gd};m.W.Pk=function(a){m.W.Gd==a&&m.W.Fa()};m.W.kl=function(a,c,d){m.W.Ya.style.left=a+"px";m.W.Ya.style.top=c+"px";m.W.Ya.style.height=d+"px"};
m.W.uE=function(a,c,d,e){var f=m.W.GB(a,c,d);a=m.W.FB(a,c,d,e);0>f?m.W.kl(a,0,d.height+f):m.W.kl(a,f,d.height)};m.W.FB=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};m.W.GB=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};m.ih=function(a){m.ih.A.constructor.call(this,a)};m.g.object.S(m.ih,m.Qj);b=m.ih.prototype;b.Oq=function(){if(!this.isVisible())return null;try{var a=this.o.qb.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var c=this.pp,d=this.dc-2*this.pp,e=this.bb;this.H||(e-=this.pp);return{ud:a.height*this.o.scale+2*this.cg,Ke:a.width*this.o.scale+2*this.cg,oc:a.y,zc:a.x,Ab:d,rb:e,Mb:-this.o.scrollY+a.y,Bb:-this.o.scrollX,xc:c,lc:0}};
b.ME=function(a){var c=this.Oq();c&&("number"==typeof a.y&&(this.o.scrollY=-c.ud*a.y),this.o.translate(this.o.scrollX+c.lc,this.o.scrollY+c.xc))};
b.position=function(){if(this.isVisible()){var a=this.ab.wd();if(a){this.dc=a.Ab;var c=this.bb-this.jb,d=a.Ab-2*this.jb,e=this.Ej==m.dh,f=c+this.jb;f=["M "+(e?f:0)+",0"];f.push("h",e?-c:c);f.push("a",this.jb,this.jb,0,0,e?0:1,e?-this.jb:this.jb,this.jb);f.push("v",Math.max(0,d));f.push("a",this.jb,this.jb,0,0,e?0:1,e?this.jb:-this.jb,this.jb);f.push("h",e?c:-c);f.push("z");this.hc.setAttribute("d",f.join(" "));c=this.dc;a=this.ab.gb==this.Ej?a.iy?this.Ej==m.Vd?a.iy:a.rb-this.bb:this.Ej==m.Vd?0:a.rb:
this.Ej==m.Vd?0:a.rb+a.lc-this.bb;this.M.setAttribute("width",this.bb);this.M.setAttribute("height",c);"svg"==this.M.tagName?m.g.j.ul(this.M,"translate("+a+"px,0px)"):this.M.setAttribute("transform","translate("+a+",0)");this.xa&&(this.xa.Vr=new m.g.P(a,0),this.xa.resize(),this.xa.setPosition(this.xa.position.x,this.xa.position.y))}}};
b.pF=function(a){var c=m.g.vw(a);if(c.y){var d=this.Oq();c=d.Mb-d.oc+c.y;c=Math.min(c,d.ud-d.Ab);c=Math.max(c,0);this.xa.set(c);m.W.Fa();m.B.pn()}a.preventDefault();a.stopPropagation()};
function Lc(a,c,d){a.o.scale=a.ab.scale;for(var e=a.cg,f=a.H?e:e+a.Dj,g=0,k;k=c[g];g++)if("block"==k.type){k=k.block;for(var l=t(k,!1),n=0,p;p=l[n];n++)p.Ue=!0;k.Ca();p=k.oa();l=z(k);n=k.K?f-a.Dj:f;k.moveBy(n,e);var q=a,r=k,u=g;n=m.g.j.J("rect",{"fill-opacity":0,x:a.H?n-l.width:n,y:e,height:l.height,width:l.width},null);n.te=r;m.D.Li(n);q.o.qb.insertBefore(n,r.oa());r.cw=n;q.Jn[u]=n;q=a;q.Gc.push(m.wa(p,"mousedown",null,Nc(q,k)));q.Gc.push(m.wa(n,"mousedown",null,Nc(q,k)));q.Gc.push(m.bc(p,"mouseenter",
k,k.Fm));q.Gc.push(m.bc(p,"mouseleave",k,k.ql));q.Gc.push(m.bc(n,"mouseenter",k,k.Fm));q.Gc.push(m.bc(n,"mouseleave",k,k.ql));e+=l.height+d[g]}else"button"==k.type&&(l=a,n=k.button,p=f,q=e,r=n.La(),n.moveTo(p,q),n.show(),l.Gc.push(m.wa(r,"mousedown",l,l.Dg)),l.ik.push(n),e+=k.button.height+d[g])}b.Jk=function(){if(!this.M)return null;var a=this.M.getBoundingClientRect(),c=a.left;return this.Ej==m.Vd?new m.g.Rect(-1E9,1E9,-1E9,c+a.width):new m.g.Rect(-1E9,1E9,c,1E9)};m.kt=function(a){this.pk=a;this.La()};b=m.kt.prototype;b.ib=null;b.Oe=null;b.pk=null;b.Jg=1;b.Hl=null;b.La=function(){this.ib||(this.ib=m.g.j.J("svg",{xmlns:m.g.j.Am,"xmlns:html":m.g.j.Po,"xmlns:xlink":m.g.j.Mc,version:"1.1","class":"blocklyBlockDragSurface"},this.pk),this.Oe=m.g.j.J("g",{},this.ib))};function ub(a,c){if(a.Oe.childNodes.length)throw Error("Already dragging a block.");a.Oe.appendChild(c);a.ib.style.display="block";a.Hl=new m.g.P(0,0)}
b.di=function(a,c){this.Hl=new m.g.P(a*this.Jg,c*this.Jg);a=this.Hl.x;c=this.Hl.y;a=a.toFixed(0);c=c.toFixed(0);this.ib.style.display="block";m.g.j.ul(this.ib,"translate3d("+a+"px, "+c+"px, 0px)")};b.Sq=function(){var a=m.g.je(this.ib);return new m.g.P(a.x/this.Jg,a.y/this.Jg)};b.Pb=function(){return this.Oe};
b.Nm=function(a){a?a.appendChild(this.Oe.firstChild):this.Oe.removeChild(this.Oe.firstChild);this.ib.style.display="none";if(this.Oe.childNodes.length)throw Error("Drag group was not cleared.");this.Hl=null};m.Md=function(){this.ho=m.Md.Kv;this.gj=null;this.dd=!1;this.Vc=this.na=null;this.jg=[];this.Sp={};this.Vv=!1};m.Md.Kv=!1;m.Md.Error={bt:"Component already rendered",qu:"Unable to set parent component",az:"Child component index out of bounds",Dy:"Unimplemented abstract method"};b=m.Md.prototype;b.Gb=function(){return this.gj||(this.gj=m.g.ri.Qq())};
b.yj=function(a){if(this==a)throw Error(m.Md.Error.qu);var c;if(c=a&&this.Vc&&this.gj)c=(c=this.gj)?this.Vc.Sp[c]||null:null;if(c&&this.Vc!=a)throw Error(m.Md.Error.qu);this.Vc=a};b.getParent=function(){return this.Vc};b.La=function(){throw Error(m.Md.Error.Dy);};b.Ca=function(a){this.rl(a)};b.rl=function(a){if(this.dd)throw Error(m.Md.Error.bt);this.na||this.La();a?a.insertBefore(this.na,null):document.body.appendChild(this.na);this.Vc&&!this.Vc.dd||Oc(this)};
function Oc(a){a.dd=!0;Pc(a,function(c){!c.dd&&c.na&&Oc(c)})}function Qc(a){Pc(a,function(c){c.dd&&Qc(c)});a.dd=!1}b.F=function(){this.Vv||(this.Vv=!0,Rc(this))};function Rc(a){a.dd&&Qc(a);Pc(a,function(c){c.F()});a.na&&m.g.j.removeNode(a.na);a.jg=null;a.Sp=null;a.na=null;a.Vc=null}
b.yp=function(a){var c=this.jg.length;if(a.dd&&!this.dd)throw Error(m.Md.Error.bt);if(0>c||c>this.jg.length)throw Error(m.Md.Error.az);this.Sp[a.Gb()]=a;if(a.getParent()==this){var d=this.jg.indexOf(a);-1<d&&this.jg.splice(d,1)}a.yj(this);this.jg.splice(c,0,a);a.dd&&this.dd&&a.getParent()==this?(d=this.na,c=d.childNodes[c]||null,c!=a.na&&d.insertBefore(a.na,c)):this.dd&&!a.dd&&a.na&&a.na.parentNode&&a.na.parentNode.nodeType==m.g.j.pf.ELEMENT_NODE&&Oc(a)};
function Pc(a,c){for(var d=0;d<a.jg.length;d++)c.call(void 0,a.jg[d],d)};m.kd={};m.kd.er=!1;m.kd.register=function(a){if(m.kd.er)throw Error("CSS already injected");Array.prototype.push.apply(m.kd.Io,a);a.length=0};m.kd.Bh=function(a,c){if(!m.kd.er){m.kd.er=!0;var d=m.kd.Io.join("\n");m.kd.Io.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};m.kd.ws=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See issue #981 for context")};
m.kd.Io=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;",
"border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {",
"fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",
'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {",
"display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;",
"-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;",
"height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;",
"}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {",
"fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;",
"}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);",
"}",".blocklyDropDownDiv .blocklyMenu {",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;",
"width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];
m.B=function(){};m.B.Lp=null;m.B.Gd=null;m.B.Kx=null;m.B.Xl=16;m.B.jt=1;m.B.et=12;m.B.ou=16;m.B.Co=.25;m.B.Cp=null;m.B.Th=null;m.B.ne="";m.B.re="";
m.B.La=function(){if(!m.B.we){var a=document.createElement("div");a.className="blocklyDropDownDiv";(m.Wn||document.body).appendChild(a);m.B.we=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);m.B.Af=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);m.B.sd=c;m.B.we.style.opacity=0;m.B.we.style.transition="transform "+m.B.Co+"s, opacity "+m.B.Co+"s";a.addEventListener("focusin",function(){m.g.j.Db(a,"blocklyFocused")});a.addEventListener("focusout",
function(){m.g.j.hd(a,"blocklyFocused")})}};m.B.IE=function(a){m.B.Lp=a};m.B.RC=function(){return m.B.Af};m.B.OB=function(){m.B.Af.textContent="";m.B.Af.style.width=""};m.B.oe=function(a,c){m.B.we.style.backgroundColor=a;m.B.we.style.borderColor=c};m.B.vK=function(a,c,d,e){return m.B.Xx(m.B.sw(c),a,d,e)};m.B.PE=function(a,c){m.B.Kx=!0;m.B.Xx(m.B.tw(a),a,c,void 0)};
m.B.sw=function(a){var c=a.oa(),d=c.getBBox(),e=a.C.scale;a=d.height*e;d=d.width*e;c=m.g.style.wh(c);return new m.g.Rect(c.y,c.y+a,c.x,c.x+d)};
m.B.tw=function(a){if(a.Fb)c=a.Fb.getBoundingClientRect(),a=m.g.style.wh(a.Fb),e=c.width,c=c.height;else{var c=z(a.I);var d=a.I.C.scale;a=m.g.style.wh(Eb(a));var e=c.width*d;c=c.height*d;m.g.userAgent.Nz?(a.x+=1.5*d,a.y+=1.5*d):m.g.userAgent.Wg||m.g.userAgent.Pd||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}d=new m.g.Rect(a.y,a.y+c,a.x,a.x+e);return new m.g.Rect(d.top,d.bottom,d.left,d.right)};
m.B.Xx=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.T();for(var k=e.C;k.options.Uc;)k=k.options.Uc;m.B.IE(x(k).parentNode);return m.B.show(c,e.H,f,g,f,a,d)};m.B.show=function(a,c,d,e,f,g,k){m.B.Gd=a;m.B.Th=k||null;a=m.B.we;a.style.direction=c?"rtl":"ltr";c=m.Gf();m.B.ne=c.fb.ge();m.B.re=c.ng().ge();m.g.j.Db(a,m.B.ne);m.g.j.Db(a,m.B.re);return m.B.kl(d,e,f,g)};
m.B.JC=function(){var a=m.g.style.wh(m.B.Lp),c=m.g.style.Hf(m.B.Lp);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};m.B.WC=function(a,c,d,e){var f=m.B.JC(),g=m.g.style.Hf(m.B.we);return c+g.height<f.bottom?m.B.rw(a,c,f,g):e-g.height>f.top?m.B.qw(d,e,f,g):c+g.height<document.documentElement.clientHeight?m.B.rw(a,c,f,g):e-g.height>document.documentElement.clientTop?m.B.qw(d,e,f,g):m.B.XC(a,f,g)};
m.B.rw=function(a,c,d,e){a=m.B.Rq(a,d.left,d.right,e.width);return{cr:a.Wi,dr:c,Cq:a.Wi,Dq:c+m.B.ou,Ii:a.Ii,Ep:-(m.B.Xl/2+m.B.jt),Im:!0,Dp:!0}};m.B.qw=function(a,c,d,e){a=m.B.Rq(a,d.left,d.right,e.width);return{cr:a.Wi,dr:c-e.height,Cq:a.Wi,Dq:c-e.height-m.B.ou,Ii:a.Ii,Ep:e.height-2*m.B.jt-m.B.Xl/2,Im:!1,Dp:!0}};m.B.XC=function(a,c,d){a=m.B.Rq(a,c.left,c.right,d.width);return{cr:a.Wi,dr:0,Cq:a.Wi,Dq:0,Im:null,Ii:null,Ep:null,Dp:!1}};
m.B.Rq=function(a,c,d,e){var f=a;a=m.g.Cd.jk(c,a-e/2,d-e);f-=m.B.Xl/2;c=m.g.Cd.jk(m.B.et,f-a,e-m.B.et-m.B.Xl);return{Ii:c,Wi:a}};m.B.isVisible=function(){return!!m.B.Gd};m.B.Pk=function(a,c){m.B.Gd===a&&(c?m.B.pn():m.B.Fa())};m.B.Fa=function(){var a=m.B.we;a.style.transform="translate(0, 0)";a.style.opacity=0;m.B.Cp=setTimeout(function(){m.B.pn()},1E3*m.B.Co);m.B.Th&&(m.B.Th(),m.B.Th=null)};
m.B.pn=function(){if(m.B.isVisible()){m.B.Cp&&clearTimeout(m.B.Cp);var a=m.B.we;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";m.B.Th&&(m.B.Th(),m.B.Th=null);m.B.OB();m.B.Gd=null;m.B.ne&&(m.g.j.hd(a,m.B.ne),m.B.ne="");m.B.re&&(m.g.j.hd(a,m.B.re),m.B.re="");Pa(m.Gf())}};
m.B.kl=function(a,c,d,e){a=m.B.WC(a,c,d,e);a.Dp?(m.B.sd.style.display="",m.B.sd.style.transform="translate("+a.Ii+"px,"+a.Ep+"px) rotate(45deg)",m.B.sd.setAttribute("class",a.Im?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):m.B.sd.style.display="none";c=Math.floor(a.cr);d=Math.floor(a.dr);e=Math.floor(a.Cq);var f=Math.floor(a.Dq),g=m.B.we;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.Im};m.B.hK=function(){if(m.B.Gd){var a=m.B.Gd,c=a.T();a=m.B.Kx?m.B.tw(a):m.B.sw(c);c=a.left+(a.right-a.left)/2;m.B.kl(c,a.bottom,c,a.top)}else m.B.Fa()};m.Bh=function(a,c){m.HB();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!m.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new m.wc(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;m.g.ub.zj(d,m.g.ub.State.dA,m.L.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=m.rk(d,c);var e=new m.kt(d),f=new m.Zu(d),g=m.ZB(a,c,e,f);m.va.sa.LE(c.sa);m.tD(g);m.Zk=g;m.Jl(g);d.addEventListener("focusin",function(){m.Zk=
g});return g};m.rk=function(a,c){a.setAttribute("dir","LTR");m.Md.Kv=c.H;m.kd.Bh(c.kD,c.Zn);a=m.g.j.J("svg",{xmlns:m.g.j.Am,"xmlns:html":m.g.j.Po,"xmlns:xlink":m.g.j.Mc,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=m.g.j.J("defs",{},a);c.Vq=m.Zg.La(String(Math.random()).substring(2),c.Bw,d);return a};
m.ZB=function(a,c,d,e){c.Uc=null;var f=new m.Wa(c,d,e);c=f.options;f.scale=c.Va.YE;a.appendChild(f.La("blocklyMainBackground"));m.g.j.Db(aa(f),f.fb.ge());m.g.j.Db(aa(f),f.ng().ge());!c.dj&&c.Jh&&(d=Ec(f),m.g.j.ij(d,a));c.Gw&&Cc(f);c.Va&&c.Va.controls&&Dc(f);f.ic.subscribe(a,"workspaceBackgroundColour","background-color");f.translate(0,0);c.readOnly||f.Sc()||gb(f,function(g){if(!f.fd()&&!f.Sc()&&-1!=m.h.Yy.indexOf(g.type)){var k=Object.create(null),l=f.wd(),n=f.scale;k.H=f.H;k.Bb=l.Bb/n;k.Mb=l.Mb/
n;k.wy=(l.Bb+l.rb)/n;k.vy=(l.Mb+l.Ab)/n;Hc(f)?(l=Va(f),k.zc=l.left,k.oc=l.top,k.Ev=l.right,k.Bv=l.bottom):(k.zc=l.zc/n,k.oc=l.oc/n,k.Ev=(l.zc+l.Ke)/n,k.Bv=(l.oc+l.ud)/n);if(k.oc<k.Mb||k.Bv>k.vy||k.zc<k.Bb||k.Ev>k.wy){l=null;g&&(l=m.h.Pb(),m.h.la(g.group));switch(g.type){case m.h.Do:case m.h.ht:var p=f.Bc(g.cc);p&&(p=p.Dc());break;case m.h.cm:case m.h.dm:p=f.Rm[g.He]||null}if(p){n=oc(p);n.height=n.bottom-n.top;n.width=n.right-n.left;var q=k.Mb,r=k.vy-n.height;r=Math.max(q,r);q=m.g.Cd.jk(q,n.top,r)-
n.top;r=k.Bb;var u=k.wy-n.width;k.H?r=Math.min(u,r):u=Math.max(r,u);p.moveBy(m.g.Cd.jk(r,n.left,u)-n.left,q)}g&&(!g.group&&p&&console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==l&&m.h.la(l))}}});m.Jl(f);m.W.La();m.B.La();m.D.La();return f};
m.tD=function(a){var c=a.options,d=x(a);m.wa(d.parentNode,"contextmenu",null,function(f){m.g.Cn(f)||f.preventDefault()});d=m.wa(window,"resize",null,function(){m.Ub(!0);m.Jl(a)});a.co=d;m.Bh.vB();if(c.Jh){d=a.ta;var e=D(a,!0);d?d.Aa():e&&(e.Aa(a),e.show(c.Jh),e.xa.set(0))}d=m.Ha.fc;c.Gw&&(d=a.jc.Aa(d));c.Va&&c.Va.controls&&a.ki.Aa(d);c.Wb&&c.Wb.scrollbars?(a.xa=new m.$j(a),a.xa.resize()):a.vl({x:.5,y:.5});c.mD&&m.Bh.MD(c.Zn,a)};
m.Bh.vB=function(){m.pC||(m.wa(document,"scroll",null,function(){for(var a=m.kb.getAll(),c=0,d;d=a[c];c++)d.Ql&&d.Ql()}),m.wa(document,"keydown",null,m.hE),m.bc(document,"touchend",null,m.zg),m.bc(document,"touchcancel",null,m.zg),m.g.userAgent.Rj&&m.wa(window,"orientationchange",document,function(){m.Jl(m.Gf())}));m.pC=!0};
m.Bh.MD=function(a,c){function d(){for(;f.length;)m.hb(f.pop());e.preload()}var e=c.Nc;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(m.wa(document,"mousemove",null,d,!0));f.push(m.wa(document,"touchstart",null,d,!0))};m.pd=function(a,c){this.uy=c||"";this.Px=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.Px[a[c]]=!0;this.reset()};m.pd.Mo="DEVELOPER_VARIABLE";m.pd.prototype.reset=function(){this.Ne=Object.create(null);this.Jv=Object.create(null);this.Ka=null};m.pd.prototype.Cs=function(a){this.Ka=a};
function Sc(a,c){var d=m.G.Tl;if(c==m.Gi){var e=a;d.Ka?e=(e=d.Ka.pg(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+c;var f=c==m.Gi||c==m.pd.Mo?d.uy:"";if(e in d.Ne)return f+d.Ne[e];a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=
"0123456789".indexOf(a[0])&&(a="my_"+a)):a=m.L.UNNAMED_KEY||"unnamed";for(var g="";d.Jv[a+g]||a+g in d.Px;)g=g?g+1:2;a+=g;d.Jv[a]=!0;c=(c==m.Gi||c==m.pd.Mo?d.uy:"")+a;d.Ne[e]=c.substr(f.length);return c}m.pd.Ef=function(a,c){return a.toLowerCase()==c.toLowerCase()};m.Ta={};m.Ta.$t=m.su;m.Ta.oz="x";m.Ta.qB=function(a){var c=cb(a,"procedures_defnoreturn").map(function(d){return d.aj()});a=cb(a,"procedures_defreturn").map(function(d){return d.aj()});c.sort(m.Ta.Lx);a.sort(m.Ta.Lx);return[c,a]};m.Ta.Lx=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};m.Ta.zC=function(a,c){if(c.Ue)return a;for(a=a||m.L.UNNAMED_KEY||"unnamed";!m.Ta.AD(a,c.C,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
m.Ta.AD=function(a,c,d){return!m.Ta.CD(a,c,d)};m.Ta.CD=function(a,c,d){c=C(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].aj){var f=c[e].aj();if(m.pd.Ef(f[0],a))return!0}return!1};m.Ta.dK=function(a){a=a.trim();var c=m.Ta.zC(a,this.T()),d=this.getValue();if(d!=a&&d!=c){a=C(this.T().C,!1);for(var e=0;e<a.length;e++)a[e].zE&&a[e].zE(d,c)}return c};
m.Ta.sh=function(a){function c(g,k){for(var l=0;l<g.length;l++){var n=g[l][0],p=g[l][1],q=m.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=m.g.xml.createElement("mutation");r.setAttribute("name",n);q.appendChild(r);for(n=0;n<p.length;n++){var u=m.g.xml.createElement("arg");u.setAttribute("name",p[n]);r.appendChild(u)}d.push(q)}}var d=[];if(m.kc.procedures_defnoreturn){var e=m.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=m.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(m.g.xml.createTextNode(m.L.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}m.kc.procedures_defreturn&&(e=m.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=m.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(m.g.xml.createTextNode(m.L.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));m.kc.procedures_ifreturn&&(e=m.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=m.Ta.qB(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
m.Ta.oy=function(a){for(var c=[],d=cb(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(ab(f,"NAME"));d=m.g.xml.createElement("xml");e=m.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=m.g.xml.createElement("field");f.setAttribute("name","NAME");c=m.g.xml.createTextNode(m.aa.gw(m.Ta.oz,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);c=d;Array.isArray(c)||(c=m.wc.Cx(c));if(c=m.g.se.Xp(c)){if(!a.options.Jh)throw Error("Existing toolbox is null.  Can't create new toolbox.");
if(m.g.se.dj(c)){if(!a.ta)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.Jh=c;a.ta.Ca(c)}else{if(!a.ba)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.Jh=c;a.ba.show(c)}}else if(a.options.Jh)throw Error("Can't nullify an existing toolbox.");};
m.Ta.$D=function(a){if(a.type==m.h.Dm&&"mutatorOpen"==a.element&&a.newValue){a=m.kb.Ik(a.sb).Bc(a.cc);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.me.o,m.Ta.oy(a),gb(a,m.Ta.ZD)}};m.Ta.ZD=function(a){a.type!=m.h.Do&&a.type!=m.h.gt&&a.type!=m.h.Vy||m.Ta.oy(m.kb.Ik(a.sb))};m.Ta.KC=function(a,c){var d=[];c=C(c,!1);for(var e=0;e<c.length;e++)if(c[e].YC){var f=c[e].YC();f&&m.pd.Ef(f,a)&&d.push(c[e])}return d};
m.Ta.SJ=function(a){var c=m.h.ec,d=a.aj()[0],e=a.Ed(!0);a=m.Ta.KC(d,a.C);d=0;for(var f;f=a[d];d++){var g=f.Ed();g=g&&m.N.fe(g);f.Df(e);var k=f.Ed();k=k&&m.N.fe(k);g!=k&&(m.h.ec=!1,m.h.Ia(new m.h.li(f,"mutation",null,g,k)),m.h.ec=c)}};m.Ta.gJ=function(a,c){c=c.Hb(!1);for(var d=0;d<c.length;d++)if(c[d].aj){var e=c[d].aj();if(e&&m.pd.Ef(e[0],a))return c[d]}return null};m.Em=function(a,c,d,e){this.C=a;this.name=c;this.type=d||"";this.gj=e||m.g.Ff();m.h.Ia(new m.h.rd(this))};m.Em.prototype.Gb=function(){return this.gj};m.Em.RB=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};m.aa={};m.aa.$t=m.Gi;m.aa.dv=function(a){var c=C(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=Za(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.Gb();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};m.aa.CI=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};m.aa.at={};
m.aa.oB=function(a){a=C(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.hJ;!f&&e.SC&&(f=e.SC,m.aa.at[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),m.aa.at[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
m.aa.sh=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Ic(a,function(e){m.aa.Gv(e.tJ())});c.push(d);a=m.aa.CC(a);return c=c.concat(a)};
m.aa.CC=function(a){a=a.nn("");var c=[];if(0<a.length){var d=a[a.length-1];if(m.kc.variables_set){var e=m.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",m.kc.math_change?8:24);e.appendChild(m.aa.Fq(d));c.push(e)}m.kc.math_change&&(e=m.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",m.kc.variables_get?20:8),e.appendChild(m.aa.Fq(d)),d=m.N.ci('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(m.kc.variables_get){a.sort(m.Em.RB);d=0;for(var f;f=a[d];d++)e=m.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(m.aa.Fq(f)),c.push(e)}}return c};m.aa.Ru="ijkmnopqrstuvwxyzabcdefgh";m.aa.GC=function(a){return m.aa.gw(m.aa.Ru.charAt(0),a.Gq())};
m.aa.gw=function(a,c){if(!c.length)return a;for(var d=m.aa.Ru,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
m.aa.Gv=function(a,c,d){function e(g){m.aa.Mx(m.L.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=m.aa.bE(k,a);if(l){if(l.type==f)var n=m.L.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else n=m.L.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,n=n.replace("%1",l.name).replace("%2",l.type);m.alert(n,function(){e(k)})}else a.ce(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};m.aa.ce=m.aa.Gv;
m.aa.Nx=function(a,c){function d(e){var f=m.L.RENAME_VARIABLE_TITLE.replace("%1",c.name);m.aa.Mx(f,e,function(g){if(g){var k=m.aa.cE(g,c.type,a);k?(k=m.L.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),m.alert(k,function(){d(g)})):a.Vh(c.Gb(),g)}})}d("")};m.aa.Mx=function(a,c,d){m.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==m.L.RENAME_VARIABLE||e==m.L.NEW_VARIABLE)&&(e=null);d(e)})};
m.aa.cE=function(a,c,d){d=d.Ka.uh();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};m.aa.bE=function(a,c){c=c.Ka.uh();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};m.aa.Fq=function(a){var c=m.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.Gb());c.setAttribute("variabletype",a.type);a=m.g.xml.createTextNode(a.name);c.appendChild(a);return c};
m.aa.qJ=function(a,c,d,e){var f=m.aa.og(a,c,d,e);f||(f=m.aa.bC(a,c,d,e));return f};m.aa.og=function(a,c,d,e){var f=a.tj,g=null;if(c&&(g=a.pg(c),!g&&f&&(g=f.pg(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.og(d,e);!g&&f&&(g=f.og(d,e))}return g};m.aa.bC=function(a,c,d,e){var f=a.tj;d||(d=m.aa.GC(a.Lf?a.ab:a));return f?f.ce(d,e,c):a.ce(d,e,c)};
m.aa.hw=function(a,c){a=a.uh();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};m.VERSION="uncompiled";m.Zk=null;m.selected=null;m.Yi=[];m.kk=null;m.Pm=null;m.Tp=null;m.HI=null;m.Wn=null;m.aF=function(a){return new m.g.Ud(a.kv,a.jv)};m.jK=function(a){Ya(a)};m.Jl=function(a){for(;a.options.Uc;)a=a.options.Uc;var c=x(a),d=c.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.kv!=e&&(c.setAttribute("width",e+"px"),c.kv=e);c.jv!=d&&(c.setAttribute("height",d+"px"),c.jv=d);a.resize()}};
m.hE=function(a){var c=m.Zk;if(c&&!(m.g.Cn(a)||c.ma&&!c.isVisible()))if(c.options.readOnly)m.navigation.xx(a);else{var d=!1;if(a.keyCode==m.g.Oa.xt)m.Ub(),m.navigation.Tc(m.navigation.wo);else{if(!m.Yg.sn()&&m.navigation.xx(a))return;if(a.keyCode==m.g.Oa.Ty||a.keyCode==m.g.Oa.Lj){a.preventDefault();if(m.Yg.sn())return;m.selected&&m.selected.ed()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(m.Yg.sn())return;m.selected&&m.selected.ed()&&m.selected.Sc()&&(a.keyCode==m.g.Oa.$y?(m.Ub(),m.Yp(m.selected)):
a.keyCode!=m.g.Oa.$u||m.selected.C.Lf||(m.Yp(m.selected),d=!0));a.keyCode==m.g.Oa.$A?m.kk&&(a=m.Pm,a.Lf&&(a=a.ab),m.Tp&&eb(a,m.Tp)&&(m.h.la(!0),Gc(a),m.h.la(!1))):a.keyCode==m.g.Oa.iB?(m.Ub(),c.po(a.shiftKey)):a.ctrlKey&&a.keyCode==m.g.Oa.gB&&(m.Ub(),c.po(!0))}}d&&!m.selected.C.Lf&&(m.h.la(!0),m.Ub(),m.selected.F(!0,!0),m.h.la(!1))}};m.Yp=function(a){var c=m.N.vf(a,!0);m.N.hC(c);var d=a.Pa();c.setAttribute("x",a.H?-d.x:d.x);c.setAttribute("y",d.y);d=a.C;a=m.g.Hq(a,!0);m.kk=c;m.Pm=d;m.Tp=a};
m.duplicate=function(a){var c=m.kk,d=m.Pm;m.Yp(a);Gc(a.C);m.kk=c;m.Pm=d};m.WJ=function(a){m.g.Cn(a)||a.preventDefault()};m.Ub=function(a){m.D.Fa();m.W.Fa();m.B.pn();a||(a=m.Gf(),a.jc&&a.jc.rh&&a.jc.rh.Fa(),(a=a.ta)&&D(a)&&D(a).Ki&&a.KI())};m.Gf=function(){return m.Zk};m.alert=function(a,c){alert(a);c&&c()};m.confirm=function(a,c){c(confirm(a))};m.prompt=function(a,c,d){d(prompt(a,c))};m.HD=function(a){return function(){$b(this,a)}};
m.TI=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(m.kc[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),m.kc[e]={Aa:m.HD(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};
m.wa=function(a,c,d,e,f,g){function k(u){var y=!f;u=m.Touch.UE(u);for(var P=0,ba;ba=u[P];P++)if(!y||m.Touch.Es(ba))m.Touch.JE(ba),d?e.call(d,ba):e(ba),l=!0}var l=!1,n=[];if(m.g.global.PointerEvent&&c in m.Touch.Ae)for(var p=0,q;q=m.Touch.Ae[c][p];p++)a.addEventListener(q,k,!1),n.push([a,q,k]);else if(a.addEventListener(c,k,!1),n.push([a,c,k]),c in m.Touch.Ae){var r=function(u){k(u);var y=!g;l&&y&&u.preventDefault()};for(p=0;q=m.Touch.Ae[c][p];p++)a.addEventListener(q,r,!1),n.push([a,q,r])}return n};
m.bc=function(a,c,d,e){function f(p){d?e.call(d,p):e(p)}var g=[];if(m.g.global.PointerEvent&&c in m.Touch.Ae)for(var k=0,l;l=m.Touch.Ae[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in m.Touch.Ae){var n=function(p){if(p.changedTouches&&1==p.changedTouches.length){var q=p.changedTouches[0];p.clientX=q.clientX;p.clientY=q.clientY}f(p);p.preventDefault()};for(k=0;l=m.Touch.Ae[c][k];k++)a.addEventListener(l,n,!1),g.push([a,l,n])}return g};
m.hb=function(a){for(;a.length;){var c=a.pop();c[0].removeEventListener(c[1],c[2],!1)}};m.Vw=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};m.zJ=function(a){return m.g.mb.Mw(a)};
m.HB=function(){m.nc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);m.nc("LOGIC_HUE",["Constants","Logic","HUE"],210);m.nc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);m.nc("LOOPS_HUE",["Constants","Loops","HUE"],120);m.nc("MATH_HUE",["Blocks","math","HUE"],void 0);m.nc("MATH_HUE",["Constants","Math","HUE"],230);m.nc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);m.nc("TEXTS_HUE",["Constants","Text","HUE"],160);m.nc("LISTS_HUE",["Blocks","lists","HUE"],void 0);m.nc("LISTS_HUE",["Constants","Lists","HUE"],
260);m.nc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);m.nc("COLOUR_HUE",["Constants","Colour","HUE"],20);m.nc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);m.nc("VARIABLES_HUE",["Constants","Variables","HUE"],330);m.nc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);m.nc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
m.nc=function(a,c,d){for(var e="Blockly",f=m,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};m.tK=function(a){m.Wn=a};var Tc,F,Uc={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",
fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",
pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",
yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},Vc="ace ar fa he mzn ps ur".split(" "),Wc=window.BlocklyGamesLang,Xc=window.BlocklyGamesLanguages,Yc=/\.html$/.test(window.location.pathname);function Zc(a,c,d){var e=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";e=e(a);return isNaN(e)?c:m.g.Cd.jk(c,e,d)}var G=Zc("level",1,10);
function $c(){document.title=document.getElementById("title").textContent;document.dir=-1!=Vc.indexOf(Wc)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",Wc);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<Xc.length;d++){var e=Xc[d];c.push([Uc[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==Wc&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}Tc=window.innerWidth/2133>(window.innerHeight-document.getElementById("BClogo").offsetHeight)/1084?(window.innerHeight-document.getElementById("BClogo").offsetHeight)/1084:window.innerWidth/2133;(a=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");document.getElementById("coinanimation");ad();setTimeout(function(){bd()},200);setTimeout(cd,1)}F;
function ad(){var a=document.getElementById("coin").getContext("2d"),c=new Image;c.src="common/coin.png";var d,e=0;setInterval(function(){e=++e%10;d=44*e;a.clearRect(0,0,45,45);a.drawImage(c,d,0,44,40,0,0,45,45)},100)}function bd(){var a=document.getElementById("coinvalue").getContext("2d");a.clearRect(0,0,80,45);a.fillStyle="Black";a.font="35px Arial";a.fillText(F,0,35)}function dd(){var a=ed;try{var c=window.localStorage[a+1]}catch(d){}return c}
function H(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}function fd(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function cd(){if(!Yc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};m.g.u={};m.g.u.Ba=function(a,c){return" "+a+","+c+" "};m.g.u.curve=function(a,c){return" "+a+c.join("")};m.g.u.moveTo=function(a,c){return" M "+a+","+c+" "};m.g.u.moveBy=function(a,c){return" m "+a+","+c+" "};m.g.u.lineTo=function(a,c){return" l "+a+","+c+" "};m.g.u.line=function(a){return" l"+a.join("")};m.g.u.U=function(a,c){return" "+a+" "+c+" "};m.g.u.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};m.i.kf=function(){this.ye=0;this.JA=3;this.nd=5;this.Ut=8;this.vc=10;this.Ju=this.nd;this.ak=15;this.Ei=5;this.Cm=8;this.tA=15;this.bu=4;this.oA=12;this.yz=16;this.xz=this.ut=this.ak;this.jb=8;this.QA=this.Xj=15;this.PA=0;this.Gu=20;this.Uy=4;this.UA=this.nd;this.VA=this.vc;this.Xy=this.nd;this.Wy=this.vc;this.Ul=!1;this.NA=15;this.OA=100;this.MA=15;this.Uj=24;this.Az=14.5;this.zz=this.ak+11;this.Dz=2;this.Bz=this.Uj;this.Eu=m.g.u.moveBy(0,0);this.$z=12;this.aA=6;this.Xg=11;this.$f="normal";this.Zf=
"sans-serif";this.Ct=this.km=-1;this.jm=4;this.zt=16;this.Nj=5;this.Ez="#fff";this.Oo=!m.g.userAgent.Pd&&!m.g.userAgent.Wg;this.At=this.zt;this.Gz=this.Fz=this.Bt=!1;this.Iz=this.Nj;this.Oj=12;this.Hz="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.ol=String(Math.random()).substring(2);this.dn="";this.zq=null;this.Sv="";this.xk=this.cq=this.kq=null;this.fm="#cc0a0a";this.qm="#4286f4";this.hm=100;this.Wu=5;this.gm=10;this.kz=2;this.mz=4;this.Vo="#000000";this.nm=.2;this.Du={CA:1,xi:2}};b=m.i.kf.prototype;
b.Aa=function(){this.ui=this.wr();this.xi=this.xr();this.Ci=this.zr();this.jp=this.yr();var a=this.jb,c=m.g.u.arc("a","0 0,0",a,m.g.u.Ba(-a,a)),d=m.g.u.arc("a","0 0,0",a,m.g.u.Ba(a,a));this.om={width:a,height:a,Zr:c,Yn:d};a=this.jb;c=m.g.u.moveBy(0,a)+m.g.u.arc("a","0 0,1",a,m.g.u.Ba(a,-a));d=m.g.u.arc("a","0 0,1",a,m.g.u.Ba(a,a));var e=m.g.u.arc("a","0 0,1",a,m.g.u.Ba(-a,-a)),f=m.g.u.arc("a","0 0,1",a,m.g.u.Ba(-a,a));this.Yj={Ns:c,hF:d,CB:f,Kp:e,DE:a}};
b.wl=function(a){this.gg={};var c=a.gg,d;for(d in c)this.gg[d]=gd(c[d]);this.Zf=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.Zf;this.$f=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.$f;this.Xg=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.Xg;c=m.g.j.PD(this.Xg+"pt",this.$f,this.Zf);this.km=c.height;this.Ct=c.Xd;this.fm=Ta(a,"cursorColour")||this.fm;this.qm=Ta(a,"markerColour")||this.qm;this.Vo=Ta(a,"insertionMarkerColour")||this.Vo;this.nm=Number(Ta(a,
"insertionMarkerOpacity"))||this.nm;this.Ul=null!=a.Hs?a.Hs:this.Ul};function rc(a,c){var d="auto_"+c;a.gg[d]||(a.gg[d]=gd({colourPrimary:c}));return{style:a.gg[d],name:d}}function mc(a,c){return a.gg[c||""]||(c&&0==c.indexOf("auto_")?rc(a,c.substring(5)).style:gd({colourPrimary:"#000000"}))}
function gd(a){var c={};a&&m.g.object.Ve(c,a);a=m.g.Xn(c.colourPrimary||"#000");c.jh=a.Ok;c.colourSecondary?a=m.g.Xn(c.colourSecondary).Ok:(a=c.jh,a=m.g.mb.Hp("#fff",a,.6)||a);c.Qm=a;c.colourTertiary?a=m.g.Xn(c.colourTertiary).Ok:(a=c.jh,a=m.g.mb.Hp("#fff",a,.3)||a);c.Oi=a;c.Re=c.hat||"";return c}b.F=function(){this.zq&&m.g.j.removeNode(this.zq);this.kq&&m.g.j.removeNode(this.kq);this.cq&&m.g.j.removeNode(this.cq);this.xk=null};
b.wr=function(){var a=this.$z,c=this.aA,d=m.g.u.line([m.g.u.Ba(c,a/4),m.g.u.Ba(2*-c,a/2),m.g.u.Ba(c,a/4)]);return{height:a,width:c,path:d}};b.zr=function(){var a=this.NA,c=this.OA,d=m.g.u.curve("c",[m.g.u.Ba(30,-a),m.g.u.Ba(70,-a),m.g.u.Ba(c,0)]);return{height:a,width:c,path:d}};
b.yr=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,n=m.g.u.Ba(c,g*l);return m.g.u.curve("c",[m.g.u.Ba(0,g*(l+2.5)),m.g.u.Ba(-c,k*(l+.5)),m.g.u.Ba(-c,g*l)])+m.g.u.curve("s",[m.g.u.Ba(c,2.5*k),n])}var c=this.Cm,d=this.ak,e=a(!0),f=a(!1);return{type:this.Du.CA,width:c,height:d,Hd:f,il:e}};b.xr=function(){function a(k){return m.g.u.line([m.g.u.Ba(k*e,d),m.g.u.Ba(3*k,0),m.g.u.Ba(k*e,-d)])}var c=this.tA,d=this.bu,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.Du.xi,width:c,height:d,Gg:f,Dx:g}};
function ta(a,c){switch(c.type){case m.cb:case m.Rd:return a.jp;case m.Sd:case m.Ma:return a.xi;default:throw Error("Unknown connection type");}}
b.La=function(a,c,d){d=this.Iq(d);c="blockly-renderer-style-"+c;this.xk=document.getElementById(c);var e=d.join("\n");this.xk?this.xk.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.xk=d);a=m.g.j.J("defs",{},a);c=m.g.j.J("filter",{id:"blocklyEmbossFilter"+this.ol},a);m.g.j.J("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=m.g.j.J("feSpecularLighting",
{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);m.g.j.J("fePointLight",{x:-5E3,y:-1E4,z:2E4},d);m.g.j.J("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);m.g.j.J("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.dn=c.id;this.zq=c;c=m.g.j.J("pattern",{id:"blocklyDisabledPattern"+this.ol,patternUnits:"userSpaceOnUse",width:10,height:10},a);m.g.j.J("rect",
{width:10,height:10,fill:"#aaa"},c);m.g.j.J("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);this.Sv=c.id;this.kq=c;m.i.vt&&(a=m.g.j.J("filter",{id:"blocklyDebugFilter"+this.ol,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),c=m.g.j.J("feComponentTransfer",{result:"outBlur"},a),m.g.j.J("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),m.g.j.J("feFlood",{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),m.g.j.J("feComposite",{"in":"outColor",in2:"outBlur",
operator:"in",result:"outGlow"},a),this.cq=a)};
b.Iq=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.$f+" "+this.Xg+"pt "+this.Zf+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.Ez+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Zf+";","font-weight: "+this.$f+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.nm+
";","stroke: none;","}"]};m.i.nf=function(a,c,d){this.o=a;this.Cr=d;this.Vc=null;this.s=c;this.Ti=null;a=hd(this)?this.s.fm:this.s.qm;this.td=d.mb||a};m.i.nf.lz="blocklyCursor";m.i.nf.jA="blocklyMarker";m.i.nf.Pz=.75;b=m.i.nf.prototype;b.oa=function(){return this.M};b.Cc=function(){return this.Cr};function hd(a){return"cursor"==a.Cr.type}
b.La=function(){this.M=m.g.j.J("g",{"class":hd(this)?m.i.nf.lz:m.i.nf.jA},null);this.Of=m.g.j.J("g",{width:this.s.hm,height:this.s.Wu},this.M);this.Ag=m.g.j.J("rect",{width:this.s.hm,height:this.s.Wu,style:"display: none"},this.Of);this.Nh=m.g.j.J("rect",{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.Of);this.Mh=m.g.j.J("path",{transform:"",style:"display: none"},this.Of);this.Nf=m.g.j.J("path",{transform:"",style:"display: none",fill:"none","stroke-width":this.s.mz},this.Of);
if(hd(this)){var a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.td+";transparent;transparent;",repeatCount:"indefinite"};m.g.j.J("animate",a,this.Ag);m.g.j.J("animate",a,this.Mh);a.attributeName="stroke";m.g.j.J("animate",a,this.Nf)}return this.M};function id(a,c){hd(a)?(a.Vc&&a.Vc.Qf(null),c.Qf(a.oa())):(a.Vc&&a.Vc.Rf(null),c.Rf(a.oa()));a.Vc=c}
b.draw=function(a,c){if(c){this.s=this.o.fb.X();var d=hd(this)?this.s.fm:this.s.qm;this.td=this.Cr.mb||d;this.Ag.setAttribute("fill",this.td);this.Nh.setAttribute("stroke",this.td);this.Mh.setAttribute("fill",this.td);this.Nf.setAttribute("stroke",this.td);hd(this)&&(d=this.td+";transparent;transparent;",this.Ag.firstChild.setAttribute("values",d),this.Mh.firstChild.setAttribute("values",d),this.Nf.firstChild.setAttribute("values",d));d=c.ka;if(c.Qa()==m.v.types.Yc)jd(this,c);else if(c.Qa()==m.v.types.ah)jd(this,
c);else if(d.type==m.cb){var e=c.ka;d=e.T();var f=e.Sh.x,g=e.Sh.y;e=m.g.u.moveTo(0,0)+ta(this.s,e).Hd;this.Mh.setAttribute("d",e);this.Mh.setAttribute("transform","translate("+f+","+g+")"+(this.o.H?" scale(-1 1)":""));this.Ti=this.Mh;id(this,d);kd(this)}else if(d.type==m.Ma)g=c.ka,d=g.T(),f=0,g=g.Sh.y,e=z(d).width,this.o.H&&(f=-e),ld(this,f,g,e),id(this,d),kd(this);else if(c.Qa()==m.v.types.qd)jd(this,c);else if(c.Qa()==m.v.types.Nb)d=c.ka,f=d.Hf().width,g=d.Hf().height,md(this,0,0,f,g),id(this,d),
kd(this);else if(c.Qa()==m.v.types.De)f=c.vo,d=f.x,f=f.y,this.o.H&&(d-=this.s.hm),ld(this,d,f,this.s.hm),id(this,this.o),kd(this);else if(c.Qa()==m.v.types.ze){d=c.ka;g=z(d);f=g.width+this.s.gm;g=g.height+this.s.gm;var k=e=-this.s.gm/2,l=-this.s.gm/2;this.o.H&&(k=-(f+e));md(this,k,l,f,g);id(this,d);kd(this)}d=c.T();a=new m.h.ac(d,hd(this)?"cursorMove":"markerMove",a,c);c.Qa()==m.v.types.De&&(a.sb=c.ka.id);m.h.Ia(a);c=this.Ti.childNodes[0];void 0!==c&&c.beginElement&&c.beginElement()}else this.Fa()};
function jd(a,c){c=c.T();var d=c.width,e=c.height,f=e*m.i.nf.Pz,g=a.s.kz;if(c.R){var k=ta(a.s,c.R);e=k;d=m.g.u.moveBy(-g,f)+m.g.u.U("V",-g)+m.g.u.U("H",a.s.Xj)+e.Gg+m.g.u.U("H",d+2*g)+m.g.u.U("V",f);a.Nf.setAttribute("d",d)}else c.K?(f=k=ta(a.s,c.K),d=m.g.u.moveBy(d,0)+m.g.u.U("h",-(d-f.width))+m.g.u.U("v",a.s.Ei)+f.Hd+m.g.u.U("V",e)+m.g.u.U("H",d),a.Nf.setAttribute("d",d)):(d=m.g.u.moveBy(-g,f)+m.g.u.U("V",-g)+m.g.u.U("H",d+2*g)+m.g.u.U("V",f),a.Nf.setAttribute("d",d));a.o.H&&a.Hk(a.Nf);a.Ti=a.Nf;
id(a,c);kd(a)}function kd(a){a.Fa();a.Ti.style.display=""}function ld(a,c,d,e){a.Ag.setAttribute("x",c);a.Ag.setAttribute("y",d);a.Ag.setAttribute("width",e);a.Ti=a.Ag}function md(a,c,d,e,f){a.Nh.setAttribute("x",c);a.Nh.setAttribute("y",d);a.Nh.setAttribute("width",e);a.Nh.setAttribute("height",f);a.Ti=a.Nh}b.Hk=function(a){a.setAttribute("transform","scale(-1 1)")};b.Fa=function(){this.Ag.style.display="none";this.Nh.style.display="none";this.Mh.style.display="none";this.Nf.style.display="none"};
b.F=function(){this.M&&m.g.j.removeNode(this.M)};m.i.m={NONE:0,Nb:1,Et:2,Ht:4,qp:8,ft:16,Lt:32,yt:64,md:128,Jt:256,Fu:512,gz:1024,ip:2048,ep:4096,yA:8192,Jo:16384,Zo:32768,Yo:65536,np:131072,mp:262144,Pt:524288,op:1048576,up:2097152,Eo:4194304,Kt:8388608};m.i.m.EG=m.i.m.Zo|m.i.m.Yo;m.i.m.YH=m.i.m.np|m.i.m.mp;m.i.m.Mr=16777216;m.i.m.Qa=function(){m.i.m.hasOwnProperty(void 0)||(m.i.m[void 0]=m.i.m.Mr,m.i.m.Mr<<=1);return m.i.m[void 0]};m.i.m.Kf=function(a){return a.type&m.i.m.Nb};m.i.m.Gh=function(a){return a.type&m.i.m.Et};
m.i.m.lj=function(a){return a.type&m.i.m.Ht};m.i.m.Bd=function(a){return a.type&m.i.m.qp};m.i.m.JJ=function(a){return a.type&m.i.m.Lt};m.i.m.vg=function(a){return a.type&m.i.m.md};m.i.m.Uk=function(a){return a.type&m.i.m.yt};m.i.m.ug=function(a){return a.type&m.i.m.Jt};m.i.m.Ih=function(a){return a.type&m.i.m.Fu};m.i.m.nj=function(a){return a.type&m.i.m.ip};m.i.m.xg=function(a){return a.type&m.i.m.ep};m.i.m.ED=function(a){return a.type&(m.i.m.ip|m.i.m.ep)};m.i.m.wg=function(a){return a.type&m.i.m.Yo};
m.i.m.Xw=function(a){return a.type&m.i.m.mp};m.i.m.Wk=function(a){return a.type&m.i.m.Zo};m.i.m.KJ=function(a){return a.type&m.i.m.np};m.i.m.FJ=function(a){return a.type&m.i.m.Jo};m.i.m.Uw=function(a){return a.type&m.i.m.Pt};m.i.m.MJ=function(a){return a.type&m.i.m.op};m.i.m.CJ=function(a){return a.type&m.i.m.ft};m.i.m.Dn=function(a){return a.type&m.i.m.up};m.i.m.vn=function(a){return a.type&m.i.m.Eo};m.i.m.FD=function(a){return a.type&(m.i.m.up|m.i.m.Eo)};m.i.m.zD=function(a){return a.type&m.i.m.Kt};m.i.dg=function(a){this.height=this.width=0;this.type=m.i.m.NONE;this.Ni=this.Ea=0;this.s=a;this.Fd=this.s.Xj};m.i.ga=function(a,c){m.i.ga.A.constructor.call(this,a);this.yc=c;this.shape=ta(this.s,c);this.Fh=!!this.shape.isDynamic;this.type|=m.i.m.gz};m.g.object.S(m.i.ga,m.i.dg);m.i.hp=function(a,c){m.i.hp.A.constructor.call(this,a,c);this.type|=m.i.m.yA;this.height=this.Fh?0:this.shape.height;this.Kd=this.width=this.Fh?0:this.shape.width;this.bd=this.s.Ei;this.nk=0};m.g.object.S(m.i.hp,m.i.ga);
m.i.kp=function(a,c){m.i.kp.A.constructor.call(this,a,c);this.type|=m.i.m.ip;this.height=this.shape.height;this.width=this.shape.width};m.g.object.S(m.i.kp,m.i.ga);m.i.fp=function(a,c){m.i.fp.A.constructor.call(this,a,c);this.type|=m.i.m.ep;this.height=this.shape.height;this.width=this.shape.width};m.g.object.S(m.i.fp,m.i.ga);m.i.Sj=function(a,c){m.i.Sj.A.constructor.call(this,a,c.connection);this.type|=m.i.m.md;this.input=c;this.align=c.align;(this.kg=c.connection&&c.connection.pa()?c.connection.pa():null)?(a=z(this.kg),this.mk=a.width,this.Sm=a.height):this.Sm=this.mk=0;this.bd=this.nk=0};m.g.object.S(m.i.Sj,m.i.ga);
m.i.ag=function(a,c){m.i.ag.A.constructor.call(this,a,c);this.type|=m.i.m.Jt;this.kg?(this.width=this.mk,this.height=this.Sm):(this.height=this.s.zz,this.width=this.s.Az);this.Pi=this.Fh?this.shape.height(this.height):this.shape.height;this.Je=this.Fh?this.shape.width(this.height):this.shape.width;this.kg||(this.width+=this.Je*(this.Fh?2:1));this.bd=this.Fh?this.shape.bd(this.Pi):this.s.Ei;this.nk=this.Fh?this.shape.nk(this.Je):0};m.g.object.S(m.i.ag,m.i.Sj);
m.i.fg=function(a,c){m.i.fg.A.constructor.call(this,a,c);this.type|=m.i.m.Fu;this.height=this.kg?this.Sm+this.s.PA:this.s.Bz;this.width=this.s.QA+this.shape.width};m.g.object.S(m.i.fg,m.i.Sj);m.i.im=function(a,c){m.i.im.A.constructor.call(this,a,c);this.type|=m.i.m.yt;this.height=this.kg?this.Sm-this.s.Ei-this.s.nd:this.shape.height;this.width=this.shape.width+this.s.Dz;this.bd=this.s.Ei;this.Pi=this.shape.height;this.Je=this.shape.width};m.g.object.S(m.i.im,m.i.Sj);m.i.Wo=function(a,c){m.i.Wo.A.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=m.i.m.Ht;a=c.eJ();this.height=a.height;this.width=a.width};m.g.object.S(m.i.Wo,m.i.dg);m.i.Xo=function(a){m.i.Xo.A.constructor.call(this,a);this.type|=m.i.m.Pt;this.height=this.s.ui.height;this.width=this.s.ui.width};m.g.object.S(m.i.Xo,m.i.dg);
m.i.ld=function(a,c){m.i.ld.A.constructor.call(this,a);this.$v=c;this.Ad=c.Mj;this.BC=c.nw();this.type|=m.i.m.Nb;a=this.$v.Hf();this.height=a.height;this.width=a.width};m.g.object.S(m.i.ld,m.i.dg);m.i.Qo=function(a){m.i.Qo.A.constructor.call(this,a);this.type|=m.i.m.Et;this.height=this.s.Ci.height;this.width=this.s.Ci.width;this.Ji=this.height};m.g.object.S(m.i.Qo,m.i.dg);
m.i.Di=function(a,c){m.i.Di.A.constructor.call(this,a);this.type=(c&&"left"!=c?m.i.m.np:m.i.m.Zo)|m.i.m.Jo;this.width=this.height=this.s.ye};m.g.object.S(m.i.Di,m.i.dg);m.i.wm=function(a,c){m.i.wm.A.constructor.call(this,a);this.type=(c&&"left"!=c?m.i.m.mp:m.i.m.Yo)|m.i.m.Jo;this.width=this.s.jb;this.height=this.s.jb/2};m.g.object.S(m.i.wm,m.i.dg);m.i.mf=function(a,c){m.i.mf.A.constructor.call(this,a);this.type=this.type|m.i.m.qp|m.i.m.Lt;this.width=c;this.height=this.s.MA};m.g.object.S(m.i.mf,m.i.dg);m.i.bh=function(a){this.type=m.i.m.op;this.elements=[];this.Ea=this.Rb=this.ue=this.minWidth=this.minHeight=this.width=this.height=0;this.Ew=this.ej=this.Yq=this.Ib=this.rg=!1;this.s=a;this.Fd=this.s.Xj;this.align=null};m.i.bh.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function nd(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(m.i.m.vg(d))return d;return null}m.i.bh.prototype.jo=function(){return!0};m.i.bh.prototype.Dk=function(){return!0};
m.i.gh=function(a){m.i.gh.A.constructor.call(this,a);this.type|=m.i.m.up;this.Ji=this.wf=0;this.lD=!1;this.connection=null};m.g.object.S(m.i.gh,m.i.bh);m.i.gh.prototype.Zq=function(a){var c=(a.Re?"cap"===a.Re:this.s.Ul)&&!a.K&&!a.R,d=a.R&&a.R.pa();return!!a.K||c||(d?v(d)==a:!1)};
m.i.gh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,m.i.m.Bd(f)||(m.i.m.Gh(f)?d=Math.max(d,f.Ji):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.wf=this.Ji=d;this.ue=this.width};m.i.gh.prototype.jo=function(){return!1};m.i.gh.prototype.Dk=function(){return!1};m.i.Tg=function(a){m.i.Tg.A.constructor.call(this,a);this.type|=m.i.m.Eo;this.Fw=!1;this.connection=null;this.Xd=this.zk=0};
m.g.object.S(m.i.Tg,m.i.bh);m.i.Tg.prototype.Zq=function(a){return!!a.K||!!v(a)};m.i.Tg.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,m.i.m.Bd(f)||(m.i.m.xg(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.zk=d;this.ue=this.width};m.i.Tg.prototype.jo=function(){return!1};m.i.Tg.prototype.Dk=function(){return!1};
m.i.Bm=function(a,c,d){m.i.Bm.A.constructor.call(this,a);this.type=this.type|m.i.m.qp|m.i.m.ft;this.width=d;this.height=c;this.fw=!1;this.ue=0;this.elements=[new m.i.mf(this.s,d)]};m.g.object.S(m.i.Bm,m.i.bh);m.i.Bm.prototype.measure=function(){};m.i.si=function(a){m.i.si.A.constructor.call(this,a);this.type|=m.i.m.Kt;this.yv=0};m.g.object.S(m.i.si,m.i.bh);
m.i.si.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,m.i.m.vg(d)&&(m.i.m.Ih(d)?a+=d.mk:m.i.m.Uk(d)&&0!=d.mk&&(a+=d.mk-d.Je)),m.i.m.Bd(d)||(this.height=Math.max(this.height,d.height));this.yv=a;this.ue=this.width+a};m.i.si.prototype.Dk=function(){return!this.rg&&!this.Ib};m.i.Td=function(a,c){this.za=c;this.fb=a;this.s=this.fb.X();this.K=c.K?new m.i.hp(this.s,c.K):null;this.mj=ua(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.ke=c.ke();this.H=c.H;this.Ng=this.width=this.Gj=this.height=0;this.rows=[];this.Ow=[];this.Jw=[];this.zb=new m.i.gh(this.s);this.lb=new m.i.Tg(this.s);this.io=this.Kd=0};b=m.i.Td.prototype;
b.measure=function(){var a=!!this.za.R,c=(this.za.Re?"cap"===this.za.Re:this.s.Ul)&&!this.K&&!a;this.zb.Zq(this.za)?this.zb.elements.push(new m.i.Di(this.s)):this.zb.elements.push(new m.i.wm(this.s));c?(a=new m.i.Qo(this.s),this.zb.elements.push(a),this.zb.wf=a.Ji):a&&(this.zb.lD=!0,this.zb.connection=new m.i.kp(this.s,this.za.R),this.zb.elements.push(this.zb.connection));this.za.O.length&&this.za.O[0].type==m.Ma&&!this.za.isCollapsed()?this.zb.minHeight=this.s.VA:this.zb.minHeight=this.s.UA;this.zb.elements.push(new m.i.Di(this.s,
"right"));this.rows.push(this.zb);a=new m.i.si(this.s);this.Ow.push(a);var d=va(this.za);if(d.length){c=0;for(var e;e=d[c];c++){var f=new m.i.Wo(this.s,e);this.isCollapsed&&e.MI?this.Jw.push(f):a.elements.push(f)}}e=null;for(c=0;d=this.za.O[c];c++)if(d.isVisible()){!e||d.type!=m.Ma&&e.type!=m.Ma&&(d.type!=m.cb&&d.type!=m.lf||this.mj)||(this.rows.push(a),a=new m.i.si(this.s),this.Ow.push(a));for(e=0;f=d.$a[e];e++)a.elements.push(new m.i.ld(this.s,f,d));this.cv(d,a);e=d}this.isCollapsed&&(a.Ew=!0,a.elements.push(new m.i.Xo(this.s)));
(a.elements.length||a.ej)&&this.rows.push(a);this.fs();this.rows.push(this.lb);this.bv();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)this.rows.push(a[c]),c!=a.length-1&&this.rows.push(od(this,a[c],a[c+1]));for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Ib&&(a=Math.max(a,f.width-nd(f).width)),d=Math.max(d,f.ue);this.Ng=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Ib&&(f.Ng=this.Ng);this.Gj=Math.max(c,d);this.K&&(this.Kd=this.K.width,this.width+=this.K.width,this.Gj+=this.K.width);
this.Ap();this.aw()};b.fs=function(){this.lb.Fw=!!this.za.V;this.lb.minHeight=this.za.O.length&&this.za.O[this.za.O.length-1].type==m.Ma?this.s.Wy:this.s.Xy;this.lb.Zq(this.za)?this.lb.elements.push(new m.i.Di(this.s)):this.lb.elements.push(new m.i.wm(this.s));this.lb.Fw&&(this.lb.connection=new m.i.fp(this.s,this.za.V),this.lb.elements.push(this.lb.connection));this.lb.elements.push(new m.i.Di(this.s,"right"))};
b.cv=function(a,c){this.mj&&a.type==m.cb?(c.elements.push(new m.i.ag(this.s,a)),c.Yq=!0):a.type==m.Ma?(c.elements.push(new m.i.fg(this.s,a)),c.Ib=!0):a.type==m.cb?(c.elements.push(new m.i.im(this.s,a)),c.rg=!0):a.type==m.lf&&(c.minHeight=Math.max(c.minHeight,a.T()&&a.T().Ra?this.s.xz:this.s.ut),c.ej=!0);null==c.align&&(c.align=a.align)};
b.bv=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.jo()&&c.elements.push(new m.i.mf(this.s,this.vh(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new m.i.mf(this.s,this.vh(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.Dk()&&c.elements.push(new m.i.mf(this.s,this.vh(d[d.length-1],null)))}}};
b.vh=function(a,c){if(!a&&c&&m.i.m.Ih(c))return this.s.Gu;if(a&&m.i.m.vg(a)&&!c){if(m.i.m.Uk(a))return this.s.ye;if(m.i.m.ug(a))return this.s.vc;if(m.i.m.Ih(a))return this.s.ye}return a&&m.i.m.Wk(a)&&c&&(m.i.m.nj(c)||m.i.m.xg(c))?c.Fd:a&&m.i.m.wg(a)&&c&&(m.i.m.nj(c)||m.i.m.xg(c))?c.Fd-this.s.jb:this.s.nd};b.Ap=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Ib)pd(this,c);else{var d=this.Kk(c)-c.width;0<d&&qd(c,d);m.i.m.FD(c)&&(c.ue=c.width)}};b.Kk=function(){return this.width-this.Kd};
function qd(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(m.i.m.Bd(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(m.i.m.Bd(f)){e=f;break a}e=null}if(a.rg||a.Ib)a.ue+=c;a.align==m.Bo?e.width+=c:a.align==m.Ao?(d.width+=c/2,e.width+=c/2):a.align==m.$s?d.width+=c:e.width+=c;a.width+=c}
function pd(a,c){var d=nd(c),e=c.width-d.width,f=a.Ng;e=f-e;0<e&&qd(c,e);e=c.width;f=a.Kk(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.ue=Math.max(c.width,a.Ng+c.yv)}function od(a,c,d){a=new m.i.Bm(a.s,a.xw(c,d),a.width-a.Kd);c.Ib&&(a.fw=!0);d.Ib&&(a.YJ=!0);return a}b.xw=function(){return this.s.nd};
b.mw=function(a,c){return m.i.m.Bd(c)?a.Rb+c.height/2:m.i.m.vn(a)?(a=a.Rb+a.height-a.zk,m.i.m.xg(c)?a+c.height/2:a-c.height/2):m.i.m.Dn(a)?m.i.m.Gh(c)?a.wf-c.height/2:a.wf+c.height/2:a.Rb+a.height/2};function rd(a,c){for(var d=c.Ea,e=0,f;f=c.elements[e];e++)m.i.m.Bd(f)&&(f.height=c.height),f.Ea=d,f.Ni=a.mw(c,f),d+=f.width}
b.aw=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Rb=c,e.Ea=this.Kd,c+=e.height,a=Math.max(a,e.ue),rd(this,e);this.K&&this.za.V&&this.za.V.isConnected()&&(a=Math.max(a,z(this.za.V.pa()).width));this.Gj=a+this.Kd;this.height=c;this.io=this.zb.wf;this.lb.Xd=c-this.lb.zk};m.i.uc=function(a,c){this.za=a;this.ca=c;a.Pa();this.un=this.Ja="";this.s=c.fb.X()};b=m.i.uc.prototype;b.draw=function(){sd(this);td(this);ud(this);this.za.xb.As(this.Ja+"\n"+this.un);this.ca.H&&this.za.xb.Eq();m.i.Rl&&this.za.rs.tC(this.za,this.ca);vd(this)};function vd(a){a.za.height=a.ca.height;a.za.width=a.ca.Gj}function sd(a){for(var c=0,d;d=a.ca.Jw[c];c++)d.icon.pD.setAttribute("display","none")}
function td(a){a.xq();for(var c=1;c<a.ca.rows.length-1;c++){var d=a.ca.rows[c];d.Ew?a.Ck(d):d.Ib?a.wq(d):d.rg?a.yq(d):a.Xv(d)}a.tq();a.vq()}
b.xq=function(){var a=this.ca.zb,c=a.elements,d=this.ca.zb;if(d.connection){var e=d.Ea+d.Fd;fc(d.connection.yc,this.ca.H?-e:e,0)}this.Ja+=m.g.u.moveBy(a.Ea,this.ca.io);for(d=0;e=c[d];d++)m.i.m.wg(e)?this.Ja+=this.s.Yj.Ns:m.i.m.Xw(e)?this.Ja+=this.s.Yj.hF:m.i.m.nj(e)?this.Ja+=e.shape.Gg:m.i.m.Gh(e)?this.Ja+=this.s.Ci.path:m.i.m.Bd(e)&&(this.Ja+=m.g.u.U("h",e.width));this.Ja+=m.g.u.U("v",a.height)};b.Ck=function(a){this.Ja+=this.s.ui.path+m.g.u.U("v",a.height-this.s.ui.height)};
b.yq=function(a){var c=nd(a);this.Gx(a);var d="function"==typeof c.shape.Hd?c.shape.Hd(c.height):c.shape.Hd;this.Ja+=m.g.u.U("H",c.Ea+c.width)+d+m.g.u.U("v",a.height-c.Pi)};b.wq=function(a){var c=nd(a);this.Ja+=m.g.u.U("H",c.Ea+c.Fd+c.shape.width)+(c.shape.Dx+m.g.u.U("h",-(c.Fd-this.s.om.width))+this.s.om.Zr)+m.g.u.U("v",a.height-2*this.s.om.height)+this.s.om.Yn+m.g.u.U("H",a.Ea+a.width);this.Jx(a)};b.Xv=function(a){this.Ja+=m.g.u.U("V",a.Rb+a.height)};
b.tq=function(){var a=this.ca.lb,c=a.elements;this.Ix();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)m.i.m.xg(g)?e+=g.shape.Dx:m.i.m.Wk(g)?e+=m.g.u.U("H",a.Ea):m.i.m.wg(g)?e+=this.s.Yj.Kp:m.i.m.Xw(g)?(e+=this.s.Yj.CB,d=this.s.Yj.DE):m.i.m.Bd(g)&&(e+=m.g.u.U("h",-1*g.width));this.Ja+=m.g.u.U("V",a.Xd-d);this.Ja+=e};
b.vq=function(){var a=this.ca.K;if(this.ca.K){var c=this.ca.Kd+this.ca.K.nk;fc(this.za.K,this.ca.H?-c:c,this.ca.K.bd)}a&&(c=a.bd+a.height,a="function"==typeof a.shape.il?a.shape.il(a.height):a.shape.il,this.Ja+=m.g.u.U("V",c)+a);this.Ja+="z"};
function ud(a){for(var c=0,d;d=a.ca.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(m.i.m.ug(f))a.uq(f);else if(m.i.m.lj(f)||m.i.m.Kf(f)){var g=a;if(m.i.m.Kf(f))var k=f.$v.oa();else m.i.m.lj(f)&&(k=f.icon.pD);var l=f.Ni-f.height/2,n=f.Ea,p="";g.ca.H&&(n=-(n+f.width),f.BC&&(n+=f.width,p="scale(-1 1)"));m.i.m.lj(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+n+","+l+")"),f.icon.SB()):k.setAttribute("transform","translate("+n+","+l+")"+p);g.ca.ke&&k.setAttribute("display",
"none")}}b.uq=function(a){var c=a.width,d=a.height,e=a.bd,f=a.Pi+e;this.un+=m.g.u.moveTo(a.Ea+a.Je,a.Ni-d/2)+m.g.u.U("v",e)+a.shape.Hd+m.g.u.U("v",d-f)+m.g.u.U("h",c-a.Je)+m.g.u.U("v",-d)+"z";this.Hx(a)};b.Hx=function(a){var c=a.Ni-a.height/2;if(a.yc){var d=a.Ea+a.Je+a.nk;this.ca.H&&(d*=-1);fc(a.yc,d,c+a.bd)}};b.Jx=function(a){var c=nd(a);if(c.yc){var d=a.Ea+a.Ng+c.Fd;this.ca.H&&(d*=-1);fc(c.yc,d,a.Rb)}};b.Gx=function(a){var c=nd(a);if(c.yc){var d=a.Ea+a.width;this.ca.H&&(d*=-1);fc(c.yc,d,a.Rb)}};
b.Ix=function(){var a=this.ca.lb;if(a.connection){var c=a.connection,d=c.Ea;fc(c.yc,this.ca.H?-d:d,a.Xd)}};m.i.qf=function(a,c,d){this.Ri=d;this.df=a;this.Kb=m.g.j.J("path",{"class":"blocklyPath"},this.df);this.style=c;this.Br=this.yk=null};b=m.i.qf.prototype;b.As=function(a){this.Kb.setAttribute("d",a)};b.Eq=function(){this.Kb.setAttribute("transform","scale(-1 1)")};b.Qf=function(a){a?(this.df.appendChild(a),this.yk=a):this.yk=null};b.Rf=function(a){a?(this.yk?this.df.insertBefore(a,this.yk):this.df.appendChild(a),this.Br=a):this.Br=null};
b.mc=function(a){this.Kb.setAttribute("stroke",this.style.Oi);this.Kb.setAttribute("fill",this.style.jh);this.py(a.Ra);this.Rs(!a.isEnabled()||Yb(a))};b.$h=function(a){this.style=a};function sa(a,c,d){d?m.g.j.Db(a.df,c):m.g.j.hd(a.df,c)}b.ny=function(a){a?this.Kb.setAttribute("filter","url(#"+this.Ri.dn+")"):this.Kb.setAttribute("filter","none")};b.py=function(a){a&&(this.Kb.setAttribute("stroke","none"),this.Kb.setAttribute("fill",this.style.Qm))};
b.Rs=function(a){sa(this,"blocklyDisabled",a);a&&this.Kb.setAttribute("fill","url(#"+this.Ri.Sv+")")};m.i.rf=function(a){this.name=a;this.Xr=this.s=null};b=m.i.rf.prototype;b.ge=function(){return this.name+"-renderer"};b.Aa=function(a,c){this.s=this.vr();c&&(this.Xr=c,m.g.object.Ve(this.s,c));this.s.wl(a);this.s.Aa()};b.La=function(a,c){this.s.La(a,this.name+"-"+c.name,"."+this.ge()+"."+c.ge())};b.ks=function(a,c){var d=this.X();d.F();this.s=this.vr();this.Xr&&m.g.object.Ve(this.s,this.Xr);this.s.ol=d.ol;this.s.wl(c);this.s.Aa();this.La(a,c)};b.F=function(){this.s&&this.s.F()};b.vr=function(){return new m.i.kf};
b.kx=function(a){return new m.i.Td(this,a)};b.ix=function(a,c){return new m.i.uc(a,c)};b.jx=function(a,c){return new m.i.qf(a,c,this.s)};b.X=function(){return this.s};b.Ca=function(a){if(m.i.Rl&&!a.rs){if(!m.i.vt)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new m.i.vt(this.X());a.rs=c}c=this.kx(a);c.measure();this.ix(a,c).draw()};m.Y={};m.Y.kf=function(){m.Y.kf.A.constructor.call(this);this.Oo=!1;this.Yb=1;this.kA=30};m.g.object.S(m.Y.kf,m.i.kf);m.Y.kf.prototype.Iq=function(a){return m.Y.kf.A.Iq.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.nm+";","stroke: none;","}"])};m.Y.Gt=function(a){this.ca=a;this.Rk=this.$="";this.Zb=this.ca.H;a=a.fb;this.s=a.X();this.cd=a.cd;this.Rc=this.cd.OFFSET;this.Wr=this.cd.zA;this.jj=this.cd.Zz;this.ml=this.cd.jp;this.fE=this.cd.xi;this.XE=this.cd.Ci;this.Yw=this.cd.ui};m.Y.Gt.prototype.Ck=function(a){this.ca.H&&(this.$+=this.Yw.Gg+m.g.u.U("v",a.height-this.Yw.height-this.Rc))};function wd(a,c){var d=c.Ea+c.width-a.Rc;c.fw&&(a.$+=m.g.u.U("H",d));a.Zb&&(a.$+=m.g.u.U("H",d),c.height>a.Rc&&(a.$+=m.g.u.U("V",c.Rb+c.height-a.Rc)))};m.Y.ag=function(a,c){m.Y.ag.A.constructor.call(this,a,c);this.kg&&(this.width+=this.s.Yb,this.height+=this.s.Yb)};m.g.object.S(m.Y.ag,m.i.ag);m.Y.fg=function(a,c){m.Y.fg.A.constructor.call(this,a,c);this.kg&&(this.height+=this.s.Yb)};m.g.object.S(m.Y.fg,m.i.fg);m.Y.Td=function(a,c){m.Y.Td.A.constructor.call(this,a,c)};m.g.object.S(m.Y.Td,m.i.Td);b=m.Y.Td.prototype;b.fs=function(){m.Y.Td.A.fs.call(this);this.za.O.length&&this.za.O[this.za.O.length-1].type==m.Ma||(this.lb.minHeight=this.s.nd-this.s.Yb)};
b.cv=function(a,c){this.mj&&a.type==m.cb?(c.elements.push(new m.Y.ag(this.s,a)),c.Yq=!0):a.type==m.Ma?(c.elements.push(new m.Y.fg(this.s,a)),c.Ib=!0):a.type==m.cb?(c.elements.push(new m.i.im(this.s,a)),c.rg=!0):a.type==m.lf&&(c.minHeight=Math.max(c.minHeight,this.s.ut),c.ej=!0);this.mj||null!=c.align||(c.align=a.align)};
b.bv=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.rg&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.jo()&&d.elements.push(new m.i.mf(this.s,this.vh(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.vh(e[f],e[f+1]);d.elements.push(new m.i.mf(this.s,g))}d.elements.push(e[e.length-1]);d.Dk()&&(g=this.vh(e[e.length-1],null),a&&d.ej&&(g+=this.s.Cm),d.elements.push(new m.i.mf(this.s,g)))}}};
b.vh=function(a,c){if(!a)return c&&m.i.m.Kf(c)&&c.Ad?this.s.nd:c&&m.i.m.ug(c)?this.s.Ut:c&&m.i.m.Ih(c)?this.s.Gu:this.s.vc;if(!m.i.m.vg(a)&&(!c||m.i.m.Ih(c)))return m.i.m.Kf(a)&&a.Ad?this.s.nd:m.i.m.lj(a)?2*this.s.vc+1:m.i.m.Gh(a)?this.s.ye:m.i.m.ED(a)?this.s.vc:m.i.m.wg(a)?this.s.oA:m.i.m.Uw(a)?this.s.ye:this.s.vc;if(m.i.m.vg(a)&&!c){if(m.i.m.Uk(a))return this.s.ye;if(m.i.m.ug(a))return this.s.vc;if(m.i.m.Ih(a))return this.s.ye}if(!m.i.m.vg(a)&&c&&m.i.m.vg(c)){if(m.i.m.Kf(a)&&a.Ad){if(m.i.m.ug(c)||
m.i.m.Uk(c))return this.s.JA}else{if(m.i.m.ug(c)||m.i.m.Uk(c))return this.s.Ut;if(m.i.m.Ih(c))return this.s.vc}return this.s.vc-1}if(m.i.m.lj(a)&&c&&!m.i.m.vg(c))return this.s.vc;if(m.i.m.ug(a)&&c&&m.i.m.Kf(c))return c.Ad?this.s.nd:this.s.vc;if(m.i.m.Wk(a)&&c){if(m.i.m.Gh(c))return this.s.ye;if(m.i.m.nj(c))return c.Fd;if(m.i.m.xg(c))return a=(this.H?1:-1)*this.s.Yb/2,c.Fd+a}if(m.i.m.wg(a)&&c){if(m.i.m.nj(c))return c.Fd-this.s.jb;if(m.i.m.xg(c))return a=(this.H?1:-1)*this.s.Yb/2,c.Fd-this.s.jb+a}return m.i.m.Kf(a)&&
c&&m.i.m.Kf(c)&&a.Ad==c.Ad||c&&m.i.m.Uw(c)?this.s.vc:this.s.nd};b.xw=function(a,c){return m.i.m.Dn(a)&&m.i.m.vn(c)?this.s.yz:m.i.m.Dn(a)||m.i.m.vn(c)?this.s.ye:a.rg&&c.rg?this.s.vc:!a.Ib&&c.Ib?this.s.Uy:a.Ib&&c.Ib||!a.Ib&&c.ej||a.ej?this.s.vc:this.s.nd};
b.mw=function(a,c){if(m.i.m.Bd(c))return a.Rb+c.height/2;if(m.i.m.vn(a))return a=a.Rb+a.height-a.zk,m.i.m.xg(c)?a+c.height/2:a-c.height/2;if(m.i.m.Dn(a))return m.i.m.Gh(c)?a.wf-c.height/2:a.wf+c.height/2;var d=a.Rb;m.i.m.Kf(c)||m.i.m.lj(c)?(d+=c.height/2,(a.Yq||a.Ib)&&c.height+this.s.Ju<=a.height&&(d+=this.s.Ju)):d=m.i.m.ug(c)?d+c.height/2:d+a.height/2;return d};
b.Ap=function(){if(this.mj){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.Lr=a,m.i.m.zD(e)&&(e.Ib&&pd(this,e),c&&c.Ib&&e.width<c.width?e.Lr=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Ib?a=this.Kk(e):m.i.m.Bd(e)?e.width=Math.max(a,e.Lr):(a=Math.max(a,e.Lr)-e.width,0<a&&qd(e,a),a=e.width)}else m.Y.Td.A.Ap.call(this)};b.Kk=function(a){return this.mj&&a.Ib?this.Ng+this.s.kA+this.Kd:m.Y.Td.A.Kk.call(this,a)};
b.aw=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Rb=c;e.Ea=this.Kd;c+=e.height;a=Math.max(a,e.ue);var f=c-this.zb.Ji;e==this.lb&&f<this.s.Uj&&(f=this.s.Uj-f,this.lb.height+=f,c+=f);rd(this,e)}this.K&&this.za.V&&this.za.V.isConnected()&&(a=Math.max(a,z(this.za.V.pa()).width-this.s.Yb));this.lb.Xd=c-this.lb.zk;this.Gj=a+this.Kd+this.s.Yb;this.width+=this.s.Yb;this.height=c+this.s.Yb;this.io=this.zb.wf};m.Y.uc=function(a,c){m.Y.uc.A.constructor.call(this,a,c);this.Se=new m.Y.Gt(c)};m.g.object.S(m.Y.uc,m.i.uc);b=m.Y.uc.prototype;b.draw=function(){sd(this);td(this);ud(this);var a=this.za.xb;a.As(this.Ja+"\n"+this.un);var c=this.Se;a.ai.setAttribute("d",c.$+"\n"+c.Rk);this.ca.H&&a.Eq();m.i.Rl&&this.za.rs.tC(this.za,this.ca);vd(this)};
b.xq=function(){var a=this.Se,c=this.ca.zb;a.$+=m.g.u.moveBy(c.Ea,a.ca.io);for(var d=0,e;e=c.elements[d];d++)m.i.m.Wk(e)?a.$+=a.cd.Eu:m.i.m.wg(e)?a.$+=a.Wr.Ns(a.Zb):m.i.m.nj(e)?a.$+=a.fE.Gg:m.i.m.Gh(e)?a.$+=a.XE.path(a.Zb):m.i.m.Bd(e)&&0!=e.width&&(a.$+=m.g.u.U("H",e.Ea+e.width-a.Rc));a.$+=m.g.u.U("H",c.Ea+c.width-a.Rc);wd(this.Se,this.ca.zb);m.Y.uc.A.xq.call(this)};b.Ck=function(a){this.Se.Ck(a);m.Y.uc.A.Ck.call(this,a)};
b.yq=function(a){var c=this.Se,d=nd(a);if(c.Zb){var e=a.height-d.Pi;c.$+=m.g.u.moveTo(d.Ea+d.width-c.Rc,a.Rb)+c.ml.Hd(c.Zb)+m.g.u.U("v",e)}else c.$+=m.g.u.moveTo(d.Ea+d.width,a.Rb)+c.ml.Hd(c.Zb);m.Y.uc.A.yq.call(this,a)};
b.wq=function(a){var c=this.Se,d=nd(a);if(c.Zb){var e=a.height-2*c.jj.height;c.$+=m.g.u.moveTo(d.Ea,a.Rb)+c.jj.Zr(c.Zb)+m.g.u.U("v",e)+c.jj.Yn(c.Zb)+m.g.u.lineTo(a.width-d.Ea-c.jj.width,0)}else c.$+=m.g.u.moveTo(d.Ea,a.Rb+a.height)+c.jj.Yn(c.Zb)+m.g.u.lineTo(a.width-d.Ea-c.jj.width,0);m.Y.uc.A.wq.call(this,a)};b.Xv=function(a){wd(this.Se,a);this.Ja+=m.g.u.U("H",a.Ea+a.width)+m.g.u.U("V",a.Rb+a.height)};
b.tq=function(){var a=this.Se,c=this.ca.lb;if(a.Zb)a.$+=m.g.u.U("V",c.Xd-a.Rc);else{var d=a.ca.lb.elements[0];m.i.m.Wk(d)?a.$+=m.g.u.moveTo(c.Ea+a.Rc,c.Xd-a.Rc):m.i.m.wg(d)&&(a.$+=m.g.u.moveTo(c.Ea,c.Xd),a.$+=a.Wr.Kp())}m.Y.uc.A.tq.call(this)};
b.vq=function(){var a=this.Se,c=a.ca.K;c&&(c=c.bd+c.height,a.Zb?a.$+=m.g.u.moveTo(a.ca.Kd,c):(a.$+=m.g.u.moveTo(a.ca.Kd+a.Rc,a.ca.lb.Xd-a.Rc),a.$+=m.g.u.U("V",c)),a.$+=a.ml.il(a.Zb));a.Zb||(c=a.ca.zb,a.$=m.i.m.wg(c.elements[0])?a.$+m.g.u.U("V",a.Wr.height):a.$+m.g.u.U("V",c.wf+a.Rc));m.Y.uc.A.vq.call(this)};
b.uq=function(a){var c=this.Se,d=c.Rc,e=a.Ea+a.Je,f=a.Ni-a.height/2,g=a.width-a.Je,k=f+d;if(c.Zb){f=a.bd-d;var l=a.height-(a.bd+a.Pi)+d;c.Rk+=m.g.u.moveTo(e-d,k)+m.g.u.U("v",f)+c.ml.Hd(c.Zb)+m.g.u.U("v",l)+m.g.u.U("h",g)}else c.Rk+=m.g.u.moveTo(a.Ea+a.width+d,k)+m.g.u.U("v",a.height)+m.g.u.U("h",-g)+m.g.u.moveTo(e,f+a.bd)+c.ml.Hd(c.Zb);m.Y.uc.A.uq.call(this,a)};b.Hx=function(a){var c=a.Ni-a.height/2;if(a.yc){var d=a.Ea+a.Je+this.s.Yb;this.ca.H&&(d*=-1);fc(a.yc,d,c+a.bd+this.s.Yb)}};
b.Jx=function(a){var c=nd(a);if(c.yc){var d=a.Ea+a.Ng+c.Fd;d=this.ca.H?-1*d:d+this.s.Yb;fc(c.yc,d,a.Rb+this.s.Yb)}};b.Gx=function(a){var c=nd(a);if(c.yc){var d=a.Ea+a.width+this.s.Yb;this.ca.H&&(d*=-1);fc(c.yc,d,a.Rb)}};b.Ix=function(){var a=this.ca.lb;if(a.connection){var c=a.connection,d=c.Ea;fc(c.yc,(this.ca.H?-d:d)+this.s.Yb/2,a.Xd+this.s.Yb)}};m.Y.Ft=function(a){this.Qi=a;this.OFFSET=.5;this.Eu=m.g.u.moveBy(this.OFFSET,this.OFFSET)};b=m.Y.Ft.prototype;b.Aa=function(){this.Zz=xd(this);this.zA=yd(this);this.jp=this.yr();this.xi=this.xr();this.ui=this.wr();this.Ci=this.zr()};
function xd(a){var c=a.Qi.jb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=m.g.u.moveBy(d,d)+m.g.u.arc("a","0 0,0",c,m.g.u.Ba(-d-a,c-d)),f=m.g.u.arc("a","0 0,0",c+a,m.g.u.Ba(c+a,c+a)),g=m.g.u.moveBy(d,-d)+m.g.u.arc("a","0 0,0",c+a,m.g.u.Ba(c-d,d+a));return{width:c+a,height:c,Zr:function(k){return k?e:""},Yn:function(k){return k?f:g}}}
function yd(a){var c=a.Qi.jb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=m.g.u.moveBy(d,d)+m.g.u.arc("a","0 0,1",c-a,m.g.u.Ba(c-d,-d+a)),f=m.g.u.moveBy(a,c)+m.g.u.arc("a","0 0,1",c-a,m.g.u.Ba(c,-c+a)),g=-d,k=m.g.u.moveBy(d,g)+m.g.u.arc("a","0 0,1",c-a,m.g.u.Ba(-d+a,-g-c));return{height:c,Ns:function(l){return l?e:f},Kp:function(){return k}}}
b.yr=function(){var a=this.Qi.Cm,c=this.Qi.ak,d=m.g.u.moveBy(-2,-c+3.4)+m.g.u.lineTo(-.45*a,-2.1),e=m.g.u.U("v",2.5)+m.g.u.moveBy(.97*-a,2.5)+m.g.u.curve("q",[m.g.u.Ba(.05*-a,10),m.g.u.Ba(.3*a,9.5)])+m.g.u.moveBy(.67*a,-1.9)+m.g.u.U("v",2.5),f=m.g.u.U("v",-1.5)+m.g.u.moveBy(-.92*a,-.5)+m.g.u.curve("q",[m.g.u.Ba(-.19*a,-5.5),m.g.u.Ba(0,-11)])+m.g.u.moveBy(.92*a,1),g=m.g.u.moveBy(-5,c-.7)+m.g.u.lineTo(.46*a,-2.1);return{width:a,height:c,il:function(k){return k?d:f},Hd:function(k){return k?e:g}}};
b.xr=function(){return{Gg:m.g.u.U("h",this.OFFSET)+this.Qi.xi.Gg}};b.wr=function(){return{Gg:m.g.u.lineTo(5.1,2.6)+m.g.u.moveBy(-10.2,6.8)+m.g.u.lineTo(5.1,2.6),height:12,width:10.2}};b.zr=function(){var a=this.Qi.Ci.height,c=m.g.u.moveBy(25,-8.7)+m.g.u.curve("c",[m.g.u.Ba(29.7,-6.2),m.g.u.Ba(57.2,-.5),m.g.u.Ba(75,8.7)]),d=m.g.u.curve("c",[m.g.u.Ba(17.8,-9.2),m.g.u.Ba(45.3,-14.9),m.g.u.Ba(75,-8.7)])+m.g.u.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};m.Y.qf=function(a,c,d){this.Ri=d;this.df=a;this.Il=m.g.j.J("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.df);this.Kb=m.g.j.J("path",{"class":"blocklyPath"},this.df);this.ai=m.g.j.J("path",{"class":"blocklyPathLight"},this.df);this.Up="#000000";this.style=c};m.g.object.S(m.Y.qf,m.i.qf);b=m.Y.qf.prototype;b.As=function(a){this.Kb.setAttribute("d",a);this.Il.setAttribute("d",a)};
b.Eq=function(){this.Kb.setAttribute("transform","scale(-1 1)");this.ai.setAttribute("transform","scale(-1 1)");this.Il.setAttribute("transform","translate(1,1) scale(-1 1)")};b.mc=function(a){this.ai.style.display="";this.Il.style.display="";this.ai.setAttribute("stroke",this.style.Oi);this.Il.setAttribute("fill",this.Up);m.Y.qf.A.mc.call(this,a);this.Kb.setAttribute("stroke","none")};b.$h=function(a){this.style=a;this.Up=m.g.mb.Hp("#000",this.style.jh,.2)||this.Up};
b.ny=function(a){a?(this.Kb.setAttribute("filter","url(#"+this.Ri.dn+")"),this.ai.style.display="none"):(this.Kb.setAttribute("filter","none"),this.ai.style.display="inline")};b.py=function(a){a&&(this.ai.style.display="none",this.Il.setAttribute("fill",this.style.Qm),this.Kb.setAttribute("stroke","none"),this.Kb.setAttribute("fill",this.style.Qm))};b.Rs=function(a){m.Y.qf.A.Rs.call(this,a);a&&this.Kb.setAttribute("stroke","none")};m.Y.rf=function(a){m.Y.rf.A.constructor.call(this,a);this.cd=null};m.g.object.S(m.Y.rf,m.i.rf);b=m.Y.rf.prototype;b.Aa=function(a,c){m.Y.rf.A.Aa.call(this,a,c);this.cd=new m.Y.Ft(this.X());this.cd.Aa()};b.ks=function(a,c){m.Y.rf.A.ks.call(this,a,c);this.cd.Aa()};b.vr=function(){return new m.Y.kf};b.kx=function(a){return new m.Y.Td(this,a)};b.ix=function(a,c){return new m.Y.uc(a,c)};b.jx=function(a,c){return new m.Y.qf(a,c,this.X())};m.i.register("geras",m.Y.rf);m.L.ADD_COMMENT="Add Comment";m.L.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";m.L.CLEAN_UP="Clean up Blocks";m.L.COLLAPSE_ALL="Collapse Blocks";m.L.COLLAPSE_BLOCK="Collapse Block";m.L.DELETE_ALL_BLOCKS="Delete all %1 blocks?";m.L.DELETE_BLOCK="Delete Block";m.L.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";m.L.DELETE_X_BLOCKS="Delete %1 Blocks";m.L.DISABLE_BLOCK="Disable Block";
m.L.DUPLICATE_BLOCK="Duplicate";m.L.DUPLICATE_COMMENT="Duplicate Comment";m.L.ENABLE_BLOCK="Enable Block";m.L.EXPAND_ALL="Expand Blocks";m.L.EXPAND_BLOCK="Expand Block";m.L.EXTERNAL_INPUTS="External Inputs";m.L.HELP="Help";m.L.INLINE_INPUTS="Inline Inputs";m.L.NEW_VARIABLE="Create variable...";m.L.NEW_VARIABLE_TITLE="New variable name:";m.L.PROCEDURES_DEFNORETURN_PROCEDURE="do something";m.L.REDO="Redo";m.L.REMOVE_COMMENT="Remove Comment";m.L.RENAME_VARIABLE="Rename variable...";
m.L.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";m.L.UNDO="Undo";m.L.UNNAMED_KEY="unnamed";m.L.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";m.L.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";m.L.WORKSPACE_ARIA_LABEL="Blockly Workspace";m.L.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";m.L.PROCEDURES_DEFRETURN_PROCEDURE=m.L.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},zd=null,Ad=null;function Bd(){var a=zd();Cd("xml="+encodeURIComponent(a))}var Dd={};function Cd(a){var c=Ed;Dd["/storage"]&&Dd["/storage"].abort();Dd["/storage"]=new XMLHttpRequest;Dd["/storage"].onload=function(){200===this.status?c&&c.call(this):Fd(H("Games_httpRequestError")+"\nXHR status: "+this.status);Dd["/storage"]=null};Dd["/storage"].open("POST","/storage");Dd["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");Dd["/storage"].send(a)}
function Ed(){window.location.hash=this.responseText.trim();Fd(H("Games_linkAlert").replace("%1",window.location.href));Ad=zd()}function Fd(a){if("object"===typeof I){var c=document.getElementById("linkButton");I.$E(c,a)}else alert(a)};var Gd,B=null,Hd="";function Id(){$c();Gd;var a=document.getElementById("linkButton");a&&(Yc?a.style.display="none":(zd=Jd,fd(a,Bd)));F=100;(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Kd,!0);F=Zc("Coinval",0,800);switch(ed){case "start":Gd=1;break;case "circus":Gd=2;break;case "bridge":Gd=3;break;case "mazeangle":Gd=4;break;case "maze":Gd=5;break;case "door":Gd=6}}
function Jd(){var a=m.N.yy(!0);if(1==B.Hb(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return m.N.fe(a)}function Ld(){"object"==typeof BlocklyStorage&&null!==Ad&&Ad!=Jd()&&(window.location.hash="",Ad=null)}function Md(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;B=m.Bh("blockly",a);gb(B,Ld)}var Nd="start.html circus.html bridge.html mazeangle.html maze.html door.html ocean.html mazeperimeter.html findfriend.html gamefinsihed.html".split(" ");
function Od(){window.location=(Yc?"index.html":"./")+"?lang="+Wc}function Kd(){window.sessionStorage&&(window.sessionStorage.LD=Jd());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function Pd(){window.location=(Yc?Nd[Gd]:"./")+"?lang="+Wc+"&level="+G+"&Coinval="+F}function Qd(a){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}Fc(a,void 0)}function Rd(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function Sd(a){if("click"==a.type&&"touchend"==Td&&Ud+2E3>Date.now()||Td==a.type&&Ud+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;Td=a.type;Ud=Date.now();return!1}var Td=null,Ud=0;
function Vd(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function Wd(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};var I={Dh:!1,Pv:null,Xm:null,yl:function(a,c,d,e,f,g){function k(){I.Dh&&(l.style.visibility="visible",l.style.zIndex=10,n.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);I.Dh&&I.If(!1);m.Gf()&&m.Ub(!0);I.Dh=!0;I.Pv=c;I.Xm=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var n=document.getElementById("dialogBorder"),p;for(p in f)l.style[p]=f[p];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),I.gq=m.bc(e,"mousedown",null,I.iC));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(I.In(c,!1,.2),I.In(l,!0,.8),setTimeout(k,175)):k()},Qv:0,Rv:0,iC:function(a){I.jq();if(!m.g.Xk(a)){var c=document.getElementById("dialog");I.Qv=c.offsetLeft-a.clientX;I.Rv=c.offsetTop-a.clientY;I.iq=m.bc(document,"mouseup",null,I.jq);I.hq=m.bc(document,"mousemove",null,I.jC);a.stopPropagation()}},jC:function(a){var c=document.getElementById("dialog"),
d=I.Qv+a.clientX;a=I.Rv+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},jq:function(){I.iq&&(m.hb(I.iq),I.iq=null);I.hq&&(m.hb(I.hq),I.hq=null)},If:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(I.Dh){I.jq();I.gq&&(m.hb(I.gq),I.gq=null);I.Dh=!1;I.Xm&&I.Xm();I.Xm=null;var d=!1===a?
null:I.Pv;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(I.In(a,!1,.8),I.In(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},In:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=
g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=I.iw(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},iw:function(a){var c=m.g.style.wh(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},$E:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");I.yl(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},I.by);I.VE()},mB:function(){if(!dd())if(I.Dh||B.fd())setTimeout(I.mB,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",I.If,!0);c.addEventListener("touchend",I.If,!0);c=document.getElementById("abortOk");c.addEventListener("click",Od,!0);c.addEventListener("touchend",Od,!0);
I.yl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",I.av,!0)});document.body.addEventListener("keydown",I.av,!0)}},QI:function(){var a=document.getElementById("dialogDone");if(B){var c=document.getElementById("dialogLinesText");c.textContent="";var d=Hd;d=Rd(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");
f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?H("Games_linesOfCode1"):H("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d="Are you ready for next level?";c=document.getElementById("doneOk");c.addEventListener("click",Pd,!0);c.addEventListener("touchend",Pd,!0);I.yl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",I.xv,!0)});document.body.addEventListener("keydown",
I.xv,!0);document.getElementById("dialogDoneText").textContent=d},Ov:function(a){!I.Dh||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(I.If(!0),a.stopPropagation(),a.preventDefault())},VE:function(){document.body.addEventListener("keydown",I.Ov,!0)},by:function(){document.body.removeEventListener("keydown",I.Ov,!0)},xv:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Pd()},av:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)I.If(!0),
a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Od()}};window.BlocklyDialogs=I;I.hideDialog=I.If;m.Generator=function(a){this.Ir=a};m.Generator.$t="generated_function";b=m.Generator.prototype;b.It=null;b.xm=null;b.ym=null;b.Xz="  ";b.ez=60;b.um=[];function Xd(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function Yd(a,c){if(!c)return"";if(!c.isEnabled())return Yd(a,v(c));if(c.ke())return Yd(a,Ua(c,!1)[0]);var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.Ir+'" does not know how to generate  code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.K)throw TypeError("Expecting string from statement block: "+c.type);return[a.vs(c,d[0],void 0),d[1]]}if("string"==typeof d)return a.xm&&!c.Js&&(d=Zd(a.xm,c)+d),a.ym&&!c.Js&&(d+=Zd(a.ym,c)),a.vs(c,d,void 0);if(null===d)return"";
throw SyntaxError("Invalid code generated: "+d);}
function $d(a,c,d){var e=m.G;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=ac(a,c);if(!f)return"";c=Yd(e,f);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+f.type);a=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var g=Math.floor(d),k=Math.floor(c);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<e.um.length;g++)if(e.um[g][0]==d&&e.um[g][1]==c){f=!1;break}f&&(a=
"("+a+")");return a}function ae(a,c){var d=m.G;a=ac(a,c);c=Yd(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=Xd(c,d.Xz));return c}function Zd(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.lp="";function be(a,c){a.lp+=c+","}b.Aa=function(){};b.vs=function(a,c){return c};b.finish=function(a){return a};b.Ux=function(a){return a};m.G=new m.Generator("JavaScript");be(m.G,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(m.g.global).join(","));m.G.nH=0;m.G.FH=1.1;m.G.tm=1.2;m.G.sm=2;m.G.CH=3;m.G.wH=3;m.G.qH=4.1;m.G.IH=4.2;m.G.nu=4.3;m.G.ju=4.4;
m.G.HH=4.5;m.G.JH=4.6;m.G.xH=4.7;m.G.oH=4.8;m.G.AH=5;m.G.lu=5.1;m.G.yH=5.2;m.G.EH=5.3;m.G.mu=6.1;m.G.rm=6.2;m.G.sH=7;m.G.GH=8;m.G.BH=8;m.G.DH=8;m.G.zH=9;m.G.pH=10;m.G.tH=11;m.G.rH=12;m.G.iu=13;m.G.ku=14;m.G.vH=15;m.G.mH=16;m.G.KH=17;m.G.uH=18;m.G.xA=99;m.G.um=[[m.G.sm,m.G.tm],[m.G.sm,m.G.sm],[m.G.tm,m.G.tm],[m.G.tm,m.G.sm],[m.G.ju,m.G.ju],[m.G.lu,m.G.lu],[m.G.rm,m.G.rm],[m.G.iu,m.G.iu],[m.G.ku,m.G.ku]];
m.G.Aa=function(a){m.G.Wm=Object.create(null);m.G.EC=Object.create(null);m.G.Tl?m.G.Tl.reset():m.G.Tl=new m.pd(m.G.lp);m.G.Tl.Cs(a.Ka);for(var c=[],d=m.aa.oB(a),e=0;e<d.length;e++)c.push(Sc(d[e],m.pd.Mo));a=m.aa.dv(a);for(e=0;e<a.length;e++)c.push(Sc(a[e].Gb(),m.Gi));c.length&&(m.G.Wm.variables="var "+c.join(", ")+";")};m.G.finish=function(a){var c=[],d;for(d in m.G.Wm)c.push(m.G.Wm[d]);delete m.G.Wm;delete m.G.EC;m.G.Tl.reset();return c.join("\n\n")+"\n\n\n"+a};m.G.Ux=function(a){return a+";\n"};
m.G.wE=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};m.G.RJ=function(a){return a.split(/\n/g).map(m.G.wE).join(" + '\\n' +\n")};
m.G.vs=function(a,c,d){var e="";if(!a.K||!a.K.ea){var f=a.$d.text;f&&(f=m.g.Da.zy(f,m.G.ez-3),e+=Xd(f+"\n","// "));for(var g=0;g<a.O.length;g++)if(a.O[g].type==m.cb){var k=a.O[g].connection.pa();if(k){f=[];k=t(k,!0);for(var l=0;l<k.length;l++){var n=k[l].$d.text;n&&f.push(n)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Xd(f,"// "))}}}a=a.V&&a.V.pa();d=d?"":Yd(m.G,a);return e+c+d};
m.G.dJ=function(a,c,d,e,f){d=d||0;f=f||m.G.xA;a.C.options.Vn&&d--;var g=a.C.options.Vn?"1":"0";a=0<d?$d(a,c,m.G.rm)||g:0>d?$d(a,c,m.G.mu)||g:e?$d(a,c,m.G.nu)||g:$d(a,c,f)||g;if(m.Vw(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=m.G.rm}else 0>d&&(a=a+" - "+-d,k=m.G.mu);e&&(a=d?"-("+a+")":"-"+a,k=m.G.nu);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};m.Od=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=m.g.Wc(a);d=Number(m.g.Wc(d));c=Number(m.g.Wc(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.Hk=!1;this.Hm="";m.Od.A.constructor.call(this,a,null,k);k||(this.Hk=!!g,this.Hm=m.g.Wc(e)||"");this.qc=new m.g.Ud(c,d+m.Od.hB);this.rD=d;this.yf=null;"function"==
typeof f&&(this.yf=f);this.Ec=null};m.g.object.S(m.Od,m.ld);m.Od.prototype.Ko="";m.Od.ra=function(a){return new m.Od(a.src,a.width,a.height,void 0,void 0,void 0,a)};m.Od.hB=1;b=m.Od.prototype;b.Mj=!1;b.tg=!1;b.lk=function(a){m.Od.A.lk.call(this,a);this.Hk=!!a.flipRtl;this.Hm=m.g.Wc(a.alt)||""};b.tn=function(){this.Ec=m.g.j.J("image",{height:this.rD+"px",width:this.qc.width+"px",alt:this.Hm},this.Qc);this.Ec.setAttributeNS(m.g.j.Mc,"xlink:href",this.ef);this.yf&&(this.Ec.style.cursor="pointer")};
b.qy=function(){};b.$m=function(a){return"string"!=typeof a?null:a};b.an=function(a){this.ef=a;this.Ec&&this.Ec.setAttributeNS(m.g.j.Mc,"xlink:href",String(this.ef))};b.nw=function(){return this.Hk};b.zl=function(){this.yf&&this.yf(this)};b.Tq=function(){return this.Hm};m.qh.register("field_image",m.Od);var ce={},J,de,K,ee,fe,L,M,N,O,Q,R,S,ge,he;m.kc.mazeangle_moveForward={Aa:function(){$b(this,{message0:H("Mazeangle_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:H("Mazeangle_moveForwardTooltip")})}};m.G.mazeangle_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};
m.kc.mazeangle_turn={Aa:function(){var a=[[H("Mazeangle_turnNorth"),"turnNorth"],[H("Mazeangle_turnNorthEast"),"turnNorthEast"],[H("Mazeangle_turnEast"),"turnEast"],[H("Mazeangle_turnSouthEast"),"turnSouthEast"],[H("Mazeangle_turnSouth"),"turnSouth"],[H("Mazeangle_turnSouthWest"),"turnSouthWest"],[H("Mazeangle_turnWest"),"turnWest"],[H("Mazeangle_turnNorthWest"),"turnNorthWest"]];this.oe(290);Tb(Zb(this),new m.Sa(a),"DIR");this.Zh(!0);this.xj(!0);this.qe(H("Mazeangle_turnTooltip"))}};
m.G.mazeangle_turn=function(a){return ab(a,"DIR")+"('block_id_"+a.id+"');\n"};
m.kc.mazeangle_if={Aa:function(){var a=[[H("Mazeangle_pathAhead"),"isPathForward"],[H("Mazeangle_pathNorth"),"isPathNorth"],[H("Mazeangle_pathNorthEast"),"isPathNorthEast"],[H("Mazeangle_pathEast"),"isPathEast"],[H("Mazeangle_pathSouthEast"),"isPathSouthEast"],[H("Mazeangle_pathSouth"),"isPathSouth"],[H("Mazeangle_pathSouthWest"),"isPathSouthWest"],[H("Mazeangle_pathWest"),"isPathWest"],[H("Mazeangle_pathNorthWest"),"isPathNorthWest"]];this.oe(210);Tb(Zb(this),new m.Sa(a),"DIR");Tb(this.uf(m.Ma,"DO"),
H("Mazeangle_doCode"));this.qe(H("Mazeangle_ifTooltip"));this.Zh(!0);this.xj(!0)}};m.G.mazeangle_if=function(a){var c=ab(a,"DIR")+"('block_id_"+a.id+"')";a=ae(a,"DO");return"if ("+c+") {\n"+a+"}\n"};
m.kc.mazeangle_ifElse={Aa:function(){var a=[[H("Mazeangle_pathAhead"),"isPathForward"],[H("Mazeangle_pathNorth"),"isPathNorth"],[H("Mazeangle_pathNorthEast"),"isPathNorthEast"],[H("Mazeangle_pathEast"),"isPathEast"],[H("Mazeangle_pathSouthEast"),"isPathSouthEast"],[H("Mazeangle_pathSouth"),"isPathSouth"],[H("Mazeangle_pathSouthWest"),"isPathSouthWest"],[H("Mazeangle_pathWest"),"isPathWest"],[H("Mazeangle_pathNorthWest"),"isPathNorthWest"]];this.oe(210);Tb(Zb(this),new m.Sa(a),"DIR");Tb(this.uf(m.Ma,
"DO"),H("Mazeangle_doCode"));Tb(this.uf(m.Ma,"ELSE"),H("Mazeangle_elseCode"));this.qe(H("Mazeangle_ifelseTooltip"));this.Zh(!0);this.xj(!0)}};m.G.mazeangle_ifElse=function(a){var c=ab(a,"DIR")+"('block_id_"+a.id+"')",d=ae(a,"DO");a=ae(a,"ELSE");return"if ("+c+") {\n"+d+"} else {\n"+a+"}\n"};m.kc.mazeangle_forever={Aa:function(){this.oe(120);Tb(Tb(Zb(this),H("Mazeangle_repeatUntil")),new m.Od(ke.Hn,12,16));Tb(this.uf(m.Ma,"DO"),H("Mazeangle_doCode"));this.Zh(!0);this.qe(H("Mazeangle_whileTooltip"))}};
m.G.mazeangle_forever=function(a){var c=ae(a,"DO");m.G.It&&(c=m.G.It.replace(/%1/g,"'block_id_"+a.id+"'")+c);return"while (notDone()) {\n"+c+"}\n"};h=h||{};h.S=function(a,c){function d(){}d.prototype=c.prototype;a.A=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.gv=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}};if(!h.userAgent){var le="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(le=navigator.userAgent);var me=0==le.indexOf("Opera");h.userAgent={OJ:{uG:"ScriptEngine"in window},vA:me,Pd:!me&&-1!=le.indexOf("MSIE"),xp:!me&&-1!=le.indexOf("WebKit")}}
h.tB||(h.tB={assert:function(a){if(!a)throw Error("Assertion error");},$I:function(){}});h.j||(h.j={});
h.format||(h.format={AJ:function(a,c){a=String(a);for(var d=[],e=0,f=!1,g=!1,k=0,l=0,n=0,p=a.length;n<p;++n){var q=a.charCodeAt(n);k>=c&&32!=q&&(d[e++]=a.substring(l,n),l=n,d[e++]=h.format.cB,k=0);if(f)62==q&&(f=!1);else if(g)switch(q){case 59:g=!1;++k;break;case 60:g=!1;f=!0;break;case 32:g=!1,k=0}else switch(q){case 60:f=!0;break;case 38:g=!0;break;case 32:k=0;break;default:++k}}d[e++]=a.substring(l);return d.join("")},cB:h.userAgent.xp?"<wbr></wbr>":h.userAgent.vA?"&shy;":h.userAgent.Pd?"&#8203;":
"<wbr>"});h.qn||(h.qn={Gp:{}});h.qn.Gp.yG=!1;h.qn.Gp.CK=function(a,c){return"number"==typeof a?0<a?1:0>a?-1:c?null:0:null==a?null:a?-1:1};h.qn.Gp.XI=function(a,c){var d=0,e=0,f=!1;a=(c?a.replace(ne,""):a).split(oe);for(c=0;c<a.length;c++){var g=a[c];pe.test(g)?(d++,e++):qe.test(g)?f=!0:re.test(g)?e++:se.test(g)&&(f=!0)}return 0==e?f?1:0:d/e>te?-1:1};h.Da||(h.Da={TJ:function(a,c){a=String(a);return h.Da.rA.test(a)?a.replace(/(\r\n|\r|\n)/g,c?"<br />":"<br>"):a},HK:encodeURIComponent,rA:/[\r\n]/});
h.TE||(h.TE={eK:function(a,c,d,e){return ue(a,c,e,!0,d)},fK:function(a,c,d,e){return ue(a,c,e,!1,d)},gK:function(a,c,d,e){a.innerHTML=c(d,null,e)},data:{}});var ve=h.Vg?{kK:!0}:{},we=h.Vg?{lK:!0}:{};function xe(){throw Error("Do not instantiate directly");}xe.prototype.Cv=null;xe.prototype.toString=function(){return this.content};var ye={};
function ue(a,c,d,e,f){var g=d||document;d=g.createElement("div");d.innerHTML=a(c||ye,void 0,f);if(1==d.childNodes.length&&(a=d.firstChild,!e||1==a.nodeType))return a;if(e)return d;for(e=g.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e}
var ne=/<[^>]*>|&[^;]+;/g,pe=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\u200f\ufb1d-\ufdff\ufe70-\ufefc]/,re=/[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,qe=/^http:\/\/.*/,se=/\d/,oe=/\s+/,te=.4;function ze(a){if(null!=a)switch(a.Cv){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Ae(){xe.call(this)}h.S(Ae,xe);
Ae.prototype.Dv=ve;function T(a){return null!=a&&a.Dv===ve?a:Be(String(String(a)).replace(Ce,De),ze(a))}
var Be=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.Cv=e);return f}}(Ae),Ee={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function De(a){return Ee[a]}var Ce=/[\x00\x22\x26\x27\x3c\x3e]/g;function Fe(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function Ge(){var a="skin="+T(He),c='<table width="100%"><tr><td style="display : none"><h1><span id="title">'+((Yc?'<a href="index.html?lang='+T(Wc)+'">':'<a href="./?lang='+T(Wc)+'">')+"Blockly Games</a> : "+T("Mazeangle")+"</span>");if(G){a=""+(a?T(a):"");for(var d=" &nbsp; ",e=1;11>e;e++){var f="?lang="+T(Wc)+"&level="+T(e)+(a?"&"+T(a):"");d+=" "+(e==G?'<span class="level_number level_done" id="level'+T(e)+'">'+T(e)+"</span>":10==e?'<a class="level_number" id="level'+T(e)+'" href="'+T(f)+'">'+
T(e)+"</a>":'<a class="level_dot" id="level'+T(e)+'" href="'+T(f)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Games_name">Bright Champs</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">CircumCircle</span><span id="Games_door">Door</span><span id="Games_findfriend">Find Friend</span><span id="Games_mazeperimeter">Perimeter</span><span id="Games_mazeangle">Angle</span><span id="Games_ocean">Ocean</span><span id="Games_bridge">Bridge</span><span id="Games_circus">Circus</span><span id="Games_start">Treasure Hunt</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Mazeangle_moveForward">move forward</span><span id="Mazeangle_turnNorth">turn North</span><span id="Mazeangle_turnNorthEast">turn North-East</span><span id="Mazeangle_turnEast">turn East</span><span id="Mazeangle_turnSouthEast">turn South-East</span><span id="Mazeangle_turnSouth">turn South</span><span id="Mazeangle_turnSouthWest">turn South-West</span><span id="Mazeangle_turnWest">turn West</span><span id="Mazeangle_turnNorthWest">turn North-West</span><span id="Mazeangle_doCode">do</span><span id="Mazeangle_elseCode">else</span><span id="Mazeangle_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Mazeangle_pathAhead">if path ahead</span><span id="Mazeangle_pathNorth">if path to the North</span><span id="Mazeangle_pathNorthEast">if path to the North-East</span><span id="Mazeangle_pathEast">if path to the East</span><span id="Mazeangle_pathSouthEast">if path to the South-East</span><span id="Mazeangle_pathSouth">if path to the South</span><span id="Mazeangle_pathSouthWest">if path to the South-West</span><span id="Mazeangle_pathWest">if path to the West</span><span id="Mazeangle_pathNorthWest">if path to the North-West</span><span id="Mazeangle_repeatUntil">repeat until</span><span id="Mazeangle_moveForwardTooltip">Moves the player forward one space.</span><span id="Mazeangle_turnTooltip">Turns the player left or right by 90 degrees.</span><span id="Mazeangle_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Mazeangle_ifelseTooltip">If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Mazeangle_whileTooltip">Repeat the enclosed actions until finish point is reached.</span><span id="Mazeangle_capacity0">You have %0 blocks left.</span><span id="Mazeangle_capacity1">You have %1 block left.</span><span id="Mazeangle_capacity2">You have %2 blocks left.</span></div>'+
(c+a+'</h1></td><td id ="brightChampsLogo" class ="companylogo"><a href="https://www.brightchamps.com/"><img id= "BClogo" src="Bright Champs logo.png" height="45px" ></a></td><td class ="farSide"><div id = "coinanimation" ><canvas id ="coin" width ="45px" height="45px" ></canvas><canvas id="coinvalue" width="80px" height="45px"></canvas><button id="helpButton">Help</button></div></td><td id="header_cta" class="farSide" width="325" style="display :none"><select id="languageMenu" style="display :none"></select>&nbsp;<button id="linkButton" style="display :none" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;'+
('<button id="pegmanButton" style="display :none"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>'.Dv===we?"zSoyz":'<button id="pegmanButton" style="display :none"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>')+'</td></tr></table><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMazeangle" width="1200px" height="1000px"><g id="look" fill="#914942" style="opacity : 0.98"><path d="M -1200, -1000, h2400 v2000 h-2400z M 100, 100 m -100, 0 a 100,100 0 1,0 200,0 a 100,100 0 1,0 -200,0"/></g></svg><div id="capacityBubble"><div id="capacity"></div></div></div><table id="buttontable" width="500px"><tr><td style="text-align : centre"><button id="runButton" class="primary"title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton"  class="primary"title="Put the player back at the start of the mazeangle."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><block type="mazeangle_moveForward"></block><block type="mazeangle_turn"><field name="DIR">turnNorth</field></block>')+
((2<G?'<block type="mazeangle_forever"></block>'+(6==G?'<block type="mazeangle_if"><field name="DIR">isPathLeft</field></block>':6<G?'<block type="mazeangle_if"></block>'+(8<G?'<block type="mazeangle_ifElse"></block>':""):""):"")+'</xml><div id="blockly"></div><div id="modall" class="modall"><div class="modal-content"><span class="close">&times;</span><p>Find the area enclosed by the rectangle formed</p><label for="fname">Area: </label><input type="text" id="fname" name="fname"></br><h3 id="answer"> Verdict Pending </h3><div class="btnr"><button class="primary" onclick="checkAnswer()"> Submit </button></div></div></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>')+
(Fe()+'</div><div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">Alert : Here you need to stack blocks to complete level the block executed once won\'t execute again even if it\'s there in the workspace , you can remove executed block without any effect<br><br><br>Solve the angle corresponding to block you are standing on and move to the correct direction to solve this maze.</div>')+Fe()+"</div>"+(1==G?'<div id="dialogHelpStack" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Stack a couple of \'move forward\' blocks together to help me reach the goal.</td><td valign="top"><img src="mazeangle/help_stack.png" class="mirrorImg" height=63 width=136></td></tr></table></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>On this level, you need to stack together all of the blocks in the white workspace.<div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpRun" class="dialogHiddenContent"><table><tr><td>Run your program to see what happens.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="mazeangle/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':
2==G?'<div id="dialogHelpReset" class="dialogHiddenContent"><table><tr><td>Your program didn\'t solve the mazeangle. Press \'Reset\' and try again.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="mazeangle/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':3==G||4==G?(3==G?'<div id="dialogHelpRepeat" class="dialogHiddenContent"><table><tr><td><img src="mazeangle/help_up.png"></td><td>Reach the end of this path using only two blocks. Use \'repeat\' to run a block more than once.</td><td><img src="common/help.png"></td></tr></table></div>':
"")+'<div id="dialogHelpCapacity" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>You have used up all the blocks for this level. To create a new block, you first need to delete an existing block.</td></tr></table></div><div id="dialogHelpRepeatMany" class="dialogHiddenContent"><table><tr><td><img src="mazeangle/help_up.png"></td><td>You can fit more than one block inside a \'repeat\' block.</td><td><img src="common/help.png"></td></tr></table></div>':
5==G?'<div id="dialogHelpSkins" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td width="95%">Choose your favourite player from this menu.</td><td><img src="mazeangle/help_up.png"></td></tr></table></div>':6==G?'<div id="dialogHelpIf" class="dialogHiddenContent"><table><tr><td><img src="mazeangle/help_up.png"></td><td>An \'if\' block will do something only if the condition is true. Try turning left if there is a path to the left.</td><td><img src="common/help.png"></td></tr></table></div>':
7==G?'<div id="dialogHelpMenu" class="dialogHiddenContent"><table><tr><td><img src="mazeangle/help_up.png"></td><td id="helpMenuText">Click on %1 in the \'if\' block to change its condition.</td><td><img src="common/help.png"></td></tr></table></div>':9==G?'<div id="dialogHelpIfElse" class="dialogHiddenContent"><table><tr><td><img src="mazeangle/help_down.png"></td><td>If-else blocks will do one thing or the other.</td><td><img src="common/help.png"></td></tr></table></div>':10==G?'<div id="dialogHelpWallFollow" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Can you solve this complicated mazeangle? Try following the left-hand wall. Advanced programmers only!'+
Fe()+"</td></tr></table></div>":"")};var ed="mazeangle",Ie=[void 0,Infinity,Infinity,2,5,5,5,5,10,7,10][G],Je=[{Cl:"mazeangle/pegman.png",ey:"mazeangle/mazeangle-2.png",qD:"mazeangle/Idle.png",Hn:"mazeangle/marker.png",background:"mazeangle/T3.png",hx:"#000",tv:"mazeangle/coin-sprite.png",Us:["mazeangle/win.mp3","mazeangle/win.ogg"],Zp:["mazeangle/fail_pegman.mp3","mazeangle/fail_pegman.ogg"],Um:1},{Cl:"mazeangle/astro.png",ey:"mazeangle/tiles_astro.png",Hn:"mazeangle/marker.png",background:"mazeangle/bg_astro.jpg",hx:"#fff",tv:"mazeangle/coin.png",
Us:["mazeangle/win.mp3","mazeangle/win.ogg"],Zp:["mazeangle/fail_astro.mp3","mazeangle/fail_astro.ogg"],Um:2},{Cl:"mazeangle/panda.png",ey:"mazeangle/tiles_panda.png",Hn:"mazeangle/marker.png",background:"mazeangle/bg_panda.jpg",hx:"#000",tv:"mazeangle/coin.png",Us:["mazeangle/win.mp3","mazeangle/win.ogg"],Zp:["mazeangle/fail_panda.mp3","mazeangle/fail_panda.ogg"],Um:3}],He=Zc("skin",0,Je.length),ke=Je[He],Ke=[[-1,-1,-1,7,-1,-1],[-1,0,1,-1,7,-1],[1,-1,5,-1,5,4],[2,-1,-1,6,-1,-1],[-1,3,-1,0,0,16]],
U=[void 0,[[0,0,0,1,0,0],[0,1,1,0,1,0],[1,0,0,0,1,1],[1,0,0,1,0,0],[0,2,0,1,1,3]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,3,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0],[0,2,1,0,0,0,0,0],
[1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,0,0,0,1,0,0],[0,1,1,3,0,1,0,0],[0,0,0,0,0,1,0,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,1,1,0],[0,1,1,3,0,1,0,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,
1,1,0,0,0],[0,1,0,0,1,1,0,0],[0,1,1,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,2,1,1,0,3,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0],[1,1,1,1,1,0,1,0],[0,1,0,1,0,2,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,0,3,0,1,0],[0,1,1,0,1,1,1,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,1,0,0,1,0],[0,2,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]][G],Le=U.length,Me=U[0].length,V=200,Ne=80,Oe=80,Pe=0,W=[];
function Qe(){var a=document.getElementById("svgMazeangle");a.style.width=de+"px";a.style.height=K+"px";a.setAttribute("viewBox","0 0 "+de+" "+K);m.g.j.J("rect",{height:K,width:de,fill:"#F1EEE7","stroke-width":1,stroke:"#CCB"},a);ke.background&&m.g.j.J("image",{height:K,width:de,x:0,y:0},a).setAttributeNS(m.g.j.Mc,"xlink:href",ke.background);m.g.j.J("image",{id:"finish",height:34,width:20},a).setAttributeNS(m.g.j.Mc,"xlink:href",ke.Hn);var c=m.g.j.J("clipPath",{id:"pegmanClipPath"},a);m.g.j.J("rect",
{id:"clipRect",height:Ne,width:Oe},c);m.g.j.J("image",{id:"pegman",height:Ne,width:16*Oe,"clip-path":"url(#pegmanClipPath)"},a).setAttributeNS(m.g.j.Mc,"xlink:href",ke.qD)}
function Re(){if(!B.fd()&&1!=Pe&&!dd()){var a=-1!=Vc.indexOf(Wc),c=m.N.fe(m.N.yy()),d=B.ba.o.Hb(!0),e=null,f=null,g=null;if(1!=G)if(2==G)0!=Pe&&"none"==document.getElementById("runButton").style.display&&(e=document.getElementById("dialogHelpReset"),g={width:"360px",top:"410px"},g[a?"right":"left"]="400px",f=document.getElementById("resetButton"));else if(3==G)-1==c.indexOf("mazeangle_forever")&&(0==db(B)?(e=document.getElementById("dialogHelpCapacity"),g={width:"430px",top:"310px"},g[a?"right":"left"]=
"50px",f=document.getElementById("capacityBubble")):(e=document.getElementById("dialogHelpRepeat"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].oa()));else if(4==G)if(0==db(B)&&(-1==c.indexOf("mazeangle_forever")||1<B.Hb(!1).length))e=document.getElementById("dialogHelpCapacity"),g={width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble");else{c=!0;for(var k=C(B),l=0;l<k.length;l++){var n=k[l];if("mazeangle_forever"==n.type){for(var p=0;n;)n=
Ua(n),n=n.length?n[0]:null,p++;if(2<p){c=!1;break}}}c&&(e=document.getElementById("dialogHelpRepeatMany"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].oa())}else if(5==G)0!=He||Se.nB||(e=document.getElementById("dialogHelpSkins"),g={width:"360px",top:"60px"},g[a?"left":"right"]="20px",f=document.getElementById("pegmanButton"));else if(6==G)-1==c.indexOf("mazeangle_if")&&(e=document.getElementById("dialogHelpIf"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].oa());
else if(7==G){if(!Te){k=document.createElement("span");k.className="helpMenuFake";l=[H("Mazeangle_pathAhead"),H("Mazeangle_pathLeft"),H("Mazeangle_pathRight")];p=m.g.Da.uv(l);n=m.g.Da.vv(l);k.textContent=(n?l[0].slice(p,-n):l[0].substring(p))+" "+m.Sa.Wl;p=document.getElementById("helpMenuText");l=p.textContent;p.textContent="";n=l.split(/%\d/);for(l=0;l<n.length;l++)p.appendChild(document.createTextNode(n[l])),l!=n.length-1&&p.appendChild(k.cloneNode(!0));Te=!0}-1==c.indexOf("isPathRight")&&(e=document.getElementById("dialogHelpMenu"),
g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].oa())}else 9==G&&-1==c.indexOf("mazeangle_ifElse")&&(e=document.getElementById("dialogHelpIfElse"),g={width:"360px",top:"305px"},g[a?"right":"left"]="425px",f=d[5].oa());e?e.parentNode!=document.getElementById("dialog")&&I.yl(e,f,!0,!1,g,null):I.If(!1)}}var Te;
function Se(a){var c=document.getElementById("pegmanMenu");"block"==c.style.display?Ue(a):Sd(a)||(a=document.getElementById("pegmanButton"),a.classList.add("buttonHover"),c.style.top=a.offsetTop+a.offsetHeight+"px",c.style.left=a.offsetLeft+"px",c.style.display="block",ce.$r=m.bc(document.body,"mousedown",null,Ue),(c=document.getElementById("dialogHelpSkins"))&&"dialogHiddenContent"!=c.className&&I.If(!1),Se.nB=!0)}
function Ue(a){Sd(a)||(document.getElementById("pegmanMenu").style.display="none",document.getElementById("pegmanButton").classList.remove("buttonHover"),ce.$r&&(m.hb(ce.$r),delete ce.$r))}
function Ve(a){for(var c=0;c<W.length;c++)clearTimeout(W[c]);W=[];We.clear();L=ee.x;M=ee.y;N=L;O=M;a?(Q=-2,Xe(!1),W.push(setTimeout(function(){J=130;X([L,M,2*Q+4]);R=Q=0},5*J))):(R=Q=0,Y(L,M,2*Q));a=document.getElementById("finish");a.setAttribute("x",V*(fe.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",V*(fe.y+.6)-a.getAttribute("height"));document.getElementById("look").style.display="none"}
function Ye(a){if(!Sd(a)){I.If(!1);a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");Ze()}}function $e(a){Sd(a)||(Fc(null),Ve(!1),Re())}
function af(a,c){var d=function(e){bf(0,e)};a.setProperty(c,"moveForward",a.createNativeFunction(d));d=function(e){bf(2,e)};a.setProperty(c,"moveBackward",a.createNativeFunction(d));d=function(e){cf(0,e)};a.setProperty(c,"turnNorth",a.createNativeFunction(d));d=function(e){cf(1,e)};a.setProperty(c,"turnNorthEast",a.createNativeFunction(d));d=function(e){cf(2,e)};a.setProperty(c,"turnEast",a.createNativeFunction(d));d=function(e){cf(3,e)};a.setProperty(c,"turnSouthEast",a.createNativeFunction(d));
d=function(e){cf(4,e)};a.setProperty(c,"turnSouth",a.createNativeFunction(d));d=function(e){cf(5,e)};a.setProperty(c,"turnSouthWest",a.createNativeFunction(d));d=function(e){cf(6,e)};a.setProperty(c,"turnWest",a.createNativeFunction(d));d=function(e){cf(7,e)};a.setProperty(c,"turnNorthWest",a.createNativeFunction(d));d=function(e){return df(0,e)};a.setProperty(c,"isPathForward",a.createNativeFunction(d));d=function(e){return df(1,e)};a.setProperty(c,"isPathNorth",a.createNativeFunction(d));d=function(e){return df(2,
e)};a.setProperty(c,"isPathBackward",a.createNativeFunction(d));d=function(e){return df(3,e)};a.setProperty(c,"isPathEast",a.createNativeFunction(d));d=function(e){return df(4,e)};a.setProperty(c,"isPathSouth",a.createNativeFunction(d));d=function(e){return df(5,e)};a.setProperty(c,"isPathWest",a.createNativeFunction(d));a.setProperty(c,"notDone",a.createNativeFunction(function(){return N!=fe.x||O!=fe.y}))}
function Ze(){if("Interpreter"in window){S=[];m.selected&&ob(m.selected);var a=m.G;var c=B;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=m.Gf());var d=[];a.Aa(c);c=c.Hb(!0);for(var e=0,f;f=c[e];e++){var g=Yd(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.K&&(g=a.Ux(g),a.xm&&!f.Js&&(g=Zd(a.xm,f)+g),a.ym&&!f.Js&&(g+=Zd(a.ym,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");Hd=a=d=d.replace(/[ \t]+\n/g,"\n");Jd();Pe=0;a=new Interpreter(a,
af);try{for(d=1E4;a.step();)if(0==d--)throw Infinity;Pe=N!=fe.x||O!=fe.y?-1:1}catch(k){Infinity===k?Pe=2:!1===k?Pe=-2:(Pe=-2,alert(k))}1==Pe?(J=80,S.push(["finish",null])):J=130;W.push(setTimeout(ef,100))}else setTimeout(Ze,250)}var We=new Set;
function ef(){var a=S.shift();if(a){if(We.has(a[1]))a=1;else{Qd(a[1]);switch(a[0]){case "north":F+=10;X([L,M-1,2*Q]);M--;break;case "northeast":F+=10;X([L+1,M-1,2*Q]);L++;M--;break;case "east":F+=10;X([L+1,M,2*Q]);L++;break;case "southeast":F+=10;X([L+1,M+1,2*Q]);L++;M++;break;case "south":F+=10;X([L,M+1,2*Q]);M++;break;case "southwest":F+=10;X([L-1,M+1,2*Q]);L--;M++;break;case "west":F+=10;X([L-1,M,2*Q]);L--;break;case "northwest":F+=10;X([L-1,M-1,2*Q]);L--;M--;break;case "look_north":ff(2);break;
case "look_northeast":ff(1);break;case "look_east":ff(0);break;case "look_southeast":ff(7);break;case "look_south":ff(6);break;case "look_southwest":ff(5);break;case "look_west":ff(4);break;case "look_northwest":ff(3);break;case "fail_forward":F-=10;gf(!0);break;case "fail_backward":F-=10;gf(!1);break;case "North":X([L,M,4]);Q=hf(Q=2);break;case "NorthEast":X([L,M,2]);Q=hf(Q=1);break;case "East":X([L,M,0]);Q=hf(Q=0);break;case "SouthEast":X([L,M,14]);Q=hf(Q=7);break;case "South":X([L,M,12]);Q=hf(Q=
6);break;case "SouthWest":X([L,M,10]);Q=hf(Q=5);break;case "West":X([L,M,8]);Q=hf(Q=4);break;case "NorthWest":X([L,M,6]);Q=hf(Q=3);break;case "finish":Xe(!0),setTimeout(Pd,1E3)}We.add(a[1]);a=ge}W.push(setTimeout(ef,J*a))}else Qd(null),Re()}
function jf(a){if("dialogHiddenContent"!=document.getElementById("dialogDone").className){var c=document.getElementById("pegSpin"),d=I.iw(c),e=a.clientX-(d.x+d.width/2-window.pageXOffset);a=m.g.Cd.dF(Math.atan((a.clientY-(d.y+d.height/2-window.pageYOffset))/e));e=Math.round((0<e?a+90:a+270)/360*16);16==e&&(e=15);c.style.backgroundPosition=-e*Oe+"px 0px"}}
function X(a){var c=[L,M,2*Q],d=[a[0]-c[0],a[1]-c[1],a[2]-c[2]];d[2]=8<d[2]?d[2]-16:d[2];var e=0>d[2]?d[2]:0;document.getElementById("pegman").style.opacity=1;if(0<d[2])switch(Math.abs(d[2])){case 2:W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+1+e))},J));var f=2;break;case 4:W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+1+e))},J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+2+e))},2*J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+
3+e))},3*J));f=4;break;case 6:W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+1+e))},J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+2+e))},2*J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+3+e))},3*J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+4+e))},4*J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+5+e))},5*J));f=6;break;case 8:W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+1+e))},J)),W.push(setTimeout(function(){Y(c[0]+
2*d[0],c[1]+2*d[1],Z(c[2]+2+e))},2*J)),W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+3+e))},3*J)),W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+4+e))},4*J)),W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+5+e))},5*J)),W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+6+e))},6*J)),W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+7+e))},7*J)),f=8}else if(0>d[2])switch(Math.abs(d[2])){case 2:W.push(setTimeout(function(){Y(c[0]+2*
d[0],c[1]+2*d[1],Z(c[2]+1+e))},J));f=2;break;case 4:W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+3+e))},J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+2+e))},2*J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+1+e))},3*J));f=4;break;case 6:W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+5+e))},J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+4+e))},2*J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+
3+e))},3*J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+2+e))},4*J));W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+1+e))},5*J));f=6;break;case 8:W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+7+e))},J)),W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+6+e))},2*J)),W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+5+e))},3*J)),W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+4+e))},4*J)),W.push(setTimeout(function(){Y(c[0]+
2*d[0],c[1]+2*d[1],Z(c[2]+3+e))},5*J)),W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+2+e))},6*J)),W.push(setTimeout(function(){Y(c[0]+2*d[0],c[1]+2*d[1],Z(c[2]+1+e))},7*J)),f=8}else if(0==d[2]){var g=document.getElementById("pegman");g.setAttributeNS(m.g.j.Mc,"xlink:href","start/"+c[2]+".png");for(f=1;f<=(32*Math.abs(d[0])||32*Math.abs(d[1]));f++)he=function(k){W.push(setTimeout(function(){Y(c[0]+d[0]*k/32,c[1]+d[1]*k/32,Z(k-1))},J*k))},he(f);f=Math.abs(d[0])>Math.abs(d[1])?32*Math.abs(d[0])+
4:32*Math.abs(d[1])+4;W.push(setTimeout(function(){g.setAttributeNS(m.g.j.Mc,"xlink:href","start/Idle.png");Y(a[0],a[1],Z(a[2]))},J*(f-2)))}ge=f+2;bd();W.push(setTimeout(function(){document.getElementById("pegman").style.opacity=.5;Y(a[0],a[1],Z(a[2]))},J*f))}
function gf(a){var c=0,d=0;bd();switch(Q){case 2:d=-1;break;case 1:c=1;d=-1;break;case 0:c=1;break;case 7:d=c=1;break;case 6:d=1;break;case 5:c=-1;d=1;break;case 4:c=-1;break;case 3:d=c=-1}a||(c=-c,d=-d);if(1==ke.Um){c/=4;d/=4;var e=Z(2*Q);Y(L+c,M+d,e);B.Nc.play("fail",.5);W.push(setTimeout(function(){Y(L,M,e)},J));W.push(setTimeout(function(){Y(L+c,M+d,e);B.Nc.play("fail",.5)},2*J));W.push(setTimeout(function(){Y(L,M,e)},3*J))}else{var f=10*(Math.random()-.5),g=(Math.random()-.5)/2;c+=(Math.random()-
.5)/4;d+=(Math.random()-.5)/4;c/=8;d/=8;var k=0;3==ke.Um&&(k=.01);W.push(setTimeout(function(){B.Nc.play("fail",.5)},2*J));a=function(n){return function(){Y(L+c*n,M+d*n,Z(4*Q+g*n),f*n);d+=k}};for(var l=1;100>l;l++)W.push(setTimeout(a(l),J*l/2))}}function Xe(a){var c=Z(2*Q);Y(L,M,16);a&&B.Nc.play("win",.5);J=150;W.push(setTimeout(function(){Y(L,M,18)},J));W.push(setTimeout(function(){Y(L,M,16)},2*J));W.push(setTimeout(function(){Y(L,M,c)},3*J))}
function Y(a,c,d,e){var f=document.getElementById("pegman");f.setAttribute("x",a*V-d*Oe+1);f.setAttribute("y",V*(c+.5)-Ne/2-8);e?f.setAttribute("transform","rotate("+e+", "+(a*V+V/2)+", "+(c*V+V/2)+")"):f.setAttribute("transform","rotate(0, 0, 0)");c=document.getElementById("clipRect");c.setAttribute("x",a*V+1);c.setAttribute("y",f.getAttribute("y"))}
function ff(a){a=(a-.1)*V;var c=(c-.25)*V;var d=document.getElementById("look");d.style.opacity="0.97";d.setAttribute("transform","translate("+a+", "+c+") rotate(0 0 0) scale(1)")}function hf(a){a=Math.round(a)%8;0>a&&(a+=8);return a}function Z(a){a=Math.round(a)%16;0>a&&(a+=16);return a}
function bf(a,c){if(!We.has(c)){if(!df(a,null))throw S.push(["fail_"+(a?"backward":"forward"),c]),!1;switch(hf(R+a)){case 2:O--;var d="north";break;case 1:N++;O--;d="northeast";break;case 0:N++;d="east";break;case 7:N++;O++;d="southeast";break;case 6:O++;d="south";break;case 5:N--;O++;d="southwest";break;case 4:N--;d="west";break;case 3:N--,O--,d="northwest"}}S.push([d,c])}
function cf(a,c){if(!We.has(c))switch(a){case 0:R=2;S.push(["North",c]);break;case 1:R=1;S.push(["NorthEast",c]);break;case 2:R=0;S.push(["East",c]);break;case 3:R=7;S.push(["SouthEast",c]);break;case 4:R=6;S.push(["South",c]);break;case 5:R=5;S.push(["SouthWest",c]);break;case 6:R=4;S.push(["West",c]);break;case 7:R=3,S.push(["NorthWest",c])}R=hf(R)}
function df(a,c){if(!We.has(c)){var d=R+a;switch(hf(d)){case 2:var e=U[O-1]&&U[O-1][N];var f="look_north";break;case 1:e=U[O-1][N+1]&&U[O-1];f="look_northeast";break;case 0:e=U[O][N+1];f="look_east";break;case 7:e=U[O+1][N+1]&&U[O+1];f="look_southeast";break;case 6:e=U[O+1]&&U[O+1][N];f="look_south";break;case 5:e=U[O+1][N-1]&&U[O+1];f="look_southwest";break;case 4:e=U[O][N-1];f="look_west";break;case 3:e=U[O-1][N-1]&&U[O-1],f="look_northwest"}}c&&S.push([f,c]);return 0!==e&&void 0!==e&&d==Ke[O][N]}
function kf(){var a=document.getElementById("help"),c=document.getElementById("helpButton");I.yl(a,c,!0,!0,{width:"50%",left:"25%",top:"5em"},lf);I.EI()}function lf(){I.by()}
window.addEventListener("load",function(){function a(){l.style.top=Math.max(10,n.offsetTop-window.pageYOffset)+"px";l.style.left=k?"10px":de+20+"px";l.style.width=window.innerWidth-(de+40)+"px";l.style.paddingBottom=10*Tc+"px";p.style.left=l.offsetLeft+"px";p.style.width=window.innerWidth-(de+40)+"px";p.style.top=l.offsetTop+K-p.offsetHeight+"px";document.getElementById("runButton").style.left=l.offsetLeft+"px";document.getElementById("runButton").style.top=l.offsetTop+K-p.offsetHeight+"px";document.getElementById("resetButton").style.left=
document.getElementById("runButton").offsetLeft+document.getElementById("runButton").offsetWidth+"px";document.getElementById("resetButton").style.top=l.offsetTop+K-p.offsetHeight+"px";document.getElementById("resetButton").style.marginRight="0px"}function c(q){return function(){window.sessionStorage&&(window.sessionStorage.LD=Jd());location=location.protocol+"//"+location.host+location.pathname+"?lang="+Wc+"&level="+G+"&skin="+q}}document.body.innerHTML=Ge();Id();document.querySelector("#pegmanButton>img").style.backgroundImage=
"url("+ke.Cl+")";for(var d=document.getElementById("pegmanMenu"),e=0;e<Je.length;e++)if(e!=He){var f=document.createElement("div"),g=document.createElement("img");g.src="common/1x1.gif";g.style.backgroundImage="url("+Je[e].Cl+")";f.appendChild(g);d.appendChild(f);m.bc(f,"mousedown",null,c(e))}m.bc(window,"resize",null,Ue);d=document.getElementById("pegmanButton");m.bc(d,"mousedown",null,Se);d=document.getElementById("pegmanButtonArrow");e=document.createTextNode(m.Sa.Wl);d.appendChild(e);var k=-1!=
Vc.indexOf(Wc);V*=Tc;de=V*Me;K=V*Le;Ne=130*Tc;Oe=130*Tc;var l=document.getElementById("blockly"),n=document.getElementById("visualization"),p=document.getElementById("buttontable");window.addEventListener("scroll",function(){a(null);m.Jl(B);p.style.left=l.offsetLeft+"px";p.style.width=window.innerWidth-(de+40)+"px";p.style.top=l.offsetTop+K-p.offsetHeight+"px";document.getElementById("runButton").style.left=l.offsetLeft+"px";document.getElementById("runButton").style.top=l.offsetTop+K-p.offsetHeight+
"px";document.getElementById("resetButton").style.left=document.getElementById("runButton").offsetLeft+document.getElementById("runButton").offsetWidth+"px";document.getElementById("resetButton").style.top=l.offsetTop+K-p.offsetHeight+"px";document.getElementById("resetButton").style.marginRight="0px"});window.addEventListener("resize",a);a(null);V/=Tc;de=V/Me;K=V/Le;Ne=130/Tc;Oe=130/Tc;V*=Tc;de=V*Me;K=V*Le;Ne=130*Tc;Oe=130*Tc;Md({maxBlocks:Ie,rtl:k,trashcan:!0,zoom:{startScale:1}});B.Nc.load(ke.Us,
"win");B.Nc.load(ke.Zp,"fail");be(m.G,"moveForward,moveBackward,turnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");Qe();d=document.getElementById("runButton");e=document.getElementById("resetButton");e.style.minWidth||(e.style.minWidth=d.offsetWidth+"px");for(d=0;d<Le;d++)for(e=0;e<Me;e++)2==U[d][e]?ee={x:e,y:d}:3==U[d][e]&&(fe={x:e,y:d});Ve(!0);gb(B,function(){var q=db(B),r=document.getElementById("capacity");if(Infinity==q)r.style.display="none";else{r.style.display="inline";
r.innerHTML="";q=Number(q);var u=document.createElement("span");u.className="capacityNumber";u.appendChild(document.createTextNode(q));q=(0==q?H("Mazeangle_capacity0"):1==q?H("Mazeangle_capacity1"):H("Mazeangle_capacity2")).split(/%\d/);for(var y=0;y<q.length;y++)r.appendChild(document.createTextNode(q[y])),y!=q.length-1&&r.appendChild(u.cloneNode(!0))}});document.body.addEventListener("mousemove",jf,!0);fd("runButton",Ye);fd("resetButton",$e);d=document.getElementById("dialogDoneButtons");e=document.createElement("img");
e.id="pegSpin";e.src="common/1x1.gif";e.style.backgroundImage="url("+ke.Cl+")";d.parentNode.insertBefore(e,d);Vd();Wd();fd("helpButton",kf)});
