// Automatically generated file.  Do not edit!
'use strict';var b,g=g||{};g.global=this||self;g.MM=function(a){return void 0!==a};g.SM=function(a){return"string"==typeof a};g.IM=function(a){return"boolean"==typeof a};g.Ug=function(a){return"number"==typeof a};g.Yy=function(a,c,d){a=a.split(".");d=d||g.global;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===c?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=c};g.define=function(a,c){return c};g.XJ=2012;g.ki=!0;
g.rK="en";g.lE=!0;g.cE=!1;g.vC=!g.ki;g.HJ=!1;g.dN=function(a){if(g.Xz())throw Error("goog.provide cannot be used within a module.");g.sy(a)};g.sy=function(a,c){g.Yy(a,c)};g.yM=function(a){if(a&&a!=g.global)return g.vz(a.document);null===g.Fs&&(g.Fs=g.vz(g.global.document));return g.Fs};g.CD=/^[\w+/_-]+[=]{0,2}$/;g.Fs=null;g.vz=function(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&g.CD.test(a)?a:""};g.oE=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
g.module=function(a){if("string"!==typeof a||!a||-1==a.search(g.oE))throw Error("Invalid module identifier");if(!g.Wz())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");
if(g.gd.Wm)throw Error("goog.module may only be called once per module.");g.gd.Wm=a};g.module.get=function(){return null};g.module.sM=function(){return null};g.gd=null;g.Xz=function(){return g.Wz()||g.dH()};g.Wz=function(){return!!g.gd&&"goog"==g.gd.type};g.dH=function(){if(g.gd&&"es6"==g.gd.type)return!0;var a=g.global.$jscomp;return a?"function"!=typeof a.ut?!1:!!a.ut():!1};g.module.Js=function(){g.gd.Js=!0};
g.aM=function(a){if(g.gd)g.gd.Wm=a;else{var c=g.global.$jscomp;if(!c||"function"!=typeof c.ut)throw Error('Module with namespace "'+a+'" has been loaded incorrectly.');c=c.nI(c.ut());g.gA[a]={exports:c,type:"es6",zH:a}}};g.sN=function(a){if(g.vC)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};g.lM=function(){};g.wM=function(a,c){a=a.split(".");c=c||g.global;for(var d=0;d<a.length;d++)if(c=c[a[d]],null==c)return null;return c};
g.CM=function(a,c){c=c||g.global;for(var d in a)c[d]=a[d]};g.QL=function(){};g.IJ=!0;g.hA=function(a){g.global.console&&g.global.console.error(a)};g.nI=function(){};g.kN=function(){return{}};g.LE="";g.$M=function(){};g.OL=function(){throw Error("unimplemented abstract method");};g.RL=function(a){a.Rt=void 0;a.rM=function(){if(a.Rt)return a.Rt;g.ki&&(g.Uz[g.Uz.length]=a);return a.Rt=new a}};g.Uz=[];g.qK=!0;g.UD=g.ki;g.gA={};g.BJ=!1;g.DL="detect";g.nJ=!1;g.EL="";g.iE="transpile.js";g.Gt=null;
g.$I=function(){if(null==g.Gt){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(c){a=!1}g.Gt=a}return g.Gt};g.gJ=function(a){return"(function(){"+a+"\n;})();\n"};
g.UM=function(a){var c=g.gd;try{g.gd={Wm:"",Js:!1,type:"goog"};if(g.cH(a))var d=a.call(void 0,{});else if("string"===typeof a)g.$I()&&(a=g.gJ(a)),d=g.pH.call(void 0,a);else throw Error("Invalid module definition");var e=g.gd.Wm;if("string"===typeof e&&e)g.gd.Js?g.sy(e,d):g.UD&&Object.seal&&"object"==typeof d&&null!=d&&Object.seal(d),g.gA[e]={exports:d,type:"goog",zH:g.gd.Wm};else throw Error('Invalid module name "'+e+'"');}finally{g.gd=c}};g.pH=function(a){eval(a);return{}};
g.ZM=function(a){a=a.split("/");for(var c=0;c<a.length;)"."==a[c]?a.splice(c,1):c&&".."==a[c]&&a[c-1]&&".."!=a[c-1]?a.splice(--c,2):c++;return a.join("/")};g.oH=function(a){if(g.global.dC)return g.global.dC(a);try{var c=new g.global.XMLHttpRequest;c.open("get",a,!1);c.send();return 0==c.status||200==c.status?c.responseText:null}catch(d){return null}};
g.EN=function(a,c,d){var e=g.global.$jscomp;e||(g.global.$jscomp=e={});var f=e.Gv;if(!f){var h=g.LE+g.iE,k=g.oH(h);if(k){(function(){(0,eval)(k+"\n//# sourceURL="+h)}).call(g.global);if(g.global.$gwtExport&&g.global.$gwtExport.$jscomp&&!g.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(g.global.$gwtExport));g.global.$jscomp.Gv=g.global.$gwtExport.$jscomp.transpile;e=g.global.$jscomp;f=e.Gv}}f||(f=e.Gv=function(l,
n){g.hA(n+" requires transpilation but no transpiler was found.");return l});return f(a,c,d)};
g.Aq=function(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c};g.$i=function(){return!1};g.NM=function(a){return null!=a};g.isArray=function(a){return"array"==g.Aq(a)};g.GM=function(a){var c=g.Aq(a);return"array"==c||"object"==c&&"number"==typeof a.length};g.LM=function(a){return g.iH(a)&&"function"==typeof a.getFullYear};g.cH=function(a){return"function"==g.Aq(a)};g.iH=function(a){var c=typeof a;return"object"==c&&null!=a||"function"==c};g.BG=function(a){return a[g.yi]||(a[g.yi]=++g.XI)};
g.DM=function(a){return!!a[g.yi]};g.lI=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(g.yi);try{delete a[g.yi]}catch(c){}};g.yi="closure_uid_"+(1E9*Math.random()>>>0);g.XI=0;g.qM=g.BG;g.eN=g.lI;g.jF=function(a){var c=g.Aq(a);if("object"==c||"array"==c){if("function"===typeof a.clone)return a.clone();c="array"==c?[]:{};for(var d in a)c[d]=g.jF(a[d]);return c}return a};g.OE=function(a,c,d){return a.call.apply(a.bind,arguments)};
g.NE=function(a,c,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(c,f)}}return function(){return a.apply(c,arguments)}};g.bind=function(a,c,d){g.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g.OE:g.NE;return g.bind.apply(null,arguments)};
g.bN=function(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice();e.push.apply(e,arguments);return a.apply(this,e)}};g.Yd=function(a,c){for(var d in c)a[d]=c[d]};g.now=g.lE&&Date.now||function(){return+new Date};
g.BM=function(a){if(g.global.execScript)g.global.execScript(a,"JavaScript");else if(g.global.eval){if(null==g.mp){try{g.global.eval("var _evalTest_ = 1;")}catch(e){}if("undefined"!=typeof g.global._evalTest_){try{delete g.global._evalTest_}catch(e){}g.mp=!0}else g.mp=!1}if(g.mp)g.global.eval(a);else{var c=g.global.document,d=c.createElement("SCRIPT");d.type="text/javascript";d.defer=!1;d.appendChild(c.createTextNode(a));c.head.appendChild(d);c.head.removeChild(d)}}else throw Error("goog.globalEval not available");
};g.mp=null;g.nM=function(a,c){function d(h){h=h.split("-");for(var k=[],l=0;l<h.length;l++)k.push(e(h[l]));return k.join("-")}function e(h){return g.By[h]||h}if("."==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var f=g.By?"BY_WHOLE"==g.zF?e:d:function(h){return h};a=c?a+"-"+f(c):f(a);return g.global.cC?g.global.cC(a):a};g.qN=function(a,c){g.By=a;g.zF=c};
g.uM=function(a,c,d){d&&d.EM&&(a=a.replace(/</g,"&lt;"));c&&(a=a.replace(/\{\$([^}]+)}/g,function(e,f){return null!=c&&f in c?c[f]:e}));return a};g.vM=function(a){return a};g.gM=function(a,c,d){g.Yy(a,c,d)};g.fM=function(a,c,d){a[c]=d};g.S=function(a,c){function d(){}d.prototype=c.prototype;a.A=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.Xx=function(e,f,h){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return c.prototype[f].apply(e,k)}};
g.Xx=function(a,c,d){var e=arguments.callee.caller;if(g.cE||g.ki&&!e)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if("undefined"!==typeof e.A){for(var f=Array(arguments.length-1),h=1;h<arguments.length;h++)f[h-1]=arguments[h];return e.A.constructor.apply(a,f)}if("string"!=typeof c&&"symbol"!=typeof c)throw Error("method names provided to goog.base must be a string or a symbol");f=Array(arguments.length-
2);for(h=2;h<arguments.length;h++)f[h-2]=arguments[h];h=!1;for(var k=a.constructor.prototype;k;k=Object.getPrototypeOf(k))if(k[c]===e)h=!0;else if(h)return k[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("goog.base called from a method of one name to a method of a different name");};g.scope=function(a){if(g.Xz())throw Error("goog.scope is not supported within a module.");a.call(g.global)};
g.se=function(a,c){var d=c.constructor,e=c.LI;d&&d!=Object.prototype.constructor||(d=function(){throw Error("cannot instantiate an interface (no constructor defined).");});d=g.se.sF(d,a);a&&g.S(d,a);delete c.constructor;delete c.LI;g.se.Vx(d.prototype,c);null!=e&&(e instanceof Function?e(d):g.se.Vx(d,e));return d};g.se.TD=g.ki;
g.se.sF=function(a,c){function d(){var f=a.apply(this,arguments)||this;f[g.yi]=f[g.yi];this.constructor===d&&e&&Object.seal instanceof Function&&Object.seal(f);return f}if(!g.se.TD)return a;var e=!g.se.lH(c);return d};g.se.lH=function(a){return a&&a.prototype&&a.prototype[g.mE]};g.se.Yw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
g.se.Vx=function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);for(var e=0;e<g.se.Yw.length;e++)d=g.se.Yw[e],Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])};g.AN=function(){};g.mE="goog_defineClass_legacy_unsealable";g.Bx="";g.Ap=function(a){return a};g.tF=function(){var a=g.Bx+"#base",c=null,d=g.global.trustedTypes||g.global.HL;if(!d||!d.createPolicy)return c;try{c=d.createPolicy(a,{createHTML:g.Ap,createScript:g.Ap,createScriptURL:g.Ap,$L:g.Ap})}catch(e){g.hA(e.message)}return c};
g.FL=g.Bx?g.tF():null;
var m={g:{}};m.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
m.m={};m.g.global.Blockly||(m.g.global.Blockly={});m.g.global.Blockly.Msg||(m.g.global.Blockly.Msg=m.m);
m.mk={};m.Lw=40;m.gx=125;m.wC=5;m.KC=10;m.Hd=28;m.hC=m.Hd;m.mC=8;m.Qq=250;m.Rq=10;m.fC=30;m.pD=750;m.XD=100;m.xC=!0;m.UC=.45;m.VC=.65;m.Xj={width:96,height:124,url:"sprites.png"};m.bb=1;m.Te=2;m.Pa=3;m.Ue=4;m.pg=5;m.Jq=-1;m.Iq=0;m.Kq=1;m.EJ=0;m.FJ=1;m.CJ=1;m.DJ=2;m.Tj=[];m.Tj[m.bb]=m.Te;m.Tj[m.Te]=m.bb;m.Tj[m.Pa]=m.Ue;m.Tj[m.Ue]=m.Pa;m.zg=0;m.bk=1;m.Kd=2;m.yg=3;m.jw=null;m.Vq=1;m.kw=2;m.Jc="VARIABLE";m.rE="VARIABLE_DYNAMIC";m.Er="PROCEDURE";m.nx="RENAME_VARIABLE_ID";m.lw="DELETE_VARIABLE_ID";m.g.jb={};m.g.jb.parse=function(a){a=String(a).toLowerCase().trim();var c=m.g.jb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?m.g.jb.ev(a,c,d):null};
m.g.jb.ev=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};m.g.jb.Lz=function(a){a=m.g.jb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
m.g.jb.Pz=function(a){var c=m.UC,d=255*m.VC,e=0,f=0,h=0;if(0==c)h=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var n=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=n;f=d;h=a;break;case 2:e=a;f=d;h=c;break;case 3:e=a;f=n;h=d;break;case 4:e=c;f=a;h=d;break;case 5:e=d;f=a;h=n;break;case 6:case 0:e=d,f=c,h=a}}return m.g.jb.ev(Math.floor(e),Math.floor(f),Math.floor(h))};
m.g.jb.ks=function(a,c,d){a=m.g.jb.parse(a);if(!a)return null;c=m.g.jb.parse(c);if(!c)return null;a=m.g.jb.Lz(a);c=m.g.jb.Lz(c);return m.g.jb.ev(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};m.g.jb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};m.g.O=function(a,c){this.x=a;this.y=c};m.g.O.Rf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};m.g.O.Ws=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};m.g.O.vH=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};m.g.O.nm=function(a,c){return new m.g.O(a.x-c.x,a.y-c.y)};m.g.O.sum=function(a,c){return new m.g.O(a.x+c.x,a.y+c.y)};m.g.O.prototype.scale=function(a){this.x*=a;this.y*=a;return this};m.g.O.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};m.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};m.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};m.g.Ua={};m.g.Ua.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};m.g.Ua.tv=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};m.g.Ua.lF=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||m.g.Ua.tv(a);for(var e=0;e<c;e++){for(var f=a[0][e],h=1;h<a.length;h++)if(f!=a[h][e])return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h][e])&&" "!=f)return d;return c};
m.g.Ua.mF=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||m.g.Ua.tv(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-e-1))&&" "!=f)return d;return c};m.g.Ua.AB=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=m.g.Ua.kJ(a[d],c);return a.join("\n")};
m.g.Ua.kJ=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var h=e;var k=a;a=[];var l=d.length/f,n=1;for(e=0;e<d.length-1;e++)n<(e+1.5)/l?(n++,a[e]=!0):a[e]=!1;a=m.g.Ua.BB(d,a,c);e=m.g.Ua.Ov(d,a,c);a=m.g.Ua.lJ(d,a);f++}while(e>h);return k};
m.g.Ua.Ov=function(a,c,d){for(var e=[0],f=[],h=0;h<a.length;h++)e[e.length-1]+=a[h].length,!0===c[h]?(e.push(0),f.push(a[h].charAt(a[h].length-1))):!1===c[h]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(h=c=0;h<e.length;h++)c-=2*Math.pow(Math.abs(d-e[h]),1.5),c-=Math.pow(a-e[h],1.5),-1!=".?!".indexOf(f[h])?c+=d/3:-1!=",;)]}".indexOf(f[h])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
m.g.Ua.BB=function(a,c,d){for(var e=m.g.Ua.Ov(a,c,d),f,h=0;h<c.length-1;h++)if(c[h]!=c[h+1]){var k=[].concat(c);k[h]=!k[h];k[h+1]=!k[h+1];var l=m.g.Ua.Ov(a,k,d);l>e&&(e=l,f=k)}return f?m.g.Ua.BB(a,f,d):c};m.g.Ua.lJ=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};m.g.Jd=function(a,c){this.width=a;this.height=c};m.g.Jd.Rf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};m.g.style={};m.g.style.Ng=function(a){if("none"!=m.g.style.zz(a,"display"))return m.g.style.xz(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var h=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new m.g.Jd(h,a)};m.g.style.xz=function(a){return new m.g.Jd(a.offsetWidth,a.offsetHeight)};m.g.style.zz=function(a,c){return m.g.style.getComputedStyle(a,c)||m.g.style.lG(a,c)||a.style&&a.style[c]};
m.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};m.g.style.lG=function(a,c){return a.currentStyle?a.currentStyle[c]:null};m.g.style.Li=function(a){var c=new m.g.O(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new m.g.O(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
m.g.style.DG=function(){var a=document.body,c=document.documentElement;return new m.g.O(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};m.g.style.kv=function(a,c){a.style.display=c?"":"none"};m.g.style.QM=function(a){return"rtl"==m.g.style.zz(a,"direction")};
m.g.style.iG=function(a){var c=m.g.style.getComputedStyle(a,"borderLeftWidth"),d=m.g.style.getComputedStyle(a,"borderRightWidth"),e=m.g.style.getComputedStyle(a,"borderTopWidth");a=m.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};m.g.style.XA=function(a,c){a=m.g.style.oG(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
m.g.style.oG=function(a,c){var d=m.g.style.Li(a),e=m.g.style.Li(c),f=m.g.style.iG(c),h=d.x-e.x-f.left;d=d.y-e.y-f.top;a=m.g.style.xz(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(h,Math.max(h-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new m.g.O(f,k)};m.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}m.g.userAgent.raw=a;var d=m.g.userAgent.raw.toUpperCase();m.g.userAgent.Oe=c("Trident")||c("MSIE");m.g.userAgent.li=c("Edge");m.g.userAgent.eD=c("JavaFX");m.g.userAgent.uJ=(c("Chrome")||c("CriOS"))&&!m.g.userAgent.li;m.g.userAgent.Xr=c("WebKit")&&!m.g.userAgent.li;m.g.userAgent.PC=c("Gecko")&&!m.g.userAgent.Xr&&!m.g.userAgent.Oe&&!m.g.userAgent.li;m.g.userAgent.ol=c("Android");m.g.userAgent.Nj=c("iPad");m.g.userAgent.Hw=c("iPod");m.g.userAgent.Gw=
c("iPhone")&&!m.g.userAgent.Nj&&!m.g.userAgent.Hw;m.g.userAgent.rD=c("Macintosh");m.g.userAgent.fE=m.g.userAgent.Nj||m.g.userAgent.ol&&!c("Mobile")||c("Silk");m.g.userAgent.zD=!m.g.userAgent.fE&&(m.g.userAgent.Hw||m.g.userAgent.Gw||m.g.userAgent.ol||c("IEMobile"))})(m.g.global.navigator&&m.g.global.navigator.userAgent||"");
m.g.NH=function(a){a.preventDefault();a.stopPropagation()};m.g.Kp=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
m.g.ve=function(a){var c=new m.g.O(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(m.g.ve.vE))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(m.g.ve.wE))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
m.g.ym=function(a){for(var c=0,d=0;a;){var e=m.g.ve(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new m.g.O(c,d)};m.g.ve.vE=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;m.g.ve.wE=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;m.g.aj=function(a){return a.ctrlKey&&m.g.userAgent.rD?!0:2==a.button};
m.g.Xm=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};m.g.wz=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*m.Lw,y:a.deltaY*m.Lw};case 2:return{x:a.deltaX*m.gx,y:a.deltaY*m.gx}}};m.g.RI=function(a){return m.g.Dv(a,!0)};m.g.oc=function(a){if("string"!=typeof a)return a;a=m.g.Dv(a,!1);return a.length?String(a[0]):""};
m.g.ey=function(a){for(var c=m.m,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
m.g.Dv=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var h=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(d.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=m.g.Ua.startsWith(l,"BKY_")?
l.substring(4):null)&&l in m.m?(f=m.m[l],"string"==typeof f?Array.prototype.push.apply(d,m.g.Dv(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};m.g.Mg=function(){for(var a=m.g.Mg.cB.length,c=[],d=0;20>d;d++)c[d]=m.g.Mg.cB.charAt(Math.random()*a);return c.join("")};
m.g.Mg.cB="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
m.g.Vi=function(){if(void 0!==m.g.Vi.ts)return m.g.Vi.ts;if(!m.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=m.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
m.g.Vi.ts="none"!==c;return m.g.Vi.ts};m.g.WA=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};m.g.CG=function(){var a=m.g.style.DG();return new m.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
m.g.Xl=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};m.g.tG=function(){var a=document.documentElement,c=window;return m.g.userAgent.Oe&&c.pageYOffset!=a.scrollTop?new m.g.O(a.scrollLeft,a.scrollTop):new m.g.O(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};m.g.qt=function(a,c){var d=Object.create(null),e=t(a,!0);c&&(a=u(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
m.g.sI=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new m.g.O(d-e.left,c-e.top);c=m.g.ym(a.qb);return m.g.O.nm(d,c).scale(1/a.scale)};m.g.iq=function(a){var c="string"==typeof a?m.g.oc(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{TG:d,Bm:m.g.jb.Pz(d)};if(d=m.g.jb.parse(c))return{TG:null,Bm:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};m.h={};m.h.Fz="";m.h.zc=!0;m.h.Rs=0;m.h.ao="create";m.h.Nq=m.h.ao;m.h.ul="delete";m.h.aw=m.h.ul;m.h.Ij="change";m.h.UB=m.h.Ij;m.h.El="move";m.h.Oq=m.h.El;m.h.Ex="var_create";m.h.Fx="var_delete";m.h.Hx="var_rename";m.h.Rl="ui";m.h.Yn="comment_create";m.h.ew="comment_delete";m.h.dw="comment_change";m.h.Zn="comment_move";m.h.uw="finished_loading";m.h.ZB=[m.h.Nq,m.h.Oq,m.h.Yn,m.h.Zn];m.h.yl=[];m.h.Ca=function(a){m.h.isEnabled()&&(m.h.yl.length||setTimeout(m.h.aG,0),m.h.yl.push(a))};
m.h.aG=function(){for(var a=m.h.filter(m.h.yl,!0),c=m.h.yl.length=0,d;d=a[c];c++)if(d.Bb){var e=m.tb.wm(d.Bb);if(e){var f=d;if(f.zc)for(e.jl.push(f),e.lq.length=0;e.jl.length>e.Ow&&0<=e.Ow;)e.jl.shift();for(var h=0;d=e.fd[h];h++)d(f)}}};
m.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,h;h=a[f];f++)if(!h.$i()){var k=[h.type,h.fc,h.Bb].join(" "),l=e[k],n=l?l.event:null;if(!l)e[k]={event:h,index:f},d.push(h);else if(h.type==m.h.El&&l.index==f-1)n.kj=h.kj,n.jj=h.jj,n.Oh=h.Oh,l.index=f;else if(h.type==m.h.Ij&&h.element==n.element&&h.name==n.name)n.newValue=h.newValue;else if(h.type!=m.h.Rl||"click"!=h.element||"commentOpen"!=n.element&&"mutatorOpen"!=n.element&&"warningOpen"!=n.element)e[k]={event:h,
index:1},d.push(h)}a=d.filter(function(p){return!p.$i()});c||a.reverse();for(f=1;h=a[f];f++)h.type==m.h.Ij&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};m.h.VL=function(){for(var a=0,c;c=m.h.yl[a];a++)c.zc=!1};m.h.disable=function(){m.h.Rs++};m.h.enable=function(){m.h.Rs--};m.h.isEnabled=function(){return 0==m.h.Rs};m.h.Tb=function(){return m.h.Fz};m.h.ca=function(a){m.h.Fz="boolean"==typeof a?a?m.g.Mg():"":a};
m.h.iz=function(a){var c=[];a=t(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};
m.h.va=function(a){switch(a.type){case m.h.ao:var c=new m.h.Ne(null);break;case m.h.ul:c=new m.h.yf(null);break;case m.h.Ij:c=new m.h.jh(null,"","","","");break;case m.h.El:c=new m.h.oi(null);break;case m.h.Ex:c=new m.h.me(null);break;case m.h.Fx:c=new m.h.We(null);break;case m.h.Hx:c=new m.h.Ff(null,"");break;case m.h.Rl:c=new m.h.Rb(null,"","","");break;case m.h.Yn:c=new m.h.mg(null);break;case m.h.dw:c=new m.h.Jj(null,"","");break;case m.h.Zn:c=new m.h.ji(null);break;case m.h.ew:c=new m.h.ng(null);
break;case m.h.uw:c=new m.h.Mj(void 0);break;default:throw Error("Unknown event type.");}c.va(a);c.Bb=(void 0).id;return c};m.h.KF=function(a){if((a.type==m.h.El||a.type==m.h.ao)&&a.Bb){var c=m.tb.wm(a.Bb);if(a=c.$c(a.fc)){var d=a.getParent();if(d&&d.isEnabled())for(c=t(a,!1),a=0;d=c[a];a++)d.rf(!0);else if((a.L||a.V)&&!c.kc()){do a.rf(!1),a=u(a);while(a)}}}};
m.h.Abstract=function(){this.Bb=void 0;this.group=m.h.Tb();this.zc=m.h.zc};m.h.Abstract.prototype.Xa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};m.h.Abstract.prototype.va=function(a){this.group=a.group};m.h.Abstract.prototype.$i=function(){return!1};m.h.Abstract.prototype.run=function(){};function ba(a){if(a.Bb)var c=m.tb.wm(a.Bb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};m.g.object={};m.g.object.S=function(a,c){a.A=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};m.g.object.Yd=function(a,c){for(var d in c)a[d]=c[d]};m.g.object.rk=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?m.g.object.rk(a[d]||Object.create(null),c[d]):c[d];return a};m.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};m.g.xml={};m.g.xml.AD="https://developers.google.com/blockly/xml";m.g.xml.document=function(){return document};m.g.xml.createElement=function(a){return m.g.xml.document().createElementNS(m.g.xml.AD,a)};m.g.xml.createTextNode=function(a){return m.g.xml.document().createTextNode(a)};m.g.xml.NI=function(a){return(new DOMParser).parseFromString(a,"text/xml")};m.g.xml.Qd=function(a){return(new XMLSerializer).serializeToString(a)};m.h.wf=function(a){m.h.wf.A.constructor.call(this);this.fc=a.id;this.Bb=a.D.id};m.g.object.S(m.h.wf,m.h.Abstract);m.h.wf.prototype.Xa=function(){var a=m.h.wf.A.Xa.call(this);a.blockId=this.fc;return a};m.h.wf.prototype.va=function(a){m.h.wf.A.va.call(this,a);this.fc=a.blockId};m.h.jh=function(a,c,d,e,f){a&&(m.h.jh.A.constructor.call(this,a),this.element=c,this.name=d,this.oldValue=e,this.newValue=f)};m.g.object.S(m.h.jh,m.h.wf);m.h.ih=m.h.jh;b=m.h.jh.prototype;b.type=m.h.Ij;
b.Xa=function(){var a=m.h.jh.A.Xa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};b.va=function(a){m.h.jh.A.va.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};b.$i=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=ba(this).$c(this.fc);if(c)switch(c.Be&&c.Be.pb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=ca(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.Zk(a||null);break;case "collapsed":c.Zh(!!a);break;case "disabled":c.rf(!a);break;case "inline":c.tj(!!a);break;case "mutation":var d="";c.yc&&(d=(d=c.yc())&&m.R.Qd(d));if(c.te){var e=m.R.Aj(a||"<mutation/>");c.te(e)}m.h.Ca(new m.h.jh(c,"mutation",null,
d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.fc)};m.h.Ne=function(a){a&&(m.h.Ne.A.constructor.call(this,a),this.xml=a.D.sa?m.R.ns(a):m.R.Dg(a),this.Ri=m.h.iz(a))};m.g.object.S(m.h.Ne,m.h.wf);m.h.Vn=m.h.Ne;m.h.Ne.prototype.type=m.h.ao;m.h.Ne.prototype.Xa=function(){var a=m.h.Ne.A.Xa.call(this);a.xml=m.R.Qd(this.xml);a.ids=this.Ri;return a};
m.h.Ne.prototype.va=function(a){m.h.Ne.A.va.call(this,a);this.xml=m.R.Aj(a.xml);this.Ri=a.ids};m.h.Ne.prototype.run=function(a){var c=ba(this);if(a)a=m.g.xml.createElement("xml"),a.appendChild(this.xml),m.R.om(a,c);else{a=0;for(var d;d=this.Ri[a];a++){var e=c.$c(d);e?e.H(!1):d==this.fc&&console.warn("Can't uncreate non-existent block: "+d)}}};
m.h.yf=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");m.h.yf.A.constructor.call(this,a);this.Bu=a.D.sa?m.R.ns(a):m.R.Dg(a);this.Ri=m.h.iz(a)}};m.g.object.S(m.h.yf,m.h.wf);m.h.$B=m.h.yf;m.h.yf.prototype.type=m.h.ul;m.h.yf.prototype.Xa=function(){var a=m.h.yf.A.Xa.call(this);a.ids=this.Ri;return a};m.h.yf.prototype.va=function(a){m.h.yf.A.va.call(this,a);this.Ri=a.ids};
m.h.yf.prototype.run=function(a){var c=ba(this);if(a){a=0;for(var d;d=this.Ri[a];a++){var e=c.$c(d);e?e.H(!1):d==this.fc&&console.warn("Can't delete non-existent block: "+d)}}else a=m.g.xml.createElement("xml"),a.appendChild(this.Bu),m.R.om(a,c)};m.h.oi=function(a){a&&(m.h.oi.A.constructor.call(this,a),a=da(this),this.uA=a.DA,this.tA=a.Rz,this.yu=a.xy)};m.g.object.S(m.h.oi,m.h.wf);m.h.ql=m.h.oi;b=m.h.oi.prototype;b.type=m.h.El;
b.Xa=function(){var a=m.h.oi.A.Xa.call(this);this.kj&&(a.newParentId=this.kj);this.jj&&(a.newInputName=this.jj);this.Oh&&(a.newCoordinate=Math.round(this.Oh.x)+","+Math.round(this.Oh.y));return a};b.va=function(a){m.h.oi.A.va.call(this,a);this.kj=a.newParentId;this.jj=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Oh=new m.g.O(Number(a[0]),Number(a[1])))};b.nj=function(){var a=da(this);this.kj=a.DA;this.jj=a.Rz;this.Oh=a.xy};
function da(a){var c=ba(a).$c(a.fc);a={};var d=c.getParent();if(d){if(a.DA=d.id,c=ea(d,c))a.Rz=c.name}else a.xy=c.Va();return a}b.$i=function(){return this.uA==this.kj&&this.tA==this.jj&&m.g.O.Rf(this.yu,this.Oh)};
b.run=function(a){var c=ba(this),d=c.$c(this.fc);if(d){var e=a?this.kj:this.uA,f=a?this.jj:this.tA;a=a?this.Oh:this.yu;var h=null;if(e&&(h=c.$c(e),!h)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&v(d);if(a)f=d.Va(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.L||d.V;if(f){if(c=w(h,f))var k=c.connection}else d.type==m.Ue&&(k=h.T);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.fc)};m.C=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Hn=a;this.Mk=m.C.bH(a);this.pa=c;this.Gq=null;(a=d||null)&&a.CB&&(this.Gq=a.CB)};m.C.types={Qb:"field",zd:"block",fe:"input",pi:"output",Fd:"next",Gd:"previous",Cf:"stack",Gf:"workspace"};m.C.sh=!1;m.C.sC=-20;m.C.bH=function(a){switch(a){case m.C.types.Gd:case m.C.types.Fd:case m.C.types.fe:case m.C.types.pi:return!0}return!1};m.C.nk=function(a){return a?new m.C(m.C.types.Qb,a):null};
m.C.Nf=function(a){return a?a.type==m.bb||a.type==m.Pa&&a.Uf()?m.C.Bi(a.Uf()):a.type==m.Pa?new m.C(m.C.types.Fd,a):a.type==m.Te?new m.C(m.C.types.pi,a):a.type==m.Ue?new m.C(m.C.types.Gd,a):null:null};m.C.Bi=function(a){return a&&a.connection?new m.C(m.C.types.fe,a.connection):null};m.C.Mf=function(a){return a?new m.C(m.C.types.zd,a):null};m.C.im=function(a){return a?new m.C(m.C.types.Cf,a):null};m.C.pk=function(a,c){return c&&a?new m.C(m.C.types.Gf,a,{CB:c}):null};
m.C.Ds=function(a){var c=a.V||a.L;return c?m.C.Nf(c):m.C.Mf(a)};b=m.C.prototype;b.Za=function(){return this.Hn};function fa(a,c){a=a.pa;a instanceof m.jd||(a=a.X());if(!a||!a.D)return null;var d=a.bd();a=d.D.jc(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:m.C.im(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function ha(a){if(!a)return null;do var c=a.V&&a.V.na();while(c&&u(c)==a&&(a=c));return(c=a.V||a.L)&&c.ka&&c.ka.Uf()?m.C.Bi(c.ka.Uf()):m.C.im(a)}b.X=function(){return this.Za()===m.C.types.zd?this.pa:this.Za()===m.C.types.Cf?this.pa:this.Za()===m.C.types.Gf?null:this.pa.X()};
b.next=function(){switch(this.Hn){case m.C.types.Cf:return fa(this,!0);case m.C.types.pi:var a=this.pa;return m.C.Mf(a.X());case m.C.types.Qb:a:{var c=this.pa,d=c.Uf();a=c.X();c=d.fb.indexOf(c)+1;d=a.P.indexOf(d);for(var e;e=a.P[d];d++){for(var f=e.fb;c<f.length;){if(ia(f[c])||m.C.sh){a=m.C.nk(f[c]);break a}c++}c=0;if(e.connection){a=m.C.Bi(e);break a}}a=null}return a;case m.C.types.fe:a:{c=this.pa.Uf();a=c.X();for(c=a.P.indexOf(c)+1;d=a.P[c];c++){e=d.fb;f=0;for(var h;h=e[f];f++)if(ia(h)||m.C.sh){a=
m.C.nk(h);break a}if(d.connection){a=m.C.Bi(d);break a}}a=null}return a;case m.C.types.zd:return m.C.Nf(this.pa.T);case m.C.types.Gd:return a=this.pa,m.C.Mf(a.X());case m.C.types.Fd:return a=this.pa,m.C.Nf(a.ka)}return null};
b.Xf=function(){switch(this.Hn){case m.C.types.Gf:var a=this.pa.jc(!0);if(0<a.length)return m.C.im(a[0]);break;case m.C.types.Cf:a=this.pa;var c=a.V||a.L;return c?m.C.Nf(c):m.C.Mf(a);case m.C.types.zd:a=this.pa;a:{a=a.P;c=0;for(var d;d=a[c];c++){for(var e=d.fb,f=0,h;h=e[f];f++)if(ia(h)||m.C.sh){a=m.C.nk(h);break a}if(d.connection){a=m.C.Bi(d);break a}}a=null}return a;case m.C.types.fe:return m.C.Nf(this.pa.ka)}return null};
b.Fe=function(){switch(this.Hn){case m.C.types.Cf:return fa(this,!1);case m.C.types.Qb:a:{var a=this.pa;var c=a.Uf();var d=a.X();a=c.fb.indexOf(a)-1;for(var e=d.P.indexOf(c),f;f=d.P[e];e--){if(f.connection&&f!==c){c=m.C.Bi(f);break a}for(f=f.fb;-1<a;){if(ia(f[a])||m.C.sh){c=m.C.nk(f[a]);break a}a--}0<=e-1&&(a=d.P[e-1].fb.length-1)}c=null}return c;case m.C.types.fe:a:{c=this.pa.Uf();d=c.X();for(a=d.P.indexOf(c);e=d.P[a];a--){if(e.connection&&e!==c){c=m.C.Bi(e);break a}e=e.fb;f=e.length-1;for(var h;h=
e[f];f--)if(ia(h)||m.C.sh){c=m.C.nk(h);break a}}c=null}return c;case m.C.types.zd:return c=this.pa,m.C.Nf(c.V||c.L);case m.C.types.Gd:c=this.pa;if((c=c.ka)&&!c.Uf())return m.C.Nf(c);break;case m.C.types.Fd:return c=this.pa,m.C.Mf(c.X())}return null};
b.ag=function(){switch(this.Hn){case m.C.types.Cf:var a=this.pa,c=a.Va();return m.C.pk(a.D,new m.g.O(c.x,c.y+m.C.sC));case m.C.types.pi:return a=this.pa,(c=a.ka)?m.C.Nf(c):m.C.im(a.X());case m.C.types.Qb:return m.C.Mf(this.pa.X());case m.C.types.fe:return a=this.pa,m.C.Mf(a.X());case m.C.types.zd:return a=this.pa,ha(a);case m.C.types.Gd:return a=this.pa,ha(a.X());case m.C.types.Fd:return a=this.pa,ha(a.X())}return null};m.g.j={};m.g.j.Fo="http://www.w3.org/2000/svg";m.g.j.dr="http://www.w3.org/1999/xhtml";m.g.j.Kc="http://www.w3.org/1999/xlink";m.g.j.tg={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};m.g.j.Ye=null;m.g.j.rs=0;m.g.j.To=null;m.g.j.K=function(a,c,d){a=document.createElementNS(m.g.j.Fo,a);for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
m.g.j.ub=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};m.g.j.Ac=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};m.g.j.Ht=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};
m.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};m.g.j.Ui=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};m.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&m.g.j.tg.DOCUMENT_POSITION_CONTAINED_BY)};m.g.j.qn=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};m.g.j.wn=function(){m.g.j.rs++;m.g.j.Ye||(m.g.j.Ye={})};
m.g.j.xn=function(){m.g.j.rs--;m.g.j.rs||(m.g.j.Ye=null)};m.g.j.AM=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(m.g.j.Ye&&(d=m.g.j.Ye[c]))return d;try{d=m.g.userAgent.Oe||m.g.userAgent.li?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}m.g.j.Ye&&(m.g.j.Ye[c]=d);return d};m.g.j.vt=function(a,c,d,e){return m.g.j.uG(a,c+"pt",d,e)};
m.g.j.uG=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var h;if(m.g.j.Ye&&(h=m.g.j.Ye[a]))return h;m.g.j.To||(h=document.createElement("canvas"),h.className="blocklyComputeCanvas",document.body.appendChild(h),m.g.j.To=h.getContext("2d"));m.g.j.To.font=d+" "+c+" "+e;h=m.g.j.To.measureText(f).width;m.g.j.Ye&&(m.g.j.Ye[a]=h);return h};
m.g.j.wH=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.Xe=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};m.ib={};m.ib.Ts=0;m.ib.hp=null;m.ib.OF=function(a){var c=a.D,d=a.Da();c.nd.play("delete");a=ja(c,d);d=d.cloneNode(!0);d.VI=a.x;d.WI=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");y(c).appendChild(d);d.Wx=d.getBBox();m.ib.Py(d,c.J,new Date,c.scale)};m.ib.Py=function(a,c,d,e){var f=(new Date-d)/150;1<f?m.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.VI+(c?-1:1)*a.Wx.width*e/2*f)+","+(a.WI+a.Wx.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(m.ib.Py,10,a,c,d,e))};
m.ib.pF=function(a){var c=a.D,d=c.scale;c.nd.play("click");if(!(1>d)){var e=ja(c,a.Da());a.L?(e.x+=(a.J?3:-3)*d,e.y+=13*d):a.V&&(e.x+=(a.J?-23:23)*d,e.y+=3*d);a=m.g.j.K("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},y(c));m.ib.qy(a,new Date,d)}};m.ib.qy=function(a,c,d){var e=(new Date-c)/150;1<e?m.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,m.ib.Ts=setTimeout(m.ib.qy,10,a,c,d))};
m.ib.NF=function(a){a.D.nd.play("disconnect");if(!(1>a.D.scale)){var c=la(a).height;c=Math.atan(10/c)/Math.PI*180;a.J||(c*=-1);m.ib.Oy(a.Da(),c,new Date)}};m.ib.Oy=function(a,c,d){var e=(new Date-d)/200;1<e?a.vn="":(a.vn="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",m.ib.hp=a,m.ib.Ts=setTimeout(m.ib.Oy,10,a,c,d));a.setAttribute("transform",a.Fn+a.vn)};m.ib.Us=function(){if(m.ib.hp){clearTimeout(m.ib.Ts);var a=m.ib.hp;a.vn="";a.setAttribute("transform",a.Fn);m.ib.hp=null}};m.h.Rb=function(a,c,d,e){m.h.Rb.A.constructor.call(this);this.fc=a?a.id:null;this.Bb=a?a.D.id:void 0;this.element=c;this.oldValue=d;this.newValue=e;this.zc=!1};m.g.object.S(m.h.Rb,m.h.Abstract);m.h.Rb.prototype.type=m.h.Rl;m.h.Rb.prototype.Xa=function(){var a=m.h.Rb.A.Xa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.fc&&(a.blockId=this.fc);return a};
m.h.Rb.prototype.va=function(a){m.h.Rb.A.va.call(this,a);this.element=a.element;this.newValue=a.newValue;this.fc=a.blockId};
m.Pe=function(a){this.fh=m.selected=a;this.s=a.D;this.Rk=this.Vt=null;this.tm=ma(this,this.fh);this.Pc=this.Fb=null;this.kg=!1;this.rm=this.Lt=this.dj=null;this.Qo=na(this)};m.Pe.Vj={hr:0,ZC:1,ox:2};m.Pe.prototype.H=function(){this.Qo.length=0;m.h.disable();try{this.tm&&this.tm.H(),this.Rk&&this.Rk.H()}finally{m.h.enable()}};
m.Pe.prototype.update=function(a,c){var d=this.Fb&&this.Pc?m.hC:m.Hd;for(var e=null,f=null,h=0;h<this.Qo.length;h++){var k=this.Qo[h],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.kq)}e=(d={closest:e,local:f,kq:d},!!d.closest)&&c!=m.kw;if((this.kg=!!c&&!this.fh.getParent()&&this.fh.Vd()&&!e)||oa(this,d,a)){m.h.disable();d.closest?(a=this.Fb!=d.closest,c=this.Pc!=d.local,this.Fb&&this.Pc&&(a||c||this.kg)&&pa(this)):pa(this);this.Pc=this.Fb=this.dj=null;if(!this.kg&&(a=d.closest,c=d.local,
a))if(a==this.Fb||a.X().mf())console.log("Trying to connect to an insertion marker");else{this.Fb=a;this.Pc=c;a=this.Fb;d=this.Pc;c=this.fh;d.type==m.Te||d.type==m.Ue?((e=!a.isConnected())||(e=a.na(),d.type==m.Te?(d=e.L,c=m.ra.cA(c,e)):(d=e.V,c=c.Np()),e=c?qa(d,c):!1),c=e?m.Pe.Vj.hr:m.Pe.Vj.ox):c=m.Pe.Vj.hr;switch(c){case m.Pe.Vj.ZC:this.Lt=this.Fb.X();break;case m.Pe.Vj.hr:e=this.Pc;c=this.Fb;d=this.Vt&&e==this.Vt?this.Rk:this.tm;e=d.xt(e.X(),e);if(e==this.dj)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");
d.wa();d.sa=!0;d.Da().setAttribute("visibility","visible");e&&c&&ra(d,e,c);c&&e.connect(c);this.dj=e;break;case m.Pe.Vj.ox:this.rm=this.Fb.na(),sa(this.rm.xb,"blocklyReplaceable",!0)}a&&(d=a.I.D.ob.Z(),c=ta(d,a),a.type==m.bb||a.type==m.Te?(d=d.$j,c=m.g.B.moveBy(0,-d)+m.g.B.aa("v",d)+c.Ee+m.g.B.aa("v",d)):(d=d.Gl-d.rb,c=m.g.B.moveBy(-d,0)+m.g.B.aa("h",d)+c.Sh+m.g.B.aa("h",d)),d=a.I.Va(),m.ra.Oz=m.g.j.K("path",{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-
d.y)+")"+(a.I.J?" scale(-1 1)":"")},a.I.Da()))}m.h.enable()}};function ma(a,c){var d=c.type;m.h.disable();try{var e=a.s.Tk(d);e.$A(!0);if(c.yc){var f=c.yc();f&&e.te(f)}for(a=0;a<c.P.length;a++){var h=c.P[a];if(h.name!=m.jd.rl){var k=e.P[a];for(d=0;d<h.fb.length;d++)k.fb[d].setValue(h.fb[d].getValue())}}e.Zh(c.isCollapsed());e.tj(ua(c));e.Yf();e.Da().setAttribute("visibility","hidden")}finally{m.h.enable()}return e}
function na(a){var c=a.fh.hf(!1),d=a.fh.Np();d&&d!=a.fh.T&&(c.push(d),a.Vt=d,a.Rk=ma(a,d.X()));return c}
function oa(a,c,d){var e=c.local,f=c.closest;c=c.kq;if(e&&f){if(a.Pc&&a.Fb){if(a.Fb==f&&a.Pc==e)return!1;e=a.Pc.x+d.x-a.Fb.x;a=a.Pc.y+d.y-a.Fb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-m.mC)}if(a.Pc||a.Fb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Pc||!a.Fb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function pa(a){a.Fb&&a.Fb.na()&&(m.g.j.removeNode(m.ra.Oz),delete m.ra.Oz);if(a.rm)sa(a.rm.xb,"blocklyReplaceable",!1),a.rm=null;else if(a.Lt)a.Lt=null;else if(a.dj)if(a.dj){var c=a.dj,d=c.X(),e=d.T,f=d.V,h=d.L;h=c.type==m.bb&&!(h&&h.ka);!(c!=e||f&&f.ka)||h?v(c.na(),!1):c.type==m.Pa&&c!=e?(e=c.ka,v(e.X(),!1),f=f?f.ka:null,v(d,!0),f&&f.connect(e)):v(d,!0);if(c.ka)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.dj=null;d.Da().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
m.Pe.prototype.Ck=function(){var a=[];this.tm&&a.push(this.tm);this.Rk&&a.push(this.Rk);return a};m.gi=function(a,c){this.mb=a;this.s=c;this.Qf=new m.Pe(this.mb);this.Di=null;this.kg=!1;this.hg=this.mb.Va();this.jp=m.gi.YG(a)};m.gi.prototype.H=function(){this.jp.length=0;this.Qf&&this.Qf.H()};m.gi.YG=function(a){var c=[];a=t(a,!1);for(var d=0,e;e=a[d];d++){e=va(e);for(var f=0;f<e.length;f++)c.push({location:e[f].Em,icon:e[f]})}return c};
function wa(a,c,d){d=a.Vk(d);var e=m.g.O.sum(a.hg,d);a.mb.su(e);for(e=0;e<a.jp.length;e++){var f=a.jp[e];xa(f.icon,m.g.O.sum(f.location,d))}a.Di=ya(a.s,c);a.Qf.update(d,a.Di);a.kg=a.Qf.kg;c=a.s.Ec;a.kg?(za(a.mb,!0),a.Di==m.Vq&&c&&Aa(c,!0)):(za(a.mb,!1),c&&Aa(c,!1))}
function Ba(a,c,d){wa(a,c,d);a.jp=[];c=new m.h.Rb(a.mb,"dragStop",t(a.mb,!1),null);m.h.Ca(c);m.g.j.xn();m.ib.Us();d=a.Vk(d);c=m.g.O.sum(a.hg,d);var e=a.mb;e.Mn&&(e.translate(c.x,c.y),e.D.Ld.Wo(e.D.qb));c=a.s.Ec;a.kg?(c&&setTimeout(c.close.bind(c),100),a.sm(),a.mb.H(!1,!0),m.xk=[]):c&&c.close();a.kg||(Ca(a.mb,d.x,d.y),a.mb.$h(!1),a.sm(),a.Qf.Fb?(d=a.Qf,d.Fb&&(m.h.disable(),pa(d),m.h.enable(),d.Pc.connect(d.Fb),d.fh.sa&&(m.ib.pF((Da(d.Pc)?d.Fb:d.Pc).X()),Ea(d.fh.bd())))):a.mb.wa(),Fa(a.mb));a.s.pc(!0);
(d=a.s.qa)&&"function"==typeof d.nq&&d.nq(a.mb.Vd()?"blocklyToolboxDelete":"blocklyToolboxGrab");m.h.ca(!1)}m.gi.prototype.sm=function(){var a=new m.h.ql(this.mb);a.yu=this.hg;a.nj();m.h.Ca(a)};m.gi.prototype.Vk=function(a){a=new m.g.O(a.x/this.s.scale,a.y/this.s.scale);this.s.Nm&&a.scale(1/this.s.options.nc.scale);return a};m.gi.prototype.Ck=function(){return this.Qf&&this.Qf.Ck?this.Qf.Ck():[]};m.Touch={};m.Touch.Ax="ontouchstart"in m.g.global||!!(m.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!m.g.global.navigator||!m.g.global.navigator.maxTouchPoints&&!m.g.global.navigator.msMaxTouchPoints);m.Touch.En=null;m.Touch.Df={};
m.g.global.PointerEvent?m.Touch.Df={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:m.Touch.Ax&&(m.Touch.Df={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});m.Op=0;
m.tH=function(a,c){m.Lh();a.changedTouches&&1!=a.changedTouches.length||(m.Op=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&Ga(c,a)},m.pD))};m.Lh=function(){m.Op&&(clearTimeout(m.Op),m.Op=0)};m.Touch.$l=function(){m.Touch.En=null};m.Touch.vv=function(a){return!m.Touch.gH(a)||m.Touch.fF(a)};
m.Touch.xp=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};m.Touch.fF=function(a){var c=m.Touch.xp(a);return void 0!==m.Touch.En&&null!==m.Touch.En?m.Touch.En==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(m.Touch.En=c,!0):!1};
m.Touch.vI=function(a){if(m.g.Ua.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};m.Touch.gH=function(a){return m.g.Ua.startsWith(a.type,"touch")||m.g.Ua.startsWith(a.type,"mouse")||m.g.Ua.startsWith(a.type,"pointer")};m.Touch.Mp=function(a){return m.g.Ua.startsWith(a.type,"touch")||m.g.Ua.startsWith(a.type,"pointer")};
m.Touch.GI=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};
m.g.zK=function(){};
m.Pl=function(a){this.s=a;this.ye=new m.Qa(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.Me=new m.Qa(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.fm=m.g.j.K("rect",{height:m.Qa.Bc,width:m.Qa.Bc,"class":"blocklyScrollbarBackground"},null);m.g.j.Ui(this.fm,a.dh);this.yb=null};m.Pl.prototype.H=function(){m.g.j.removeNode(this.fm);this.yb=this.s=this.fm=null;this.ye.H();this.ye=null;this.Me.H();this.Me=null};
m.Pl.prototype.resize=function(){var a=this.s.Sd();if(a){var c=!1,d=!1;this.yb&&this.yb.Ab==a.Ab&&this.yb.Hb==a.Hb&&this.yb.Lc==a.Lc&&this.yb.vc==a.vc?(this.yb&&this.yb.bf==a.bf&&this.yb.Ib==a.Ib&&this.yb.Nc==a.Nc||(c=!0),this.yb&&this.yb.od==a.od&&this.yb.Pb==a.Pb&&this.yb.wc==a.wc||(d=!0)):d=c=!0;c&&this.ye.resize(a);d&&this.Me.resize(a);this.yb&&this.yb.Ab==a.Ab&&this.yb.vc==a.vc||this.fm.setAttribute("x",this.Me.position.x);this.yb&&this.yb.Hb==a.Hb&&this.yb.Lc==a.Lc||this.fm.setAttribute("y",
this.ye.position.y);this.yb=a}};m.Pl.prototype.set=function(a,c){var d={};a*=this.ye.ratio;c*=this.Me.ratio;var e=this.Me.Ge,f=a/this.ye.Ge;d.x=isNaN(f)?0:f;e=c/e;d.y=isNaN(e)?0:e;this.s.rn(d);Ha(this.ye,a);Ha(this.Me,c)};
m.Qa=function(a,c,d,e){this.s=a;this.Uk=d||!1;this.Qi=c;this.ratio=this.yb=null;this.gm(e);this.position=new m.g.O(0,0);a=m.Qa.Bc;c?(this.Dc.setAttribute("height",a),this.cg.setAttribute("height",a),this.wd.setAttribute("height",a-5),this.wd.setAttribute("y",2.5),this.Om="width",this.HA="x"):(this.Dc.setAttribute("width",a),this.cg.setAttribute("width",a),this.wd.setAttribute("width",a-5),this.wd.setAttribute("x",2.5),this.Om="height",this.HA="y");this.AA=m.ua(this.Dc,"mousedown",this,this.VH);this.BA=
m.ua(this.wd,"mousedown",this,this.WH)};b=m.Qa.prototype;b.Ju=new m.g.O(0,0);b.fB=0;b.Ge=0;b.Dh=0;b.Am=0;b.Vg=!0;b.zi=!0;m.Qa.Bc=15;m.Touch.Ax&&(m.Qa.Bc=25);m.Qa.xH=function(a,c){return a&&c&&a.Ab==c.Ab&&a.Hb==c.Hb&&a.Ib==c.Ib&&a.Pb==c.Pb&&a.Lc==c.Lc&&a.vc==c.vc&&a.bf==c.bf&&a.od==c.od&&a.Nc==c.Nc&&a.wc==c.wc?!0:!1};
m.Qa.prototype.H=function(){Ia();m.$a(this.AA);this.AA=null;m.$a(this.BA);this.BA=null;m.g.j.removeNode(this.cg);this.Dc=this.N=this.cg=null;this.wd&&(this.s.bc.unsubscribe(this.wd),this.wd=null);this.s=null};function Ha(a,c){a.Am=c;a.wd.setAttribute(a.HA,a.Am)}function Ja(a,c){a.Ge=c;a.cg.setAttribute(a.Om,a.Ge);a.Dc.setAttribute(a.Om,a.Ge)}m.Pl.prototype.rj=function(a){this.ye.rj(a);this.Me.rj(a)};b=m.Qa.prototype;
b.setPosition=function(a,c){this.position.x=a;this.position.y=c;m.g.j.qn(this.cg,"translate("+(this.position.x+this.Ju.x)+"px,"+(this.position.y+this.Ju.y)+"px)")};b.resize=function(a){if(!a&&(a=this.s.Sd(),!a))return;m.Qa.xH(a,this.yb)||(this.yb=a,this.Qi?Ka(this,a):La(this,a),Ma(this))};function Ka(a,c){var d=c.Ab-1;a.Uk&&(d-=m.Qa.Bc);Ja(a,Math.max(0,d));d=c.vc+.5;a.Uk&&a.s.J&&(d+=m.Qa.Bc);a.setPosition(d,c.Lc+c.Hb-m.Qa.Bc-.5);Na(a,c)}
function Na(a,c){a.Uk||a.pb(a.Ge<c.bf);a.ratio=a.Ge/c.bf;if(-Infinity==a.ratio||Infinity==a.ratio||isNaN(a.ratio))a.ratio=0;a.Dh=Math.max(0,c.Ab*a.ratio);a.wd.setAttribute(a.Om,a.Dh);Ha(a,Oa(a,(c.Ib-c.Nc)*a.ratio))}function La(a,c){var d=c.Hb-1;a.Uk&&(d-=m.Qa.Bc);Ja(a,Math.max(0,d));d=c.vc+.5;a.s.J||(d+=c.Ab-m.Qa.Bc-1);a.setPosition(d,c.Lc+.5);Pa(a,c)}
function Pa(a,c){a.Uk||a.pb(a.Ge<c.od);a.ratio=a.Ge/c.od;if(-Infinity==a.ratio||Infinity==a.ratio||isNaN(a.ratio))a.ratio=0;a.Dh=Math.max(0,c.Hb*a.ratio);a.wd.setAttribute(a.Om,a.Dh);Ha(a,Oa(a,(c.Pb-c.wc)*a.ratio))}
b.gm=function(a){var c="blocklyScrollbar"+(this.Qi?"Horizontal":"Vertical");a&&(c+=" "+a);this.cg=m.g.j.K("svg",{"class":c},null);this.N=m.g.j.K("g",{},this.cg);this.Dc=m.g.j.K("rect",{"class":"blocklyScrollbarBackground"},this.N);a=Math.floor((m.Qa.Bc-5)/2);this.wd=m.g.j.K("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.N);this.s.bc.subscribe(this.wd,"scrollbarColour","fill");this.s.bc.subscribe(this.wd,"scrollbarOpacity","fill-opacity");m.g.j.Ui(this.cg,y(this.s))};b.isVisible=function(){return this.Vg};
b.rj=function(a){var c=a!=this.zi;this.zi=a;c&&this.In()};b.pb=function(a){var c=a!=this.isVisible();if(this.Uk)throw Error("Unable to toggle visibility of paired scrollbars.");this.Vg=a;c&&this.In()};b.In=function(){this.zi&&this.isVisible()?this.cg.setAttribute("display","block"):this.cg.setAttribute("display","none")};
b.VH=function(a){Ra(this.s);m.Touch.$l();Ia();if(m.g.aj(a))a.stopPropagation();else{var c=m.g.Xm(a,y(this.s),Sa(this.s));c=this.Qi?c.x:c.y;var d=m.g.ym(this.wd);d=this.Qi?d.x:d.y;var e=this.Am,f=.95*this.Dh;c<=d?e-=f:c>=d+this.Dh&&(e+=f);Ha(this,Oa(this,e));Ma(this);a.stopPropagation();a.preventDefault()}};
b.WH=function(a){Ra(this.s);Ia();m.g.aj(a)?a.stopPropagation():(this.II=this.Am,Ta(this.s),this.fB=this.Qi?a.clientX:a.clientY,m.Qa.Rh=m.ua(document,"mouseup",this,this.$H),m.Qa.Qh=m.ua(document,"mousemove",this,this.XH),a.stopPropagation(),a.preventDefault())};b.XH=function(a){Ha(this,Oa(this,this.II+((this.Qi?a.clientX:a.clientY)-this.fB)));Ma(this)};b.$H=function(){Ua(this.s);m.Touch.$l();Ia()};function Ia(){m.Vb(!0);m.Qa.Rh&&(m.$a(m.Qa.Rh),m.Qa.Rh=null);m.Qa.Qh&&(m.$a(m.Qa.Qh),m.Qa.Qh=null)}
function Oa(a,c){return c=0>=c||isNaN(c)||a.Ge<a.Dh?0:Math.min(c,a.Ge-a.Dh)}function Ma(a){var c=a.Am/a.Ge;isNaN(c)&&(c=0);var d={};a.Qi?d.x=c:d.y=c;a.s.rn(d)}b.set=function(a){Ha(this,Oa(this,a*this.ratio));Ma(this)};m.g.Xd={};m.g.Xd.Cv=function(a){return a*Math.PI/180};m.g.Xd.BN=function(a){return 180*a/Math.PI};m.g.Xd.Zl=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};m.ga={};m.ga.Gn={};m.ga.iw="default";m.ga.Kb=function(a){this.tu=a};m.ga.Kb.prototype.toString=function(){return this.tu};m.ga.Kb.RENDERER=new m.ga.Kb("renderer");m.ga.Kb.Qb=new m.ga.Kb("field");m.ga.Kb.ak=new m.ga.Kb("toolbox");m.ga.Kb.zx=new m.ga.Kb("theme");
m.ga.register=function(a,c,d){if(!(a instanceof m.ga.Kb)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var e=m.ga.Gn[a];e||(e=m.ga.Gn[a]={});m.ga.aJ(a,d);if(e[c])throw Error('Name "'+c+'" with type "'+
a+'" already registered.');e[c]=d};m.ga.aJ=function(a,c){switch(a){case String(m.ga.Kb.Qb):if("function"!=typeof c.va)throw Error('Type "'+a+'" must have a fromJson function');}};m.ga.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=m.ga.Gn[a];d?d[c]?delete m.ga.Gn[a][c]:console.warn('No name "'+c+'" with type "'+a+'" found'):console.warn('No type "'+a+'" found')};
m.ga.nz=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=m.ga.Gn[a];return d?d[c]?d[c]:(console.warn('No name "'+c+'" with type "'+a+'" found'),null):(console.warn('No type "'+a+'" found'),null)};m.ga.st=function(a,c){return m.ga.nz(a,c)};m.ga.oz=function(a){return m.ga.nz(m.ga.Kb.zx,a)};m.ga.mG=function(a){var c=m.ga.Kb.ak;a=a.plugins[c.toString()]||m.ga.iw;return"function"==typeof a?a:m.ga.st(c,a)};m.si=function(a,c,d,e){this.name=a;this.wh=c||Object.create(null);this.Uo=d||Object.create(null);this.ny=e||Object.create(null);this.fontStyle=Object.create(null);this.yv=null;m.ga.register(m.ga.Kb.zx,a,this)};m.si.prototype.gf=function(){return this.name+"-theme"};function Va(a,c){return(c=a.ny[c])&&"string"==typeof propertyValue&&Va(a,c)?Va(a,c):c?String(c):null}
m.si.FF=function(a,c){var d=new m.si(a),e=c.base;e&&("string"==typeof e&&(e=m.ga.oz(e)),e instanceof m.si&&(m.g.object.rk(d,e),d.name=a));m.g.object.rk(d.wh,c.blockStyles);m.g.object.rk(d.Uo,c.categoryStyles);m.g.object.rk(d.ny,c.componentStyles);m.g.object.rk(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.yv=c.startHats);return d};m.Ag={};m.Ag.kh={};m.Ag.kh.CF={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
m.Ag.kh.Uo={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};m.Ag.kh=new m.si("classic",m.Ag.kh.CF,m.Ag.kh.Uo);m.g.ma={ML:0,tK:3,SB:8,eE:9,DK:12,jo:13,Wj:16,zJ:17,MB:18,mL:19,sJ:20,Xq:27,tx:32,MD:33,LD:34,DC:35,SC:36,kr:37,Jo:38,Ir:39,io:40,pL:43,qL:44,gr:45,ul:46,ZERO:48,ONE:49,GL:50,BL:51,dK:52,cK:53,zL:54,xL:55,GJ:56,BK:57,aK:59,ZJ:61,YJ:173,$J:163,rL:63,oJ:64,Pv:65,pJ:66,aC:67,hw:68,E:69,KJ:70,eK:71,hK:72,WC:73,mK:74,fD:75,nK:76,sK:77,AK:78,TK:79,lL:80,Q:81,sL:82,px:83,dE:84,IL:85,nE:86,Jx:87,Px:88,xE:89,zE:90,xD:91,NL:92,yJ:93,SK:96,LK:97,RK:98,QK:99,HK:100,GK:101,PK:102,OK:103,FK:104,KK:105,JK:106,NK:107,
IK:109,MK:110,EK:111,LJ:112,PJ:113,QJ:114,RJ:115,SJ:116,TJ:117,UJ:118,VJ:119,WJ:120,MJ:121,NJ:122,OJ:123,CK:144,vL:145,bK:166,oK:183,wL:186,AJ:189,JJ:187,xJ:188,nL:190,AL:191,mJ:192,CL:192,yL:222,UK:219,qJ:220,vJ:221,LL:224,uK:224,vK:91,wK:93,KL:229,JL:252,oL:255};m.Ia={};m.Ia.Fa={};m.Ia.Fa.cj={};m.Ia.Fa.Nh={Wj:"Shift",jC:"Control",MB:"Alt",xD:"Meta"};m.Ia.Fa.oN=function(a,c){var d=m.Ia.Fa.wG(c);d&&delete m.Ia.Fa.cj[d];m.Ia.Fa.cj[a]=c};m.Ia.Fa.xI=function(a){m.Ia.Fa.cj=a};m.Ia.Fa.tM=function(){var a={};m.g.object.Yd(a,m.Ia.Fa.cj);return a};m.Ia.Fa.gG=function(a){return m.Ia.Fa.cj[a]};m.Ia.Fa.wG=function(a){for(var c=Object.keys(m.Ia.Fa.cj),d=0,e;e=c[d];d++)if(m.Ia.Fa.cj[e].name===a.name)return e;return null};
m.Ia.Fa.tI=function(a){for(var c=m.g.object.values(m.Ia.Fa.Nh),d="",e=0,f;f=c[e];e++)a.getModifierState(f)&&(d+=f);return d+=a.keyCode};m.Ia.Fa.dF=function(a,c){for(var d=0,e;e=a[d];d++)if(0>c.indexOf(e))throw Error(e+" is not a valid modifier key.");};m.Ia.Fa.hm=function(a,c){var d="",e=m.g.object.values(m.Ia.Fa.Nh);m.Ia.Fa.dF(c,e);for(var f=0,h;h=e[f];f++)-1<c.indexOf(h)&&(d+=h);return d+a};
m.Ia.Fa.qF=function(){var a={},c=m.Ia.Fa.hm(m.g.ma.fD,[m.Ia.Fa.Nh.jC,m.Ia.Fa.Nh.Wj]),d=m.Ia.Fa.hm(m.g.ma.Jx,[m.Ia.Fa.Nh.Wj]),e=m.Ia.Fa.hm(m.g.ma.Pv,[m.Ia.Fa.Nh.Wj]),f=m.Ia.Fa.hm(m.g.ma.px,[m.Ia.Fa.Nh.Wj]),h=m.Ia.Fa.hm(m.g.ma.hw,[m.Ia.Fa.Nh.Wj]);a[m.g.ma.Jx]=m.navigation.Qn;a[m.g.ma.Pv]=m.navigation.Sv;a[m.g.ma.px]=m.navigation.Pn;a[m.g.ma.hw]=m.navigation.Rv;a[m.g.ma.WC]=m.navigation.FB;a[m.g.ma.jo]=m.navigation.GB;a[m.g.ma.Px]=m.navigation.EB;a[m.g.ma.dE]=m.navigation.LB;a[m.g.ma.E]=m.navigation.Hq;
a[m.g.ma.Xq]=m.navigation.Hq;a[c]=m.navigation.Tv;a[d]=m.navigation.KB;a[e]=m.navigation.IB;a[f]=m.navigation.HB;a[h]=m.navigation.JB;return a};m.g.Oj={};m.g.Oj.MH=0;m.g.Oj.zt=function(){return"blockly-"+(m.g.Oj.MH++).toString(36)};m.g.Le={};m.g.Le.bp=function(a){return a?Array.isArray(a)&&a.length&&!a[0].nodeType?(m.g.Le.Gk(a)&&console.warn("Due to some performance issues, defining a toolbox usingJSON is not ready yet. Please define your toolbox using xml."),a):m.g.Le.nB(a):null};
m.g.Le.nB=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},h=e.tagName.toUpperCase();f.kind=h;"BLOCK"==h?f.blockxml=e:"CATEGORY"==h&&(f.contents=m.g.Le.nB(e));for(h=0;h<e.attributes.length;h++){var k=e.attributes[h];f[k.nodeName]=k.value}c.push(f)}return c};m.g.Le.Gk=function(a){return Array.isArray(a)?!(!a.length||"CATEGORY"!=a[0].kind.toUpperCase()):!(!a||!a.getElementsByTagName("category").length)};m.h.Mj=function(a){this.Bb=a.id;this.group=m.h.Tb();this.zc=!1};m.g.object.S(m.h.Mj,m.h.Rb);m.h.Mj.prototype.type=m.h.uw;m.h.Mj.prototype.Xa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Bb&&(a.workspaceId=this.Bb);return a};m.h.Mj.prototype.va=function(a){this.Bb=a.workspaceId;this.group=a.group};m.h.Bg=function(a){m.h.Bg.A.constructor.call(this);this.ci=a.Ra();this.Bb=a.D.id};m.g.object.S(m.h.Bg,m.h.Abstract);m.h.Bg.prototype.Xa=function(){var a=m.h.Bg.A.Xa.call(this);a.varId=this.ci;return a};m.h.Bg.prototype.va=function(a){m.h.Bg.A.Xa.call(this);this.ci=a.varId};m.h.me=function(a){a&&(m.h.me.A.constructor.call(this,a),this.Ej=a.type,this.Dj=a.name)};m.g.object.S(m.h.me,m.h.Bg);m.h.me.prototype.type=m.h.Ex;
m.h.me.prototype.Xa=function(){var a=m.h.me.A.Xa.call(this);a.varType=this.Ej;a.varName=this.Dj;return a};m.h.me.prototype.va=function(a){m.h.me.A.va.call(this,a);this.Ej=a.varType;this.Dj=a.varName};m.h.me.prototype.run=function(a){var c=ba(this);a?c.cf(this.Dj,this.Ej,this.ci):c.Ei(this.ci)};m.h.We=function(a){a&&(m.h.We.A.constructor.call(this,a),this.Ej=a.type,this.Dj=a.name)};m.g.object.S(m.h.We,m.h.Bg);m.h.We.prototype.type=m.h.Fx;
m.h.We.prototype.Xa=function(){var a=m.h.We.A.Xa.call(this);a.varType=this.Ej;a.varName=this.Dj;return a};m.h.We.prototype.va=function(a){m.h.We.A.va.call(this,a);this.Ej=a.varType;this.Dj=a.varName};m.h.We.prototype.run=function(a){var c=ba(this);a?c.Ei(this.ci):c.cf(this.Dj,this.Ej,this.ci)};m.h.Ff=function(a,c){a&&(m.h.Ff.A.constructor.call(this,a),this.Au=a.name,this.uu=c)};m.g.object.S(m.h.Ff,m.h.Bg);m.h.Ff.prototype.type=m.h.Hx;
m.h.Ff.prototype.Xa=function(){var a=m.h.Ff.A.Xa.call(this);a.oldName=this.Au;a.newName=this.uu;return a};m.h.Ff.prototype.va=function(a){m.h.Ff.A.va.call(this,a);this.Au=a.oldName;this.uu=a.newName};m.h.Ff.prototype.run=function(a){var c=ba(this);a?c.pj(this.ci,this.uu):c.pj(this.ci,this.Au)};m.R={};m.R.jJ=function(){var a=z,c=m.g.xml.createElement("xml"),d=m.R.dJ(m.ba.Ux(a));d.hasChildNodes()&&c.appendChild(d);var e=[].concat(a.zq);1<e.length&&(a.gg.offset=Math.sin(m.g.Xd.Cv(m.tb.qx)),a.J&&(a.gg.offset*=-1),e.sort(a.gg));d=0;for(var f;f=e[d];d++)c.appendChild(f.lB(!0));a=a.jc(!0);for(d=0;e=a[d];d++)c.appendChild(m.R.ns(e,!0));return c};
m.R.dJ=function(a){for(var c=m.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=m.g.xml.createElement("variable");f.appendChild(m.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.Ra();c.appendChild(f)}return c};m.R.ns=function(a,c){if(a.mf()&&(a=a.ue(!1)[0],!a))return new DocumentFragment;var d;a.D.J&&(d=a.D.Qg());c=m.R.Dg(a,c);var e=a.Va();c.setAttribute("x",Math.round(a.D.J?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
m.R.ZF=function(a){var c=!1;a.name&&(a.Ml?c=!0:a.vl&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=m.g.xml.createElement("field"),c.setAttribute("name",a.name||""),a.kB(c)):null};m.R.FE=function(a,c){for(var d=0,e;e=a.P[d];d++)for(var f=0,h;h=e.fb[f];f++)(h=m.R.ZF(h))&&c.appendChild(h)};
m.R.Dg=function(a,c){if(a.mf())return(a=a.ue(!1)[0])?m.R.Dg(a):new DocumentFragment;var d=m.g.xml.createElement(a.Sa?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.yc){var e=a.yc();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}m.R.FE(a,d);if(e=a.$e.text){var f=a.$e.size,h=a.$e.GA,k=m.g.xml.createElement("comment");k.appendChild(m.g.xml.createTextNode(e));k.setAttribute("pinned",h);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=m.g.xml.createElement("data"),e.appendChild(m.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.P[e];e++){var l;h=!0;if(f.type!=m.pg){var n=f.connection.na();f.type==m.bb?l=m.g.xml.createElement("value"):f.type==m.Pa&&(l=m.g.xml.createElement("statement"));k=f.connection.fg;!k||n&&n.Sa||l.appendChild(m.R.iy(k,c));n&&(k=m.R.Dg(n,c),k.nodeType==m.g.j.tg.ELEMENT_NODE&&(l.appendChild(k),h=!1));l.setAttribute("name",f.name);h||d.appendChild(l)}}void 0!=a.Rg&&a.Rg!=a.$G&&d.setAttribute("inline",
a.Rg);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Vd()||a.Sa||d.setAttribute("deletable",!1);a.ud()||a.Sa||d.setAttribute("movable",!1);a.td()||d.setAttribute("editable",!1);if(e=u(a))k=m.R.Dg(e,c),k.nodeType==m.g.j.tg.ELEMENT_NODE&&(l=m.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.T&&a.T.fg;!k||e&&e.Sa||l.appendChild(m.R.iy(k,c));return d};
m.R.iy=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==m.g.j.tg.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&m.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==m.g.j.tg.TEXT_NODE&&""==e.data.trim()&&m.g.j.removeNode(e))}return a};
m.R.Qd=function(a){a=m.g.xml.Qd(a);var c=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var d=a;a=a.replace(c,"$1&#10;$2")}while(a!=d);return a.replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};m.R.bM=function(a){a=m.R.Qd(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};
m.R.Aj=function(a){var c=m.g.xml.NI(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};m.R.WL=function(a,c){c.pc(!1);c.clear();a=m.R.om(a,c);c.pc(!0);return a};
m.R.om=function(a,c){if(a instanceof m.tb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.J&&(e=c.Qg());d=[];m.g.j.wn();var f=m.h.Tb();f||m.h.ca(!0);c.pc&&c.pc(!1);var h=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var n=l.nodeName.toLowerCase(),p=l;if("block"==n||"shadow"==n&&!m.h.zc){var q=m.R.wk(p,c);d.push(q.id);var r=p.hasAttribute("x")?parseInt(p.getAttribute("x"),10):10,x=p.hasAttribute("y")?parseInt(p.getAttribute("y"),10):10;isNaN(r)||
isNaN(x)||q.moveBy(c.J?e-r:r,x);h=!1}else{if("shadow"==n)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==n)c.sa?m.dk?m.dk.vm(p):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):m.uE?m.uE.vm(p):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==n){if(h)m.R.RF(p,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
h=!1}}}}finally{f||m.h.ca(!1),m.g.j.xn()}c.pc&&c.pc(!0);m.h.Ca(new m.h.Mj(c));return d};m.R.TL=function(a,c){var d;c.hasOwnProperty("scale")&&(d=Wa(c));a=m.R.om(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.J?d.right:d.left;var h=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var n=c.$c(a[d]).Va();n.y<l&&(l=n.y);n.x<h&&(h=n.x);n.x>k&&(k=n.x)}e=e-l+10;f=c.J?f-k:f-h;for(d=0;d<a.length;d++)c.$c(a[d]).moveBy(f,e)}return a};
m.R.wk=function(a,c){if(a instanceof m.tb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}m.h.disable();d=c.Ji();try{var e=m.R.Ys(a,c),f=t(e,!1);if(c.sa){Xa(e,!1);for(var h=f.length-1;0<=h;h--)f[h].Yf();for(h=f.length-1;0<=h;h--)f[h].wa(!1);setTimeout(function(){e.ef||Xa(e,!0)},1);Ya(e);Za(c)}else for(h=f.length-1;0<=h;h--)f[h].Si()}finally{m.h.enable()}if(m.h.isEnabled()){a=m.ba.gz(c,d);for(h=0;h<a.length;h++)m.h.Ca(new m.h.me(a[h]));m.h.Ca(new m.h.Vn(e))}return e};
m.R.RF=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==m.g.j.tg.ELEMENT_NODE){var f=e.getAttribute("type"),h=e.getAttribute("id");c.cf(e.textContent,f,h)}};
m.R.Ys=function(a,c){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=c.Tk(e,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=m.g.j.tg.TEXT_NODE){var l=h=null;var n=0;for(var p;p=k.childNodes[n];n++)p.nodeType==m.g.j.tg.ELEMENT_NODE&&("block"==p.nodeName.toLowerCase()?h=p:"shadow"==p.nodeName.toLowerCase()&&(l=p));!h&&l&&(h=l);p=k.getAttribute("name");n=k;switch(k.nodeName.toLowerCase()){case "mutation":d.te&&
(d.te(n),d.Yf&&d.Yf());break;case "comment":if(!m.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}h=n.textContent;l="true"==n.getAttribute("pinned");k=parseInt(n.getAttribute("w"),10);n=parseInt(n.getAttribute("h"),10);d.Zk(h);d.$e.GA=l;isNaN(k)||isNaN(n)||(d.$e.size=new m.g.Jd(k,n));l&&d.nG&&!d.Oc&&setTimeout(function(){d.If.pb(!0)},1);break;case "data":d.data=k.textContent;break;case "title":case "field":m.R.QF(d,p,n);break;case "value":case "statement":n=
w(d,p);if(!n){console.warn("Ignoring non-existent input "+p+" in block "+e);break}l&&(n.connection.fg=l);if(h)if(h=m.R.Ys(h,c),h.L)n.connection.connect(h.L);else if(h.V)n.connection.connect(h.V);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.T&&(d.T.fg=l);if(h){if(!d.T)throw TypeError("Next statement does not exist.");if(d.T.isConnected())throw TypeError("Next statement is already connected.");h=m.R.Ys(h,c);if(!h.V)throw TypeError("Next block does not have previous statement.");
d.T.connect(h.V)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.tj("true"==f);(f=a.getAttribute("disabled"))&&d.rf("true"!=f&&"disabled"!=f);if(f=a.getAttribute("deletable"))d.Ks="true"==f;(f=a.getAttribute("movable"))&&d.qq("true"==f);(f=a.getAttribute("editable"))&&d.jv("true"==f);(f=a.getAttribute("collapsed"))&&d.Zh("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.ue(!1);for(f=0;c=a[f];f++)if(!c.Sa)throw TypeError("Shadow block not allowed non-shadow child.");
if($a(d).length)throw TypeError("Shadow blocks cannot have variable references.");d.ov(!0)}return d};m.R.QF=function(a,c,d){var e=ca(a,c);e?e.vm(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};m.R.GF=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};m.rc=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,h=!1,k=!1,l=!1,n=!1;else{d=a.toolbox;Array.isArray(d)||(d=m.rc.EA(d||null));d=m.g.Le.bp(d);e=m.g.Le.Gk(d);f=a.trashcan;void 0===f&&(f=e);var p=a.maxTrashcanContents;f?void 0===p&&(p=32):p=0;h=a.collapse;void 0===h&&(h=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);n=a.sounds;void 0===n&&(n=!0)}var q=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var x=a.toolboxPosition;x="end"!==x;x=r?x?m.zg:m.bk:x==q?m.yg:m.Kd;var B=
a.css;void 0===B&&(B=!0);var X="https://blockly-demo.appspot.com/static/media/";a.media?X=a.media:a.path&&(X=a.path+"media/");var ka=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,Qa=a.keyMap||m.Ia.Fa.qF(),cf=a.renderer||"geras",df=a.plugins||{};this.J=q;this.$m=ka;this.collapse=h;this.kF=k;this.disable=l;this.readOnly=c;this.mu=a.maxBlocks||Infinity;this.Rp=a.maxInstances;this.an=X;this.Gk=e;this.mc=m.rc.cI(a,e);this.Jz=f;this.Sp=p;this.SG=n;this.PG=B;this.cd=r;this.$f=d;this.Ez=m.rc.bI(a);this.gb=
m.rc.eI(a);this.Ka=x;this.QI=m.rc.dI(a);this.Fa=Qa;this.mn=cf;this.nn=a.rendererOverrides;this.Et=null;this.nc=a.parentWorkspace;this.plugins=df};m.rJ=function(){};m.rc.cI=function(a,c){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?c:!!d.scrollbars||!!a.scrollbars;e.ei=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.Bh=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
m.rc.eI=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.ei=void 0===a.wheel?!1:!!a.wheel;c.KI=void 0===a.startScale?1:Number(a.startScale);c.Sm=void 0===a.maxScale?3:Number(a.maxScale);c.Um=void 0===a.minScale?.3:Number(a.minScale);c.rI=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.Qu=void 0===a.pinch?c.ei||c.controls:!!a.pinch;return c};
m.rc.bI=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.jb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.uN=0<c.spacing&&!!a.snap;return c};m.rc.dI=function(a){a=a.theme||m.Ag.kh;return"string"==typeof a?m.ga.oz(a):a instanceof m.si?a:m.si.FF(a.name||"builtin"+m.g.Oj.zt(),a)};
m.rc.EA=function(a){if(a){if("string"!=typeof a&&(m.g.userAgent.Oe&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=m.R.Aj(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};m.Wr=function(a){this.La=Object.create(null);this.D=a};b=m.Wr.prototype;b.clear=function(){this.La=Object.create(null)};b.Zu=function(a,c){var d=this.we(c,a.type),e=A(this.D);m.h.ca(!0);try{if(d&&d.Ra()!=a.Ra()){var f=a.type;c!=d.name&&ab(d,c,e);for(c=0;c<e.length;c++)for(var h=void 0,k=e[c],l=a.Ra(),n=d.Ra(),p=0;h=k.P[p];p++)for(var q=0,r;r=h.fb[q];q++)r.mq()&&l==r.getValue()&&r.setValue(n);m.h.Ca(new m.h.We(a));this.La[f].splice(this.zm(f).indexOf(a),1)}else ab(a,c,e)}finally{m.h.ca(!1)}};
b.pj=function(a,c){var d=this.Pg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.Zu(d,c)};function ab(a,c,d){m.h.Ca(new m.h.Ff(a,c));a.name=c;for(c=0;c<d.length;c++)for(var e,f=d[c],h=a,k=0;e=f.P[k];k++)for(var l=0,n;n=e.fb[l];l++)n.mq()&&h.Ra()==n.getValue()&&bb(n)}
b.cf=function(a,c,d){var e=this.we(a,c);if(e){if(d&&e.Ra()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.Ra()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Pg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||m.g.Mg();c=c||"";e=new m.Sl(this.D,a,c,e);a=this.La[c]||[];a.push(e);delete this.La[c];this.La[c]=a;return e};
b.Ei=function(a){var c=this.Pg(a);if(c){var d=c.name,e=this.Dt(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=C(f,"NAME");d=m.m.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);m.alert(d);return}var h=this;1<e.length?(d=m.m.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),m.confirm(d,function(k){k&&c&&cb(h,c,e)})):cb(h,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function cb(a,c,d){var e=m.h.Tb();e||m.h.ca(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var h=a.La[c.type];a=0;for(var k;k=h[a];a++)if(k.Ra()==c.Ra()){h.splice(a,1);m.h.Ca(new m.h.We(c));break}}finally{e||m.h.ca(!1)}}b.we=function(a,c){if(c=this.La[c||""])for(var d=0,e;e=c[d];d++)if(m.ke.Rf(e.name,a))return e;return null};b.Pg=function(a){for(var c=Object.keys(this.La),d=0;d<c.length;d++)for(var e=c[d],f=0,h;h=this.La[e][f];f++)if(h.Ra()==a)return h;return null};
b.zm=function(a){return(a=this.La[a||""])?a.slice():[]};b.Ct=function(a){var c={};m.g.object.Yd(c,this.La);a&&a.Th&&m.g.object.Yd(c,a.Th.La);a=Object.keys(c);c=!1;for(var d=0;d<a.length;d++)""==a[d]&&(c=!0);c||a.push("");return a};b.Ji=function(){var a=[],c;for(c in this.La)a=a.concat(this.La[c]);return a};b.ot=function(){var a=[],c;for(c in this.La)for(var d=this.La[c],e=0,f;f=d[e];e++)a.push(f.name);return a};
b.Dt=function(a){for(var c=[],d=A(this.D),e=0;e<d.length;e++){var f=$a(d[e]);if(f)for(var h=0;h<f.length;h++)f[h].Ra()==a&&c.push(d[e])}return c};m.tb=function(a){this.id=m.g.Mg();m.tb.Ul[this.id]=this;this.options=a||new m.rc({});this.J=!!this.options.J;this.cd=!!this.options.cd;this.Ka=this.options.Ka;this.Dn=[];this.zq=[];this.Zo=Object.create(null);this.fd=[];this.jl=[];this.lq=[];this.ls=Object.create(null);this.hh=Object.create(null);this.La=new m.Wr(this);this.Th=null};b=m.tb.prototype;b.sa=!1;b.Tt=!1;b.Ow=1024;b.ap=null;b.H=function(){this.fd.length=0;this.clear();delete m.tb.Ul[this.id]};m.tb.qx=3;b=m.tb.prototype;
b.gg=function(a,c){a=a.Va();c=c.Va();return a.y+m.tb.prototype.gg.offset*a.x-(c.y+m.tb.prototype.gg.offset*c.x)};b.No=function(a){this.Dn.push(a)};b.oq=function(a){if(!m.g.Xl(this.Dn,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.jc=function(a){var c=[].concat(this.Dn);a&&1<c.length&&(this.gg.offset=Math.sin(m.g.Xd.Cv(m.tb.qx)),this.J&&(this.gg.offset*=-1),c.sort(this.gg));return c};function db(a,c){return a.hh[c]?a.hh[c].slice(0):[]}
function A(a){var c=a.jc(!1);for(a=0;a<c.length;a++)c.push.apply(c,c[a].ue(!1));return c.filter(function(d){return!d.mf()})}b.clear=function(){this.Tt=!0;try{var a=m.h.Tb();for(a||m.h.ca(!0);this.Dn.length;)this.Dn[0].H(!1);for(;this.zq.length;)this.zq[this.zq.length-1].H(!1);a||m.h.ca(!1);this.La.clear();this.Th&&this.Th.clear()}finally{this.Tt=!1}};b.pj=function(a,c){this.La.pj(a,c)};b.cf=function(a,c,d){return this.La.cf(a,c,d)};b.Dt=function(a){return this.La.Dt(a)};b.Ei=function(a){this.La.Ei(a)};
b.we=function(a,c){return this.La.we(a,c)};b.Pg=function(a){return this.La.Pg(a)};b.zm=function(a){return this.La.zm(a)};b.Ct=function(){return this.La.Ct(this)};b.Ji=function(){return this.La.Ji()};b.ot=function(){return this.La.ot()};b.Qg=function(){return 0};b.Tk=function(a,c){return new m.jd(this,a,c)};function eb(a){return isNaN(a.options.mu)?Infinity:a.options.mu-A(a).length}
function fb(a,c){if(!gb(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.Rp?(void 0!==a.options.Rp[e]?a.options.Rp[e]:Infinity)-db(a,e).length:Infinity))return!1;d+=c[e]}return d>eb(a)?!1:!0}function gb(a){return Infinity!=a.options.mu||!!a.options.Rp}
b.Bq=function(a){var c=a?this.lq:this.jl,d=a?this.jl:this.lq,e=c.pop();if(e){for(var f=[e];c.length&&e.group&&e.group==c[c.length-1].group;)f.push(c.pop());for(c=0;e=f[c];c++)d.push(e);f=m.h.filter(f,a);m.h.zc=!1;try{for(c=0;e=f[c];c++)e.run(a)}finally{m.h.zc=!0}}};function hb(a,c){a.fd.push(c)}function ib(a,c){m.g.Xl(a.fd,c)}b.$c=function(a){return this.ls[a]||null};b.rv=function(a){this.La=a};m.tb.Ul=Object.create(null);m.tb.wm=function(a){return m.tb.Ul[a]||null};
m.tb.getAll=function(){var a=[],c;for(c in m.tb.Ul)a.push(m.tb.Ul[c]);return a};m.ta=function(a,c,d,e,f,h){this.s=a;this.Jg=c;this.AI=d;this.Fu=this.Eu=this.qu=this.UA=null;this.ef=!1;d=m.ta.QB;this.s.J&&(d=-d);this.IE=m.g.Xd.Cv(d);a.dh.appendChild(this.gm(c,!(!f||!h)));this.Lb=e;this.av&&jb(this);f&&h||(a=this.Jg.getBBox(),f=a.width+2*m.ta.Ad,h=a.height+2*m.ta.Ad);kb(this,f,h);jb(this);lb(this);this.av=!0};m.ta.Ad=6;m.ta.RB=5;m.ta.QB=20;m.ta.Yv=4;m.ta.NB=8;m.ta.Rh=null;m.ta.Qh=null;m.ta.Hv=function(){m.ta.Rh&&(m.$a(m.ta.Rh),m.ta.Rh=null);m.ta.Qh&&(m.$a(m.ta.Qh),m.ta.Qh=null)};
m.ta.XE=function(){m.Touch.$l();m.ta.Hv()};b=m.ta.prototype;b.av=!1;b.Lb=null;b.eg=0;b.Vh=0;b.lb=0;b.xc=0;b.hs=!0;
b.gm=function(a,c){this.pe=m.g.j.K("g",{},null);var d={filter:"url(#"+this.s.ob.Z().kp+")"};m.g.userAgent.eD&&(d={});d=m.g.j.K("g",d,this.pe);this.Yx=m.g.j.K("path",{},d);this.Ro=m.g.j.K("rect",{"class":"blocklyDraggable",x:0,y:0,rx:m.ta.Ad,ry:m.ta.Ad},d);c?(this.Yg=m.g.j.K("g",{"class":this.s.J?"blocklyResizeSW":"blocklyResizeSE"},this.pe),c=2*m.ta.Ad,m.g.j.K("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Yg),m.g.j.K("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/
3},this.Yg),m.g.j.K("line",{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Yg)):this.Yg=null;this.s.options.readOnly||(this.Eu=m.ua(this.Ro,"mousedown",this,this.WE),this.Yg&&(this.Fu=m.ua(this.Yg,"mousedown",this,this.oI)));this.pe.appendChild(a);return this.pe};b.Da=function(){return this.pe};function mb(a,c){a.pe.dataset&&(a.pe.dataset.blockId=c)}
b.WE=function(a){var c=this.s.Ch(a);if(c){if(c.Ni)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.$d||(c.$d=this);c.Ae=a}};b.tn=function(){};b.Vd=function(){return!1};b.oI=function(a){var c=this.pe.parentNode;c.lastChild!==this.pe&&c.appendChild(this.pe);m.ta.Hv();m.g.aj(a)||(this.s.xv(a,new m.g.O(this.s.J?-this.lb:this.lb,this.xc)),m.ta.Rh=m.ua(document,"mouseup",this,m.ta.XE),m.ta.Qh=m.ua(document,"mousemove",this,this.pI),m.Vb());a.stopPropagation()};
b.pI=function(a){this.hs=!1;var c=this.s;a=m.g.Xm(a,y(c),Sa(c));a.x/=c.scale;a.y/=c.scale;c=m.g.O.sum(c.Uy,a);kb(this,this.s.J?-c.x:c.x,c.y);this.s.J&&jb(this)};function nb(a,c){a.qu=c}function ob(a,c,d){var e=a.s.J?a.Lb.x-c.x-a.lb:c.x+a.Lb.x;c=c.y+a.Lb.y;return Math.max(0,Math.min(1,(Math.min(e+a.lb,d.Ib+d.Ab)-Math.max(e,d.Ib))*(Math.min(c+a.xc,d.Pb+d.Hb)-Math.max(c,d.Pb))/(a.lb*a.xc)))}function jb(a){var c=a.Lb.x;c=a.s.J?c-(a.eg+a.lb):c+a.eg;a.moveTo(c,a.Vh+a.Lb.y)}
b.moveTo=function(a,c){this.pe.setAttribute("transform","translate("+a+","+c+")")};b.$h=function(a){!a&&this.qu&&this.qu()};
function kb(a,c,d){var e=2*m.ta.Ad;c=Math.max(c,e+45);d=Math.max(d,e+20);a.lb=c;a.xc=d;a.Ro.setAttribute("width",c);a.Ro.setAttribute("height",d);a.Yg&&(a.s.J?a.Yg.setAttribute("transform","translate("+2*m.ta.Ad+","+(d-e)+") scale(-1 1)"):a.Yg.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.hs){c=a.s.Sd();c.Ib/=a.s.scale;c.Ab/=a.s.scale;c.Pb/=a.s.scale;c.Hb/=a.s.scale;d=-a.lb/4;if(!(a.lb>c.Ab)){if(a.s.J){e=a.Lb.x-d;var f=e-a.lb;var h=c.Ib+c.Ab,k=c.Ib+m.Qa.Bc/a.s.scale}else f=d+a.Lb.x,
e=f+a.lb,k=c.Ib,h=c.Ib+c.Ab-m.Qa.Bc/a.s.scale;a.s.J?f<k?d=-(k-a.Lb.x+a.lb):e>h&&(d=-(h-a.Lb.x)):f<k?d=k-a.Lb.x:e>h&&(d=h-a.Lb.x-a.lb)}f=d;d=-a.xc/4;if(!(a.xc>c.Hb)){e=a.Lb.y+d;h=e+a.xc;k=c.Pb;var l=c.Pb+c.Hb-m.Qa.Bc/a.s.scale,n=a.Lb.y;e<k?d=k-n:h>l&&(d=l-n-a.xc)}k=d;h=a.AI.getBBox();d={x:f,y:-a.xc-a.s.ob.Z().Dl};e={x:-a.lb-30,y:k};k={x:h.width,y:k};l={x:f,y:h.height};f=h.width<h.height?k:l;h=h.width<h.height?l:k;k=ob(a,d,c);l=ob(a,e,c);n=ob(a,f,c);c=Math.max(k,l,n,ob(a,h,c));k==c?(a.eg=d.x,a.Vh=d.y):
l==c?(a.eg=e.x,a.Vh=e.y):n==c?(a.eg=f.x,a.Vh=f.y):(a.eg=h.x,a.Vh=h.y)}jb(a);lb(a);a.UA&&a.UA()}
function lb(a){var c=[],d=a.lb/2,e=a.xc/2,f=-a.eg,h=-a.Vh;if(d==f&&e==h)c.push("M "+d+","+e);else{h-=e;f-=d;a.s.J&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var n=l+Math.PI/2;n>2*Math.PI&&(n-=2*Math.PI);var p=Math.sin(n),q=Math.cos(n),r=new m.g.Jd(a.lb,a.xc);n=(r.width+r.height)/m.ta.RB;n=Math.min(n,r.width,r.height)/4;r=1-m.ta.NB/k;f=d+r*f;h=e+r*h;r=d+n*q;var x=e+n*p;d-=n*q;e-=n*p;p=l+a.IE;p>2*Math.PI&&(p-=2*Math.PI);l=Math.sin(p)*k/m.ta.Yv;k=Math.cos(p)*k/m.ta.Yv;c.push("M"+
r+","+x);c.push("C"+(r+k)+","+(x+l)+" "+f+","+h+" "+f+","+h);c.push("C"+f+","+h+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Yx.setAttribute("d",c.join(" "))}b.He=function(a){this.Ro.setAttribute("fill",a);this.Yx.setAttribute("fill",a)};b.H=function(){this.Eu&&m.$a(this.Eu);this.Fu&&m.$a(this.Fu);m.ta.Hv();m.g.j.removeNode(this.pe);this.ef=!0};b.su=function(a,c){a?a.Bj(c.x,c.y):this.moveTo(c.x,c.y);this.eg=this.s.J?this.Lb.x-c.x-this.lb:c.x-this.Lb.x;this.Vh=c.y-this.Lb.y;lb(this)};
b.Va=function(){return new m.g.O(this.s.J?-this.eg+this.Lb.x-this.lb:this.Lb.x+this.eg,this.Lb.y+this.Vh)};m.h.lg=function(a){this.Jf=a.id;this.Bb=a.D.id;this.group=m.h.Tb();this.zc=m.h.zc};m.g.object.S(m.h.lg,m.h.Abstract);m.h.lg.prototype.Xa=function(){var a=m.h.lg.A.Xa.call(this);this.Jf&&(a.commentId=this.Jf);return a};m.h.lg.prototype.va=function(a){m.h.lg.A.va.call(this,a);this.Jf=a.commentId};m.h.Jj=function(a,c,d){a&&(m.h.Jj.A.constructor.call(this,a),this.sA=c,this.Xp=d)};m.g.object.S(m.h.Jj,m.h.lg);b=m.h.Jj.prototype;b.type=m.h.dw;
b.Xa=function(){var a=m.h.Jj.A.Xa.call(this);a.newContents=this.Xp;return a};b.va=function(a){m.h.Jj.A.va.call(this,a);this.Xp=a.newValue};b.$i=function(){return this.sA==this.Xp};b.run=function(a){var c;(c=ba(this).Zo[this.Jf]||null)?c.pN(a?this.Xp:this.sA):console.warn("Can't change non-existent comment: "+this.Jf)};m.h.mg=function(a){a&&(m.h.mg.A.constructor.call(this,a),this.xml=a.lB())};m.g.object.S(m.h.mg,m.h.lg);m.h.mg.prototype.type=m.h.Yn;
m.h.mg.prototype.Xa=function(){var a=m.h.mg.A.Xa.call(this);a.xml=m.R.Qd(this.xml);return a};m.h.mg.prototype.va=function(a){m.h.mg.A.va.call(this,a);this.xml=m.R.Aj(a.xml)};m.h.mg.prototype.run=function(a){m.h.gw(this,a)};m.h.gw=function(a,c){var d=ba(a);c?(c=m.g.xml.createElement("xml"),c.appendChild(a.xml),m.R.om(c,d)):(d=d.Zo[a.Jf]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Jf)};m.h.ng=function(a){a&&(m.h.ng.A.constructor.call(this,a),this.xml=a.lB())};
m.g.object.S(m.h.ng,m.h.lg);m.h.ng.prototype.type=m.h.ew;m.h.ng.prototype.Xa=function(){return m.h.ng.A.Xa.call(this)};m.h.ng.prototype.va=function(a){m.h.ng.A.va.call(this,a)};m.h.ng.prototype.run=function(a){m.h.gw(this,!a)};m.h.ji=function(a){a&&(m.h.ji.A.constructor.call(this,a),this.As=a,this.zu=a.Dz(),this.ij=null)};m.g.object.S(m.h.ji,m.h.lg);b=m.h.ji.prototype;
b.nj=function(){if(!this.As)throw Error("Tried to record the new position of a comment on the same event twice.");this.ij=this.As.Dz();this.As=null};b.type=m.h.Zn;b.Xa=function(){var a=m.h.ji.A.Xa.call(this);this.ij&&(a.newCoordinate=Math.round(this.ij.x)+","+Math.round(this.ij.y));return a};b.va=function(a){m.h.ji.A.va.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.ij=new m.g.O(Number(a[0]),Number(a[1])))};b.$i=function(){return m.g.O.Rf(this.zu,this.ij)};
b.run=function(a){var c;if(c=ba(this).Zo[this.Jf]||null){a=a?this.ij:this.zu;var d=c.Dz();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Jf)};m.Wn=function(a,c){this.$b=a;this.s=c;this.Di=null;this.Fq=!1;this.hg=this.$b.Va();this.Gi=m.g.Vi()&&c.Ld?c.Ld:null};m.Wn.prototype.H=function(){this.Gi=this.s=this.$b=null};function pb(a,c,d){d=a.Vk(d);d=m.g.O.sum(a.hg,d);a.$b.su(a.Gi,d);a.$b.Vd()&&(a.Di=ya(a.s,c),a.Fq=a.Di!=m.jw,c=a.s.Ec,a.Fq?(za(a.$b,!0),a.Di==m.Vq&&c&&Aa(c,!0)):(za(a.$b,!1),c&&Aa(c,!1)))}
function qb(a,c,d){pb(a,c,d);c=a.Vk(d);c=m.g.O.sum(a.hg,c);a.$b.moveTo(c.x,c.y);c=a.s.Ec;a.Fq?(c&&setTimeout(c.close.bind(c),100),a.sm(),a.$b.H(!1,!0)):c&&c.close();a.Fq||(a.Gi&&a.Gi.Wo(a.s.dh),a.$b.$h&&a.$b.$h(!1),a.sm());a.s.pc(!0);(c=a.s.qa)&&"function"==typeof c.nq&&c.nq(a.$b.Vd()?"blocklyToolboxDelete":"blocklyToolboxGrab");m.h.ca(!1)}m.Wn.prototype.sm=function(){if(this.$b.JM){var a=new m.h.ji(this.$b);a.zu=this.hg;a.nj();m.h.Ca(a)}};
m.Wn.prototype.Vk=function(a){a=new m.g.O(a.x/this.s.scale,a.y/this.s.scale);this.s.Nm&&a.scale(1/this.s.options.nc.scale);return a};m.Vl=function(a){this.s=a;this.gB=new m.g.O(a.scrollX,a.scrollY)};m.Vl.prototype.H=function(){this.s=null};m.Vl.prototype.xv=function(){m.selected&&rb(m.selected);Ta(this.s)};m.Vl.prototype.Bh=function(a){a=m.g.O.sum(this.gB,a);this.s.scroll(a.x,a.y)};m.po=function(a){m.po.A.constructor.call(this,a.s);this.YA=a.Ha;this.Jk=a.cd};m.g.object.S(m.po,m.Vl);m.po.prototype.Bh=function(a){a=m.g.O.sum(this.gB,a);this.Jk?this.YA.set(-a.x):this.YA.set(-a.y)};m.hd=function(a){this.name=a};m.navigation={};m.navigation.Sk=null;m.navigation.xx=1;m.navigation.Ol=2;m.navigation.Rr=3;m.navigation.Mx=40;m.navigation.Ci=m.navigation.Ol;m.navigation.Aa={Gd:"previous",Fd:"next",qo:"in",Co:"out",gr:"insert",pr:"mark",mw:"disconnect",ak:"toolbox",Yq:"exit",Sr:"toggle_keyboard_nav",Tw:"move workspace cursor up",Qw:"move workspace cursor down",Rw:"move workspace cursor left",Sw:"move workspace cursor right"};m.navigation.Cl="local_marker_1";m.navigation.ad=function(){return m.navigation.Nb().ad(m.navigation.Cl)};
m.navigation.Nb=function(){return m.Tf()};m.navigation.dz=function(){var a=m.navigation.Nb().qa;a&&(m.navigation.Ci=m.navigation.Rr,m.navigation.TA(!1),m.navigation.ad().Wa||m.navigation.iu(),a.Fc.Zd||sb(a.Fc))};m.navigation.cz=function(){m.navigation.Ci=m.navigation.xx;var a=m.navigation.Nb();var c=a.qa;a=c?c.Mb():a.Mb();m.navigation.ad().Wa||m.navigation.iu();a&&a.s&&(a=a.s.jc(!0),0<a.length&&(a=a[0],a=m.C.im(a),D(m.navigation.Bk(),a)))};
m.navigation.op=function(){m.Vb();var a=m.navigation.Nb(),c=a.wb(),d=!!a.qa,e=a.jc(!0);m.navigation.TA(d);m.navigation.Ci=m.navigation.Ol;0<e.length?D(c,m.C.Ds(e[0])):(a=m.C.pk(a,new m.g.O(100,100)),D(c,a))};m.navigation.Bk=function(){var a=m.navigation.Nb(),c=null;a.sa&&(c=(a=(c=a.qa)?c.Mb():a.Mb())?a.s.wb():null);return c};
m.navigation.aH=function(){var a=m.navigation.Nb(),c=a.Mb();if(c&&c.isVisible()){var d=m.navigation.Bk().Wa.pa;d.isEnabled()?(c=tb(c,d),c.wa(),Xa(c,!0),D(a.wb(),m.C.Mf(c)),m.navigation.nA()||m.navigation.Sc("Something went wrong while inserting a block from the flyout."),m.navigation.op(),D(a.wb(),m.C.Ds(c)),m.navigation.kI()):m.navigation.Sc("Can't insert a disabled block.")}else m.navigation.Sc("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
m.navigation.TA=function(a){m.navigation.Bk()&&(m.navigation.Bk().Ea(),a&&m.navigation.Nb().Mb().Ea())};
m.navigation.yH=function(){var a=m.navigation.ad().Wa,c=m.navigation.Nb().wb().Wa;if(!a)return m.navigation.Sc("Cannot insert with no marked node."),!1;if(!c)return m.navigation.Sc("Cannot insert with no cursor node."),!1;a=a.Za();c=c.Za();return a==m.C.types.Qb?(m.navigation.Sc("Should not have been able to mark a field."),!1):a==m.C.types.zd?(m.navigation.Sc("Should not have been able to mark a block."),!1):a==m.C.types.Cf?(m.navigation.Sc("Should not have been able to mark a stack."),!1):c==m.C.types.Qb?
(m.navigation.Sc("Cannot attach a field to anything else."),!1):c==m.C.types.Gf?(m.navigation.Sc("Cannot attach a workspace to anything else."),!1):!0};m.navigation.EH=function(a,c){if(!a)return!1;if(a.Sa)return m.navigation.Sc("Cannot move a shadow block to the workspace."),!1;a.getParent()&&v(a,!1);a.moveTo(c.Gq);return!0};
m.navigation.nA=function(){var a=m.navigation.ad().Wa,c=m.navigation.Nb().wb().Wa;if(!m.navigation.yH())return!1;var d=a.Za(),e=c.Za(),f=c.pa,h=a.pa;if(a.Mk&&c.Mk)return m.navigation.af(f,h);if(a.Mk&&(e==m.C.types.zd||e==m.C.types.Cf))return m.navigation.Tz(f,h);if(d==m.C.types.Gf)return c=c?c.X():null,m.navigation.EH(c,a);m.navigation.Sc("Unexpected state in Blockly.navigation.modify_.");return!1};
m.navigation.MF=function(a,c){var d=a.X(),e=c.X();d.bd()==e.bd()&&(-1<t(d,!1).indexOf(e)?m.navigation.tp(c).disconnect():m.navigation.tp(a).disconnect())};m.navigation.pu=function(a,c){if(!a||!c)return!1;var d=a.X();return ub(c,a)==m.ra.Xn?(m.navigation.MF(a,c),Da(c)||ra(d.bd(),a,c),c.connect(a),!0):!1};m.navigation.tp=function(a){var c=a.X();return Da(a)?c.V?c.V:c.L?c.L:null:a};m.navigation.Az=function(a){return Da(a)?a:a.ka?a.ka:null};
m.navigation.af=function(a,c){if(!a||!c)return!1;var d=m.navigation.tp(a),e=m.navigation.Az(c),f=m.navigation.Az(a),h=m.navigation.tp(c);if(d&&e&&m.navigation.pu(d,e)||f&&h&&m.navigation.pu(f,h)||m.navigation.pu(a,c))return!0;try{vb(c,a)}catch(k){m.navigation.Sc("Connection failed with error: "+k)}return!1};
m.navigation.Tz=function(a,c){switch(c.type){case m.Ue:if(m.navigation.af(a.T,c))return!0;break;case m.Pa:if(m.navigation.af(a.V,c))return!0;break;case m.bb:if(m.navigation.af(a.L,c))return!0;break;case m.Te:for(var d=0;d<a.P.length;d++){var e=a.P[d].connection;if(e&&e.type===m.bb&&m.navigation.af(e,c))return!0}if(a.L&&m.navigation.af(a.L,c))return!0}m.navigation.Sc("This block can not be inserted at the marked location.");return!1};
m.navigation.LF=function(){var a=m.navigation.Nb(),c=a.wb().Wa;if(c.Mk){var d=c.pa;d.isConnected()?(c=Da(d)?d:d.ka,d=Da(d)?d.ka:d,d.X().Sa?m.navigation.au("Cannot disconnect a shadow block"):(c.disconnect(),wb(d,c),Ea(c.X().bd()),c=m.C.Nf(c),D(a.wb(),c))):m.navigation.au("Cannot disconnect unconnected connection")}else m.navigation.au("Cannot disconnect blocks when the cursor is not on a connection")};m.navigation.iu=function(){D(m.navigation.ad(),m.navigation.Nb().wb().Wa)};
m.navigation.kI=function(){var a=m.navigation.ad();D(a,null);a.Ea()};m.navigation.zb=function(a){m.navigation.Ci=a};m.navigation.FH=function(a){var c=m.navigation.Nb();if(c&&(c=c.wb())){var d=c.Wa;d=d?d.X():null;d===a?d.getParent()?(a=d.V||d.L)&&D(c,m.C.Nf(a.ka)):D(c,m.C.pk(d.D,d.Va())):d&&-1<a.ue(!1).indexOf(d)&&D(c,m.C.pk(d.D,d.Va()))}};m.navigation.GH=function(a){var c=m.navigation.Nb().wb();if(c){var d=c.Wa;d=d?d.X():null;d===a&&D(c,m.C.Mf(d))}};
m.navigation.WF=function(){var a=m.navigation.Nb();a.ac||(a.ac=!0,m.navigation.op())};m.navigation.JF=function(){var a=m.navigation.Nb();a.ac&&(a.ac=!1,a.wb().Ea(),m.navigation.ad().Ea(),m.navigation.Bk()&&m.navigation.Bk().Ea())};m.navigation.au=function(a){m.navigation.Sk?m.navigation.Sk("log",a):console.log(a)};m.navigation.Sc=function(a){m.navigation.Sk?m.navigation.Sk("warn",a):console.warn(a)};m.navigation.dM=function(a){m.navigation.Sk?m.navigation.Sk("error",a):console.error(a)};
m.navigation.zA=function(a){a=m.Ia.Fa.tI(a);return(a=m.Ia.Fa.gG(a))?m.navigation.Qc(a):!1};m.navigation.Qc=function(a){var c=m.navigation.Nb(),d=c.options.readOnly,e=!1;c.ac?d?-1<m.navigation.RD.indexOf(a)&&(e=m.navigation.Gz(a)):e=m.navigation.Gz(a):a.name===m.navigation.Aa.Sr&&(m.navigation.WF(),e=!0);return e};
m.navigation.Gz=function(a){return a.name==m.navigation.Aa.ak||m.navigation.Ci==m.navigation.Rr?m.navigation.SI(a):a.name==m.navigation.Aa.Sr?(m.navigation.JF(),!0):m.navigation.Ci==m.navigation.Ol?m.navigation.iJ(a):m.navigation.Ci==m.navigation.xx?m.navigation.dG(a):!1};
m.navigation.dG=function(a){var c=m.navigation.Nb(),d=c.qa;if((c=d?d.Mb():c.Mb())&&c.Qc(a))return!0;switch(a.name){case m.navigation.Aa.Co:return m.navigation.dz(),!0;case m.navigation.Aa.pr:return m.navigation.aH(),!0;case m.navigation.Aa.Yq:return m.navigation.op(),!0;default:return!1}};
m.navigation.SI=function(a){var c=m.navigation.Nb(),d=c.qa;return d&&"function"==typeof d.Qc&&d.Qc(a)?!0:a.name===m.navigation.Aa.ak?(c.qa?m.navigation.dz():m.navigation.cz(),!0):a.name===m.navigation.Aa.qo?(m.navigation.cz(),!0):a.name===m.navigation.Aa.Yq?(m.navigation.op(),!0):!1};m.navigation.Wp=function(a,c){var d=m.navigation.Nb(),e=d.wb(),f=d.wb().Wa;if(f.Za()!==m.C.types.Gf)return!1;f=f.Gq;D(e,m.C.pk(d,new m.g.O(a*m.navigation.Mx+f.x,c*m.navigation.Mx+f.y)));return!0};
m.navigation.iJ=function(a){if(m.navigation.Nb().wb().Qc(a))return!0;switch(a.name){case m.navigation.Aa.gr:return m.navigation.nA(),!0;case m.navigation.Aa.pr:return m.navigation.HG(),!0;case m.navigation.Aa.mw:return m.navigation.LF(),!0;case m.navigation.Aa.Tw:return m.navigation.Wp(0,-1);case m.navigation.Aa.Qw:return m.navigation.Wp(0,1);case m.navigation.Aa.Rw:return m.navigation.Wp(-1,0);case m.navigation.Aa.Sw:return m.navigation.Wp(1,0);default:return!1}};
m.navigation.HG=function(){var a=m.navigation.Nb().wb().Wa,c=a.Za();c==m.C.types.Qb?(a=a.pa,ia(a)&&a.wj(void 0)):a.Mk||c==m.C.types.Gf?m.navigation.iu():c==m.C.types.zd?m.navigation.Sc("Cannot mark a block."):c==m.C.types.Cf&&m.navigation.Sc("Cannot mark a stack.")};m.navigation.Qn=new m.hd(m.navigation.Aa.Gd);m.navigation.Sv=new m.hd(m.navigation.Aa.Co);m.navigation.Pn=new m.hd(m.navigation.Aa.Fd);m.navigation.Rv=new m.hd(m.navigation.Aa.qo);m.navigation.FB=new m.hd(m.navigation.Aa.gr);
m.navigation.GB=new m.hd(m.navigation.Aa.pr);m.navigation.EB=new m.hd(m.navigation.Aa.mw);m.navigation.LB=new m.hd(m.navigation.Aa.ak);m.navigation.Hq=new m.hd(m.navigation.Aa.Yq);m.navigation.Tv=new m.hd(m.navigation.Aa.Sr);m.navigation.IB=new m.hd(m.navigation.Aa.Rw);m.navigation.JB=new m.hd(m.navigation.Aa.Sw);m.navigation.KB=new m.hd(m.navigation.Aa.Tw);m.navigation.HB=new m.hd(m.navigation.Aa.Qw);m.navigation.RD=[m.navigation.Qn,m.navigation.Sv,m.navigation.Rv,m.navigation.Pn,m.navigation.Tv];m.G={};m.G.visible=!1;m.G.ik=!1;m.G.iD=50;m.G.pA=0;m.G.un=0;m.G.Xt=0;m.G.Yt=0;m.G.Ja=null;m.G.dn=null;m.G.Zw=0;m.G.$w=10;m.G.QD=10;m.G.TC=750;m.G.nr=5;m.G.Ya=null;m.G.Ga=function(){m.G.Ya||(m.G.Ya=document.createElement("div"),m.G.Ya.className="blocklyTooltipDiv",(m.hq||document.body).appendChild(m.G.Ya))};m.G.hk=function(a){a.CH=m.ec(a,"mouseover",null,m.G.ZH);a.AH=m.ec(a,"mouseout",null,m.G.YH);a.addEventListener("mousemove",m.G.CA,!1)};
m.G.Iv=function(a){a&&(m.$a(a.CH),m.$a(a.AH),a.removeEventListener("mousemove",m.G.CA))};m.G.ZH=function(a){if(!m.G.ik){for(a=a.currentTarget;"string"!=typeof a.uf&&"function"!=typeof a.uf;)a=a.uf;m.G.Ja!=a&&(m.G.Ea(),m.G.dn=null,m.G.Ja=a);clearTimeout(m.G.pA)}};m.G.YH=function(){m.G.ik||(m.G.pA=setTimeout(function(){m.G.Ja=null;m.G.dn=null;m.G.Ea()},1),clearTimeout(m.G.un))};
m.G.CA=function(a){if(m.G.Ja&&m.G.Ja.uf&&!m.G.ik)if(m.G.visible){var c=m.G.Xt-a.pageX;a=m.G.Yt-a.pageY;Math.sqrt(c*c+a*a)>m.G.QD&&m.G.Ea()}else m.G.dn!=m.G.Ja&&(clearTimeout(m.G.un),m.G.Xt=a.pageX,m.G.Yt=a.pageY,m.G.un=setTimeout(m.G.CI,m.G.TC))};m.G.H=function(){m.G.Ja=null;m.G.dn=null;m.G.Ea()};m.G.Ea=function(){m.G.visible&&(m.G.visible=!1,m.G.Ya&&(m.G.Ya.style.display="none"));m.G.un&&clearTimeout(m.G.un)};m.G.block=function(){m.G.Ea();m.G.ik=!0};m.G.YI=function(){m.G.ik=!1};
m.G.CI=function(){if(!m.G.ik&&(m.G.dn=m.G.Ja,m.G.Ya)){m.G.Ya.textContent="";for(var a=m.G.Ja.uf;"function"==typeof a;)a=a();a=m.g.Ua.AB(a,m.G.iD);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));m.G.Ya.appendChild(d)}a=m.G.Ja.J;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;m.G.Ya.style.direction=a?"rtl":"ltr";m.G.Ya.style.display="block";m.G.visible=!0;var e=m.G.Xt;e=a?e-(m.G.Zw+m.G.Ya.offsetWidth):
e+m.G.Zw;var f=m.G.Yt+m.G.$w;f+m.G.Ya.offsetHeight>d+window.scrollY&&(f-=m.G.Ya.offsetHeight+2*m.G.$w);a?e=Math.max(m.G.nr-window.scrollX,e):e+m.G.Ya.offsetWidth>c+window.scrollX-2*m.G.nr&&(e=c-m.G.Ya.offsetWidth-2*m.G.nr);m.G.Ya.style.top=f+"px";m.G.Ya.style.left=e+"px"}};m.mi=function(a,c){this.oA=null;this.Yc=new m.g.O(0,0);this.Wb=this.Xb=this.bl=this.cl=this.$d=null;this.Es=c;this.Im=this.Xi=this.Jm=this.Mi=!1;this.Ae=a;this.$=this.Gj=this.Hf=this.xh=this.fq=this.eq=null;this.Hp=this.Ni=this.ay=!1;this.Kz=!m.xC};b=m.mi.prototype;b.H=function(){m.Touch.$l();m.G.YI();this.Es.ic=null;this.eq&&m.$a(this.eq);this.fq&&m.$a(this.fq);this.Hf&&this.Hf.H();this.Gj&&this.Gj.H();this.xh&&this.xh.H()};
function xb(a,c){a.Yc=m.g.O.nm(new m.g.O(c.clientX,c.clientY),a.oA);if(a.Mi)var d=!1;else a.Mi=m.g.O.vH(a.Yc)>(a.$?m.KC:m.wC),d=a.Mi;if(d){if(a.ay)throw Error("updateIsDragging_ should only be called once per gesture.");a.ay=!0;if(a.$d){a.Im=!0;a.xh=new m.Wn(a.$d,a.Wb);d=a.xh;m.h.Tb()||m.h.ca(!0);d.s.pc(!1);d.$b.hs=!1;d.Gi&&(d.$b.moveTo(0,0),d.Gi.Bj(d.hg.x,d.hg.y),yb(d.Gi,d.$b.Da()));d.$b.$h&&d.$b.$h(!0);var e=d.s.qa;e&&"function"==typeof e.Mo&&e.Mo(d.$b.Vd()?"blocklyToolboxDelete":"blocklyToolboxGrab");
pb(a.xh,a.Ae,a.Yc);d=!0}else d=!1;if(!d){if(a.Xb)if(a.$?(a.Xb&&a.Xb.isEnabled()?((d=!zb(a.$))||(d=a.Yc,d=Math.atan2(d.y,d.x)/Math.PI*180,e=a.$.SF,d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1),d?(a.Wb=a.$.kb,Ab(a.Wb),m.h.Tb()||m.h.ca(!0),a.bl=null,a.Xb=tb(a.$,a.Xb),a.Xb.select(),d=!0):d=!1):d=!1,a.Xi=d):a.Xb.ud()&&(a.Xi=!0),a.Xi){a.Hf=new m.gi(a.Xb,a.Wb);d=a.Hf;e=a.Yc;var f=a.Kz;m.h.Tb()||m.h.ca(!0);var h=new m.h.Rb(d.mb,"dragStart",null,t(d.mb,!1));m.h.Ca(h);d.s.Nm&&Ea(d.mb);m.g.j.wn();d.s.pc(!1);m.ib.Us();
if(d.mb.getParent()||f&&d.mb.T&&d.mb.T.na())v(d.mb,f),e=d.Vk(e),e=m.g.O.sum(d.hg,e),d.mb.translate(e.x,e.y),m.ib.NF(d.mb),e=d.Qf,e.Qo=na(e);d.mb.$h(!0);e=d.mb;e.Mn&&(f=e.Va(),e.Da().removeAttribute("transform"),e.D.Ld.Bj(f.x,f.y),(f=e.Da())&&yb(e.D.Ld,f));(e=d.s.qa)&&"function"==typeof e.Mo&&e.Mo(d.mb.Vd()?"blocklyToolboxDelete":"blocklyToolboxGrab");wa(a.Hf,a.Ae,a.Yc);d=!0}else d=!1;else d=!1;if(d=!d)if(a.$)d=zb(a.$);else if(d=a.Wb)d=a.Wb,d=d.options.mc&&d.options.mc.Bh;d&&(a.Gj=a.$?new m.po(a.$):
new m.Vl(a.Wb),a.Jm=!0,a.Gj.xv())}m.Lh()}a.Ae=c}
b.Xs=function(a){m.g.Kp(a)?this.cancel():(this.Ni=!0,m.ib.Us(),Ab(this.Wb),this.Wb.Nm&&this.Wb.resize(),m.Vb(!!this.$),Ra(this.Wb),this.Ae=a,m.G.block(),this.Xb&&(!this.Xb.Oc&&a.shiftKey&&this.Xb.D.ac?D(this.Es.wb(),m.C.Ds(this.Xb)):this.Xb.select()),m.g.aj(a)?Ga(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||m.tH(a,this),this.oA=new m.g.O(a.clientX,a.clientY),this.Kz=a.altKey||a.ctrlKey||a.metaKey,this.hk(a)))};
b.hk=function(a){this.eq=m.ua(document,"mousemove",null,this.Fk.bind(this));this.fq=m.ua(document,"mouseup",null,this.yp.bind(this));a.preventDefault();a.stopPropagation()};b.Fk=function(a){xb(this,a);this.Jm?this.Gj.Bh(this.Yc):this.Xi?wa(this.Hf,this.Ae,this.Yc):this.Im&&pb(this.xh,this.Ae,this.Yc);a.preventDefault();a.stopPropagation()};
b.yp=function(a){xb(this,a);m.Lh();if(this.Hp)console.log("Trying to end a gesture recursively.");else{this.Hp=!0;if(this.Im)qb(this.xh,a,this.Yc);else if(this.Xi)Ba(this.Hf,a,this.Yc);else if(this.Jm){var c=this.Gj;c.Bh(this.Yc);Ua(c.s)}else if(this.$d&&!this.Mi)this.$d.wI&&this.$d.wI(),this.$d.select&&this.$d.select();else if(Bb(this)){c=this.cl;var d=this.Ae;ia(c)&&c.wj(d);Cb(this)}else!this.bl||this.Mi||Bb(this)?this.bl||this.$d||this.cl||this.Mi||(c=this.Es,a.shiftKey&&c.ac?(d=m.g.sI(c,new m.g.O(a.clientX,
a.clientY)),d=m.C.pk(c,d),D(c.wb(),d)):m.selected&&rb(m.selected),d=new m.h.Rb(null,"workspaceClick",null,null),d.Bb=c.id,m.h.Ca(d)):(this.$&&this.$.gk?this.Xb.isEnabled()&&(m.h.Tb()||m.h.ca(!0),Fa(tb(this.$,this.Xb))):m.h.Ca(new m.h.Rb(this.bl,"click",void 0,void 0)),Cb(this),m.h.ca(!1));a.preventDefault();a.stopPropagation();this.H()}};
b.cancel=function(){if(!this.Hp){m.Lh();if(this.Im)qb(this.xh,this.Ae,this.Yc);else if(this.Xi)Ba(this.Hf,this.Ae,this.Yc);else if(this.Jm){var a=this.Gj;a.Bh(this.Yc);Ua(a.s)}this.H()}};function Ga(a,c){a.Xb?(Cb(a),m.Vb(!!a.$),a.Xb.tn(c)):a.$d?a.$d.tn(c):a.Wb&&!a.$&&(m.Vb(),a.Wb.tn(c));c.preventDefault();c.stopPropagation();a.H()}
function Db(a,c,d){if(a.Ni)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Wb||(a.Wb=d);a.Ae=c;a.Xs(c);a.Wb.ac&&m.navigation.zb(m.navigation.Ol)}function Eb(a,c,d){if(a.Ni)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.$||(a.$=d);Db(a,c,d.s)}function Cb(a){a.Xb&&!a.$&&Ea(a.Xb)}function Fb(a,c){a.bl||a.$d||(a.bl=c,c.Oc&&c!=c.bd()?Gb(a,c.bd()):Gb(a,c))}
function Gb(a,c){c.Sa?Gb(a,c.getParent()):a.Xb=c}function Bb(a){return(a.cl?ia(a.cl):!1)&&!a.Mi&&(!a.$||!a.$.gk)}b.kc=function(){return this.Jm||this.Xi||this.Im};b.Ck=function(){return this.Hf?this.Hf.Ck():[]};m.mi.Bp=function(){for(var a=m.tb.getAll(),c=0,d;d=a[c];c++)if(d.ic)return!0;return!1};m.Cd=function(a,c,d){this.Gc=this.tl;this.oB=this.Nn=null;this.Cc=new m.g.Jd(0,0);this.v=this.ou=this.zj=this.Rc=this.Eb=this.qd=this.Xg=this.Kg=null;d&&this.re(d);this.setValue(a);c&&(this.Nn=c)};b=m.Cd.prototype;b.tl=null;b.name=void 0;b.ef=!1;b.mA=50;b.I=null;b.Sg=!0;b.di=!0;b.xs=null;m.Cd.Ww="\u00a0";b=m.Cd.prototype;b.vl=!0;b.Ml=!1;b.re=function(a){var c=a.tooltip;"string"==typeof c&&(c=m.g.oc(a.tooltip));c&&this.Je(c)};
b.pv=function(a){if(this.I)throw Error("Field already bound to a block.");this.I=a};b.Z=function(){!this.v&&this.I&&this.I.D&&this.I.D.sa&&(this.v=this.I.D.ob.Z());return this.v};b.X=function(){return this.I};b.xa=function(){this.qd||(this.qd=m.g.j.K("g",{},null),this.isVisible()||(this.qd.style.display="none"),this.I.Da().appendChild(this.qd),this.Fm(),this.Cj(),this.Je(this.oB),m.G.hk(Hb(this)),this.ou=m.ua(Hb(this),"mousedown",this,this.Ph),this.Si())};b.Fm=function(){Ib(this);Jb(this)};b.Si=function(){};
function Ib(a){a.Eb=m.g.j.K("rect",{rx:a.Z().mo,ry:a.Z().mo,x:0,y:0,height:a.Cc.height,width:a.Cc.width,"class":"blocklyFieldRect"},a.qd)}function Jb(a){a.Rc=m.g.j.K("text",{"class":"blocklyText"},a.qd);a.Z().cr&&a.Rc.setAttribute("dominant-baseline","central");a.zj=document.createTextNode("");a.Rc.appendChild(a.zj)}b.vm=function(a){this.setValue(a.textContent)};b.kB=function(a){a.textContent=this.getValue();return a};
b.H=function(){m.F.Cm(this);m.W.Cm(this);m.G.Iv(Hb(this));this.ou&&m.$a(this.ou);m.g.j.removeNode(this.qd);this.ef=!0};b.Cj=function(){var a=this.qd;this.vl&&a&&(this.I.td()?(m.g.j.ub(a,"blocklyEditableText"),m.g.j.Ac(a,"blocklyNonEditableText"),a.style.cursor=this.fw):(m.g.j.ub(a,"blocklyNonEditableText"),m.g.j.Ac(a,"blocklyEditableText"),a.style.cursor=""))};function ia(a){return!!a.I&&a.I.td()&&!!a.wj&&"function"===typeof a.wj}b.isVisible=function(){return this.di};
b.pb=function(a){if(this.di!=a){this.di=a;var c=this.Da();c&&(c.style.display=a?"block":"none")}};function Kb(a,c){a.Nn=c}b.Cz=function(){return this.Nn};b.Da=function(){return this.qd};b.Sb=function(){};b.Wh=function(){this.zj&&(this.zj.nodeValue=Lb(this));this.uB()};b.uB=function(){var a=this.Z(),c=this.Eb?this.Z().wl:0,d=2*c,e=a.no,f=0;this.Rc&&(f=m.g.j.vt(this.Rc,a.mh,a.nh,a.lh),d+=f);this.Eb&&(e=Math.max(e,a.rw));this.Cc.height=e;this.Cc.width=d;Mb(this,c,f);Nb(this)};
function Mb(a,c,d){if(a.Rc){var e=a.Z(),f=a.Cc.height/2;a.Rc.setAttribute("x",a.I.J?a.Cc.width-d-c:c);a.Rc.setAttribute("y",e.cr?f:f-e.no/2+e.tw)}}function Nb(a){a.Eb&&(a.Eb.setAttribute("width",a.Cc.width),a.Eb.setAttribute("height",a.Cc.height),a.Eb.setAttribute("rx",a.Z().mo),a.Eb.setAttribute("ry",a.Z().mo))}
b.Ng=function(){if(!this.isVisible())return new m.g.Jd(0,0);this.Sg?(this.Wh(),this.Sg=!1):this.di&&0==this.Cc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Wh());return this.Cc};
function Ob(a){if(a.Eb)c=a.Eb.getBoundingClientRect(),a=m.g.style.Li(a.Eb),e=c.width,c=c.height;else{var c=la(a.I),d=a.I.D.scale;a=m.g.style.Li(Hb(a));var e=c.width*d;c=c.height*d;m.g.userAgent.PC?(a.x+=1.5*d,a.y+=1.5*d):m.g.userAgent.li||m.g.userAgent.Oe||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}return new m.g.Rect(a.y,a.y+c,a.x,a.x+e)}function Lb(a){var c=a.jf();if(!c)return m.Cd.Ww;c.length>a.mA&&(c=c.substring(0,a.mA-2)+"\u2026");c=c.replace(/\s/g,m.Cd.Ww);a.I&&a.I.J&&(c+="\u200f");return c}
b.jf=function(){if(this.wp){var a=this.wp.call(this);if(null!==a)return String(a)}return String(this.getValue())};b.qv=function(){throw Error("setText method is deprecated");};b.Rm=function(){this.Sg=!0;this.v=null};function bb(a){a.Sg=!0;a.I&&a.I.sa&&(a.I.wa(),a.I.hc(),a.Kv())}
b.setValue=function(a){if(null!==a){var c=this.Fi(a);a=Pb(this,a,c);if(!(a instanceof Error)){if(c=this.Cz())if(c=c.call(this,a),a=Pb(this,a,c),a instanceof Error)return;c=this.I;if(!c||!c.ef){var d=this.getValue();d!==a&&(c&&m.h.isEnabled()&&m.h.Ca(new m.h.ih(c,"field",this.name||null,d,a)),this.Ah(a),this.Sg&&bb(this))}}}};function Pb(a,c,d){if(null===d)return a.Ty(),a.Sg&&bb(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.Gc};
b.Fi=function(a){return null===a||void 0===a?null:a};b.Ah=function(a){this.Gc=a;this.Sg=!0};b.Ty=function(){};b.Ph=function(a){if(this.I&&this.I.D&&(a=this.I.D.Ch(a))){if(a.Ni)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.cl||(a.cl=this)}};b.Je=function(a){var c=Hb(this);c?c.uf=a||""===a?a:this.I:this.oB=a};function Hb(a){return a.xs||a.Da()}b.mq=function(){return!1};
b.Uf=function(){for(var a=null,c=this.I,d=c.P,e=0;e<c.P.length;e++)for(var f=d[e],h=f.fb,k=0;k<h.length;k++)if(h[k]===this){a=f;break}return a};b.lz=function(){return!1};b.aA=function(){return!1};b.Qc=function(){return!1};b.$g=function(a){a?(this.qd.appendChild(a),this.Kg=a):this.Kg=null};b.ah=function(a){a?(this.qd.appendChild(a),this.Xg=a):this.Xg=null};b.Kv=function(){var a=this.I.D;a.ac&&this.Kg&&a.wb().draw();a.ac&&this.Xg&&a.ad(m.navigation.Cl).draw()};m.Sf={};m.Sf.register=function(a,c){m.ga.register(m.ga.Kb.Qb,a,c)};m.Sf.unregister=function(a){m.ga.unregister(m.ga.Kb.Qb,a)};m.Sf.va=function(a){var c=m.ga.st(m.ga.Kb.Qb,a.type);return c?c.va(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};m.g.U={};m.g.U.PB="aria-";m.g.U.SD="role";m.g.U.xg={fK:"grid",gK:"gridcell",ww:"group",jD:"listbox",vD:"menu",wD:"menuitem",yK:"menuitemcheckbox",GD:"option",OD:"presentation",Lr:"row",jE:"tree",kE:"treeitem"};m.g.U.State={Uv:"activedescendant",wJ:"colcount",uC:"disabled",Zq:"expanded",Ew:"invalid",gD:"label",Kw:"labelledby",hD:"level",ID:"orientation",ND:"posinset",uL:"rowcount",Nr:"selected",VD:"setsize",pE:"valuemax",qE:"valuemin"};m.g.U.Ie=function(a,c){a.setAttribute(m.g.U.SD,c)};
m.g.U.zb=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(m.g.U.PB+c,d)};m.qr=function(){this.nf=[];this.qj=this.Ja=this.$p=this.Up=this.Tp=this.Gg=this.Vp=this.Fh=this.Iu=null};b=m.qr.prototype;b.Yr=function(a){this.nf.push(a)};
b.wa=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.qj&&m.g.U.Ie(c,this.qj);this.Ja=c;for(var d=0,e;e=this.nf[d];d++)c.appendChild(e.Ga());this.Vp=m.ua(c,"mouseover",this,this.MG,!0);this.Gg=m.ua(c,"click",this,this.GG,!0);this.Tp=m.ua(c,"mouseenter",this,this.JG,!0);this.Up=m.ua(c,"mouseleave",this,this.LG,!0);this.$p=m.ua(c,"keydown",this,this.Ft);a.appendChild(c)};b.Ma=function(){return this.Ja};
b.focus=function(){var a=this.Ma();a&&(a.focus({preventScroll:!0}),m.g.j.ub(a,"blocklyFocused"))};b.Ie=function(a){this.qj=a};b.H=function(){this.Vp&&(m.$a(this.Vp),this.Vp=null);this.Gg&&(m.$a(this.Gg),this.Gg=null);this.Tp&&(m.$a(this.Tp),this.Tp=null);this.Up&&(m.$a(this.Up),this.Up=null);this.$p&&(m.$a(this.$p),this.$p=null);for(var a=0,c;c=this.nf[a];a++)c.H();this.Ja=null};
function Qb(a,c){for(var d=a.Ma();c&&c!=d;){if(m.g.j.Ht(c,"blocklyMenuItem"))for(var e=0,f;f=a.nf[e];e++)if(f.Ma()==c)return f;c=c.parentElement}return null}b.sf=function(a){var c=this.Fh;c&&(c.sf(!1),this.Fh=null);a&&(a.sf(!0),this.Fh=a,c=this.Ma(),m.g.style.XA(a.Ma(),c),m.g.U.zb(c,m.g.U.State.Uv,a.Ra()))};function Rb(a){var c=a.nf.indexOf(a.Fh);Sb(a,0>c?a.nf.length:c,-1)}function Sb(a,c,d){c+=d;for(var e;e=a.nf[c];){if(e.isEnabled()){a.sf(e);break}c+=d}}
b.MG=function(a){(a=Qb(this,a.target))&&(a.isEnabled()?this.Fh!=a&&this.sf(a):this.sf(null))};b.GG=function(a){var c=this.Iu;this.Iu=null;c&&"number"==typeof a.clientX&&1>m.g.O.Ws(c,new m.g.O(a.clientX,a.clientY))||(a=Qb(this,a.target))&&a.isEnabled()&&a.Wl&&a.Wl(a)};b.JG=function(){this.focus()};b.LG=function(){if(this.Ma()){var a=this.Ma();a&&(a.blur(),m.g.j.Ac(a,"blocklyFocused"));this.sf(null)}};
b.Ft=function(a){if(this.nf.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.Fh;switch(a.keyCode){case m.g.ma.jo:case m.g.ma.tx:c&&c.isEnabled()&&c.Wl&&c.Wl(c);break;case m.g.ma.Jo:Rb(this);break;case m.g.ma.io:Sb(this,this.nf.indexOf(this.Fh),1);break;case m.g.ma.MD:case m.g.ma.SC:Sb(this,-1,1);break;case m.g.ma.LD:case m.g.ma.DC:Sb(this,this.nf.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.Ng=function(){var a=this.Ma(),c=m.g.style.Ng(a);c.height=a.scrollHeight;return c};m.rr=function(a,c){this.Jg=a;this.Gc=c;this.lp=!0;this.Ja=null;this.Xh=!1;this.qj=null;this.Nz=this.vs=this.us=!1;this.Wl=null};b=m.rr.prototype;
b.Ga=function(){var a=document.createElement("div");a.id=m.g.Oj.zt();this.Ja=a;a.className="blocklyMenuItem goog-menuitem "+(this.lp?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.vs?"blocklyMenuItemSelected goog-option-selected ":"")+(this.Nz?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Xh?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.us){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.Jg;"string"==typeof this.Jg&&(d=document.createTextNode(this.Jg));c.appendChild(d);a.appendChild(c);this.qj&&m.g.U.Ie(a,this.qj);m.g.U.zb(a,m.g.U.State.Nr,this.us&&this.vs||!1);m.g.U.zb(a,m.g.U.State.uC,!this.lp);return a};b.H=function(){this.Ja=null};b.Ma=function(){return this.Ja};b.Ra=function(){return this.Ja.id};b.getValue=function(){return this.Gc};b.Ie=function(a){this.qj=a};
b.sf=function(a){this.Nz=a;var c=this.Ma();c&&this.isEnabled()&&(a?(m.g.j.ub(c,"blocklyMenuItemHighlight"),m.g.j.ub(c,"goog-menuitem-highlight")):(m.g.j.Ac(c,"blocklyMenuItemHighlight"),m.g.j.Ac(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.lp};b.rf=function(a){this.lp=a};function Tb(a,c,d){a.Wl=c.bind(d)};m.ab=function(a,c,d){"function"!=typeof a&&m.ab.wB(a);this.hj=a;this.Bv=this.Su=this.rp=null;a=this.hj;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var h=a[f][0];"string"==typeof h?a[f][0]=m.g.oc(h):(null!=h.alt&&(a[f][0].alt=m.g.oc(h.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=m.g.Ua.tv(e);h=m.g.Ua.lF(e,f);var k=m.g.Ua.mF(e,f);!h&&!k||f<=h+k||(h&&(this.Su=e[0].substring(0,h-1)),k&&(this.Bv=e[0].substr(1-k)),this.hj=m.ab.HE(a,h,k))}}this.Yk=this.getOptions(!1)[0];
m.ab.A.constructor.call(this,this.Yk[1],c,d);this.dl=this.oe=this.dd=this.lc=this.on=null};m.g.object.S(m.ab,m.Cd);m.ab.va=function(a){return new m.ab(a.options,void 0,a)};m.ab.prototype.Ml=!0;m.ab.tJ=25;m.ab.xK=.45;m.ab.XC=5;m.ab.YC=2*m.ab.XC;m.ab.Mq=m.g.userAgent.ol?"\u25bc":"\u25be";b=m.ab.prototype;b.fw="default";
b.Fm=function(){this.uv()?Ib(this):this.xs=this.I.Da();Jb(this);this.dd=m.g.j.K("image",{},this.qd);this.Z().GC?(this.dl=m.g.j.K("image",{height:this.Z().xl+"px",width:this.Z().xl+"px"},this.qd),this.dl.setAttributeNS(m.g.j.Kc,"xlink:href",this.Z().HC)):(this.oe=m.g.j.K("tspan",{},this.Rc),this.oe.appendChild(document.createTextNode(this.I.J?m.ab.Mq+" ":" "+m.ab.Mq)),this.I.J?this.Rc.insertBefore(this.oe,this.zj):this.Rc.appendChild(this.oe));this.Eb&&m.g.j.ub(this.Eb,"blocklyDropdownRect")};
b.uv=function(){return!this.Z().$q||this.Z().$q&&!this.I.Sa};
b.wj=function(a){var c=new m.qr;c.Ie(m.g.U.xg.jD);var d=this.getOptions(!1);this.on=null;for(var e=0;e<d.length;e++){var f=d[e][0],h=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new m.rr(f,h);f.Ie(m.g.U.xg.GD);f.Xh=this.I.J;f.us=!0;c.Yr(f);f.vs=h==this.Gc;h==this.Gc&&(this.on=f);Tb(f,this.IG,this)}this.lc=c;this.lc.Iu=a&&"number"===typeof a.clientX?new m.g.O(a.clientX,a.clientY):null;this.lc.wa(m.F.rG());a=this.lc.Ma();m.g.j.ub(a,"blocklyDropdownMenu");
this.Z().FC&&(a=this.I.Sa?this.I.getParent().tt():this.I.tt(),c=this.I.Sa?this.I.getParent().style.Ig:this.I.style.Ig,m.F.He(a,c));m.F.BI(this,this.VF.bind(this));this.lc.focus();this.on&&this.lc.sf(this.on);this.Sb()};b.VF=function(){this.lc&&this.lc.H();this.on=this.lc=null;this.Sb()};b.IG=function(a){m.F.Cm(this,!0);this.yA(a)};b.yA=function(a){this.setValue(a.getValue())};m.ab.HE=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var h=a[f][0],k=a[f][1];h=h.substring(c,h.length-d);e[f]=[h,k]}return e};
b=m.ab.prototype;b.getOptions=function(a){return"function"==typeof this.hj?(this.rp&&a||(this.rp=this.hj.call(this),m.ab.wB(this.rp)),this.rp):this.hj};b.Fi=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.I&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.I.type+", Field name: "+this.name+", Value: "+a),null)};
b.Ah=function(a){m.ab.A.Ah.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.Gc&&(this.Yk=d)};b.Sb=function(){this.Eb&&(this.Eb.setAttribute("stroke",this.I.style.Ig),this.lc?this.Eb.setAttribute("fill",this.I.style.Ig):this.Eb.setAttribute("fill","transparent"));this.I&&this.oe&&(this.oe.style.fill=this.I.Sa?this.I.style.Yo:this.I.style.yh)};
b.Wh=function(){this.zj.nodeValue="";this.dd.style.display="none";var a=this.Yk&&this.Yk[0];if(a&&"object"==typeof a){this.dd.style.display="";this.dd.setAttributeNS(m.g.j.Kc,"xlink:href",a.src);this.dd.setAttribute("height",a.height);this.dd.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Eb,e=Math.max(d?this.Z().sw:0,c+m.ab.YC);d=d?this.Z().wl:0;var f=this.dl?Ub(this,a+d,e/2-this.Z().xl/2):m.g.j.vt(this.oe,this.Z().mh,this.Z().nh,this.Z().lh);this.Cc.width=a+
f+2*d;this.Cc.height=e;var h=0;this.I.J?this.dd.setAttribute("x",d+f):(h=a+f,this.Rc.setAttribute("text-anchor","end"),this.dd.setAttribute("x",d));this.dd.setAttribute("y",e/2-c/2);Mb(this,h+d,a+f)}else this.zj.nodeValue=Lb(this),m.g.j.ub(this.Rc,"blocklyDropdownText"),this.Rc.setAttribute("text-anchor","start"),e=!!this.Eb,c=Math.max(e?this.Z().sw:0,this.Z().no),a=m.g.j.vt(this.Rc,this.Z().mh,this.Z().nh,this.Z().lh),e=e?this.Z().wl:0,d=0,this.dl&&(d=Ub(this,a+e,c/2-this.Z().xl/2)),this.Cc.width=
a+d+2*e,this.Cc.height=c,Mb(this,e,a);Nb(this)};function Ub(a,c,d){if(!a.dl)return 0;var e=a.Eb?a.Z().wl:0,f=a.Z().IC,h=a.Z().xl;a.dl.setAttribute("transform","translate("+(a.I.J?e:c+f)+","+d+")");return h+f}b.wp=function(){if(!this.Yk)return null;var a=this.Yk[0];return"object"==typeof a?a.alt:a};
m.ab.wB=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};m.ab.prototype.Qc=function(a){if(this.lc){if(a===m.navigation.Qn)return Rb(this.lc),!0;if(a===m.navigation.Pn)return a=this.lc,Sb(a,a.nf.indexOf(a.Fh),1),!0}return m.ab.A.Qc.call(this,a)};m.Sf.register("field_dropdown",m.ab);m.uc=function(a){this.s=a;this.Ai=[];this.Hi=null;if(!(0>=this.s.options.Sp)){a=new m.rc({scrollbars:!0,parentWorkspace:this.s,rtl:this.s.J,oneBasedIndex:this.s.options.$m,renderer:this.s.options.mn,rendererOverrides:this.s.options.nn});if(this.s.cd){a.Ka=this.s.Ka==m.zg?m.bk:m.zg;if(!m.Al)throw Error("Missing require for Blockly.HorizontalFlyout");this.Hi=new m.Al(a)}else{a.Ka=this.s.Ka==m.yg?m.Kd:m.yg;if(!m.Cg)throw Error("Missing require for Blockly.VerticalFlyout");this.Hi=new m.Cg(a)}hb(this.s,
this.RH.bind(this))}};b=m.uc.prototype;b.Tl=47;b.Tn=44;b.Rj=16;b.sD=20;b.Mw=20;b.vo=10;b.Pr=0;b.Qr=32;b.QC=.1;m.uc.OB=80;m.uc.Xv=4;m.uc.ax=.4;m.uc.ED=.8;m.uc.Nw=45;b=m.uc.prototype;b.Jp=!1;b.nu=0;b.N=null;b.xq=null;b.Zt=0;b.Kh=0;b.eA=0;b.pB=0;
b.Ga=function(){this.N=m.g.j.K("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=m.g.j.K("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.N);m.g.j.K("rect",{width:this.Tl,height:this.Tn,y:this.Rj},c);var d=m.g.j.K("image",{width:m.Xj.width,x:-this.Pr,height:m.Xj.height,y:-this.Qr,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.N);d.setAttributeNS(m.g.j.Kc,"xlink:href",this.s.options.an+m.Xj.url);c=m.g.j.K("clipPath",{id:"blocklyTrashLidClipPath"+a},this.N);
m.g.j.K("rect",{width:this.Tl,height:this.Rj},c);this.xq=m.g.j.K("image",{width:m.Xj.width,x:-this.Pr,height:m.Xj.height,y:-this.Qr,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.N);this.xq.setAttributeNS(m.g.j.Kc,"xlink:href",this.s.options.an+m.Xj.url);m.ua(this.N,"mouseup",this,this.click);m.ec(d,"mouseover",this,this.DH);m.ec(d,"mouseout",this,this.BH);this.bs();return this.N};
b.xa=function(a){0<this.s.options.Sp&&(m.g.j.Ui(this.Hi.Ga("svg"),y(this.s)),this.Hi.xa(this.s));this.Eq=this.sD+a;Aa(this,!1);return this.Eq+this.Tn+this.Rj};b.H=function(){this.N&&(m.g.j.removeNode(this.N),this.N=null);this.s=this.xq=null;clearTimeout(this.Zt)};
b.position=function(){if(this.Eq){var a=this.s.Sd();a&&(this.eA=a.Ka==m.Kd||this.s.cd&&!this.s.J?a.Ab+a.vc-this.Tl-this.Mw-m.Qa.Bc:this.Mw+m.Qa.Bc,this.pB=a.Ka==m.bk?this.Eq:a.Hb+a.Lc-(this.Tn+this.Rj)-this.Eq,this.N.setAttribute("transform","translate("+this.eA+","+this.pB+")"))}};b.zk=function(){if(!this.N)return null;var a=this.N.getBoundingClientRect(),c=a.top+this.Qr-this.vo;a=a.left+this.Pr-this.vo;return new m.g.Rect(c,c+this.Rj+this.Tn+2*this.vo,a,a+this.Tl+2*this.vo)};
function Aa(a,c){a.Jp!=c&&(clearTimeout(a.Zt),a.Jp=c,a.bs())}b.bs=function(){var a=1/(m.uc.Xv+1);this.Kh+=this.Jp?a:-a;this.Kh=Math.min(Math.max(this.Kh,this.nu),1);Vb(this,this.Kh*m.uc.Nw);this.N.style.opacity=m.uc.ax+this.Kh*(m.uc.ED-m.uc.ax);this.Kh>this.nu&&1>this.Kh&&(this.Zt=setTimeout(this.bs.bind(this),m.uc.OB/m.uc.Xv))};function Vb(a,c){var d=a.s.Ka==m.yg||a.s.cd&&a.s.J;a.xq.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.Tl-4)+","+(a.Rj-2)+")")}b.close=function(){Aa(this,!1)};
b.click=function(){if(this.Ai.length){for(var a=[],c=0,d;d=this.Ai[c];c++)a[c]=m.R.Aj(d);this.Hi.show(a)}};b.DH=function(){this.Ai.length&&Aa(this,!0)};b.BH=function(){Aa(this,!1)};
b.RH=function(a){if(!(0>=this.s.options.Sp)&&a.type==m.h.aw&&"shadow"!=a.Bu.tagName.toLowerCase()){for(var c=a=a.Bu.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=m.R.Qd(a);if(-1==this.Ai.indexOf(a)){for(this.Ai.unshift(a);this.Ai.length>
this.s.options.Sp;)this.Ai.pop();this.nu=a=this.QC;this.Jp||Vb(this,a*m.uc.Nw)}}};m.Bd={};m.Bd.Pt=!1;m.Bd.register=function(a){if(m.Bd.Pt)throw Error("CSS already injected");Array.prototype.push.apply(m.Bd.Tq,a);a.length=0};m.Bd.Ti=function(a,c){if(!m.Bd.Pt){m.Bd.Pt=!0;var d=m.Bd.Tq.join("\n");m.Bd.Tq.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};m.Bd.hv=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See issue #981 for context")};
m.Bd.Tq=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;",
"border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {",
"fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",
'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {",
"display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;",
"-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;",
"height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;",
"}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {",
"fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;",
"}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);",
"}",".blocklyDropDownDiv .blocklyMenu {",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;",
"width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];m.Tc=function(){this.Xh=m.Tc.Gy;this.Kk=null;this.ed=!1;this.vd=this.Ja=null;this.Zb=[];this.ws={};this.Qy=!1};m.Tc.Gy=!1;m.Tc.Error={Wv:"Component already rendered",Cr:"Unable to set parent component",bC:"Child component index out of bounds",Qv:"Unimplemented abstract method"};b=m.Tc.prototype;b.Ra=function(){return this.Kk||(this.Kk=m.g.Oj.zt())};b.Ma=function(){return this.Ja};
b.$k=function(a){if(this==a)throw Error(m.Tc.Error.Cr);var c;if(c=a&&this.vd&&this.Kk)c=(c=this.Kk)?this.vd.ws[c]||null:null;if(c&&this.vd!=a)throw Error(m.Tc.Error.Cr);this.vd=a};b.getParent=function(){return this.vd};b.Ga=function(){throw Error(m.Tc.Error.Qv);};b.wa=function(a){this.Wh(a)};b.Wh=function(a,c){if(this.ed)throw Error(m.Tc.Error.Wv);this.Ja||this.Ga();a?a.insertBefore(this.Ja,c||null):document.body.appendChild(this.Ja);this.vd&&!this.vd.ed||this.Lg()};
b.Lg=function(){this.ed=!0;Wb(this,function(a){!a.ed&&a.Ma()&&a.Lg()})};b.yk=function(){Wb(this,function(a){a.ed&&a.yk()});this.ed=!1};b.H=function(){this.Qy||(this.Qy=!0,this.Vs())};b.Vs=function(){this.ed&&this.yk();Wb(this,function(a){a.H()});this.Ja&&m.g.j.removeNode(this.Ja);this.vd=this.Ja=this.ws=this.Zb=null};b.Yr=function(a){this.Ko(a,this.Zb.length,void 0)};
b.Ko=function(a,c,d){if(a.ed&&(d||!this.ed))throw Error(m.Tc.Error.Wv);if(0>c||c>this.Zb.length)throw Error(m.Tc.Error.bC);this.ws[a.Ra()]=a;if(a.getParent()==this){var e=this.Zb.indexOf(a);-1<e&&this.Zb.splice(e,1)}a.$k(this);this.Zb.splice(c,0,a);a.ed&&this.ed&&a.getParent()==this?(d=this.Ja,c=d.childNodes[c]||null,c!=a.Ma()&&d.insertBefore(a.Ma(),c)):d?(this.Ja||this.Ga(),c=this.Zb[c+1]||null,a.Wh(this.Ja,c?c.Ja:null)):this.ed&&!a.ed&&a.Ja&&a.Ja.parentNode&&a.Ja.parentNode.nodeType==m.g.j.tg.ELEMENT_NODE&&
a.Lg()};function Xb(a){return 0!=a.Zb.length}function Wb(a,c){for(var d=0;d<a.Zb.length;d++)c.call(void 0,a.Zb[d],d)};m.ya={};m.ya.Hc=function(a,c){m.Tc.call(this);this.content=a;this.Wc=c;this.Zc=this.pn=!1;this.Ls=-1};m.g.object.S(m.ya.Hc,m.Tc);m.ya.Hc.$r={};b=m.ya.Hc.prototype;b.Vs=function(){m.ya.Hc.A.Vs.call(this);this.ya&&(this.ya=null);this.Ja=null};
b.Cp=function(){var a=this.Ma();if(a){var c=Yb(this);c&&!c.id&&(c.id=this.Ra()+".label");m.g.U.Ie(a,m.g.U.xg.kE);m.g.U.zb(a,m.g.U.State.Nr,!1);m.g.U.zb(a,m.g.U.State.hD,this.Ak());c&&m.g.U.zb(a,m.g.U.State.Kw,c.id);(c=this.wt())&&m.g.U.Ie(c,m.g.U.xg.OD);if(c=Zb(this))if(m.g.U.Ie(c,m.g.U.xg.ww),c.hasChildNodes())for(m.g.U.zb(a,m.g.U.State.Zq,!1),a=this.Zb.length,c=1;c<=a;c++){var d=(this.Zb[c-1]||null).Ma();m.g.U.zb(d,m.g.U.State.VD,a);m.g.U.zb(d,m.g.U.State.ND,c)}}};
b.Ga=function(){var a=document.createElement("div");a.appendChild($b(this));this.Ja=a};b.Lg=function(){m.ya.Hc.A.Lg.call(this);m.ya.Hc.$r[this.Ra()]=this;this.Cp()};b.yk=function(){m.ya.Hc.A.yk.call(this);delete m.ya.Hc.$r[this.Ra()]};
b.Ko=function(a,c){var d=this.Zb[c-1]||null,e=this.Zb[c]||null;m.ya.Hc.A.Ko.call(this,a,c);a.Xk=d;a.wu=e;d&&(d.wu=a);e&&(e.Xk=a);(c=this.kf())&&ac(a,c);bc(a,this.Ak()+1);if(c=this.Ma())if(this.Cq(),m.g.U.zb(c,m.g.U.State.Zq,this.Zc),this.Zc){c=Zb(this);a.Ma()||a.Ga();var f=a.Ma(),h=e&&e.Ma();c.insertBefore(f,h);this.ed&&a.Lg();e||(d?d.Cq():(m.g.style.kv(c,!0),this.sj(this.Zc)))}};b.add=function(a){if(a.getParent())throw Error(m.Tc.Error.Cr);this.Ko(a,this.Zb.length)};b.kf=function(){return null};
b.Ak=function(){var a=this.Ls;0>a&&(a=(a=this.getParent())?a.Ak()+1:0,bc(this,a));return a};function bc(a,c){if(c!=a.Ls){a.Ls=c;var d=cc(a);if(d){var e=dc(a)+"px";a.Xh?d.style.paddingRight=e:d.style.paddingLeft=e}Wb(a,function(f){bc(f,c+1)})}}b.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};b.ue=function(){var a=[];Wb(this,function(c){a.push(c)});return a};b.getParent=function(){return m.ya.Hc.A.getParent.call(this)};b.select=function(){var a=this.kf();a&&ec(a,this)};
function fc(a,c){if(a.pn!=c){a.pn=c;gc(a);var d=a.Ma();d&&(m.g.U.zb(d,m.g.U.State.Nr,c),c&&(c=a.kf().Ma(),m.g.U.zb(c,m.g.U.State.Uv,a.Ra())))}}
b.sj=function(a){var c=a!=this.Zc,d;this.Zc=a;var e=this.kf(),f=this.Ma();if(Xb(this)){if(!a&&e&&this.contains(e.Zd)&&this.select(),f){if(d=Zb(this))m.g.style.kv(d,a),m.g.U.zb(f,m.g.U.State.Zq,a),a&&this.ed&&!d.hasChildNodes()&&(Wb(this,function(h){d.appendChild($b(h))}),Wb(this,function(h){h.Lg()}));this.Cq()}}else(d=Zb(this))&&m.g.style.kv(d,!1);f&&(this.wt().className=this.sp());c&&(a?this.Sy():this.Ry())};b.Sy=function(){};b.Ry=function(){};b.toggle=function(){this.sj(!this.Zc)};
function $b(a){var c=a.Zc&&Xb(a),d=document.createElement("div");d.style.backgroundPosition=hc(a);c||(d.style.display="none");c&&Wb(a,function(e){d.appendChild($b(e))});c=document.createElement("div");c.id=a.Ra();c.appendChild(ic(a));c.appendChild(d);return c}function dc(a){return Math.max(0,(a.Ak()-1)*a.Wc.Qz)}function ic(a){var c=document.createElement("div");c.className=a.vp();c.style["padding-"+(a.Xh?"right":"left")]=dc(a)+"px";c.appendChild(jc(a));c.appendChild(kc(a));return c}
b.vp=function(){var a="";this.pn&&(a=" "+(this.Wc.BF||""));return this.Wc.Cy+a};function kc(a){var c=document.createElement("span");c.className=a.Wc.yF||"";c.textContent=a.content;return c}function jc(a){var c=document.createElement("span");c.style.display="inline-block";c.className=a.sp();return c}b.sp=function(){throw Error(m.Tc.Error.Qv);};function hc(a){return(a.wu?(a.Ak()-1)*a.Wc.Qz:"-100")+"px 0"}
b.Ma=function(){var a=m.ya.Hc.A.Ma.call(this);a||(this.Ja=a=document.getElementById(this.Ra()));return a};function cc(a){return(a=a.Ma())?a.firstChild:null}b.wt=function(){var a=cc(this);return a?a.firstChild:null};function Yb(a){return(a=cc(a))&&a.lastChild?a.lastChild.previousSibling:null}function Zb(a){return(a=a.Ma())?a.lastChild:null}function gc(a){var c=cc(a);c&&(c.className=a.vp())}b.Cq=function(){var a=Zb(this);a&&(a.style.backgroundPosition=hc(this))};b.xA=function(a){a.preventDefault()};
b.Ym=function(a){switch(a.keyCode){case m.g.ma.Ir:var c=sb(this);break;case m.g.ma.kr:c=lc(this);break;case m.g.ma.io:c=mc(this);break;case m.g.ma.Jo:c=nc(this);break;case m.g.ma.jo:case m.g.ma.tx:this.toggle();c=!0;break;default:c=!1}c&&a.preventDefault();return c};function mc(a){a:if(Xb(a)&&a.Zc)a=a.Zb[0]||null;else{for(var c=a,d;c!=a.kf();){d=c.wu;if(null!=d){a=d;break a}c=c.getParent()}a=null}a&&a.select();return!0}
function nc(a){var c=a.Xk;if(null!=c)a=oc(c);else{c=a.getParent();var d=a.kf();a=c==d||a==d?null:c}a&&a.select();return!0}function lc(a){if(Xb(a)&&a.Zc)a.sj(!1);else{var c=a.getParent();a=a.kf();c&&c!=a&&c.select()}return!0}function sb(a){return Xb(a)?(a.Zc?(a.Zb[0]||null).select():a.sj(!0),!0):!1}function oc(a){return a.Zc&&Xb(a)?oc(a.Zb[a.Zb.length-1]||null):a}function ac(a,c){a.ya!=c&&(a.ya=c,Wb(a,function(d){ac(d,c)}))};m.ya.vh=function(a,c,d){this.qa=a;m.ya.Hc.call(this,c,d);this.Gu=null};m.g.object.S(m.ya.vh,m.ya.Hc);b=m.ya.vh.prototype;b.kf=function(){if(this.ya)return this.ya;var a=this.getParent();return a&&(a=a.kf())?(ac(this,a),a):null};b.sp=function(){var a=this.Zc;if(a&&this.gt)return this.gt;var c=this.VG;if(!a&&c)return c;c=this.Wc;if(Xb(this)){if(a&&c.zy)return c.Gs+" "+c.zy;if(!a&&c.wF)return c.Gs+" "+c.wF}else if(c.Ay)return c.Gs+" "+c.Ay;return""};
b.xA=function(){Xb(this)?(this.toggle(),this.select()):this.pn?ec(this.kf(),null):this.select();gc(this)};b.Ym=function(a){if(this.ya.qa.Jk){var c={},d=m.g.ma.io,e=m.g.ma.Jo;c[m.g.ma.Ir]=this.Xh?e:d;c[m.g.ma.kr]=this.Xh?d:e;c[m.g.ma.Jo]=m.g.ma.kr;c[m.g.ma.io]=m.g.ma.Ir;Object.defineProperties(a,{keyCode:{value:c[a.keyCode]||a.keyCode}})}return m.ya.vh.A.Ym.call(this,a)};b.VA=function(){this.Gu&&this.Gu.call(this.qa)};b.Sy=m.ya.vh.prototype.VA;b.Ry=m.ya.vh.prototype.VA;m.ya.xi=function(a,c){this.qa=a;this.cq=this.Yp=null;m.ya.Hc.call(this,"",c);this.pn=this.Zc=!0;this.Zd=this;this.Cu=this.Du=null};m.g.object.S(m.ya.xi,m.ya.Hc);b=m.ya.xi.prototype;b.kf=function(){return this};b.Ak=function(){return 0};b.sj=function(a){this.Zc=a};b.wt=function(){var a=cc(this);return a?a.firstChild:null};b.Cq=function(){};b.vp=function(){return m.ya.xi.A.vp.call(this)+" "+this.Wc.xF};b.sp=function(){var a=this.Zc;if(a&&this.gt)return this.gt;var c=this.VG;return!a&&c?c:""};
function ec(a,c){if(c!=a.Zd&&(!a.Du||a.Du.call(a.qa,c))){var d=a.Zd;a.Zd&&fc(a.Zd,!1);(a.Zd=c)&&fc(c,!0);a.Cu&&a.Cu.call(a.qa,d,c)}}b.Cp=function(){m.ya.xi.A.Cp.call(this);var a=this.Ma();m.g.U.Ie(a,m.g.U.xg.jE);m.g.U.zb(a,m.g.U.State.Kw,Yb(this).id)};b.Lg=function(){m.ya.xi.A.Lg.call(this);var a=this.Ma();a.className=this.Wc.AF;a.setAttribute("hideFocus","true");a=this.Ma();a.tabIndex=0;this.Yp=m.ua(a,"click",this,this.KG);this.cq=m.ec(a,"keydown",this,this.Ft);this.Cp()};
b.yk=function(){m.ya.xi.A.yk.call(this);this.Yp&&(m.$a(this.Yp),this.Yp=null);this.cq&&(m.$a(this.cq),this.cq=null)};b.KG=function(a){var c;a:{for(var d=a.target;d;){if(c=m.ya.Hc.$r[d.id])break a;if(d==this.Ma())break;if(d.getAttribute("role")==m.g.U.xg.ww)break;d=d.parentNode}c=null}c&&"click"==a.type&&c.xA(a)};b.Ft=function(a){var c=!(!this.Zd||!this.Zd.Ym(a));c&&(m.g.style.XA(this.Zd.Ma(),this.Ma().parentNode),a.preventDefault());return c};
b.createNode=function(a){return new m.ya.vh(this.qa,a||"",this.Wc)};m.ui=function(a){this.s=a;this.J=a.options.J;this.Jk=a.options.cd;this.Ka=a.options.Ka;this.Wc={Qz:19,AF:"blocklyTreeRoot",xF:"blocklyHidden",Cy:"blocklyTreeRow",yF:"blocklyTreeLabel",Gs:"blocklyTreeIcon",zy:"blocklyTreeIconOpen",Ay:"blocklyTreeIconNone",BF:"blocklyTreeSelected"};this.qB={Cy:"blocklyTreeSeparator"};this.Jk&&(this.Wc.cssTreeRow+=a.J?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.qB.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.J?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.Wc.cssTreeIcon="");this.$=null;this.height=this.width=0;this.Qk=null};b=m.ui.prototype;
b.xa=function(){var a=this.s,c=y(this.s);this.Ic=document.createElement("div");this.Ic.className="blocklyToolboxDiv blocklyNonSelectable";this.Ic.setAttribute("dir",a.J?"RTL":"LTR");c.parentNode.insertBefore(this.Ic,c);var d=a.bc;d.subscribe(this.Ic,"toolboxBackgroundColour","background-color");d.subscribe(this.Ic,"toolboxForegroundColour","color");m.ua(this.Ic,"mousedown",this,function(e){m.g.aj(e)||e.target==this.Ic?m.Vb(!1):m.Vb(!0);m.Touch.$l()},!1,!0);d=new m.rc({parentWorkspace:a,rtl:a.J,oneBasedIndex:a.options.$m,
horizontalLayout:a.cd,renderer:a.options.mn,rendererOverrides:a.options.nn});d.Ka=a.options.Ka;if(a.cd){if(!m.Al)throw Error("Missing require for Blockly.HorizontalFlyout");this.$=new m.Al(d)}else{if(!m.Cg)throw Error("Missing require for Blockly.VerticalFlyout");this.$=new m.Cg(d)}if(!this.$)throw Error("One of Blockly.VerticalFlyout or Blockly.Horizontal must berequired.");m.g.j.Ui(this.$.Ga("svg"),c);this.$.xa(a);this.Wc.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.J?"Rtl":"Ltr");this.wa(a.options.$f)};
b.wa=function(a){this.Fc&&(this.Fc.H(),this.Qk=null);var c=new m.ya.xi(this,this.Wc);this.Fc=c;ec(c,null);c.Du=this.FG;c.Cu=this.EG;var d=null;if(a){this.Fc.Pd=[];this.It=!1;d=pc(this,a,this.Fc);if(this.Fc.Pd.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");Za(this.s)}c.wa(this.Ic);d&&ec(c,d);qc(this);this.position();this.Jk&&m.g.U.zb(this.Fc.Ma(),m.g.U.State.ID,"horizontal")};
function pc(a,c,d){var e=null,f=null;if(!c)return null;for(var h=0,k;k=c[h];h++)switch(k.kind.toUpperCase()){case "CATEGORY":var l=a;f=k;var n=d,p=null,q=m.g.oc(f.name),r=l.Fc.createNode(q);r.Gu=l.NG;r.Pd=[];n.add(r);(n=f.custom)?r.Pd=n:p=pc(l,f.contents,r)||p;n=r;var x=f.categorystyle,B=f.colour;B&&x?(n.Oi="",console.warn('Toolbox category "'+q+'" must not have both a style and a colour')):x?rc(l,x,n,q):sc(l,B,n,q);q=null;"true"==f.expanded?(r.Pd.length&&(q=r),r.sj(!0)):r.sj(!1);e=(p=q||p)||e;f=
k;break;case "SEP":p=d;f&&"CATEGORY"==f.kind.toUpperCase()?(p.add(new m.ui.Vr(a.qB)),k=null):p.Pd.push(k);f=k||f;break;case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.Pd.push(k),f=k}return e}b.FG=function(a){if(a==this.Fc)return!1;this.Qk&&(cc(this.Qk).style.backgroundColor="");if(a){var c=a.Oi||"#57e";cc(a).style.backgroundColor=c;qc(this,a)}return!0};
b.EG=function(a,c){c&&c.Pd&&c.Pd.length?(this.$.show(c.Pd),this.Qk!=c&&this.$.Ha.set(0),this.s.ac&&m.navigation.zb(m.navigation.Rr)):(this.$.Ea(),!this.s.ac||c instanceof m.ui.Vr||m.navigation.zb(m.navigation.Ol));a!=c&&a!=this&&(a=new m.h.Rb(null,"category",a&&a.content,c&&c.content),a.Bb=this.s.id,m.h.Ca(a));c&&(this.Qk=c)};b.NG=function(){m.fl(this.s)};
b.Qc=function(a){var c=this.Fc.Zd;if(!c)return!1;switch(a.name){case m.navigation.Aa.Gd:return nc(c);case m.navigation.Aa.Co:return lc(c);case m.navigation.Aa.Fd:return mc(c);case m.navigation.Aa.qo:return sb(c);default:return!1}};b.H=function(){this.$.H();this.Fc.H();this.s.bc.unsubscribe(this.Ic);m.g.j.removeNode(this.Ic);this.Qk=null};b.pb=function(a){this.Ic.style.display=a?"block":"none"};b.Qg=function(){return this.width};b.mz=function(){return this.height};b.Mb=function(){return this.$};
b.position=function(){var a=this.Ic;if(a){var c=m.iB(y(this.s));this.Jk?(a.style.left="0",a.style.height="auto",a.style.width=c.width+"px",this.height=a.offsetHeight,this.Ka==m.zg?a.style.top="0":a.style.bottom="0"):(this.Ka==m.yg?a.style.right="0":a.style.left="0",a.style.height=c.height+"px",this.width=a.offsetWidth);this.$.position()}};
function sc(a,c,d,e){c=m.g.oc(c);if(null===c||""===c)d.Oi="";else{var f=Number(c);isNaN(f)?(f=m.g.jb.parse(c))?(d.Oi=f,a.It=!0):(d.Oi="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+c)):(d.Oi=m.UG(f),a.It=!0)}}function rc(a,c,d,e){d.hB=c;var f=a.s.Og();c&&f&&((f=f.Uo[c])&&f.jb?sc(a,f.jb,d,e):console.warn('Style "'+c+'" must exist and contain a colour value'))}function tc(a,c){if(c=c||a.Fc){c=c.ue(!1);for(var d=0,e;e=c[d];d++)e.hB&&(rc(a,e.hB,e,""),qc(a)),tc(a,e)}}
b.Wu=function(){var a=this.Fc;if(a&&(tc(this,a),a=a.Zd)){var c=a.Oi||"#57e";cc(a).style.backgroundColor=c;qc(this,a)}};function qc(a,c){c=(c||a.Fc).ue(!1);for(var d=0,e;e=c[d];d++){var f=cc(e);if(f){var h=a.It?"8px solid "+(e.Oi||"#ddd"):"none";a.s.J?f.style.borderRight=h:f.style.borderLeft=h}qc(a,e)}}b.Mo=function(a){m.g.j.ub(this.Ic,a)};b.nq=function(a){m.g.j.Ac(this.Ic,a)};
b.zk=function(){if(!this.Ic)return null;var a=this.Ic.getBoundingClientRect(),c=a.top,d=c+a.height,e=a.left;a=e+a.width;return this.Ka==m.zg?new m.g.Rect(-1E7,d,-1E7,1E7):this.Ka==m.bk?new m.g.Rect(c,1E7,-1E7,1E7):this.Ka==m.Kd?new m.g.Rect(-1E7,1E7,-1E7,a):new m.g.Rect(-1E7,1E7,e,1E7)};m.ui.Vr=function(a){m.ya.vh.call(this,null,"",a)};m.g.object.S(m.ui.Vr,m.ya.vh);
m.Bd.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {",
"height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;",
"margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {",
"background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',
"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]);m.ga.register(m.ga.Kb.ak,m.ga.iw,m.ui);m.Jb=Object.create(null);m.ra=function(a,c){this.I=a;this.type=c};m.ra.Xn=0;m.ra.jx=1;m.ra.mx=2;m.ra.lx=3;m.ra.hx=4;m.ra.ix=5;m.ra.kx=6;b=m.ra.prototype;b.ka=null;b.ef=!1;b.Ze=null;b.fg=null;b.x=0;b.y=0;
b.af=function(a){var c=this,d=c.X(),e=a.X();a.isConnected()&&a.disconnect();if(c.isConnected()){var f=c.na(),h=c.fg;c.fg=null;if(f.Sa)h=m.R.Dg(f),f.H(!1),f=null;else if(c.type==m.bb){if(!f.L)throw Error("Orphan block does not have an output connection.");var k=m.ra.cA(e,f);k&&(f.L.connect(k),f=null)}else if(c.type==m.Pa){if(!f.V)throw Error("Orphan block does not have a previous connection.");for(k=e;k.T;){var l=u(k);if(l&&!l.Sa)k=l;else{qa(f.V,k.T)&&(k.T.connect(f.V),f=null);break}}}if(f&&(c.disconnect(),
m.h.zc)){var n=m.h.Tb();setTimeout(function(){f.D&&!f.getParent()&&(m.h.ca(n),f.L?f.L.Zp(c):f.V&&f.V.Zp(c),m.h.ca(!1))},m.Qq)}c.fg=h}var p;m.h.isEnabled()&&(p=new m.h.ql(e));m.ra.oF(c,a);e.$k(d);p&&(p.nj(),m.h.Ca(p))};b.H=function(){if(this.isConnected()){this.fg=null;var a=this.na();a.Sa?a.H(!1):v(a)}this.ef=!0};b.X=function(){return this.I};function Da(a){return a.type==m.bb||a.type==m.Pa}b.isConnected=function(){return!!this.ka};
function ub(a,c){if(!c)return m.ra.lx;if(Da(a))var d=a.I,e=c.X();else e=a.I,d=c.X();return d&&d==e?m.ra.jx:c.type!=m.Tj[a.type]?m.ra.mx:d&&e&&d.D!==e.D?m.ra.ix:qa(a,c)?d.Sa&&!e.Sa?m.ra.kx:m.ra.Xn:m.ra.hx}
function vb(a,c){switch(ub(a,c)){case m.ra.Xn:break;case m.ra.jx:throw Error("Attempted to connect a block to itself.");case m.ra.ix:throw Error("Blocks not on same workspace.");case m.ra.mx:throw Error("Attempt to connect incompatible types.");case m.ra.lx:throw Error("Target connection is null.");case m.ra.hx:throw Error("Connection checks failed. "+(a+" expected "+a.Ze+", found "+c.Ze));case m.ra.kx:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}}
b.Fp=function(a){if(a.I.mf()||ub(this,a)!=m.ra.Xn)return!1;switch(a.type){case m.Ue:return this.ka||-1!=m.xk.indexOf(a)?a=!1:a.ka?(a=a.na(),a=a.mf()?!(a.V&&a.V.na()):!1):a=!0,a;case m.Te:if(a.isConnected()&&!a.na().mf()||this.isConnected())return!1;break;case m.bb:if(a.isConnected()&&!a.na().ud()&&!a.na().Sa)return!1;break;case m.Pa:if(a.isConnected()&&!this.I.T&&!a.na().Sa&&a.na().T)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=m.xk.indexOf(a)?!1:
!0};b.Zp=function(){};b.connect=function(a){if(this.ka!=a){vb(this,a);var c=m.h.Tb();c||m.h.ca(!0);Da(this)?this.af(a):a.af(this);c||m.h.ca(!1)}};m.ra.oF=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.ka=c;c.ka=a};m.ra.DI=function(a,c){for(var d=null,e=0;e<a.P.length;e++){var f=a.P[e].connection;if(f&&f.type==m.bb&&qa(c.L,f)){if(d)return null;d=f}}return d};m.ra.cA=function(a,c){for(var d;d=m.ra.DI(a,c);)if(a=d.na(),!a||a.Sa)return d;return null};b=m.ra.prototype;
b.disconnect=function(){var a=this.ka;if(!a)throw Error("Source connection not connected.");if(a.ka!=this)throw Error("Target connection not connected to source connection.");if(Da(this)){var c=this.I;var d=a.X();a=this}else c=a.X(),d=this.I;var e=m.h.Tb();e||m.h.ca(!0);this.Ss(c,d);a.dv();e||m.h.ca(!1)};b.Ss=function(a,c){var d;m.h.isEnabled()&&(d=new m.h.ql(c));this.ka=this.ka.ka=null;c.$k(null);d&&(d.nj(),m.h.Ca(d))};
b.dv=function(){var a=this.X(),c=this.fg;if(a.D&&c&&m.h.zc)if(a=m.R.wk(c,a.D),a.L)this.connect(a.L);else if(a.V)this.connect(a.V);else throw Error("Child block does not have output or previous statement.");};b.na=function(){return this.isConnected()?this.ka.X():null};function qa(a,c){if(!a.Ze||!c.Ze)return!0;for(var d=0;d<a.Ze.length;d++)if(-1!=c.Ze.indexOf(a.Ze[d]))return!0;return!1}b.wA=function(){!this.isConnected()||this.ka&&qa(this,this.ka)||v(Da(this)?this.na():this.I)};
b.qf=function(a){a?(Array.isArray(a)||(a=[a]),this.Ze=a,this.wA()):this.Ze=null;return this};b.rA=function(){return[]};b.Uf=function(){for(var a=null,c=this.I,d=c.P,e=0;e<c.P.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.I;if(a)if(a.L==this)var c="Output Connection of ";else if(a.V==this)c="Previous Connection of ";else if(a.T==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.P[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};m.Y={};m.Y.ml={};m.Y.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(m.Y.ml[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');m.Y.ml[a]=c};m.Y.Xu=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');m.Y.register(a,function(){this.Yd(c)})};
m.Y.Yu=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';m.Y.by(f,c.te,"domToMutation");m.Y.by(f,c.yc,"mutationToDom");var h=m.Y.gy(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');m.Y.register(a,function(){if(h){if(!m.Qe)throw Error(f+"Missing require for Blockly.Mutator");this.aB(new m.Qe(e||[]))}this.Yd(c);d&&d.apply(this)})};m.Y.unregister=function(a){m.Y.ml[a]?delete m.Y.ml[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
m.Y.apply=function(a,c,d){var e=m.Y.ml[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)m.Y.eF(a,c);else var f=m.Y.yt(c);e.apply(c);if(d)m.Y.bF('Error after applying mutator "'+a+'": ',c);else if(!m.Y.JH(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
m.Y.by=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};m.Y.eF=function(a,c){if(m.Y.yt(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
m.Y.gy=function(a,c){var d=void 0!==a.bm,e=void 0!==a.lm;if(d&&e){if("function"!=typeof a.bm)throw Error(c+"compose must be a function.");if("function"!=typeof a.lm)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
m.Y.bF=function(a,c){if("function"!=typeof c.te)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.yc)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');m.Y.gy(c,a)};m.Y.yt=function(a){var c=[];void 0!==a.te&&c.push(a.te);void 0!==a.yc&&c.push(a.yc);void 0!==a.bm&&c.push(a.bm);void 0!==a.lm&&c.push(a.lm);return c};m.Y.JH=function(a,c){c=m.Y.yt(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
m.Y.So=function(a,c){var d=[];"object"==typeof document&&m.g.WA(function(){for(var e in c)m.g.ey(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(m.Y.cF(this,a,c),d.push(this.type));this.Je(function(){var e=String(C(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=m.g.oc(f);return f}.bind(this))}};
m.Y.cF=function(a,c,d){var e=ca(a,c);if("function"!=typeof e.hj){e=e.getOptions();for(var f=0;f<e.length;++f){var h=e[f][1];null==d[h]&&console.warn("No tooltip mapping for value "+h+" of field "+c+" of block type "+a.type)}}};m.Y.qs=function(a){"object"==typeof document&&m.g.WA(function(){m.g.ey(a)});return function(){this.Je(function(){var c=ca(this,"VAR");return m.g.oc(a).replace("%1",c?c.jf():"")}.bind(this))}};
m.Y.YF=function(){this.TI=this.uf;this.Je(function(){var a=this.getParent();return a&&ua(a)&&a.uf||this.TI}.bind(this))};m.Y.register("parent_tooltip_when_inline",m.Y.YF);m.kd=function(a,c,d){this.Vo=null;m.kd.A.constructor.call(this,a,null,d);d||(this.Vo=c||null)};m.g.object.S(m.kd,m.Cd);m.kd.prototype.tl="";m.kd.va=function(a){var c=m.g.oc(a.text);return new m.kd(c,void 0,a)};m.kd.prototype.vl=!1;m.kd.prototype.re=function(a){m.kd.A.re.call(this,a);this.Vo=a["class"]};m.kd.prototype.Fm=function(){Jb(this);this.Vo&&m.g.j.ub(this.Rc,this.Vo)};m.kd.prototype.Fi=function(a){return null===a||void 0===a?null:String(a)};m.Sf.register("field_label",m.kd);m.Iw=function(a,c,d,e){if(a!=m.pg&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.I=d;this.connection=e;this.fb=[]};b=m.Iw.prototype;b.align=m.Jq;b.di=!0;b.X=function(){return this.I};function uc(a,c,d){vc(a,a.fb.length,c,d);return a}
function vc(a,c,d,e){if(0>c||c>a.fb.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=new m.kd(d));d.pv(a.I);a.I.sa&&d.xa();d.name=e;d.pb(a.isVisible());e=d;e.Su&&(c=vc(a,c,e.Su));a.fb.splice(c,0,d);++c;e.Bv&&(c=vc(a,c,e.Bv));a.I.sa&&(a.I=a.I,a.I.wa(),a.I.hc());return c}b.isVisible=function(){return this.di};
b.pb=function(a){if(this.di!=a){this.di=a;for(var c=0,d;d=this.fb[c];c++)d.pb(a);if(this.connection){this.connection=this.connection;if(a)wc(this.connection);else if(c=this.connection,xc(c,!1),c.ka)for(c=t(c.na(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.hf(!0),h=0;h<f.length;h++)xc(f[h],!1);e=va(e);for(h=0;h<e.length;h++)e[h].pb(!1)}if(c=this.connection.na())c.Da().style.display=a?"block":"none"}}};b.Rm=function(){for(var a=0,c;c=this.fb[a];a++)c.Rm()};
b.qf=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.qf(a);return this};function yc(a,c){a.align=c;a.I.sa&&(a.I=a.I,a.I.wa());return a}b.xa=function(){if(this.I.D.sa)for(var a=0;a<this.fb.length;a++)this.fb[a].xa()};b.H=function(){for(var a=0,c;c=this.fb[a];a++)c.H();this.connection&&this.connection.H();this.I=null};m.jd=function(a,c,d){if(m.Generator&&"undefined"!=typeof m.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.$c(d)?d:m.g.Mg();a.ls[this.id]=this;this.V=this.T=this.L=null;this.P=[];this.Rg=void 0;this.disabled=!1;this.uf="";this.contextMenu=!0;this.dg=null;this.Fg=[];this.Xy=this.qA=this.Ks=!0;this.Hg=this.Sa=!1;this.$e={text:null,GA:!1,size:new m.g.Jd(160,80)};this.DB=new m.g.O(0,0);this.D=a;this.Oc=a.Zf;this.J=a.J;this.Lm=!1;
this.Vf=void 0;this.sa=null;if(c){this.type=c;d=m.Jb[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);m.g.object.Yd(this,d)}a.No(this);a.hh[this.type]||(a.hh[this.type]=[]);a.hh[this.type].push(this);"function"==typeof this.xa&&this.xa();this.$G=this.Rg;if(m.h.isEnabled()){(a=m.h.Tb())||m.h.ca(!0);try{m.h.Ca(new m.h.Vn(this))}finally{a||m.h.ca(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Zm&&
ib(this.D,this.Zm);if(this.onchange=a)this.Zm=a.bind(this),hb(this.D,this.Zm)}};m.jd.rl="_TEMP_COLLAPSED_INPUT";m.jd.Sq="_TEMP_COLLAPSED_FIELD";b=m.jd.prototype;b.data=null;b.ef=!1;b.qe="#000000";b.xj=null;
b.H=function(a){if(this.D){this.Zm&&ib(this.D,this.Zm);v(this,a);m.h.isEnabled()&&m.h.Ca(new m.h.$B(this));m.h.disable();try{if(this.D){this.D.oq(this);var c=this.D;c.hh[this.type].splice(c.hh[this.type].indexOf(this),1);c.hh[this.type].length||delete c.hh[this.type];delete this.D.ls[this.id];this.D=null}m.selected==this&&(m.selected=null);for(var d=this.Fg.length-1;0<=d;d--)this.Fg[d].H(!1);d=0;for(var e;e=this.P[d];d++)e.H();this.P.length=0;var f=this.hf(!0);d=0;for(var h;h=f[d];d++)h.H()}finally{m.h.enable(),
this.ef=!0}}};b.Si=function(){for(var a=0,c;c=this.P[a];a++)for(var d=0,e;e=c.fb[d];d++)e.Si&&e.Si()};
function v(a,c){if(a.L){var d=null;a.L.isConnected()&&(d=a.L.ka,a.L.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.P.length;e++){var f=a.P[e].connection;if(f&&f.type==m.bb&&f.ka){if(c){a=null;break a}c=f}}a=c}a&&a.isConnected()&&!a.na().Sa&&(a=a.ka,a.disconnect(),qa(a,d)?d.connect(a):a.Zp(d))}}else a.V&&(d=null,a.V.isConnected()&&(d=a.V.ka,a.V.disconnect()),e=u(a),c&&e&&!e.Sa&&(a=a.T.ka,a.disconnect(),d&&qa(d,a)&&d.connect(a)))}
b.hf=function(){var a=[];this.L&&a.push(this.L);this.V&&a.push(this.V);this.T&&a.push(this.T);for(var c=0,d;d=this.P[c];c++)d.connection&&a.push(d.connection);return a};b.Np=function(){for(var a=this.T;a;){var c=a.na();if(!c)return a;a=c.T}return null};b.hc=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")};b.getParent=function(){return this.dg};
function ea(a,c){for(var d=0,e;e=a.P[d];d++)if(e.connection&&e.connection.na()==c)return e;return null}function zc(a){do{var c=a;a=a.getParent();if(!a)return null}while(u(a)==c);return a}function u(a){return a.T&&a.T.na()}b.bd=function(){var a=this;do{var c=a;a=c.dg}while(a);return c};b.ue=function(a){if(!a)return this.Fg;a=[];for(var c=0,d;d=this.P[c];c++)d.connection&&(d=d.connection.na())&&a.push(d);(c=u(this))&&a.push(c);return a};
b.$k=function(a){if(a!=this.dg){if(this.dg){m.g.Xl(this.dg.Fg,this);if(this.V&&this.V.isConnected())throw Error("Still connected to previous block.");if(this.L&&this.L.isConnected())throw Error("Still connected to parent block.");this.dg=null}else this.D.oq(this);(this.dg=a)?a.Fg.push(this):this.D.No(this)}};function t(a,c){var d=[a];a=a.ue(c);for(var e,f=0;e=a[f];f++)d.push.apply(d,t(e,c));return d}b.Vd=function(){return this.Ks&&!this.Sa&&!(this.D&&this.D.options.readOnly)};
b.ud=function(){return this.qA&&!this.Sa&&!(this.D&&this.D.options.readOnly)};b.qq=function(a){this.qA=a};b.ov=function(a){this.Sa=a};b.mf=function(){return this.Lm};b.$A=function(a){this.Lm=a};b.td=function(){return this.Xy&&!(this.D&&this.D.options.readOnly)};b.jv=function(a){this.Xy=a;a=0;for(var c;c=this.P[a];a++)for(var d=0,e;e=c.fb[d];d++)e.Cj()};
b.xt=function(a,c){var d=this.hf(!0);a=a.hf(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.Je=function(a){this.uf=a};b.tt=function(){return this.qe};b.He=function(a){this.qe=m.g.iq(a).Bm};b.bh=function(a){this.xj=a};function ca(a,c){for(var d=0,e;e=a.P[d];d++)for(var f=0,h;h=e.fb[f];f++)if(h.name==c)return h;return null}
function $a(a){for(var c=[],d=0,e;e=a.P[d];d++)for(var f=0,h;h=e.fb[f];f++)h.mq()&&(h=a.D.Pg(h.getValue()))&&c.push(h);return c}function C(a,c){return(a=ca(a,c))?a.getValue():null}b.vj=function(a,c){if(a){void 0===c&&(c=null);if(!this.V){if(this.L)throw Error("Remove output connection prior to adding previous connection.");this.V=this.Qm(m.Ue)}this.V.qf(c)}else if(this.V){if(this.V.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.V.H();this.V=null}};
b.uj=function(a,c){if(a)void 0===c&&(c=null),this.T||(this.T=this.Qm(m.Pa)),this.T.qf(c);else if(this.T){if(this.T.isConnected())throw Error("Must disconnect next statement before removing connection.");this.T.H();this.T=null}};
b.mv=function(a,c){if(a){void 0===c&&(c=null);if(!this.L){if(this.V)throw Error("Remove previous connection prior to adding output connection.");this.L=this.Qm(m.Te)}this.L.qf(c)}else if(this.L){if(this.L.isConnected())throw Error("Must disconnect output value before removing connection.");this.L.H();this.L=null}};b.tj=function(a){this.Rg!=a&&(m.h.Ca(new m.h.ih(this,"inline",null,this.Rg,a)),this.Rg=a)};
function ua(a){if(void 0!=a.Rg)return a.Rg;for(var c=1;c<a.P.length;c++)if(a.P[c-1].type==m.pg&&a.P[c].type==m.pg)return!1;for(c=1;c<a.P.length;c++)if(a.P[c-1].type==m.bb&&a.P[c].type==m.pg)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.rf=function(a){this.isEnabled()!=a&&(m.h.Ca(new m.h.ih(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Ac(a){for(a=zc(a);a;){if(a.disabled)return!0;a=zc(a)}return!1}b.isCollapsed=function(){return this.Hg};
b.Zh=function(a){this.Hg!=a&&(m.h.Ca(new m.h.ih(this,"collapsed",null,this.Hg,a)),this.Hg=a)};
b.toString=function(a,c){function d(p){var q=p.Ze;!q&&p.ka&&(q=p.ka.Ze);return!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function e(){k&&k.Za()==l.Za()&&k.pa==l.pa&&(k=null)}var f=[];c=c||"?";var h=m.C.sh;m.C.sh=!0;for(var k=m.C.Mf(this),l=k;k;){switch(k.Za()){case m.C.types.fe:var n=k.pa;k.Xf()?d(n)&&f.push("("):f.push(c);break;case m.C.types.Qb:n=k.pa,n.name!=m.jd.Sq&&f.push(n.jf())}n=k;k=n.Xf()||n.next();if(!k){k=n.ag();for(e();k&&!k.next();)k=k.ag(),e(),k&&k.Za()==m.C.types.fe&&
d(k.pa)&&f.push(")");k&&(k=k.next())}}m.C.sh=h;c=2;for(h=f.length;c<h;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2),h-=2);f=f.join(" ").replace(/(\() | (\))/gmi,"$1$2").trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function Bc(a,c){return a.md(m.pg,c||"")}
function Cc(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.Vf&&(a.Vf=c.style.Vf,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.bh(e)}catch(X){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.He(e)}catch(X){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){for(var f=a,h=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,n=m.g.RI(c["message"+e]),p=[],q=0,r=[],x=0;x<n.length;x++){var B=n[x];if("number"==typeof B){if(0>=B||B>h.length)throw Error('Block "'+f.type+'": Message index %'+B+" out of range.");if(p[B])throw Error('Block "'+f.type+'": Message index %'+B+" duplicated.");p[B]=!0;q++;r.push(h[B-1])}else(B=B.trim())&&r.push(B)}if(q!=h.length)throw Error('Block "'+f.type+'": Message does not reference all '+
h.length+" arg(s).");r.length&&("string"==typeof r[r.length-1]||m.g.Ua.startsWith(r[r.length-1].type,"field_"))&&(x={type:"input_dummy"},k&&(x.align=k),r.push(x));k={LEFT:m.Jq,RIGHT:m.Kq,CENTRE:m.Iq,CENTER:m.Iq};h=[];for(x=0;x<r.length;x++)if(p=r[x],"string"==typeof p)h.push([p,void 0]);else{n=q=null;do if(B=!1,"string"==typeof p)q=new m.kd(p);else switch(p.type){case "input_value":n=f.md(m.bb,p.name);break;case "input_statement":n=f.md(m.Pa,p.name);break;case "input_dummy":n=Bc(f,p.name);break;default:q=
m.Sf.va(p),!q&&p.alt&&(p=p.alt,B=!0)}while(B);if(q)h.push([q,p.name]);else if(n){p.check&&n.qf(p.check);p.align&&(q=k[p.align.toUpperCase()],void 0===q?console.warn(l+"Illegal align value: ",p.align):yc(n,q));for(p=0;p<h.length;p++)uc(n,h[p][0],h[p][1]);h.length=0}}e++}void 0!==c.inputsInline&&a.tj(c.inputsInline);void 0!==c.output&&a.mv(!0,c.output);void 0!==c.previousStatement&&a.vj(!0,c.previousStatement);void 0!==c.nextStatement&&a.uj(!0,c.nextStatement);void 0!==c.tooltip&&(e=c.tooltip,e=m.g.oc(e),
a.Je(e));void 0!==c.enableContextMenu&&(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=m.g.oc(e),a.Ik=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&m.Y.apply(c.mutator,a,!0);if(Array.isArray(c.extensions))for(c=c.extensions,d=0;d<c.length;++d)m.Y.apply(c[d],a,!1)}
b.Yd=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}m.g.object.Yd(this,a)};b.md=function(a,c){var d=null;if(a==m.bb||a==m.Pa)d=this.Qm(a);a=new m.Iw(a,c,this,d);this.P.push(a);return a};
b.oj=function(a,c){for(var d=0,e;e=this.P[d];d++)if(e.name==a)return e.H(),this.P.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function w(a,c){for(var d=0,e;e=a.P[d];d++)if(e.name==c)return e;return null}function Dc(a,c){return(a=w(a,c))&&a.connection&&a.connection.na()}b.Zk=function(a){this.$e.text!=a&&(m.h.Ca(new m.h.ih(this,"comment",null,this.$e.text,a)),this.$e.text=a)};b.rq=function(){};b.aB=function(){};b.Va=function(){return this.DB};
b.moveBy=function(a,c){if(this.dg)throw Error("Block has parent.");var d=new m.h.ql(this);this.DB.translate(a,c);d.nj();m.h.Ca(d)};b.Qm=function(a){return new m.ra(this,a)};m.i={};m.i.Ln=!1;m.i.register=function(a,c){m.ga.register(m.ga.Kb.RENDERER,a,c)};m.i.unregister=function(a){m.ga.unregister(m.ga.Kb.RENDERER,a)};m.i.vN=function(){m.i.Ln=!0};m.i.wN=function(){m.i.Ln=!1};m.i.xa=function(a,c,d){a=new (m.ga.st(m.ga.Kb.RENDERER,a))(a);a.xa(c,d);return a};m.Fl=function(){this.pd=this.Wa=this.jb=null;this.type="marker"};function D(a,c){var d=a.Wa;a.Wa=c;a.pd&&a.pd.draw(d,a.Wa)}m.Fl.prototype.draw=function(){this.pd&&this.pd.draw(this.Wa,this.Wa)};m.Fl.prototype.Ea=function(){this.pd&&this.pd.Ea()};m.Fl.prototype.H=function(){this.pd&&this.pd.H()};m.Lj=function(){m.Lj.A.constructor.call(this);this.type="cursor"};m.g.object.S(m.Lj,m.Fl);b=m.Lj.prototype;b.next=function(){var a=this.Wa;if(!a)return null;for(a=a.next();a&&a.next()&&(a.Za()==m.C.types.Fd||a.Za()==m.C.types.zd);)a=a.next();a&&D(this,a);return a};b.Xf=function(){var a=this.Wa;if(!a)return null;if(a.Za()==m.C.types.Gd||a.Za()==m.C.types.pi)a=a.next();(a=a.Xf())&&D(this,a);return a};
b.Fe=function(){var a=this.Wa;if(!a)return null;for(a=a.Fe();a&&a.Fe()&&(a.Za()==m.C.types.Fd||a.Za()==m.C.types.zd);)a=a.Fe();a&&D(this,a);return a};b.ag=function(){var a=this.Wa;if(!a)return null;(a=a.ag())&&a.Za()==m.C.types.zd&&(a=a.Fe()||a);a&&D(this,a);return a};
b.Qc=function(a){if(this.Wa&&this.Wa.Za()===m.C.types.Qb&&this.Wa.pa.Qc(a))return!0;switch(a.name){case m.navigation.Aa.Gd:return this.Fe(),!0;case m.navigation.Aa.Co:return this.ag(),!0;case m.navigation.Aa.Fd:return this.next(),!0;case m.navigation.Aa.qo:return this.Xf(),!0;default:return!1}};m.oo=function(){m.oo.A.constructor.call(this)};m.g.object.S(m.oo,m.Lj);b=m.oo.prototype;b.Qc=function(a){switch(a.name){case m.navigation.Aa.Gd:return this.Fe(),!0;case m.navigation.Aa.Fd:return this.next(),!0;default:return!1}};b.next=function(){var a=this.Wa;if(!a)return null;(a=a.next())&&D(this,a);return a};b.Xf=function(){return null};b.Fe=function(){var a=this.Wa;if(!a)return null;(a=a.Fe())&&D(this,a);return a};b.ag=function(){return null};m.i.kK=function(){};m.za={};m.za.ep=null;m.za.lc=null;m.za.show=function(a,c,d){m.W.show(m.za,d,m.za.H);if(c.length){var e=m.za.fI(c,d);m.za.lc=e;m.za.hI(e,a,d);setTimeout(function(){e.focus()},1);m.za.ep=null}else m.za.Ea()};m.za.fI=function(a,c){var d=new m.qr;d.Ie(m.g.U.xg.vD);for(var e=0,f;f=a[e];e++){var h=new m.rr(f.text);h.Xh=c;h.Ie(m.g.U.xg.wD);d.Yr(h);h.rf(f.enabled);f.enabled&&Tb(h,function(){m.za.Ea();this.Yb()},f)}return d};
m.za.hI=function(a,c,d){var e=m.g.CG();c=new m.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);m.za.vF(a);var f=a.Ng();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);m.W.gI(e,c,f,d);a.focus()};m.za.vF=function(a){a.wa(m.W.Ya);var c=a.Ma();m.g.j.ub(c,"blocklyContextMenu");m.ua(c,"contextmenu",null,m.g.NH);a.focus()};m.za.Ea=function(){m.W.Cm(m.za);m.za.ep=null};m.za.H=function(){m.za.lc&&(m.za.lc.H(),m.za.lc=null)};
m.za.$E=function(a,c){return function(){m.h.disable();try{var d=m.R.wk(c,a.D),e=a.Va();e.x=a.J?e.x-m.Hd:e.x+m.Hd;e.y+=2*m.Hd;d.moveBy(e.x,e.y)}finally{m.h.enable()}m.h.isEnabled()&&!d.Sa&&m.h.Ca(new m.h.Vn(d));d.select()}};m.za.QE=function(a){var c=t(a,!1).length,d=u(a);d&&(c-=t(d,!1).length);return{text:1==c?m.m.DELETE_BLOCK:m.m.DELETE_X_BLOCKS.replace("%1",String(c)),enabled:!0,Yb:function(){m.h.ca(!0);a.H(!0,!0);m.h.ca(!1)}}};
m.za.SE=function(a){return{enabled:!("function"==typeof a.Ik?!a.Ik():!a.Ik),text:m.m.HELP,Yb:function(){a.showHelp()}}};m.za.RE=function(a){var c=gb(a.D)?fb(a.D,m.g.qt(a,!0)):!0;return{text:m.m.DUPLICATE_BLOCK,enabled:c,Yb:function(){m.duplicate(a)}}};m.za.PE=function(a){var c={enabled:!m.g.userAgent.Oe};a.If?(c.text=m.m.REMOVE_COMMENT,c.Yb=function(){a.Zk(null)}):(c.text=m.m.ADD_COMMENT,c.Yb=function(){a.Zk("")});return c};
m.za.XL=function(a){return{text:m.m.REMOVE_COMMENT,enabled:!0,Yb:function(){m.h.ca(!0);a.H(!0,!0);m.h.ca(!1)}}};m.za.YL=function(a){return{text:m.m.DUPLICATE_COMMENT,enabled:!0,Yb:function(){m.duplicate(a)}}};
m.za.HN=function(a,c){if(!m.dk)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!m.g.userAgent.Oe};d.text=m.m.ADD_COMMENT;d.Yb=function(){var e=new m.dk(a,m.m.WORKSPACE_COMMENT_DEFAULT_TEXT,m.dk.tC,m.dk.tC),f=aa(a).getBoundingClientRect();f=new m.g.O(c.clientX-f.left,c.clientY-f.top);var h=m.g.ym(a.qb);f=m.g.O.nm(f,h);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.sa&&(e.Yf(),e.wa(),e.select())};return d};m.Db=function(a,c){m.Db.A.constructor.call(this,a,c);this.Of=a.D.ap[c];this.Ey=a.D.ap[m.Tj[c]];this.lj=new m.g.O(0,0);this.gh=m.Db.Ef.Kx;this.ka=null};m.g.object.S(m.Db,m.ra);m.Db.Ef={Kx:-1,Dx:0,ck:1};b=m.Db.prototype;b.H=function(){m.Db.A.H.call(this);this.gh==m.Db.Ef.ck&&Ec(this.Of,this,this.y)};b.X=function(){return m.Db.A.X.call(this)};b.na=function(){return m.Db.A.na.call(this)};function Fc(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function wb(a,c){if(!a.I.D.kc()){var d=a.I.bd();if(!d.Oc){var e=!1;if(!d.ud()){d=c.X().bd();if(!d.ud())return;c=a;e=!0}var f=m.selected==d;f||d.Lo();var h=c.x+m.Hd+Math.floor(Math.random()*m.Rq)-a.x,k=c.y+m.Hd+Math.floor(Math.random()*m.Rq)-a.y;e&&(k=-k);d.J&&(h=c.x-m.Hd-Math.floor(Math.random()*m.Rq)-a.x);d.moveBy(h,k);f||d.ln()}}}
b.moveTo=function(a,c){if(this.gh==m.Db.Ef.Kx){var d=this.Of;d.Gb.splice(Gc(d,c),0,this);this.gh=m.Db.Ef.ck}else this.gh==m.Db.Ef.ck&&(Ec(this.Of,this,this.y),d=this.Of,d.Gb.splice(Gc(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function Hc(a,c){a.moveTo(c.x+a.lj.x,c.y+a.lj.y)}function Ic(a,c,d){a.lj.x=c;a.lj.y=d}
function Jc(a){var c=a.ka.x-a.x,d=a.ka.y-a.y;if(0!=c||0!=d){a=a.na();var e=a.Da();if(!e)throw Error("block is not rendered.");e=m.g.ve(e);a.Da().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Ca(a,-c,-d)}}
b.closest=function(a,c){var d=this.Ey;if(d.Gb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var h=Gc(d,this.y);c=null;for(var k=a,l,n=h-1;0<=n&&Math.abs(d.Gb[n].y-this.y)<=a;)l=d.Gb[n],this.Fp(l,k)&&(c=l,k=Fc(l,this)),n--;for(;h<d.Gb.length&&Math.abs(d.Gb[h].y-this.y)<=a;)l=d.Gb[h],this.Fp(l,k)&&(c=l,k=Fc(l,this)),h++;this.x=f;this.y=e;a={connection:c,kq:k}}else a={connection:null,kq:a};return a};
function xc(a,c){c&&a.gh==m.Db.Ef.ck||!c&&a.gh==m.Db.Ef.Dx||a.I.Oc||(c?(c=a.Of,c.Gb.splice(Gc(c,a.y),0,a),a.gh=m.Db.Ef.ck):(a.gh==m.Db.Ef.ck&&Ec(a.Of,a,a.y),a.gh=m.Db.Ef.Dx))}function wc(a){xc(a,!0);var c=[];if(a.type!=m.bb&&a.type!=m.Pa)return c;if(a=a.na()){if(a.isCollapsed()){var d=[];a.L&&d.push(a.L);a.T&&d.push(a.T);a.V&&d.push(a.V)}else d=a.hf(!0);for(var e=0;e<d.length;e++)c.push.apply(c,wc(d[e]));c.length||(c[0]=a)}return c}b.Fp=function(a,c){return Fc(this,a)>c?!1:m.Db.A.Fp.call(this,a)};
b.Zp=function(a){wb(this,a)};b.Ss=function(a,c){m.Db.A.Ss.call(this,a,c);a.sa&&a.wa();c.sa&&(Ya(c),c.wa(),c.Da().style.display="block")};b.dv=function(){var a=this.X(),c=this.fg;if(a.D&&c&&m.h.zc){m.Db.A.dv.call(this);c=this.na();if(!c)throw Error("Couldn't respawn the shadow block that should exist here.");c.Yf();c.wa(!1);a.sa&&a.wa()}};b.rA=function(a){return Kc(this.Ey,this,a)};
b.af=function(a){m.Db.A.af.call(this,a);var c=this.X();a=a.X();var d=c.sa,e=a.sa;d&&Ya(c);e&&Ya(a);d&&e&&(this.type==m.Pa||this.type==m.Ue?a.wa():c.wa());if(c=ea(c,a))c=c.isVisible(),a.Da().style.display=c?"block":"none"};b.wA=function(){!this.isConnected()||this.ka&&qa(this,this.ka)||(v(Da(this)?this.na():this.I),this.I.hc())};m.Un=function(){m.Un.A.constructor.call(this)};m.g.object.S(m.Un,m.Lj);b=m.Un.prototype;b.next=function(){var a=this.Wa;if(!a)return null;(a=Lc(this,a,this.Lv))&&D(this,a);return a};b.Xf=function(){return this.next()};b.Fe=function(){var a=this.Wa;if(!a)return null;(a=Mc(this,a,this.Lv))&&D(this,a);return a};b.ag=function(){return this.Fe()};function Lc(a,c,d){if(!c)return null;var e=c.Xf()||c.next();if(d(e))return e;if(e)return Lc(a,e,d);c=Nc(a,c.ag());return d(c)?c:c?Lc(a,c,d):null}
function Mc(a,c,d){if(!c)return null;var e=c.Fe();e=e?Oc(a,e):c.ag();return d(e)?e:e?Mc(a,e,d):null}b.Lv=function(a){var c=!1;a=a&&a.Za();if(a==m.C.types.pi||a==m.C.types.fe||a==m.C.types.Qb||a==m.C.types.Fd||a==m.C.types.Gd||a==m.C.types.Gf)c=!0;return c};function Nc(a,c){if(!c)return null;var d=c.next();return d?d:Nc(a,c.ag())}function Oc(a,c){if(!c.Xf())return c;for(c=c.Xf();c.next();)c=c.next();return Oc(a,c)};m.Io=function(){m.Io.A.constructor.call(this)};m.g.object.S(m.Io,m.Un);m.Io.prototype.Lv=function(a){var c=!1,d=a&&a.Za();a&&(a=a.pa,d==m.C.types.Qb&&a&&a.aA()&&ia(a)&&(c=!0));return c};m.hb=function(a,c,d){this.N=m.g.j.K("g",{},null);this.N.Fn="";this.style=Pc(a.ob.Z(),null);this.xb=a.ob.kA(this.N,this.style);this.$u=this.sa=!1;this.D=a;this.V=this.T=this.L=null;this.Mn=m.g.Vi()&&!!a.Ld;var e=this.xb.Cb;e.uf=this;m.G.hk(e);m.hb.A.constructor.call(this,a,c,d);this.N.dataset&&(this.N.dataset.id=this.id)};m.g.object.S(m.hb,m.jd);m.hb.prototype.height=0;m.hb.prototype.width=0;m.hb.prototype.yd=null;m.hb.jK=-1;m.hb.eC="TEMP_COLLAPSED_WARNING_";b=m.hb.prototype;
b.Yf=function(){if(!this.D.sa)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.P[a];a++)c.xa();c=va(this);for(a=0;a<c.length;a++)Qc(c[a]);this.Sb();sa(this.xb,"blocklyDraggable",this.ud());a=this.Da();this.D.options.readOnly||this.XF||!a||m.ua(a,"mousedown",this,this.Ph);this.XF=!0;a.parentNode||this.D.qb.appendChild(a)};
b.select=function(){if(this.Sa&&this.getParent())this.getParent().select();else if(m.selected!=this){var a=null;if(m.selected){a=m.selected.id;m.h.disable();try{rb(m.selected)}finally{m.h.enable()}}a=new m.h.Rb(null,"selected",a,this.id);a.Bb=this.D.id;m.h.Ca(a);m.selected=this;this.Lo()}};function rb(a){if(m.selected==a){var c=new m.h.Rb(null,"selected",a.id,null);c.Bb=a.D.id;m.h.Ca(c);m.selected=null;a.ln()}}b.Be=null;b.If=null;b.ce=null;
function va(a){var c=[];a.Be&&c.push(a.Be);a.If&&c.push(a.If);a.ce&&c.push(a.ce);return c}b.$k=function(a){var c=this.dg;if(a!=c){m.g.j.wn();m.hb.A.$k.call(this,a);m.g.j.xn();var d=this.Da();if(!this.D.Tt&&d){var e=this.Va();a?(a.Da().appendChild(d),a=this.Va(),Ca(this,a.x-e.x,a.y-e.y)):c&&(this.D.qb.appendChild(d),this.translate(e.x,e.y));this.Sb()}}};
b.Va=function(){var a=0,c=0,d=this.Mn?this.D.Ld.Tb():null,e=this.Da();if(e){do{var f=m.g.ve(e);a+=f.x;c+=f.y;this.Mn&&this.D.Ld.Pf.firstChild==e&&(f=this.D.Ld.Bt(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.D.qb&&e!=d)}return new m.g.O(a,c)};b.moveBy=function(a,c){if(this.dg)throw Error("Block has parent.");var d=m.h.isEnabled();if(d)var e=new m.h.ql(this);var f=this.Va();this.translate(f.x+a,f.y+c);Ca(this,a,c);d&&(e.nj(),m.h.Ca(e));Za(this.D)};
b.translate=function(a,c){this.Da().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Va();this.moveBy(a.x-c.x,a.y-c.y)};b.su=function(a){this.Mn?this.D.Ld.Bj(a.x,a.y):(this.N.Fn="translate("+a.x+","+a.y+")",this.N.setAttribute("transform",this.N.Fn+this.N.vn))};
function Rc(a){if(a.D&&!a.D.kc()&&!a.getParent()&&!a.Oc){var c=a.D.xe;if(c&&c.EI){var d=c.wv,e=d/2,f=a.Va();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function Sc(a){var c=a.Va(),d=la(a);if(a.J){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new m.g.Rect(c.y,c.y+d.height,a,e)}b.Rm=function(){this.xb.mk=this.D.ob.Z();for(var a=0,c;c=this.P[a];a++)c.Rm()};
b.Zh=function(a){this.Hg!=a&&(m.hb.A.Zh.call(this,a),a?this.sa&&this.wa():Tc(this))};function Tc(a){for(var c=a.isCollapsed(),d=0,e;e=a.P[d];d++)e.name!=m.jd.rl&&e.pb(!c);if(c){e=va(a);for(d=0;c=e[d];d++)c.pb(!1);d=a.toString(m.fC);(e=ca(a,m.jd.Sq))?e.setValue(d):(e=w(a,m.jd.rl)||Bc(a,m.jd.rl),uc(e,new m.kd(d),m.jd.Sq))}else a.oj(m.jd.rl)}
b.Ph=function(a){var c=this.D&&this.D.Ch(a);if(c){if(c.Ni)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Fb(c,this);c.Ae=a}};b.showHelp=function(){var a="function"==typeof this.Ik?this.Ik():this.Ik;a&&window.open(a)};
function Uc(a){if(a.D.options.readOnly||!a.contextMenu)return null;var c=[];if(!a.Oc){a.Vd()&&a.ud()&&c.push(m.za.RE(a));a.D.options.kF&&!a.Hg&&a.td()&&c.push(m.za.PE(a));if(a.ud())if(a.Hg)a.D.options.collapse&&(d={enabled:!0},d.text=m.m.EXPAND_BLOCK,d.Yb=function(){a.Zh(!1)},c.push(d));else{for(var d=1;d<a.P.length;d++)if(a.P[d-1].type!=m.Pa&&a.P[d].type!=m.Pa){d={enabled:!0};var e=ua(a);d.text=e?m.m.EXTERNAL_INPUTS:m.m.INLINE_INPUTS;d.Yb=function(){a.tj(!e)};c.push(d);break}a.D.options.collapse&&
(d={enabled:!0},d.text=m.m.COLLAPSE_BLOCK,d.Yb=function(){a.Zh(!0)},c.push(d))}a.D.options.disable&&a.td()&&(d={text:a.isEnabled()?m.m.DISABLE_BLOCK:m.m.ENABLE_BLOCK,enabled:!Ac(a),Yb:function(){var f=m.h.Tb();f||m.h.ca(!0);a.rf(!a.isEnabled());f||m.h.ca(!1)}},c.push(d));a.Vd()&&c.push(m.za.QE(a))}c.push(m.za.SE(a));a.Dy&&a.Dy(c);return c}b.tn=function(a){var c=Uc(this);c&&c.length&&(m.za.show(a,c,this.J),m.za.ep=this)};
function Ca(a,c,d){if(a.sa){for(var e=a.hf(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=va(a);for(f=0;f<e.length;f++)Vc(e[f]);for(f=0;f<a.Fg.length;f++)Ca(a.Fg[f],c,d)}}b.$h=function(a){if(a){var c=this.Da();c.Fn="";c.vn="";m.xk=m.xk.concat(this.hf(!0));m.g.j.ub(this.N,"blocklyDragging")}else m.xk=[],m.g.j.Ac(this.N,"blocklyDragging");for(c=0;c<this.Fg.length;c++)this.Fg[c].$h(a)};b.qq=function(a){m.hb.A.qq.call(this,a);sa(this.xb,"blocklyDraggable",a)};
b.jv=function(a){m.hb.A.jv.call(this,a);a=va(this);for(var c=0;c<a.length;c++)a[c].Cj()};b.ov=function(a){m.hb.A.ov.call(this,a);this.Sb()};b.$A=function(a){this.Lm!=a&&(this.Lm=a)&&(this.He(this.D.ob.Z().ir),sa(this.xb,"blocklyInsertionMarker",!0))};b.Da=function(){return this.N};
b.H=function(a,c){if(this.D){m.G.H();m.G.Iv(this.xb.Cb);m.g.j.wn();var d=this.D;if(m.selected==this){rb(this);var e=this.D;e.ic&&e.ic.cancel()}m.za.ep==this&&m.za.Ea();this.D.ac&&m.navigation.FH(this);c&&this.sa&&(v(this,a),m.ib.OF(this));this.sa=!1;if(this.yd){for(var f in this.yd)clearTimeout(this.yd[f]);this.yd=null}c=va(this);for(e=0;e<c.length;e++)c[e].H();m.hb.A.H.call(this,!!a);m.g.j.removeNode(this.N);Za(d);this.N=null;m.g.j.xn()}};
b.Sb=function(){this.xb.Sb(this);for(var a=va(this),c=0;c<a.length;c++)a[c].Sb();for(a=0;c=this.P[a];a++)for(var d=0,e;e=c.fb[d];d++)e.Sb()};function Ya(a){var c=a.ue(!1);a.Sb();a=0;for(var d;d=c[a];a++)Ya(d)}b.nG=function(){return this.If};b.Zk=function(a){if(!m.Comment)throw Error("Missing require for Blockly.Comment");this.$e.text!=a&&(m.hb.A.Zk.call(this,a),a=null!=a,!!this.If==a?this.If.FN():(a?this.If=new m.Comment(this):(this.If.H(),this.If=null),this.sa&&(this.wa(),this.hc())))};
b.rq=function(a,c){if(!m.ne)throw Error("Missing require for Blockly.Warning");this.yd||(this.yd=Object.create(null));var d=c||"";if(d)this.yd[d]&&(clearTimeout(this.yd[d]),delete this.yd[d]);else for(var e in this.yd)clearTimeout(this.yd[e]),delete this.yd[e];if(this.D.kc()){var f=this;this.yd[d]=setTimeout(function(){f.D&&(delete f.yd[d],f.rq(a,d))},100)}else{this.Oc&&(a=null);c=!1;if("string"==typeof a){e=zc(this);for(var h=null;e;)e.isCollapsed()&&(h=e),e=zc(e);h&&h.rq(m.m.COLLAPSED_WARNINGS_WARNING,
m.hb.eC);this.ce||(this.ce=new m.ne(this),c=!0);this.ce.qv(a,d)}else this.ce&&!d?(this.ce.H(),c=!0):this.ce&&(c=this.ce.jf(),this.ce.qv("",d),(e=this.ce.jf())||this.ce.H(),c=c!=e);c&&this.sa&&(this.wa(),this.hc())}};b.aB=function(a){this.Be&&this.Be!==a&&this.Be.H();a&&(a.M=this,this.Be=a,Qc(a));this.sa&&(this.wa(),this.hc())};b.rf=function(a){this.isEnabled()!=a&&(m.hb.A.rf.call(this,a),this.sa&&!Ac(this)&&Ya(this))};b.sf=function(a){this.sa&&this.xb.rB(a)};
b.Lo=function(){sa(this.xb,"blocklySelected",!0)};b.ln=function(){sa(this.xb,"blocklySelected",!1)};function za(a,c){sa(a.xb,"blocklyDraggingDelete",c)}b.tt=function(){return this.style.yh};b.He=function(a){m.hb.A.He.call(this,a);a=Wc(this.D.ob.Z(),this.qe);this.xb.bh(a.style);this.style=a.style;this.xj=a.name;this.Sb()};b.bh=function(a){var c=Pc(this.D.ob.Z(),a);this.xj=a;if(c)this.Vf=c.Vf,this.xb.bh(c),this.qe=c.yh,this.style=c,this.Sb();else throw Error("Invalid style name: "+a);};
function Ea(a){do{var c=a.Da(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.vj=function(a,c){m.hb.A.vj.call(this,a,c);this.sa&&(this.wa(),this.hc())};b.uj=function(a,c){m.hb.A.uj.call(this,a,c);this.sa&&(this.wa(),this.hc())};b.mv=function(a,c){m.hb.A.mv.call(this,a,c);this.sa&&(this.wa(),this.hc())};b.tj=function(a){m.hb.A.tj.call(this,a);this.sa&&(this.wa(),this.hc())};b.oj=function(a,c){a=m.hb.A.oj.call(this,a,c);this.sa&&(this.wa(),this.hc());return a};
b.md=function(a,c){a=m.hb.A.md.call(this,a,c);this.sa&&(this.wa(),this.hc());return a};function Xa(a,c){a.V&&xc(a.V,c);a.L&&xc(a.L,c);if(a.T){xc(a.T,c);var d=a.T.na();d&&Xa(d,c)}if(!a.Hg)for(d=0;d<a.P.length;d++){var e=a.P[d].connection;e&&(xc(e,c),(e=e.na())&&Xa(e,c))}}b.hf=function(a){var c=[];if(a||this.sa)if(this.L&&c.push(this.L),this.V&&c.push(this.V),this.T&&c.push(this.T),a||!this.Hg){a=0;for(var d;d=this.P[a];a++)d.connection&&c.push(d.connection)}return c};b.Np=function(){return m.hb.A.Np.call(this)};
b.xt=function(a,c){return m.hb.A.xt.call(this,a,c)};b.Qm=function(a){return new m.Db(this,a)};b.hc=function(){if(this.D&&!this.D.kc()){var a=this.bd();if(!a.Oc)for(var c=this.hf(!1),d=0,e;e=c[d];d++){e.isConnected()&&Da(e)&&e.na().hc();for(var f=e.rA(m.Hd),h=0,k;k=f[h];h++)e.isConnected()&&k.isConnected()||k.X().bd()!=a&&(Da(e)?wb(k,e):wb(e,k))}}};function Fa(a){var c=m.h.Tb();setTimeout(function(){m.h.ca(c);Rc(a);m.h.ca(!1)},m.Qq/2);setTimeout(function(){m.h.ca(c);a.hc();m.h.ca(!1)},m.Qq)}
function ra(a,c,d){c.type!=m.Pa&&c.type!=m.bb||a.moveBy(d.x-c.x,d.y-c.y)}b.getParent=function(){return m.hb.A.getParent.call(this)};b.bd=function(){return m.hb.A.bd.call(this)};
b.wa=function(a){if(!this.$u){this.$u=!0;try{this.sa=!0;m.g.j.wn();this.isCollapsed()&&Tc(this);this.D.ob.wa(this);var c=this.Va();this.V&&Hc(this.V,c);this.L&&Hc(this.L,c);for(var d=0;d<this.P.length;d++){var e=this.P[d].connection;e&&(Hc(e,c),e.isConnected()&&Jc(e))}this.T&&(Hc(this.T,c),this.T.isConnected()&&Jc(this.T));if(!1!==a){var f=this.getParent();f?f.wa(!0):Za(this.D)}m.g.j.xn();this.Kv()}finally{this.$u=!1}}};
b.Kv=function(){this.D.ac&&this.xb.km&&this.D.wb().draw();this.D.ac&&this.xb.ku&&this.D.ad(m.navigation.Cl).draw()};b.$g=function(a){this.xb.$g(a)};b.ah=function(a){this.xb.ah(a)};function la(a){var c=a.height,d=a.width,e=u(a);e&&(e=la(e),a=a.D.ob.Z().Xw,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};m.Kj=function(){this.Gb=[]};function Xc(a,c,d){if(!a.Gb.length)return-1;var e=Gc(a,d);if(e>=a.Gb.length)return-1;d=c.y;for(var f=e;0<=f&&a.Gb[f].y==d;){if(a.Gb[f]==c)return f;f--}for(;e<a.Gb.length&&a.Gb[e].y==d;){if(a.Gb[e]==c)return e;e++}return-1}function Gc(a,c){if(!a.Gb.length)return 0;for(var d=0,e=a.Gb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Gb[f].y<c)d=f+1;else if(a.Gb[f].y>c)e=f;else{d=f;break}}return d}
function Ec(a,c,d){c=Xc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.Gb.splice(c,1)}function Kc(a,c,d){function e(p){var q=h-f[p].x,r=k-f[p].y;Math.sqrt(q*q+r*r)<=d&&n.push(f[p]);return r<d}var f=a.Gb,h=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var n=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return n}m.Kj.xa=function(){var a=[];a[m.bb]=new m.Kj;a[m.Te]=new m.Kj;a[m.Pa]=new m.Kj;a[m.Ue]=new m.Kj;return a};m.ni=function(a,c){this.Ek=a;this.wv=c.spacing;this.fA=c.length;this.nH=(this.$t=a.firstChild)&&this.$t.nextSibling;this.EI=c.snap};m.ni.prototype.Yh=1;m.ni.prototype.H=function(){this.Ek=null};m.ni.prototype.update=function(a){this.Yh=a;var c=this.wv*a||100;this.Ek.setAttribute("width",c);this.Ek.setAttribute("height",c);c=Math.floor(this.wv/2)+.5;var d=c-this.fA/2,e=c+this.fA/2;c*=a;d*=a;e*=a;Yc(this.$t,a,d,e,c,c);Yc(this.nH,a,c,c,d,e)};
function Yc(a,c,d,e,f,h){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",h))}m.ni.prototype.moveTo=function(a,c){this.Ek.setAttribute("x",a);this.Ek.setAttribute("y",c);(m.g.userAgent.Oe||m.g.userAgent.li)&&this.update(this.Yh)};
m.ni.Ga=function(a,c,d){a=m.g.j.K("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(m.g.j.K("line",{stroke:c.colour},a),1<c.length&&m.g.j.K("line",{stroke:c.colour},a)):m.g.j.K("line",{},a);return a};m.Uw=function(a){this.Kg=this.df=null;this.gj={};this.s=a};function Zc(a,c){var d=a.gj[c];if(d)d.H(),delete a.gj[c];else throw Error("Marker with id "+c+" does not exist. Can only unregistermarkers that exist.");}b=m.Uw.prototype;b.wb=function(){return this.df};b.ad=function(a){return this.gj[a]};b.hv=function(a){this.df&&this.df.pd&&this.df.pd.H();if(this.df=a)a=this.df,a=new m.i.sg(this.s,this.s.ob.Z(),a),this.df.pd=a,this.$g(this.df.pd.Ga())};
b.$g=function(a){a?(this.s.qb.appendChild(a),this.Kg=a):this.Kg=null};b.ah=function(a){a?this.s.qb&&(this.Kg?this.s.qb.insertBefore(a,this.Kg):this.s.qb.appendChild(a)):this.Xg=null};b.H=function(){for(var a=Object.keys(this.gj),c=0,d;d=a[c];c++)Zc(this,d);this.gj=null;this.df.H();this.df=null};m.Cx=function(a,c){this.s=a;this.eh=c;this.yn=[];this.Kf=Object.create(null)};b=m.Cx.prototype;b.Og=function(){return this.eh};b.sn=function(a){var c=this.eh;this.eh=a;if(a=aa(this.s))c&&m.g.j.Ac(a,c.gf()),m.g.j.ub(a,this.eh.gf());for(c=0;a=this.yn[c];c++)a.Wu();c=0;a=Object.keys(this.Kf);for(var d;d=a[c];c++)for(var e=0,f;f=this.Kf[d][e];e++)f.element.style[f.propertyName]=this.eh&&Va(this.eh,d)||"";m.Vb()};
b.subscribe=function(a,c,d){this.Kf[c]||(this.Kf[c]=[]);this.Kf[c].push({element:a,propertyName:d});a.style[d]=this.eh&&Va(this.eh,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.Kf),d=0,e;e=c[d];d++){for(var f=this.Kf[e],h=f.length-1;0<=h;h--)f[h].element===a&&f.splice(h,1);this.Kf[e].length||delete this.Kf[e]}};b.H=function(){this.Kf=this.yn=this.eh=this.De=null};m.ld=function(a,c){m.ld.A.constructor.call(this,a,c);this.Ip=!1;this.Nd=Object.create(null);this.eB=this.hn=0;this.Zz=this.Hu=null};m.g.object.S(m.ld,m.mi);m.ld.AE=5;m.ld.BE=6;b=m.ld.prototype;b.Xs=function(a){this.Zz=this.Wb.options.gb&&this.Wb.options.gb.Qu;m.ld.A.Xs.call(this,a);!this.Hp&&m.Touch.Mp(a)&&$c(this,a)};
b.hk=function(a){this.Hu=m.ua(document,"mousedown",null,this.OG.bind(this),!0);this.eq=m.ua(document,"mousemove",null,this.Fk.bind(this),!0);this.fq=m.ua(document,"mouseup",null,this.yp.bind(this),!0);a.preventDefault();a.stopPropagation()};b.OG=function(a){!this.kc()&&m.Touch.Mp(a)&&($c(this,a),this.Ip&&m.Lh())};
b.Fk=function(a){if(this.kc())m.Touch.vv(a)&&m.ld.A.Fk.call(this,a);else if(this.Ip){if(m.Touch.Mp(a)){this.Nd[m.Touch.xp(a)]=ad(this,a);var c=Object.keys(this.Nd);if(this.Zz&&2===c.length){c=Object.keys(this.Nd);c=m.g.O.Ws(this.Nd[c[0]],this.Nd[c[1]])/this.eB;if(0<this.hn&&Infinity>this.hn){var d=c-this.hn;d=0<d?d*m.ld.AE:d*m.ld.BE;var e=this.Wb,f=m.g.Xm(a,y(e),Sa(e));e.zoom(f.x,f.y,d)}this.hn=c;a.preventDefault()}else m.ld.A.Fk.call(this,a)}m.Lh()}else m.ld.A.Fk.call(this,a)};
b.yp=function(a){if(m.Touch.Mp(a)&&!this.kc()){var c=m.Touch.xp(a);this.Nd[c]&&delete this.Nd[c];2>Object.keys(this.Nd).length&&(this.Nd=Object.create(null),this.hn=0)}!this.Ip||this.kc()?m.Touch.vv(a)&&m.ld.A.yp.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){m.ld.A.H.call(this);this.Hu&&m.$a(this.Hu)};function $c(a,c){a.Nd[m.Touch.xp(c)]=ad(a,c);var d=Object.keys(a.Nd);2==d.length&&(a.eB=m.g.O.Ws(a.Nd[d[0]],a.Nd[d[1]]),a.Ip=!0,c.preventDefault())}
function ad(a,c){return a.Wb?new m.g.O(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};m.Nx=function(a){this.Mu=a;this.Nl=Object.create(null)};b=m.Nx.prototype;b.Wt=null;b.H=function(){this.Nl=this.Mu=null};b.load=function(a,c){if(a.length){try{var d=new m.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new m.g.global.Audio(h);break}}e&&e.play&&(this.Nl[c]=e)}};
b.preload=function(){for(var a in this.Nl){var c=this.Nl[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(m.g.userAgent.Nj||m.g.userAgent.Gw)break}};b.play=function(a,c){var d=this.Nl[a];d?(a=new Date,null!=this.Wt&&a-this.Wt<m.XD||(this.Wt=a,d=m.g.userAgent.Nj||m.g.userAgent.ol?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.Mu&&this.Mu.nd.play(a,c)};m.Ox=function(a){this.em=a;this.Ga()};b=m.Ox.prototype;b.sb=null;b.em=null;b.Ga=function(){this.sb||(this.sb=m.g.j.K("svg",{xmlns:m.g.j.Fo,"xmlns:html":m.g.j.dr,"xmlns:xlink":m.g.j.Kc,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.em.appendChild(this.sb))};b.Bj=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.sb.style.display="block";m.g.j.qn(this.sb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Bt=function(){return m.g.ve(this.sb)};
b.Wo=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.sb.childNodes[0],d=this.sb.childNodes[1];if(!(c&&d&&m.g.j.Ht(c,"blocklyBlockCanvas")&&m.g.j.Ht(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Xk?m.g.j.Ui(c,this.Xk):a.insertBefore(c,a.firstChild);m.g.j.Ui(d,c);this.sb.style.display="none";if(this.sb.childNodes.length)throw Error("Drag surface was not cleared.");m.g.j.qn(this.sb,
"");this.Xk=null};
m.eb=function(a,c,d){m.eb.A.constructor.call(this,a);this.Sd=a.Sd||m.eb.AG;this.rn=a.rn||m.eb.zI;this.ap=m.Kj.xa();c&&(this.Ld=c);d&&(this.Fj=d);this.Dq=!!this.Fj&&m.g.Vi();this.Dm=[];this.nd=new m.Nx(a.nc);this.xe=this.options.Et?new m.ni(this.options.Et,a.Ez):null;this.Wd=new m.Uw(this);this.Ev={};this.az={};m.ba&&m.ba.Ii&&bd(this,m.Jc,m.ba.Ii);m.Ix&&m.Ix.Ii&&bd(this,m.rE,m.Ix.Ii);m.cb&&m.cb.Ii&&(bd(this,m.Er,m.cb.Ii),hb(this,m.cb.IH));this.bc=this.options.nc?this.options.nc.bc:new m.Cx(this,this.options.QI||
m.Ag.kh);this.bc.yn.push(this);this.ob=m.i.xa(this.options.mn||"geras",this.Og(),this.options.nn);this.ss=null;this.ac=!1;this.yq=[]};m.g.object.S(m.eb,m.tb);b=m.eb.prototype;b.pq=null;b.sa=!0;b.Vg=!0;b.Zf=!1;b.Nm=!1;b.cv=!0;b.scrollX=0;b.scrollY=0;b.Uy=null;b.scale=1;b.Ec=null;b.Ha=null;b.$=null;b.qa=null;b.ic=null;b.Ld=null;b.Fj=null;b.Dq=!1;b.Gp=!1;b.Qt=null;b.dA=null;b.kb=null;b.Vz=null;b.St=!0;b.$g=function(a){this.Wd.$g(a)};b.ah=function(a){this.Wd.ah(a)};
b.ad=function(a){return this.Wd?this.Wd.ad(a):null};b.wb=function(){return this.Wd?this.Wd.wb():null};b.Og=function(){return this.bc.Og()};b.sn=function(a){a||(a=m.Ag.kh);this.bc.sn(a)};b.Wu=function(){this.N&&this.ob.Vu(this.N,this.Og());cd(A(this).filter(function(c){return void 0!==c.xj}));dd(this);this.qa&&this.qa.Wu();this.isVisible()&&this.pb(!0);var a=new m.h.Rb(null,"theme",null,null);a.Bb=this.id;m.h.Ca(a)};
function cd(a){for(var c=0,d;d=a[c];c++){var e=d.xj;if(e&&(d.bh(e),d.Be)){var f=d.Be.s;if(f&&A(f)){var h=A(f);for(d=0;d<h.length;d++)e=h[d],e.bh(e.xj);f=A(f.Mb().s);for(d=0;d<f.length;d++)e=f[d],e.bh(e.xj)}}}}function Sa(a){if(a.St){var c=y(a).getScreenCTM();c&&(a.Vz=c.inverse(),a.St=!1)}return a.Vz}b.Jn=function(){this.St=!0};b.isVisible=function(){return this.Vg};
function ja(a,c){var d=0,e=0,f=1;if(m.g.j.containsNode(a.qb,c)||m.g.j.containsNode(a.dh,c))f=a.scale;do{var h=m.g.ve(c);if(c==a.qb||c==a.dh)f=1;d+=h.x*f;e+=h.y*f;c=c.parentNode}while(c&&c!=y(a));return new m.g.O(d,e)}function aa(a){if(!a.Qt)for(var c=a.N;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Qt=c;break}c=c.parentNode}return a.Qt}
b.Ga=function(a){this.N=m.g.j.K("g",{"class":"blocklyWorkspace"},null);a&&(this.Dc=m.g.j.K("rect",{height:"100%",width:"100%","class":a},this.N),"blocklyMainBackground"==a&&this.xe?this.Dc.style.fill="url(#"+this.xe.Ek.id+")":this.bc.subscribe(this.Dc,"workspaceBackgroundColour","fill"));this.qb=m.g.j.K("g",{"class":"blocklyBlockCanvas"},this.N);this.dh=m.g.j.K("g",{"class":"blocklyBubbleCanvas"},this.N);this.Zf||(m.ua(this.N,"mousedown",this,this.Ph,!1,!0),m.ua(this.N,"wheel",this,this.aI));if(this.options.Gk){if(!m.ui)throw Error("Missing require for Blockly.Toolbox");
this.qa=new (m.ga.mG(this.options))(this)}this.xe&&this.xe.update(this.scale);ed(this);this.Wd.hv(new m.Lj);a=this.Wd;var c=m.navigation.Cl,d=new m.Fl;a.gj[c]&&Zc(a,c);var e=new m.i.sg(a.s,a.s.ob.Z(),d);d.pd=e;a.ah(d.pd.Ga());a.gj[c]=d;this.ob.Ga(this.N,this.Og());return this.N};
b.H=function(){this.sa=!1;this.ic&&this.ic.cancel();this.N&&(m.g.j.removeNode(this.N),this.N=null);this.dh=this.qb=null;this.qa&&(this.qa.H(),this.qa=null);this.$&&(this.$.H(),this.$=null);this.Ec&&(this.Ec.H(),this.Ec=null);this.Ha&&(this.Ha.H(),this.Ha=null);this.Hj&&(this.Hj.H(),this.Hj=null);this.nd&&(this.nd.H(),this.nd=null);this.xe&&(this.xe.H(),this.xe=null);this.ob.H();this.Wd&&(this.Wd.H(),this.Wd=null);m.eb.A.H.call(this);if(this.bc){var a=this.bc,c=a.yn.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.yn.splice(c,1);this.bc.unsubscribe(this.Dc);this.options.nc||(this.bc.H(),this.bc=null)}this.az=this.Ev=this.ap=null;this.options.nc||(a=y(this).parentNode)&&m.g.j.removeNode(a);this.pq&&(m.$a(this.pq),this.pq=null)};b.Tk=function(a,c){return new m.hb(this,a,c)};function fd(a){if(!m.uc)throw Error("Missing require for Blockly.Trashcan");a.Ec=new m.uc(a);var c=a.Ec.Ga();a.N.insertBefore(c,a.qb)}
function gd(a){if(!m.CE)throw Error("Missing require for Blockly.ZoomControls");a.Hj=new m.CE(a);var c=a.Hj.Ga();a.N.appendChild(c)}
function hd(a,c){var d=new m.rc({parentWorkspace:a,rtl:a.J,oneBasedIndex:a.options.$m,horizontalLayout:a.cd,renderer:a.options.mn,rendererOverrides:a.options.nn});d.Ka=a.options.Ka;if(a.cd){if(!m.Al)throw Error("Missing require for Blockly.HorizontalFlyout");a.$=new m.Al(d)}else{if(!m.Cg)throw Error("Missing require for Blockly.VerticalFlyout");a.$=new m.Cg(d)}a.$.gk=!1;a.$.s.pb(!0);return a.$.Ga(c)}b.Mb=function(a){return this.$||a?this.$:this.qa?this.qa.Mb():null};
function Za(a){a.cv&&a.sa&&(a.Ha&&a.Ha.resize(),a.Jn())}b.resize=function(){this.qa&&this.qa.position();this.$&&this.$.position();this.Ec&&this.Ec.position();this.Hj&&this.Hj.position();this.Ha&&this.Ha.resize();this.Jn();ed(this)};function Ab(a){var c=m.g.tG();m.g.O.Rf(a.dA,c)||(a.dA=c,a.Jn(),ed(a))}function y(a){if(!a.ss)for(var c=a.N;c;){if("svg"==c.tagName){a.ss=c;break}c=c.parentNode}return a.ss}
b.translate=function(a,c){if(this.Dq&&this.Gp)this.Fj.Bj(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.qb.setAttribute("transform",d);this.dh.setAttribute("transform",d)}if(this.Ld){d=this.Ld;var e=this.scale;d.Yh=e;d.Pf.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.xe&&this.xe.moveTo(a,c)};
function Ua(a){if(a.Dq){a.Gp=!1;var c=a.Fj.Bt();a.Fj.Wo(a.N);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.qb.setAttribute("transform",c);a.dh.setAttribute("transform",c)}}
function Ta(a){if(a.Dq&&!a.Gp){a.Gp=!0;var c=a.qb.previousSibling,d=parseInt(y(a).getAttribute("width"),10),e=parseInt(y(a).getAttribute("height"),10),f=m.g.ve(a.qb),h=a.Fj,k=a.qb,l=a.dh,n=a.scale;if(h.sb.childNodes.length)throw Error("Already dragging a block.");h.Xk=c;k.setAttribute("transform","translate(0, 0) scale("+n+")");l.setAttribute("transform","translate(0, 0) scale("+n+")");h.sb.setAttribute("width",d);h.sb.setAttribute("height",e);h.sb.appendChild(k);h.sb.appendChild(l);h.sb.style.display=
"block";a.Fj.Bj(f.x,f.y)}}b.Qg=function(){var a=this.Sd();return a?a.Ab/this.scale:0};b.pb=function(a){this.Vg=a;if(this.N)if(this.Ha&&this.Ha.rj(a),this.Mb()&&this.Mb().rj(a),y(this).style.display=a?"block":"none",this.qa&&this.qa.pb(a),a){a=A(this);for(var c=a.length-1;0<=c;c--)a[c].Rm();this.wa();this.qa&&this.qa.position()}else m.Vb(!0)};b.wa=function(){for(var a=A(this),c=a.length-1;0<=c;c--)a[c].wa(!1);if(this.ic)for(a=this.ic.Ck(),c=0;c<a.length;c++)a[c].wa(!1);c=this.Wd;c.s.ac&&c.Kg&&c.s.wb().draw()};
function id(a,c){var d=z;if(void 0===c){for(var e=0,f;f=d.Dm[e];e++)f.sf(!1);d.Dm.length=0}if(f=a?d.$c(a):null)(a=void 0===c||c)?-1==d.Dm.indexOf(f)&&d.Dm.push(f):m.g.Xl(d.Dm,f),f.sf(a)}
function jd(a){var c=m.am;if(a.sa&&!(c.getElementsByTagName("block").length>=eb(a)))if(a.ic&&a.ic.cancel(),"comment"==c.tagName.toLowerCase()){m.h.disable();try{var d=m.dk.vm(c),e=parseInt(c.getAttribute("x"),10),f=parseInt(c.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.J&&(e=-e),d.moveBy(e+50,f+50))}finally{m.h.enable()}d.select()}else a:{m.h.disable();try{var h=m.R.wk(c,a),k=a.ad(m.navigation.Cl).Wa;if(a.ac&&k&&k.Mk){m.navigation.Tz(h,k.pa);break a}var l=parseInt(c.getAttribute("x"),10),n=parseInt(c.getAttribute("y"),
10);if(!isNaN(l)&&!isNaN(n)){a.J&&(l=-l);do{c=!1;var p=A(a);d=0;for(var q;q=p[d];d++){var r=q.Va();if(1>=Math.abs(l-r.x)&&1>=Math.abs(n-r.y)){c=!0;break}}if(!c){var x=h.hf(!1);d=0;for(var B;B=x[d];d++)if(B.closest(m.Hd,new m.g.O(l,n)).connection){c=!0;break}}c&&(l=a.J?l-m.Hd:l+m.Hd,n+=2*m.Hd)}while(c);h.moveBy(l,n)}}finally{m.h.enable()}m.h.isEnabled()&&!h.Sa&&m.h.Ca(new m.h.Vn(h));h.select()}}
function dd(a){if((a=a.Zf?a.kb:a)&&!a.ic&&a.qa&&a.qa.Mb()){a=a.qa;var c=a.Fc.Zd;c&&c.Pd&&a.$.show(c.Pd)}}b.pj=function(a,c){m.eb.A.pj.call(this,a,c);dd(this)};b.Ei=function(a){m.eb.A.Ei.call(this,a);dd(this)};b.cf=function(a,c,d){a=m.eb.A.cf.call(this,a,c,d);dd(this);return a};function ed(a){a.Iy=a.Ec&&a.N.parentNode?a.Ec.zk():null;a.Hy=a.$?a.$.zk():a.qa&&"function"==typeof a.qa.zk?a.qa.zk():null}
function ya(a,c){return a.Iy&&a.Iy.contains(c.clientX,c.clientY)?m.Vq:a.Hy&&a.Hy.contains(c.clientX,c.clientY)?m.kw:m.jw}b.Ph=function(a){var c=this.Ch(a);c&&Db(c,a,this)};b.xv=function(a,c){a=m.g.Xm(a,y(this),Sa(this));a.x/=this.scale;a.y/=this.scale;this.Uy=m.g.O.nm(c,a)};b.kc=function(){return null!=this.ic&&this.ic.kc()};
function kd(a){return a.options.mc&&a.options.mc.scrollbars||a.options.mc&&a.options.mc.ei||a.options.mc&&a.options.mc.Bh||a.options.gb&&a.options.gb.controls||a.options.gb&&a.options.gb.ei||a.options.gb&&a.options.gb.Qu}b.ud=function(){return this.options.mc&&this.options.mc.scrollbars||this.options.mc&&this.options.mc.ei||this.options.mc&&this.options.mc.Bh||this.options.gb&&this.options.gb.ei||this.options.gb&&this.options.gb.Qu};
b.aI=function(a){if(m.mi.Bp())a.preventDefault(),a.stopPropagation();else{var c=this.options.gb&&this.options.gb.ei,d=this.options.mc&&this.options.mc.ei;if(c||d){var e=m.g.wz(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=m.g.Xm(a,y(this),Sa(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function Wa(a){a=[].concat(a.yq);if(!a.length)return new m.g.Rect(0,0,0,0);for(var c=Sc(a[0]),d=1;d<a.length;d++){var e=Sc(a[d]);e.top<c.top&&(c.top=e.top);e.bottom>c.bottom&&(c.bottom=e.bottom);e.left<c.left&&(c.left=e.left);e.right>c.right&&(c.right=e.right)}return c}b.hF=function(){this.pc(!1);m.h.ca(!0);for(var a=this.jc(!0),c=0,d=0,e;e=a[d];d++)if(e.ud()){var f=e.Va();e.moveBy(-f.x,c-f.y);Rc(e);c=e.Va().y+la(e).height+this.ob.Z().Dl}m.h.ca(!1);this.pc(!0)};
b.tn=function(a){function c(B){if(B.Vd())x=x.concat(t(B,!1));else{B=B.ue(!1);for(var X=0;X<B.length;X++)c(B[X])}}function d(){m.h.ca(h);var B=x.shift();B&&(B.D?(B.H(!1,!0),setTimeout(d,10)):d());m.h.ca(!1)}if(!this.options.readOnly&&!this.Zf){var e=[],f=this.jc(!0),h=m.g.Mg(),k=this,l={};l.text=m.m.UNDO;l.enabled=0<this.jl.length;l.Yb=this.Bq.bind(this,!1);e.push(l);l={};l.text=m.m.REDO;l.enabled=0<this.lq.length;l.Yb=this.Bq.bind(this,!0);e.push(l);this.ud()&&(l={},l.text=m.m.CLEAN_UP,l.enabled=
1<f.length,l.Yb=this.hF.bind(this),e.push(l));if(this.options.collapse){for(var n=l=!1,p=0;p<f.length;p++)for(var q=f[p];q;)q.isCollapsed()?l=!0:n=!0,q=u(q);var r=function(B){for(var X=0,ka=0;ka<f.length;ka++)for(var Qa=f[ka];Qa;)setTimeout(Qa.Zh.bind(Qa,B),X),Qa=u(Qa),X+=10};n={enabled:n};n.text=m.m.COLLAPSE_ALL;n.Yb=function(){r(!0)};e.push(n);l={enabled:l};l.text=m.m.EXPAND_ALL;l.Yb=function(){r(!1)};e.push(l)}var x=[];for(p=0;p<f.length;p++)c(f[p]);l={text:1==x.length?m.m.DELETE_BLOCK:m.m.DELETE_X_BLOCKS.replace("%1",
String(x.length)),enabled:0<x.length,Yb:function(){k.ic&&k.ic.cancel();2>x.length?d():m.confirm(m.m.DELETE_ALL_BLOCKS.replace("%1",x.length),function(B){B&&d()})}};e.push(l);this.nF&&this.nF(e,a);m.za.show(a,e,this.J)}};function Ra(a){if(a.options.nc)Ra(a.options.nc);else{m.Pm=a;document.activeElement&&document.activeElement.blur();try{y(a).focus({preventScroll:!0})}catch(c){try{y(a).parentNode.setActive()}catch(d){y(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.gb.rI,d);var e=this.scale*d;if(this.scale!=e){e>this.options.gb.Sm?d=this.options.gb.Sm/this.scale:e<this.options.gb.Um&&(d=this.options.gb.Um/this.scale);var f=this.qb.getCTM(),h=y(this).createSVGPoint();h.x=a;h.y=c;h=h.matrixTransform(f.inverse());a=h.x;c=h.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.gb.Sm&&a>this.options.gb.Sm?a=this.options.gb.Sm:this.options.gb.Um&&a<this.options.gb.Um&&(a=this.options.gb.Um);this.scale=a;m.Vb(!1);this.$&&(this.$.Uu(),ed(this));this.xe&&this.xe.update(this.scale);a=this.Sd();this.scrollX-=a.vc;this.scrollY-=a.Lc;a.Ib+=a.vc;a.Pb+=a.Lc;this.scroll(this.scrollX,this.scrollY);this.Ha&&(this.$?(Ka(this.Ha.ye,a),La(this.Ha.Me,a)):(Na(this.Ha.ye,a),Pa(this.Ha.Me,a)))};
function ld(a){return a.options.nc?ld(a.options.nc):a.scale}b.scroll=function(a,c){m.Vb(!0);var d=this.Sd(),e=d.bf+d.Nc-d.Ab,f=d.od+d.wc-d.Hb;a=Math.min(a,-d.Nc);c=Math.min(c,-d.wc);a=Math.max(a,-e);c=Math.max(c,-f);this.scrollX=a;this.scrollY=c;this.Ha&&(Ha(this.Ha.ye,-(a+d.Nc)*this.Ha.ye.ratio),Ha(this.Ha.Me,-(c+d.wc)*this.Ha.Me.ratio));a+=d.vc;c+=d.Lc;this.translate(a,c)};m.eb.jz=function(a){var c=0,d=0;a&&(c=a.Qg(),d=a.mz());return new m.g.Jd(c,d)};
m.eb.qG=function(a,c){return kd(a)?m.eb.pG(a,c):m.eb.hz(a)};m.eb.hz=function(a){var c=Wa(a),d=a.scale;a=c.top*d;var e=c.bottom*d,f=c.left*d;c=c.right*d;return{top:a,bottom:e,left:f,right:c,width:c-f,height:e-a}};m.eb.pG=function(a,c){a=m.eb.hz(a);var d=c.width;c=c.height;var e=d/2,f=c/2,h=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-c);return{left:h,top:k,height:Math.max(a.bottom+f,a.top+c)-k,width:Math.max(a.right+e,a.left+d)-h}};
m.eb.AG=function(){var a=m.eb.jz(this.qa),c=m.eb.jz(this.$),d=m.iB(y(this)),e={height:d.height,width:d.width};if(this.qa)if(this.Ka==m.zg||this.Ka==m.bk)e.height-=a.height;else{if(this.Ka==m.Kd||this.Ka==m.yg)e.width-=a.width}else if(this.$)if(this.Ka==m.zg||this.Ka==m.bk)e.height-=c.height;else if(this.Ka==m.Kd||this.Ka==m.yg)e.width-=c.width;var f=m.eb.qG(this,e),h=0;this.qa&&this.Ka==m.Kd?h=a.width:this.$&&this.Ka==m.Kd&&(h=c.width);var k=0;this.qa&&this.Ka==m.zg?k=a.height:this.$&&this.Ka==m.zg&&
(k=c.height);return{od:f.height,bf:f.width,wc:f.top,Nc:f.left,Hb:e.height,Ab:e.width,Pb:-this.scrollY,Ib:-this.scrollX,Lc:k,vc:h,yN:d.height,zN:d.width,mB:a.width,DN:a.height,Ka:this.Ka,kM:c.width,jM:c.height}};m.eb.zI=function(a){var c=this.Sd();"number"==typeof a.x&&(this.scrollX=-c.bf*a.x-c.Nc);"number"==typeof a.y&&(this.scrollY=-c.od*a.y-c.wc);this.translate(this.scrollX+c.vc,this.scrollY+c.Lc)};b=m.eb.prototype;b.$c=function(a){return m.eb.A.$c.call(this,a)};
b.jc=function(a){return m.eb.A.jc.call(this,a)};b.No=function(a){this.yq.push(a);m.eb.A.No.call(this,a)};b.oq=function(a){m.g.Xl(this.yq,a);m.eb.A.oq.call(this,a)};b.pc=function(a){var c=!this.cv&&a;this.cv=a;c&&Za(this)};b.clear=function(){this.pc(!1);m.eb.A.clear.call(this);this.yq=[];this.pc(!0)};function md(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.az.CREATE_VARIABLE=c}
function bd(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Ev[c]=d}b.Ch=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.ic;return d?c&&d.Ni?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.ic=new m.ld(a,this):null};m.zl=function(a){a.Sd=this.up.bind(this);a.rn=this.yI.bind(this);this.s=new m.eb(a);this.s.Zf=!0;this.s.pb(this.Vg);this.J=!!a.J;this.cd=!1;this.il=a.Ka;this.ft=[];this.Qp=[];this.Yl=[];this.fd=[];this.Pu=[];this.hl=this.s.ob.Z().Ho;this.kb=null};b=m.zl.prototype;b.gk=!0;b.Vg=!1;b.zi=!0;b.rb=8;b.qh=m.zl.prototype.rb;b.NC=3*m.zl.prototype.qh;b.OC=3*m.zl.prototype.qh;b.Mr=2;b.lb=0;b.xc=0;b.SF=70;
b.Ga=function(a){this.N=m.g.j.K(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Dc=m.g.j.K("path",{"class":"blocklyFlyoutBackground"},this.N);this.N.appendChild(this.s.Ga());this.s.bc.subscribe(this.Dc,"flyoutBackgroundColour","fill");this.s.bc.subscribe(this.Dc,"flyoutOpacity","fill-opacity");this.s.Wd.hv(new m.oo);return this.N};
b.xa=function(a){this.kb=a;this.s.kb=a;this.Ha=new m.Qa(this.s,this.cd,!1,"blocklyFlyoutScrollbar");this.Ea();Array.prototype.push.apply(this.ft,m.ua(this.N,"wheel",this,this.eJ));this.gk||(this.np=this.ht.bind(this),hb(this.kb,this.np));Array.prototype.push.apply(this.ft,m.ua(this.Dc,"mousedown",this,this.Ph));this.s.Ch=this.kb.Ch.bind(this.kb);this.s.rv(this.kb.La);a=this.s;a.Th=new m.Wr(a)};
b.H=function(){this.Ea();m.$a(this.ft);this.np&&(ib(this.kb,this.np),this.np=null);this.Ha&&(this.Ha.H(),this.Ha=null);this.s&&(this.s.bc.unsubscribe(this.Dc),this.s.kb=null,this.s.H(),this.s=null);this.N&&(m.g.j.removeNode(this.N),this.N=null);this.kb=this.Dc=null};b.Qg=function(){return this.lb};b.mz=function(){return this.xc};b.isVisible=function(){return this.Vg};b.pb=function(a){var c=a!=this.isVisible();this.Vg=a;c&&this.In()};b.rj=function(a){var c=a!=this.zi;this.zi=a;c&&this.In()};
b.In=function(){var a=this.zi?this.isVisible():!1;this.N.style.display=a?"block":"none";this.Ha.rj(a)};b.Ea=function(){if(this.isVisible()){this.pb(!1);for(var a=0,c;c=this.fd[a];a++)m.$a(c);this.fd.length=0;this.Uh&&(ib(this.s,this.Uh),this.Uh=null)}};
b.show=function(a){this.s.pc(!1);this.Ea();nd(this);if("string"==typeof a){a=this.s.kb.Ev[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.s.kb);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.pb(!0);a=m.g.Le.bp(a);a=od(this,a);pd(this,a.Pd,a.eG);this.fd.push(m.ua(this.Dc,"mouseover",this,function(){for(var c=this.s.jc(!1),d=0,e;e=c[d];d++)e.ln()}));this.cd?this.xc=0:
this.lb=0;this.s.pc(!0);this.Uu();this.ht();this.position();this.Uh=this.Uu.bind(this);hb(this.s,this.Uh)};
function od(a,c){var d=[],e=[];a.Pu.length=0;for(var f=a.cd?a.NC:a.OC,h=0,k;k=c[h];h++)switch(k.kind.toUpperCase()){case "BLOCK":var l=k;var n=l;k=null;var p=n.blockxml;p&&"string"!=typeof p?k=p:p&&"string"==typeof p?k=m.R.Aj(p):n.type&&(k=m.g.xml.createElement("xml"),k.setAttribute("type",n.type),k.setAttribute("disabled",n.disabled));if(!k)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");n=k;k=a;p=m.R.wk(n,k.s);p.isEnabled()||k.Pu.push(p);k=p;l=parseInt(l.gap||
n.getAttribute("gap"),10);e.push(isNaN(l)?f:l);d.push({type:"block",block:k});break;case "SEP":l=e;n=f;k=parseInt(k.gap,10);!isNaN(k)&&0<l.length?l[l.length-1]=k:l.push(n);break;case "LABEL":l=qd(a,k,!0);d.push({type:"button",button:l});e.push(f);break;case "BUTTON":l=qd(a,k,!1),d.push({type:"button",button:l}),e.push(f)}return{Pd:d,eG:e}}function qd(a,c,d){if(!m.MC)throw Error("Missing require for Blockly.FlyoutButton");return new m.MC(a.s,a.kb,c,d)}
function nd(a){for(var c=a.s.jc(!1),d=0,e;e=c[d];d++)e.D==a.s&&e.H(!1,!1);for(d=0;d<a.Qp.length;d++)if(c=a.Qp[d])m.G.Iv(c),m.g.j.removeNode(c);for(d=a.Qp.length=0;c=a.Yl[d];d++)c.H();a.Yl.length=0;a.s.Th.clear()}function rd(a,c){return function(d){var e=a.kb.Ch(d);e&&(Fb(e,c),Eb(e,d,a))}}b.Ph=function(a){var c=this.kb.Ch(a);c&&Eb(c,a,this)};
function tb(a,c){var d=null;m.h.disable();var e=a.kb.Ji();a.kb.pc(!1);try{var f=a.kb;if(!c.Da())throw Error("oldBlock is not rendered.");var h=m.R.Dg(c,!0);f.pc(!1);var k=m.R.wk(h,f);if(!k.Da())throw Error("block is not rendered.");var l=m.g.ym(f.qb),n=m.g.ym(a.s.qb),p=c.Va();p.scale(a.s.scale);var q=m.g.O.sum(n,p),r=m.g.O.nm(q,l);r.scale(1/f.scale);k.moveBy(r.x,r.y);d=k;m.Vb()}finally{m.h.enable()}c=m.ba.gz(a.kb,e);if(m.h.isEnabled())for(m.h.ca(!0),m.h.Ca(new m.h.Ne(d)),e=0;e<c.length;e++)m.h.Ca(new m.h.me(c[e]));
a.gk?a.Ea():a.ht();return d}b.ht=function(){for(var a=this.s.jc(!1),c=0,d;d=a[c];c++)if(-1==this.Pu.indexOf(d))for(var e=fb(this.kb,m.g.qt(d));d;)d.rf(e),d=u(d)};
b.Uu=function(){this.Uh&&ib(this.s,this.Uh);this.s.scale=this.kb.scale;for(var a=0,c=this.s.jc(!1),d=0,e;e=c[d];d++){var f=la(e).width;e.L&&(f-=this.hl);a=Math.max(a,f)}for(d=0;e=this.Yl[d];d++)a=Math.max(a,e.width);a+=1.5*this.qh+this.hl;a*=this.s.scale;a+=m.Qa.Bc;if(this.lb!=a){for(d=0;e=c[d];d++){if(this.J){f=e.Va().x;var h=a/this.s.scale-this.qh;e.L||(h-=this.hl);e.moveBy(h-f,0)}e.bz&&(f=e.bz,h=e,e=la(h),f.setAttribute("width",e.width),f.setAttribute("height",e.height),h=h.Va(),f.setAttribute("y",
h.y),f.setAttribute("x",this.J?h.x-e.width:h.x))}if(this.J)for(d=0;e=this.Yl[d];d++)c=e.xM().y,e.moveTo(a/this.s.scale-e.width-this.qh-this.hl,c);this.lb=a;this.position()}this.Uh&&hb(this.s,this.Uh)};function zb(a){return a.Ha?a.Ha.isVisible():!1}b.Qc=function(a){return this.s.wb().Qc(a)};m.W={};m.W.De=null;m.W.ip=null;m.W.pf="";m.W.tf="";m.W.Ga=function(){m.W.Ya||(m.W.Ya=document.createElement("div"),m.W.Ya.className="blocklyWidgetDiv",(m.hq||document.body).appendChild(m.W.Ya))};m.W.show=function(a,c,d){m.W.Ea();m.W.De=a;m.W.ip=d;a=m.W.Ya;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=m.Tf();m.W.pf=c.ob.gf();m.W.tf=c.Og().gf();m.g.j.ub(a,m.W.pf);m.g.j.ub(a,m.W.tf)};
m.W.Ea=function(){if(m.W.isVisible()){m.W.De=null;var a=m.W.Ya;a.style.display="none";a.style.left="";a.style.top="";m.W.ip&&m.W.ip();m.W.ip=null;a.textContent="";m.W.pf&&(m.g.j.Ac(a,m.W.pf),m.W.pf="");m.W.tf&&(m.g.j.Ac(a,m.W.tf),m.W.tf="");Ra(m.Tf())}};m.W.isVisible=function(){return!!m.W.De};m.W.Cm=function(a){m.W.De==a&&m.W.Ea()};m.W.fn=function(a,c,d){m.W.Ya.style.left=a+"px";m.W.Ya.style.top=c+"px";m.W.Ya.style.height=d+"px"};
m.W.gI=function(a,c,d,e){var f=m.W.ZE(a,c,d);a=m.W.YE(a,c,d,e);0>f?m.W.fn(a,0,d.height+f):m.W.fn(a,f,d.height)};m.W.YE=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};m.W.ZE=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};m.Cg=function(a){m.Cg.A.constructor.call(this,a)};m.g.object.S(m.Cg,m.zl);b=m.Cg.prototype;b.up=function(){if(!this.isVisible())return null;try{var a=this.s.qb.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var c=this.Mr,d=this.xc-2*this.Mr,e=this.lb;this.J||(e-=this.Mr);return{od:a.height*this.s.scale+2*this.qh,bf:a.width*this.s.scale+2*this.qh,wc:a.y,Nc:a.x,Hb:d,Ab:e,Pb:-this.s.scrollY+a.y,Ib:-this.s.scrollX,Lc:c,vc:0}};
b.yI=function(a){var c=this.up();c&&("number"==typeof a.y&&(this.s.scrollY=-c.od*a.y),this.s.translate(this.s.scrollX+c.vc,this.s.scrollY+c.Lc))};
b.position=function(){if(this.isVisible()){var a=this.kb.Sd();if(a){this.xc=a.Hb;var c=this.lb-this.rb,d=a.Hb-2*this.rb,e=this.il==m.yg,f=c+this.rb;f=["M "+(e?f:0)+",0"];f.push("h",e?-c:c);f.push("a",this.rb,this.rb,0,0,e?0:1,e?-this.rb:this.rb,this.rb);f.push("v",Math.max(0,d));f.push("a",this.rb,this.rb,0,0,e?0:1,e?this.rb:-this.rb,this.rb);f.push("h",e?c:-c);f.push("z");this.Dc.setAttribute("d",f.join(" "));c=this.xc;a=this.kb.Ka==this.il?a.mB?this.il==m.Kd?a.mB:a.Ab-this.lb:this.il==m.Kd?0:a.Ab:
this.il==m.Kd?0:a.Ab+a.vc-this.lb;this.N.setAttribute("width",this.lb);this.N.setAttribute("height",c);"svg"==this.N.tagName?m.g.j.qn(this.N,"translate("+a+"px,0px)"):this.N.setAttribute("transform","translate("+a+",0)");this.Ha&&(this.Ha.Ju=new m.g.O(a,0),this.Ha.resize(),this.Ha.setPosition(this.Ha.position.x,this.Ha.position.y))}}};
b.eJ=function(a){var c=m.g.wz(a);if(c.y){var d=this.up();c=d.Pb-d.wc+c.y;c=Math.min(c,d.od-d.Hb);c=Math.max(c,0);this.Ha.set(c);m.W.Ea();m.F.Pi()}a.preventDefault();a.stopPropagation()};
function pd(a,c,d){a.s.scale=a.kb.scale;for(var e=a.qh,f=a.J?e:e+a.hl,h=0,k;k=c[h];h++)if("block"==k.type){k=k.block;for(var l=t(k,!1),n=0,p;p=l[n];n++)p.Oc=!0;k.wa();p=k.Da();l=la(k);n=k.L?f-a.hl:f;k.moveBy(n,e);var q=a,r=k,x=h;n=m.g.j.K("rect",{"fill-opacity":0,x:a.J?n-l.width:n,y:e,height:l.height,width:l.width},null);n.uf=r;m.G.hk(n);q.s.qb.insertBefore(n,r.Da());r.bz=n;q.Qp[x]=n;q=a;q.fd.push(m.ua(p,"mousedown",null,rd(q,k)));q.fd.push(m.ua(n,"mousedown",null,rd(q,k)));q.fd.push(m.ec(p,"mouseenter",
k,k.Lo));q.fd.push(m.ec(p,"mouseleave",k,k.ln));q.fd.push(m.ec(n,"mouseenter",k,k.Lo));q.fd.push(m.ec(n,"mouseleave",k,k.ln));e+=l.height+d[h]}else"button"==k.type&&(l=a,n=k.button,p=f,q=e,r=n.Ga(),n.moveTo(p,q),n.show(),l.fd.push(m.ua(r,"mousedown",l,l.Ph)),l.Yl.push(n),e+=k.button.height+d[h])}b.zk=function(){if(!this.N)return null;var a=this.N.getBoundingClientRect(),c=a.left;return this.il==m.Kd?new m.g.Rect(-1E9,1E9,-1E9,c+a.width):new m.g.Rect(-1E9,1E9,c,1E9)};m.cw=function(a){this.em=a;this.Ga()};b=m.cw.prototype;b.sb=null;b.Pf=null;b.em=null;b.Yh=1;b.zn=null;b.Ga=function(){this.sb||(this.sb=m.g.j.K("svg",{xmlns:m.g.j.Fo,"xmlns:html":m.g.j.dr,"xmlns:xlink":m.g.j.Kc,version:"1.1","class":"blocklyBlockDragSurface"},this.em),this.Pf=m.g.j.K("g",{},this.sb))};function yb(a,c){if(a.Pf.childNodes.length)throw Error("Already dragging a block.");a.Pf.appendChild(c);a.sb.style.display="block";a.zn=new m.g.O(0,0)}
b.Bj=function(a,c){this.zn=new m.g.O(a*this.Yh,c*this.Yh);a=this.zn.x;c=this.zn.y;a=a.toFixed(0);c=c.toFixed(0);this.sb.style.display="block";m.g.j.qn(this.sb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Bt=function(){var a=m.g.ve(this.sb);return new m.g.O(a.x/this.Yh,a.y/this.Yh)};b.Tb=function(){return this.Pf};
b.Wo=function(a){a?a.appendChild(this.Pf.firstChild):this.Pf.removeChild(this.Pf.firstChild);this.sb.style.display="none";if(this.Pf.childNodes.length)throw Error("Drag group was not cleared.");this.zn=null};
m.F=function(){};m.F.ps=null;m.F.De=null;m.F.MA=null;m.F.Sn=16;m.F.bw=1;m.F.Zv=12;m.F.ex=16;m.F.Lq=.25;m.F.ds=null;m.F.mj=null;m.F.pf="";m.F.tf="";
m.F.Ga=function(){if(!m.F.xf){var a=document.createElement("div");a.className="blocklyDropDownDiv";(m.hq||document.body).appendChild(a);m.F.xf=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);m.F.Jg=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);m.F.oe=c;m.F.xf.style.opacity=0;m.F.xf.style.transition="transform "+m.F.Lq+"s, opacity "+m.F.Lq+"s";a.addEventListener("focusin",function(){m.g.j.ub(a,"blocklyFocused")});a.addEventListener("focusout",
function(){m.g.j.Ac(a,"blocklyFocused")})}};m.F.uI=function(a){m.F.ps=a};m.F.rG=function(){return m.F.Jg};m.F.iF=function(){m.F.Jg.textContent="";m.F.Jg.style.width=""};m.F.He=function(a,c){m.F.xf.style.backgroundColor=a;m.F.xf.style.borderColor=c};m.F.tN=function(a,c,d,e){return m.F.bB(m.F.sz(c),a,d,e)};m.F.BI=function(a,c){m.F.MA=!0;m.F.bB(m.F.uz(a),a,c,void 0)};
m.F.sz=function(a){var c=a.Da(),d=c.getBBox(),e=a.D.scale;a=d.height*e;d=d.width*e;c=m.g.style.Li(c);return new m.g.Rect(c.y,c.y+a,c.x,c.x+d)};m.F.uz=function(a){a=Ob(a);return new m.g.Rect(a.top,a.bottom,a.left,a.right)};m.F.bB=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,h=a.bottom;a=a.top;e&&(a+=e);e=c.X();for(var k=e.D;k.options.nc;)k=k.options.nc;m.F.uI(y(k).parentNode);return m.F.show(c,e.J,f,h,f,a,d)};
m.F.show=function(a,c,d,e,f,h,k){m.F.De=a;m.F.mj=k||null;a=m.F.xf;a.style.direction=c?"rtl":"ltr";c=m.Tf();m.F.pf=c.ob.gf();m.F.tf=c.Og().gf();m.g.j.ub(a,m.F.pf);m.g.j.ub(a,m.F.tf);return m.F.fn(d,e,f,h)};m.F.jG=function(){var a=m.g.style.Li(m.F.ps),c=m.g.style.Ng(m.F.ps);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};
m.F.xG=function(a,c,d,e){var f=m.F.jG(),h=m.g.style.Ng(m.F.xf);return c+h.height<f.bottom?m.F.rz(a,c,f,h):e-h.height>f.top?m.F.qz(d,e,f,h):c+h.height<document.documentElement.clientHeight?m.F.rz(a,c,f,h):e-h.height>document.documentElement.clientTop?m.F.qz(d,e,f,h):m.F.yG(a,f,h)};m.F.rz=function(a,c,d,e){a=m.F.At(a,d.left,d.right,e.width);return{Nt:a.vk,Ot:c,jt:a.vk,kt:c+m.F.ex,ek:a.ek,gs:-(m.F.Sn/2+m.F.bw),Po:!0,fs:!0}};
m.F.qz=function(a,c,d,e){a=m.F.At(a,d.left,d.right,e.width);return{Nt:a.vk,Ot:c-e.height,jt:a.vk,kt:c-e.height-m.F.ex,ek:a.ek,gs:e.height-2*m.F.bw-m.F.Sn/2,Po:!1,fs:!0}};m.F.yG=function(a,c,d){a=m.F.At(a,c.left,c.right,d.width);return{Nt:a.vk,Ot:0,jt:a.vk,kt:0,Po:null,ek:null,gs:null,fs:!1}};m.F.At=function(a,c,d,e){var f=a;a=m.g.Xd.Zl(c,a-e/2,d-e);f-=m.F.Sn/2;c=m.g.Xd.Zl(m.F.Zv,f-a,e-m.F.Zv-m.F.Sn);return{ek:c,vk:a}};m.F.isVisible=function(){return!!m.F.De};
m.F.Cm=function(a,c){m.F.De===a&&(c?m.F.Pi():m.F.Ea())};m.F.Ea=function(){var a=m.F.xf;a.style.transform="translate(0, 0)";a.style.opacity=0;m.F.ds=setTimeout(function(){m.F.Pi()},1E3*m.F.Lq);m.F.mj&&(m.F.mj(),m.F.mj=null)};
m.F.Pi=function(){if(m.F.isVisible()){m.F.ds&&clearTimeout(m.F.ds);var a=m.F.xf;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";m.F.mj&&(m.F.mj(),m.F.mj=null);m.F.iF();m.F.De=null;m.F.pf&&(m.g.j.Ac(a,m.F.pf),m.F.pf="");m.F.tf&&(m.g.j.Ac(a,m.F.tf),m.F.tf="");Ra(m.Tf())}};
m.F.fn=function(a,c,d,e){a=m.F.xG(a,c,d,e);a.fs?(m.F.oe.style.display="",m.F.oe.style.transform="translate("+a.ek+"px,"+a.gs+"px) rotate(45deg)",m.F.oe.setAttribute("class",a.Po?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):m.F.oe.style.display="none";c=Math.floor(a.Nt);d=Math.floor(a.Ot);e=Math.floor(a.jt);var f=Math.floor(a.kt),h=m.F.xf;h.style.left=c+"px";h.style.top=d+"px";h.style.display="block";h.style.opacity=1;h.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.Po};m.F.jN=function(){if(m.F.De){var a=m.F.De,c=a.X();a=m.F.MA?m.F.uz(a):m.F.sz(c);c=a.left+(a.right-a.left)/2;m.F.fn(c,a.bottom,c,a.top)}else m.F.Ea()};m.Ti=function(a,c){m.aF();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!m.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new m.rc(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;m.g.U.zb(d,m.g.U.State.gD,m.m.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=m.gm(d,c);var e=new m.cw(d),f=new m.Ox(d),h=m.rF(a,c,e,f);m.Ia.Fa.xI(c.Fa);m.ZG(h);m.Pm=h;m.fl(h);d.addEventListener("focusin",function(){m.Pm=
h});return h};m.gm=function(a,c){a.setAttribute("dir","LTR");m.Tc.Gy=c.J;m.Bd.Ti(c.PG,c.an);a=m.g.j.K("svg",{xmlns:m.g.j.Fo,"xmlns:html":m.g.j.dr,"xmlns:xlink":m.g.j.Kc,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=m.g.j.K("defs",{},a);c.Et=m.ni.Ga(String(Math.random()).substring(2),c.Ez,d);return a};
m.rF=function(a,c,d,e){c.nc=null;var f=new m.eb(c,d,e);c=f.options;f.scale=c.gb.KI;a.appendChild(f.Ga("blocklyMainBackground"));m.g.j.ub(aa(f),f.ob.gf());m.g.j.ub(aa(f),f.Og().gf());!c.Gk&&c.$f&&(d=hd(f,"svg"),m.g.j.Ui(d,a));c.Jz&&fd(f);c.gb&&c.gb.controls&&gd(f);f.bc.subscribe(a,"workspaceBackgroundColour","background-color");f.translate(0,0);c.readOnly||f.ud()||hb(f,function(h){if(!f.kc()&&!f.ud()&&-1!=m.h.ZB.indexOf(h.type)){var k=Object.create(null),l=f.Sd(),n=f.scale;k.J=f.J;k.Ib=l.Ib/n;k.Pb=
l.Pb/n;k.zB=(l.Ib+l.Ab)/n;k.yB=(l.Pb+l.Hb)/n;kd(f)?(l=Wa(f),k.Nc=l.left,k.wc=l.top,k.wy=l.right,k.ty=l.bottom):(k.Nc=l.Nc/n,k.wc=l.wc/n,k.wy=(l.Nc+l.bf)/n,k.ty=(l.wc+l.od)/n);if(k.wc<k.Pb||k.ty>k.yB||k.Nc<k.Ib||k.wy>k.zB){l=null;h&&(l=m.h.Tb(),m.h.ca(h.group));switch(h.type){case m.h.Nq:case m.h.Oq:var p=f.$c(h.fc);p&&(p=p.bd());break;case m.h.Yn:case m.h.Zn:p=f.Zo[h.Jf]||null}if(p){n=Sc(p);n.height=n.bottom-n.top;n.width=n.right-n.left;var q=k.Pb,r=k.yB-n.height;r=Math.max(q,r);q=m.g.Xd.Zl(q,n.top,
r)-n.top;r=k.Ib;var x=k.zB-n.width;k.J?r=Math.min(x,r):x=Math.max(r,x);p.moveBy(m.g.Xd.Zl(r,n.left,x)-n.left,q)}h&&(!h.group&&p&&console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==l&&m.h.ca(l))}}});m.fl(f);m.W.Ga();m.F.Ga();m.G.Ga();return f};
m.ZG=function(a){var c=a.options,d=y(a);m.ua(d.parentNode,"contextmenu",null,function(f){m.g.Kp(f)||f.preventDefault()});d=m.ua(window,"resize",null,function(){m.Vb(!0);m.fl(a)});a.pq=d;m.Ti.ME();if(c.$f){d=a.qa;var e=a.Mb(!0);d?d.xa():e&&(e.xa(a),e.show(c.$f),e.Ha.set(0))}d=m.Qa.Bc;c.Jz&&(d=a.Ec.xa(d));c.gb&&c.gb.controls&&a.Hj.xa(d);c.mc&&c.mc.scrollbars?(a.Ha=new m.Pl(a),a.Ha.resize()):a.rn({x:.5,y:.5});c.SG&&m.Ti.rH(c.an,a)};
m.Ti.ME=function(){m.PF||(m.ua(document,"scroll",null,function(){for(var a=m.tb.getAll(),c=0,d;d=a[c];c++)d.Jn&&d.Jn()}),m.ua(document,"keydown",null,m.Ym),m.ec(document,"touchend",null,m.Lh),m.ec(document,"touchcancel",null,m.Lh),m.g.userAgent.Nj&&m.ua(window,"orientationchange",document,function(){m.fl(m.Tf())}));m.PF=!0};
m.Ti.rH=function(a,c){function d(){for(;f.length;)m.$a(f.pop());e.preload()}var e=c.nd;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(m.ua(document,"mousemove",null,d,!0));f.push(m.ua(document,"touchstart",null,d,!0))};m.ke=function(a,c){this.xB=c||"";this.SA=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.SA[a[c]]=!0;this.reset()};m.ke.Wq="DEVELOPER_VARIABLE";m.ke.prototype.reset=function(){this.Of=Object.create(null);this.Fy=Object.create(null);this.La=null};m.ke.prototype.rv=function(a){this.La=a};
function sd(a,c){var d=m.o.ae;if(c==m.Jc){var e=a;d.La?e=(e=d.La.Pg(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+c;var f=c==m.Jc||c==m.ke.Wq?d.xB:"";if(e in d.Of)return f+d.Of[e];a=td(d,a,c);d.Of[e]=a.substr(f.length);return a}
function td(a,c,d){c?(c=encodeURI(c.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(c[0])&&(c="my_"+c)):c=m.m.UNNAMED_KEY||"unnamed";for(var e="";a.Fy[c+e]||c+e in a.SA;)e=e?e+1:2;c+=e;a.Fy[c]=!0;return(d==m.Jc||d==m.ke.Wq?a.xB:"")+c}m.ke.Rf=function(a,c){return a.toLowerCase()==c.toLowerCase()};m.cb={};m.cb.Vw=m.Er;m.cb.rC="x";m.cb.GE=function(a){var c=db(a,"procedures_defnoreturn").map(function(d){return d.Dk()});a=db(a,"procedures_defreturn").map(function(d){return d.Dk()});c.sort(m.cb.OA);a.sort(m.cb.OA);return[c,a]};m.cb.OA=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};m.cb.$F=function(a,c){if(c.Oc)return a;for(a=a||m.m.UNNAMED_KEY||"unnamed";!m.cb.fH(a,c.D,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
m.cb.fH=function(a,c,d){return!m.cb.hH(a,c,d)};m.cb.hH=function(a,c,d){c=A(c);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].Dk){var f=c[e].Dk();if(m.ke.Rf(f[0],a))return!0}return!1};m.cb.fN=function(a){a=a.trim();var c=m.cb.$F(a,this.X()),d=this.getValue();if(d!=a&&d!=c){a=A(this.X().D);for(var e=0;e<a.length;e++)a[e].mI&&a[e].mI(d,c)}return c};
m.cb.Ii=function(a){function c(h,k){for(var l=0;l<h.length;l++){var n=h[l][0],p=h[l][1],q=m.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=m.g.xml.createElement("mutation");r.setAttribute("name",n);q.appendChild(r);for(n=0;n<p.length;n++){var x=m.g.xml.createElement("arg");x.setAttribute("name",p[n]);r.appendChild(x)}d.push(q)}}var d=[];if(m.Jb.procedures_defnoreturn){var e=m.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=m.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(m.g.xml.createTextNode(m.m.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}m.Jb.procedures_defreturn&&(e=m.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=m.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(m.g.xml.createTextNode(m.m.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));m.Jb.procedures_ifreturn&&(e=m.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=m.cb.GE(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
m.cb.sB=function(a){for(var c=[],d=db(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(C(f,"NAME"));d=m.g.xml.createElement("xml");e=m.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=m.g.xml.createElement("field");f.setAttribute("name","NAME");c=m.g.xml.createTextNode(m.ba.fz(m.cb.rC,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);c=d;Array.isArray(c)||(c=m.rc.EA(c));if(c=m.g.Le.bp(c)){if(!a.options.$f)throw Error("Existing toolbox is null.  Can't create new toolbox.");
if(m.g.Le.Gk(c)){if(!a.qa)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.$f=c;a.qa.wa(c)}else{if(!a.$)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.$f=c;a.$.show(c)}}else if(a.options.$f)throw Error("Can't nullify an existing toolbox.");};
m.cb.IH=function(a){if(a.type==m.h.Rl&&"mutatorOpen"==a.element&&a.newValue){a=m.tb.wm(a.Bb).$c(a.fc);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.Be.s,m.cb.sB(a),hb(a,m.cb.HH)}};m.cb.HH=function(a){a.type!=m.h.Nq&&a.type!=m.h.aw&&a.type!=m.h.UB||m.cb.sB(m.tb.wm(a.Bb))};m.cb.kG=function(a,c){var d=[];c=A(c);for(var e=0;e<c.length;e++)if(c[e].zG){var f=c[e].zG();f&&m.ke.Rf(f,a)&&d.push(c[e])}return d};
m.cb.WM=function(a){var c=m.h.zc,d=a.Dk()[0],e=a.yc(!0);a=m.cb.kG(d,a.D);d=0;for(var f;f=a[d];d++){var h=f.yc();h=h&&m.R.Qd(h);f.te(e);var k=f.yc();k=k&&m.R.Qd(k);h!=k&&(m.h.zc=!1,m.h.Ca(new m.h.ih(f,"mutation",null,h,k)),m.h.zc=c)}};m.cb.oM=function(a,c){c=c.jc(!1);for(var d=0;d<c.length;d++)if(c[d].Dk){var e=c[d].Dk();if(e&&m.ke.Rf(e[0],a))return c[d]}return null};m.Sl=function(a,c,d,e){this.D=a;this.name=c;this.type=d||"";this.Kk=e||m.g.Mg();m.h.Ca(new m.h.me(this))};m.Sl.prototype.Ra=function(){return this.Kk};m.Sl.ly=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};m.ba={};m.ba.Vw=m.Jc;m.ba.Ux=function(a){var c=A(a);a=Object.create(null);for(var d=0;d<c.length;d++){var e=$a(c[d]);if(e)for(var f=0;f<e.length;f++){var h=e[f],k=h.Ra();k&&(a[k]=h)}}c=[];for(k in a)c.push(a[k]);return c};m.ba.SL=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};m.ba.Vv={};
m.ba.EE=function(a){a=A(a);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.pM;!f&&e.sG&&(f=e.sG,m.ba.Vv[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),m.ba.Vv[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
m.ba.Ii=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");md(a,function(e){m.ba.yy(e.zM())});c.push(d);a=m.ba.cG(a);return c=c.concat(a)};
m.ba.cG=function(a){a=a.zm("");var c=[];if(0<a.length){var d=a[a.length-1];if(m.Jb.variables_set){var e=m.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",m.Jb.math_change?8:24);e.appendChild(m.ba.qp(d));c.push(e)}m.Jb.math_change&&(e=m.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",m.Jb.variables_get?20:8),e.appendChild(m.ba.qp(d)),d=m.R.Aj('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(m.Jb.variables_get){a.sort(m.Sl.ly);d=0;for(var f;f=a[d];d++)e=m.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(m.ba.qp(f)),c.push(e)}}return c};m.ba.Gx="ijkmnopqrstuvwxyzabcdefgh";m.ba.fG=function(a){return m.ba.fz(m.ba.Gx.charAt(0),a.ot())};
m.ba.fz=function(a,c){if(!c.length)return a;for(var d=m.ba.Gx,e="",f=d.indexOf(a);;){for(var h=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){h=!0;break}if(!h)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
m.ba.yy=function(a,c,d){function e(h){m.ba.PA(m.m.NEW_VARIABLE_TITLE,h,function(k){if(k){var l=m.ba.KH(k,a);if(l){if(l.type==f)var n=m.m.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else n=m.m.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,n=n.replace("%1",l.name).replace("%2",l.type);m.alert(n,function(){e(k)})}else a.cf(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};m.ba.cf=m.ba.yy;
m.ba.Zu=function(a,c){function d(e){var f=m.m.RENAME_VARIABLE_TITLE.replace("%1",c.name);m.ba.PA(f,e,function(h){if(h){var k=m.ba.LH(h,c.type,a);k?(k=m.m.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),m.alert(k,function(){d(h)})):a.pj(c.Ra(),h)}})}d("")};m.ba.PA=function(a,c,d){m.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==m.m.RENAME_VARIABLE||e==m.m.NEW_VARIABLE)&&(e=null);d(e)})};
m.ba.LH=function(a,c,d){d=d.La.Ji();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};m.ba.KH=function(a,c){c=c.La.Ji();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};m.ba.qp=function(a){var c=m.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.Ra());c.setAttribute("variabletype",a.type);a=m.g.xml.createTextNode(a.name);c.appendChild(a);return c};
m.ba.pz=function(a,c,d,e){var f=m.ba.we(a,c,d,e);f||(f=m.ba.uF(a,c,d,e));return f};m.ba.we=function(a,c,d,e){var f=a.Th,h=null;if(c&&(h=a.Pg(c),!h&&f&&(h=f.Pg(c)),h))return h;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");h=a.we(d,e);!h&&f&&(h=f.we(d,e))}return h};m.ba.uF=function(a,c,d,e){var f=a.Th;d||(d=m.ba.fG(a.Zf?a.kb:a));return f?f.cf(d,e,c):a.cf(d,e,c)};
m.ba.gz=function(a,c){a=a.Ji();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};m.VERSION="uncompiled";m.Pm=null;m.selected=null;m.xk=[];m.am=null;m.Xo=null;m.ys=null;m.UL=null;m.hq=null;m.iB=function(a){return new m.g.Jd(a.$x,a.Zx)};m.lN=function(a){Za(a)};m.fl=function(a){for(;a.options.nc;)a=a.options.nc;var c=y(a),d=c.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.$x!=e&&(c.setAttribute("width",e+"px"),c.$x=e);c.Zx!=d&&(c.setAttribute("height",d+"px"),c.Zx=d);a.resize()}};
m.Ym=function(a){var c=m.Pm;if(c&&!(m.g.Kp(a)||c.sa&&!c.isVisible()))if(c.options.readOnly)m.navigation.zA(a);else{var d=!1;if(a.keyCode==m.g.ma.Xq)m.Vb(),m.navigation.Qc(m.navigation.Hq);else{if(!m.mi.Bp()&&m.navigation.zA(a))return;if(a.keyCode==m.g.ma.SB||a.keyCode==m.g.ma.ul){a.preventDefault();if(m.mi.Bp())return;m.selected&&m.selected.Vd()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(m.mi.Bp())return;m.selected&&m.selected.Vd()&&m.selected.ud()&&(a.keyCode==m.g.ma.aC?(m.Vb(),m.Bs(m.selected)):
a.keyCode!=m.g.ma.Px||m.selected.D.Zf||(m.Bs(m.selected),d=!0));a.keyCode==m.g.ma.nE?m.am&&(a=m.Xo,a.Zf&&(a=a.kb),m.ys&&fb(a,m.ys)&&(m.h.ca(!0),jd(a),m.h.ca(!1))):a.keyCode==m.g.ma.zE?(m.Vb(),c.Bq(a.shiftKey)):a.ctrlKey&&a.keyCode==m.g.ma.xE&&(m.Vb(),c.Bq(!0))}}d&&!m.selected.D.Zf&&(m.h.ca(!0),m.Vb(),m.selected.H(!0,!0),m.h.ca(!1))}};m.Bs=function(a){var c=m.R.Dg(a,!0);m.R.GF(c);var d=a.Va();c.setAttribute("x",a.J?-d.x:d.x);c.setAttribute("y",d.y);d=a.D;a=m.g.qt(a,!0);m.am=c;m.Xo=d;m.ys=a};
m.duplicate=function(a){var c=m.am,d=m.Xo;m.Bs(a);jd(a.D);m.am=c;m.Xo=d};m.aN=function(a){m.g.Kp(a)||a.preventDefault()};m.Vb=function(a){m.G.Ea();m.W.Ea();m.F.Pi();a||(a=m.Tf(),a.Ec&&a.Ec.Hi&&a.Ec.Hi.Ea(),(a=a.qa)&&a.Mb()&&a.Mb().gk&&ec(a.Fc,null))};m.Tf=function(){return m.Pm};m.alert=function(a,c){alert(a);c&&c()};m.confirm=function(a,c){c(confirm(a))};m.prompt=function(a,c,d){d(prompt(a,c))};m.mH=function(a){return function(){Cc(this,a)}};
m.fp=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(m.Jb[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),m.Jb[e]={xa:m.mH(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};
m.ua=function(a,c,d,e,f,h){function k(x){var B=!f;x=m.Touch.GI(x);for(var X=0,ka;ka=x[X];X++)if(!B||m.Touch.vv(ka))m.Touch.vI(ka),d?e.call(d,ka):e(ka),l=!0}var l=!1,n=[];if(m.g.global.PointerEvent&&c in m.Touch.Df)for(var p=0,q;q=m.Touch.Df[c][p];p++)a.addEventListener(q,k,!1),n.push([a,q,k]);else if(a.addEventListener(c,k,!1),n.push([a,c,k]),c in m.Touch.Df){var r=function(x){k(x);var B=!h;l&&B&&x.preventDefault()};for(p=0;q=m.Touch.Df[c][p];p++)a.addEventListener(q,r,!1),n.push([a,q,r])}return n};
m.ec=function(a,c,d,e){function f(p){d?e.call(d,p):e(p)}var h=[];if(m.g.global.PointerEvent&&c in m.Touch.Df)for(var k=0,l;l=m.Touch.Df[c][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f]);else if(a.addEventListener(c,f,!1),h.push([a,c,f]),c in m.Touch.Df){var n=function(p){if(p.changedTouches&&1==p.changedTouches.length){var q=p.changedTouches[0];p.clientX=q.clientX;p.clientY=q.clientY}f(p);p.preventDefault()};for(k=0;l=m.Touch.Df[c][k];k++)a.addEventListener(l,n,!1),h.push([a,l,n])}return h};
m.$a=function(a){for(;a.length;){var c=a.pop();c[0].removeEventListener(c[1],c[2],!1)}};m.Ug=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};m.UG=function(a){return m.g.jb.Pz(a)};
m.aF=function(){m.Mc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);m.Mc("LOGIC_HUE",["Constants","Logic","HUE"],210);m.Mc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);m.Mc("LOOPS_HUE",["Constants","Loops","HUE"],120);m.Mc("MATH_HUE",["Blocks","math","HUE"],void 0);m.Mc("MATH_HUE",["Constants","Math","HUE"],230);m.Mc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);m.Mc("TEXTS_HUE",["Constants","Text","HUE"],160);m.Mc("LISTS_HUE",["Blocks","lists","HUE"],void 0);m.Mc("LISTS_HUE",["Constants","Lists","HUE"],
260);m.Mc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);m.Mc("COLOUR_HUE",["Constants","Colour","HUE"],20);m.Mc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);m.Mc("VARIABLES_HUE",["Constants","Variables","HUE"],330);m.Mc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);m.Mc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
m.Mc=function(a,c,d){for(var e="Blockly",f=m,h=0;h<c.length;++h)e+="."+c[h],f&&(f=f[c[h]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};m.rN=function(a){m.hq=a};var E,ud,vd={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",
fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",
pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",
yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},wd="ace ar fa he mzn ps ur".split(" "),xd=window.BlocklyGamesLang,yd=window.BlocklyGamesLanguages,zd=/\.html$/.test(window.location.pathname);function Ad(a,c,d){var e=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";e=e(a);return isNaN(e)?c:m.g.Xd.Zl(c,e,d)}var F=Ad("level",1,10);
function Bd(){document.title=document.getElementById("title").textContent;document.dir=-1!=wd.indexOf(xd)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",xd);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<yd.length;d++){var e=yd[d];c.push([vd[e],e])}c.sort(function(h,k){return h[0]>k[0]?1:h[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==xd&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}E=window.innerWidth/2133>(window.innerHeight-document.getElementById("BClogo").offsetHeight)/1084?(window.innerHeight-document.getElementById("BClogo").offsetHeight)/1084:window.innerWidth/2133;(a=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");document.getElementById("coinanimation");Cd();setTimeout(function(){Dd()},200);setTimeout(Ed,1)}ud;
function Cd(){var a=document.getElementById("coin").getContext("2d"),c=new Image;c.src="common/coin.png";var d,e=0;setInterval(function(){e=++e%10;d=44*e;a.clearRect(0,0,45,45);a.drawImage(c,d,0,44,40,0,0,45,45)},100)}function Dd(){var a=document.getElementById("coinvalue").getContext("2d");a.clearRect(0,0,80,45);a.fillStyle="Black";a.font="35px Arial";a.fillText(ud,0,35)}function Fd(){var a=Gd;try{var c=window.localStorage[a+1]}catch(d){}return c}
function G(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}function Hd(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function Ed(){if(!zd){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};m.g.B={};m.g.B.Na=function(a,c){return" "+a+","+c+" "};m.g.B.curve=function(a,c){return" "+a+c.join("")};m.g.B.moveTo=function(a,c){return" M "+a+","+c+" "};m.g.B.moveBy=function(a,c){return" m "+a+","+c+" "};m.g.B.lineTo=function(a,c){return" l "+a+","+c+" "};m.g.B.line=function(a){return" l"+a.join("")};m.g.B.aa=function(a,c){return" "+a+" "+c+" "};m.g.B.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};m.i.og=function(){this.Af=0;this.WD=3;this.je=5;this.Pw=8;this.Vc=10;this.yx=this.je;this.Ql=15;this.$j=5;this.Ho=8;this.DD=15;this.Xw=4;this.yD=12;this.zC=16;this.yC=this.nw=this.Ql;this.rb=8;this.bE=this.Gl=15;this.aE=0;this.wx=20;this.TB=4;this.gE=this.je;this.hE=this.Vc;this.XB=this.je;this.WB=this.Vc;this.Rn=!1;this.ZD=15;this.$D=100;this.YD=15;this.Dl=24;this.BC=14.5;this.AC=this.Ql+11;this.EC=2;this.CC=this.Dl;this.ux=m.g.B.moveBy(0,0);this.cD=12;this.dD=6;this.mh=11;this.nh="normal";this.lh=
"sans-serif";this.tw=this.no=-1;this.mo=4;this.rw=16;this.wl=5;this.qw="#fff";this.cr=!m.g.userAgent.Oe&&!m.g.userAgent.li;this.sw=this.rw;this.GC=this.FC=this.$q=!1;this.IC=this.wl;this.xl=12;this.HC="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.JC=!1;this.kn=String(Math.random()).substring(2);this.kp="";this.et=null;this.Ny="";this.jm=this.Hs=this.Qs=null;this.bo="#cc0a0a";this.wo="#4286f4";this.ho=100;this.Lx=5;this.co=10;this.nC=2;this.pC=4;this.vw=!1;this.ir="#000000";this.to=.2;this.sx={PD:1,Sj:2}};b=m.i.og.prototype;
b.xa=function(){this.Qj=this.cu();this.Sj=this.du();this.Yj=this.gu();this.Fr=this.fu();var a=this.rb,c=m.g.B.arc("a","0 0,0",a,m.g.B.Na(-a,a)),d=m.g.B.arc("a","0 0,0",a,m.g.B.Na(a,a));this.uo={width:a,height:a,Nu:c,jq:d};a=this.rb;c=m.g.B.moveBy(0,a)+m.g.B.arc("a","0 0,1",a,m.g.B.Na(a,-a));d=m.g.B.arc("a","0 0,1",a,m.g.B.Na(a,a));var e=m.g.B.arc("a","0 0,1",a,m.g.B.Na(-a,-a)),f=m.g.B.arc("a","0 0,1",a,m.g.B.Na(-a,a));this.Ll={Fv:c,UI:d,TE:f,os:e,qI:a}};
b.sn=function(a){this.wh={};var c=a.wh,d;for(d in c)this.wh[d]=Id(c[d]);this.lh=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.lh;this.nh=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.nh;this.mh=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.mh;c=m.g.j.wH(this.mh+"pt",this.nh,this.lh);this.no=c.height;this.tw=c.Xe;this.bo=Va(a,"cursorColour")||this.bo;this.wo=Va(a,"markerColour")||this.wo;this.ir=Va(a,"insertionMarkerColour")||this.ir;this.to=Number(Va(a,
"insertionMarkerOpacity"))||this.to;this.Rn=null!=a.yv?a.yv:this.Rn};function Wc(a,c){var d="auto_"+c;a.wh[d]||(a.wh[d]=Id({colourPrimary:c}));return{style:a.wh[d],name:d}}function Pc(a,c){return a.wh[c||""]||(c&&0==c.indexOf("auto_")?Wc(a,c.substring(5)).style:Id({colourPrimary:"#000000"}))}
function Id(a){var c={};a&&m.g.object.Yd(c,a);a=m.g.iq(c.colourPrimary||"#000");c.yh=a.Bm;c.colourSecondary?a=m.g.iq(c.colourSecondary).Bm:(a=c.yh,a=m.g.jb.ks("#fff",a,.6)||a);c.Yo=a;c.colourTertiary?a=m.g.iq(c.colourTertiary).Bm:(a=c.yh,a=m.g.jb.ks("#fff",a,.3)||a);c.Ig=a;c.Vf=c.hat||"";return c}b.H=function(){this.et&&m.g.j.removeNode(this.et);this.Qs&&m.g.j.removeNode(this.Qs);this.Hs&&m.g.j.removeNode(this.Hs);this.jm=null};
b.cu=function(){var a=this.cD,c=this.dD,d=m.g.B.line([m.g.B.Na(c,a/4),m.g.B.Na(2*-c,a/2),m.g.B.Na(c,a/4)]);return{height:a,width:c,path:d}};b.gu=function(){var a=this.ZD,c=this.$D,d=m.g.B.curve("c",[m.g.B.Na(30,-a),m.g.B.Na(70,-a),m.g.B.Na(c,0)]);return{height:a,width:c,path:d}};
b.fu=function(){function a(h){h=h?-1:1;var k=-h,l=d/2,n=m.g.B.Na(c,h*l);return m.g.B.curve("c",[m.g.B.Na(0,h*(l+2.5)),m.g.B.Na(-c,k*(l+.5)),m.g.B.Na(-c,h*l)])+m.g.B.curve("s",[m.g.B.Na(c,2.5*k),n])}var c=this.Ho,d=this.Ql,e=a(!0),f=a(!1);return{type:this.sx.PD,width:c,height:d,Ee:f,cn:e}};b.du=function(){function a(k){return m.g.B.line([m.g.B.Na(k*e,d),m.g.B.Na(3*k,0),m.g.B.Na(k*e,-d)])}var c=this.DD,d=this.Xw,e=(c-3)/2,f=a(1),h=a(-1);return{type:this.sx.Sj,width:c,height:d,Sh:f,FA:h}};
function ta(a,c){switch(c.type){case m.bb:case m.Te:return a.Fr;case m.Ue:case m.Pa:return a.Sj;default:throw Error("Unknown connection type");}}
b.Ga=function(a,c,d){d=this.rt(d);c="blockly-renderer-style-"+c;this.jm=document.getElementById(c);var e=d.join("\n");this.jm?this.jm.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.jm=d);a=m.g.j.K("defs",{},a);c=m.g.j.K("filter",{id:"blocklyEmbossFilter"+this.kn},a);m.g.j.K("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=m.g.j.K("feSpecularLighting",
{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);m.g.j.K("fePointLight",{x:-5E3,y:-1E4,z:2E4},d);m.g.j.K("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);m.g.j.K("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.kp=c.id;this.et=c;c=m.g.j.K("pattern",{id:"blocklyDisabledPattern"+this.kn,patternUnits:"userSpaceOnUse",width:10,height:10},a);m.g.j.K("rect",
{width:10,height:10,fill:"#aaa"},c);m.g.j.K("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);this.Ny=c.id;this.Qs=c;m.i.ow&&(a=m.g.j.K("filter",{id:"blocklyDebugFilter"+this.kn,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),c=m.g.j.K("feComponentTransfer",{result:"outBlur"},a),m.g.j.K("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),m.g.j.K("feFlood",{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),m.g.j.K("feComposite",{"in":"outColor",in2:"outBlur",
operator:"in",result:"outGlow"},a),this.Hs=a)};
b.rt=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.nh+" "+this.mh+"pt "+this.lh+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.qw+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.lh+";","font-weight: "+this.nh+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.to+
";","stroke: none;","}"]};m.i.sg=function(a,c,d){this.s=a;this.lu=d;this.vd=null;this.v=c;this.qk=null;a=Jd(this)?this.v.bo:this.v.wo;this.qe=d.jb||a};m.i.sg.oC="blocklyCursor";m.i.sg.tD="blocklyMarker";m.i.sg.RC=.75;b=m.i.sg.prototype;b.Da=function(){return this.N};b.ad=function(){return this.lu};function Jd(a){return"cursor"==a.lu.type}
b.Ga=function(){this.N=m.g.j.K("g",{"class":Jd(this)?m.i.sg.oC:m.i.sg.tD},null);this.Xg=m.g.j.K("g",{width:this.v.ho,height:this.v.Lx},this.N);this.Mh=m.g.j.K("rect",{width:this.v.ho,height:this.v.Lx,style:"display: none"},this.Xg);this.fj=m.g.j.K("rect",{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.Xg);this.ej=m.g.j.K("path",{transform:"",style:"display: none"},this.Xg);this.Wg=m.g.j.K("path",{transform:"",style:"display: none",fill:"none","stroke-width":this.v.pC},this.Xg);
if(Jd(this)){var a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.qe+";transparent;transparent;",repeatCount:"indefinite"};m.g.j.K("animate",a,this.Mh);m.g.j.K("animate",a,this.ej);a.attributeName="stroke";m.g.j.K("animate",a,this.Wg)}return this.N};function Kd(a,c){Jd(a)?(a.vd&&a.vd.$g(null),c.$g(a.Da())):(a.vd&&a.vd.ah(null),c.ah(a.Da()));a.vd=c}
b.draw=function(a,c){if(c){this.v=this.s.ob.Z();var d=Jd(this)?this.v.bo:this.v.wo;this.qe=this.lu.jb||d;this.Mh.setAttribute("fill",this.qe);this.fj.setAttribute("stroke",this.qe);this.ej.setAttribute("fill",this.qe);this.Wg.setAttribute("stroke",this.qe);Jd(this)&&(d=this.qe+";transparent;transparent;",this.Mh.firstChild.setAttribute("values",d),this.ej.firstChild.setAttribute("values",d),this.Wg.firstChild.setAttribute("values",d));d=c.pa;if(c.Za()==m.C.types.zd)Ld(this,c);else if(c.Za()==m.C.types.pi)Ld(this,
c);else if(d.type==m.bb){var e=c.pa;d=e.X();var f=e.lj.x,h=e.lj.y;e=m.g.B.moveTo(0,0)+ta(this.v,e).Ee;this.ej.setAttribute("d",e);this.ej.setAttribute("transform","translate("+f+","+h+")"+(this.s.J?" scale(-1 1)":""));this.qk=this.ej;Kd(this,d);Md(this)}else if(d.type==m.Pa)h=c.pa,d=h.X(),f=0,h=h.lj.y,e=la(d).width,this.s.J&&(f=-e),Nd(this,f,h,e),Kd(this,d),Md(this);else if(c.Za()==m.C.types.Gd)Ld(this,c);else if(c.Za()==m.C.types.Qb)d=c.pa,f=d.Ng().width,h=d.Ng().height,Od(this,0,0,f,h),Kd(this,
d),Md(this);else if(c.Za()==m.C.types.Gf)f=c.Gq,d=f.x,f=f.y,this.s.J&&(d-=this.v.ho),Nd(this,d,f,this.v.ho),Kd(this,this.s),Md(this);else if(c.Za()==m.C.types.Cf){d=c.pa;h=la(d);f=h.width+this.v.co;h=h.height+this.v.co;var k=e=-this.v.co/2,l=-this.v.co/2;this.s.J&&(k=-(f+e));Od(this,k,l,f,h);Kd(this,d);Md(this)}d=c.X();a=new m.h.Rb(d,Jd(this)?"cursorMove":"markerMove",a,c);c.Za()==m.C.types.Gf&&(a.Bb=c.pa.id);m.h.Ca(a);c=this.qk.childNodes[0];void 0!==c&&c.beginElement&&c.beginElement()}else this.Ea()};
function Ld(a,c){c=c.X();var d=c.width,e=c.height,f=e*m.i.sg.RC,h=a.v.nC;if(c.V){var k=ta(a.v,c.V);e=k;d=m.g.B.moveBy(-h,f)+m.g.B.aa("V",-h)+m.g.B.aa("H",a.v.Gl)+e.Sh+m.g.B.aa("H",d+2*h)+m.g.B.aa("V",f);a.Wg.setAttribute("d",d)}else c.L?(f=k=ta(a.v,c.L),d=m.g.B.moveBy(d,0)+m.g.B.aa("h",-(d-f.width))+m.g.B.aa("v",a.v.$j)+f.Ee+m.g.B.aa("V",e)+m.g.B.aa("H",d),a.Wg.setAttribute("d",d)):(d=m.g.B.moveBy(-h,f)+m.g.B.aa("V",-h)+m.g.B.aa("H",d+2*h)+m.g.B.aa("V",f),a.Wg.setAttribute("d",d));a.s.J&&a.um(a.Wg);
a.qk=a.Wg;Kd(a,c);Md(a)}function Md(a){a.Ea();a.qk.style.display=""}function Nd(a,c,d,e){a.Mh.setAttribute("x",c);a.Mh.setAttribute("y",d);a.Mh.setAttribute("width",e);a.qk=a.Mh}function Od(a,c,d,e,f){a.fj.setAttribute("x",c);a.fj.setAttribute("y",d);a.fj.setAttribute("width",e);a.fj.setAttribute("height",f);a.qk=a.fj}b.um=function(a){a.setAttribute("transform","scale(-1 1)")};
b.Ea=function(){this.Mh.style.display="none";this.fj.style.display="none";this.ej.style.display="none";this.Wg.style.display="none"};b.H=function(){this.N&&m.g.j.removeNode(this.N)};m.i.u={NONE:0,Qb:1,xw:2,Bw:4,Or:8,$v:16,Fw:32,pw:64,fe:128,Cw:256,vx:512,iC:1024,Dr:2048,vr:4096,JD:8192,Uq:16384,mr:32768,lr:65536,Kr:131072,Jr:262144,Jw:524288,Lr:1048576,Ur:2097152,Pq:4194304,Dw:8388608};m.i.u.pK=m.i.u.mr|m.i.u.lr;m.i.u.tL=m.i.u.Kr|m.i.u.Jr;m.i.u.xu=16777216;m.i.u.Za=function(){m.i.u.hasOwnProperty(void 0)||(m.i.u[void 0]=m.i.u.xu,m.i.u.xu<<=1);return m.i.u[void 0]};m.i.u.Tg=function(a){return a.type&m.i.u.Qb};m.i.u.Zi=function(a){return a.type&m.i.u.xw};
m.i.u.Nk=function(a){return a.type&m.i.u.Bw};m.i.u.ze=function(a){return a.type&m.i.u.Or};m.i.u.OM=function(a){return a.type&m.i.u.Fw};m.i.u.Hh=function(a){return a.type&m.i.u.fe};m.i.u.Km=function(a){return a.type&m.i.u.pw};m.i.u.Gh=function(a){return a.type&m.i.u.Cw};m.i.u.bj=function(a){return a.type&m.i.u.vx};m.i.u.Pk=function(a){return a.type&m.i.u.Dr};m.i.u.Jh=function(a){return a.type&m.i.u.vr};m.i.u.jH=function(a){return a.type&(m.i.u.Dr|m.i.u.vr)};m.i.u.Ih=function(a){return a.type&m.i.u.lr};
m.i.u.$z=function(a){return a.type&m.i.u.Jr};m.i.u.Mm=function(a){return a.type&m.i.u.mr};m.i.u.PM=function(a){return a.type&m.i.u.Kr};m.i.u.KM=function(a){return a.type&m.i.u.Uq};m.i.u.Yz=function(a){return a.type&m.i.u.Jw};m.i.u.RM=function(a){return a.type&m.i.u.Lr};m.i.u.HM=function(a){return a.type&m.i.u.$v};m.i.u.Lp=function(a){return a.type&m.i.u.Ur};m.i.u.Ep=function(a){return a.type&m.i.u.Pq};m.i.u.kH=function(a){return a.type&(m.i.u.Ur|m.i.u.Pq)};m.i.u.eH=function(a){return a.type&m.i.u.Dw};m.i.rh=function(a){this.height=this.width=0;this.type=m.i.u.NONE;this.jk=this.Oa=0;this.v=a;this.Ce=this.v.Gl};m.i.ra=function(a,c){m.i.ra.A.constructor.call(this,a);this.Xc=c;this.shape=ta(this.v,c);this.Yi=!!this.shape.isDynamic;this.type|=m.i.u.iC};m.g.object.S(m.i.ra,m.i.rh);m.i.Br=function(a,c){m.i.Br.A.constructor.call(this,a,c);this.type|=m.i.u.JD;this.height=this.Yi?0:this.shape.height;this.Ke=this.width=this.Yi?0:this.shape.width;this.Od=this.v.$j;this.dm=0};m.g.object.S(m.i.Br,m.i.ra);
m.i.Gr=function(a,c){m.i.Gr.A.constructor.call(this,a,c);this.type|=m.i.u.Dr;this.height=this.shape.height;this.width=this.shape.width};m.g.object.S(m.i.Gr,m.i.ra);m.i.wr=function(a,c){m.i.wr.A.constructor.call(this,a,c);this.type|=m.i.u.vr;this.height=this.shape.height;this.width=this.shape.width};m.g.object.S(m.i.wr,m.i.ra);m.i.Bl=function(a,c){m.i.Bl.A.constructor.call(this,a,c.connection);this.type|=m.i.u.fe;this.input=c;this.align=c.align;(this.zh=c.connection&&c.connection.na()?c.connection.na():null)?(a=la(this.zh),this.cm=a.width,this.$o=a.height):this.$o=this.cm=0;this.Od=this.dm=0};m.g.object.S(m.i.Bl,m.i.ra);
m.i.ph=function(a,c){m.i.ph.A.constructor.call(this,a,c);this.type|=m.i.u.Cw;this.zh?(this.width=this.cm,this.height=this.$o):(this.height=this.v.AC,this.width=this.v.BC);this.kk=this.Yi?this.shape.height(this.height):this.shape.height;this.Lf=this.Yi?this.shape.width(this.height):this.shape.width;this.zh||(this.width+=this.Lf*(this.Yi?2:1));this.Od=this.Yi?this.shape.Od(this.kk):this.v.$j;this.dm=this.Yi?this.shape.dm(this.Lf):0};m.g.object.S(m.i.ph,m.i.Bl);
m.i.uh=function(a,c){m.i.uh.A.constructor.call(this,a,c);this.type|=m.i.u.vx;this.height=this.zh?this.$o+this.v.aE:this.v.CC;this.width=this.v.bE+this.shape.width};m.g.object.S(m.i.uh,m.i.Bl);m.i.lo=function(a,c){m.i.lo.A.constructor.call(this,a,c);this.type|=m.i.u.pw;this.height=this.zh?this.$o-this.v.$j-this.v.je:this.shape.height;this.width=this.shape.width+this.v.EC;this.Od=this.v.$j;this.kk=this.shape.height;this.Lf=this.shape.width};m.g.object.S(m.i.lo,m.i.Bl);m.i.ge=function(a,c){m.i.ge.A.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=m.i.u.Bw;a=new m.g.Jd(m.ge.prototype.Eo,m.ge.prototype.Eo-2);this.height=a.height;this.width=a.width};m.g.object.S(m.i.ge,m.i.rh);m.i.jr=function(a){m.i.jr.A.constructor.call(this,a);this.type|=m.i.u.Jw;this.height=this.v.Qj.height;this.width=this.v.Qj.width};m.g.object.S(m.i.jr,m.i.rh);
m.i.Cd=function(a,c){m.i.Cd.A.constructor.call(this,a);this.Zy=c;this.td=c.vl;this.bG=c.lz();this.type|=m.i.u.Qb;a=this.Zy.Ng();this.height=a.height;this.width=a.width};m.g.object.S(m.i.Cd,m.i.rh);m.i.er=function(a){m.i.er.A.constructor.call(this,a);this.type|=m.i.u.xw;this.height=this.v.Yj.height;this.width=this.v.Yj.width;this.fk=this.height};m.g.object.S(m.i.er,m.i.rh);
m.i.Zj=function(a,c){m.i.Zj.A.constructor.call(this,a);this.type=(c&&"left"!=c?m.i.u.Kr:m.i.u.mr)|m.i.u.Uq;this.width=this.height=this.v.Af};m.g.object.S(m.i.Zj,m.i.rh);m.i.Do=function(a,c){m.i.Do.A.constructor.call(this,a);this.type=(c&&"left"!=c?m.i.u.Jr:m.i.u.lr)|m.i.u.Uq;this.width=this.v.rb;this.height=this.v.rb/2};m.g.object.S(m.i.Do,m.i.rh);m.i.rg=function(a,c){m.i.rg.A.constructor.call(this,a);this.type=this.type|m.i.u.Or|m.i.u.Fw;this.width=c;this.height=this.v.YD};m.g.object.S(m.i.rg,m.i.rh);m.i.ri=function(a){this.type=m.i.u.Lr;this.elements=[];this.Oa=this.cc=this.vf=this.minWidth=this.minHeight=this.width=this.height=0;this.Hz=this.Hk=this.Jt=this.Ub=this.Eh=!1;this.v=a;this.Ce=this.v.Gl;this.align=null};m.i.ri.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function Pd(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(m.i.u.Hh(d))return d;return null}m.i.ri.prototype.wq=function(){return!0};m.i.ri.prototype.qm=function(){return!0};
m.i.wi=function(a){m.i.wi.A.constructor.call(this,a);this.type|=m.i.u.Ur;this.fk=this.Eg=0;this.QG=!1;this.connection=null};m.g.object.S(m.i.wi,m.i.ri);m.i.wi.prototype.Kt=function(a){var c=(a.Vf?"cap"===a.Vf:this.v.Rn)&&!a.L&&!a.V,d=a.V&&a.V.na();return!!a.L||c||(d?u(d)==a:!1)};
m.i.wi.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,m.i.u.ze(f)||(m.i.u.Zi(f)?d=Math.max(d,f.fk):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Eg=this.fk=d;this.vf=this.width};m.i.wi.prototype.wq=function(){return!1};m.i.wi.prototype.qm=function(){return!1};m.i.ii=function(a){m.i.ii.A.constructor.call(this,a);this.type|=m.i.u.Pq;this.Iz=!1;this.connection=null;this.Xe=this.mm=0};
m.g.object.S(m.i.ii,m.i.ri);m.i.ii.prototype.Kt=function(a){return!!a.L||!!u(a)};m.i.ii.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,m.i.u.ze(f)||(m.i.u.Jh(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.mm=d;this.vf=this.width};m.i.ii.prototype.wq=function(){return!1};m.i.ii.prototype.qm=function(){return!1};
m.i.Go=function(a,c,d){m.i.Go.A.constructor.call(this,a);this.type=this.type|m.i.u.Or|m.i.u.$v;this.width=d;this.height=c;this.ez=!1;this.vf=0;this.elements=[new m.i.rg(this.v,d)]};m.g.object.S(m.i.Go,m.i.ri);m.i.Go.prototype.measure=function(){};m.i.Pj=function(a){m.i.Pj.A.constructor.call(this,a);this.type|=m.i.u.Dw;this.py=0};m.g.object.S(m.i.Pj,m.i.ri);
m.i.Pj.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,m.i.u.Hh(d)&&(m.i.u.bj(d)?a+=d.cm:m.i.u.Km(d)&&0!=d.cm&&(a+=d.cm-d.Lf)),m.i.u.ze(d)||(this.height=Math.max(this.height,d.height));this.py=a;this.vf=this.width+a};m.i.Pj.prototype.qm=function(){return!this.Eh&&!this.Ub};m.i.Ve=function(a,c){this.M=c;this.ob=a;this.v=this.ob.Z();this.L=c.L?new m.i.Br(this.v,c.L):null;this.Ok=ua(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.mf=c.mf();this.J=c.J;this.ai=this.width=this.kl=this.height=0;this.rows=[];this.Sz=[];this.Mz=[];this.Ob=new m.i.wi(this.v);this.vb=new m.i.ii(this.v);this.vq=this.Ke=0};b=m.i.Ve.prototype;
b.measure=function(){var a=!!this.M.V,c=(this.M.Vf?"cap"===this.M.Vf:this.v.Rn)&&!this.L&&!a;this.Ob.Kt(this.M)?this.Ob.elements.push(new m.i.Zj(this.v)):this.Ob.elements.push(new m.i.Do(this.v));c?(a=new m.i.er(this.v),this.Ob.elements.push(a),this.Ob.Eg=a.fk):a&&(this.Ob.QG=!0,this.Ob.connection=new m.i.Gr(this.v,this.M.V),this.Ob.elements.push(this.Ob.connection));this.M.P.length&&this.M.P[0].type==m.Pa&&!this.M.isCollapsed()?this.Ob.minHeight=this.v.hE:this.Ob.minHeight=this.v.gE;this.Ob.elements.push(new m.i.Zj(this.v,
"right"));this.rows.push(this.Ob);a=new m.i.Pj(this.v);this.Sz.push(a);var d=va(this.M);if(d.length){c=0;for(var e;e=d[c];c++){var f=new m.i.ge(this.v,e);this.isCollapsed&&e.ky?this.Mz.push(f):a.elements.push(f)}}e=null;for(c=0;d=this.M.P[c];c++)if(d.isVisible()){!e||d.type!=m.Pa&&e.type!=m.Pa&&(d.type!=m.bb&&d.type!=m.pg||this.Ok)||(this.rows.push(a),a=new m.i.Pj(this.v),this.Sz.push(a));for(e=0;f=d.fb[e];e++)a.elements.push(new m.i.Cd(this.v,f,d));this.Tx(d,a);e=d}this.isCollapsed&&(a.Hz=!0,a.elements.push(new m.i.jr(this.v)));
(a.elements.length||a.Hk)&&this.rows.push(a);this.Ru();this.rows.push(this.vb);this.Sx();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)this.rows.push(a[c]),c!=a.length-1&&this.rows.push(Qd(this,a[c],a[c+1]));for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Ub&&(a=Math.max(a,f.width-Pd(f).width)),d=Math.max(d,f.vf);this.ai=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Ub&&(f.ai=this.ai);this.kl=Math.max(c,d);this.L&&(this.Ke=this.L.width,this.width+=this.L.width,this.kl+=this.L.width);
this.Zr();this.$y()};b.Ru=function(){this.vb.Iz=!!this.M.T;this.vb.minHeight=this.M.P.length&&this.M.P[this.M.P.length-1].type==m.Pa?this.v.WB:this.v.XB;this.vb.Kt(this.M)?this.vb.elements.push(new m.i.Zj(this.v)):this.vb.elements.push(new m.i.Do(this.v));this.vb.Iz&&(this.vb.connection=new m.i.wr(this.v,this.M.T),this.vb.elements.push(this.vb.connection));this.vb.elements.push(new m.i.Zj(this.v,"right"))};
b.Tx=function(a,c){this.Ok&&a.type==m.bb?(c.elements.push(new m.i.ph(this.v,a)),c.Jt=!0):a.type==m.Pa?(c.elements.push(new m.i.uh(this.v,a)),c.Ub=!0):a.type==m.bb?(c.elements.push(new m.i.lo(this.v,a)),c.Eh=!0):a.type==m.pg&&(c.minHeight=Math.max(c.minHeight,a.X()&&a.X().Sa?this.v.yC:this.v.nw),c.Hk=!0);null==c.align&&(c.align=a.align)};
b.Sx=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.wq()&&c.elements.push(new m.i.rg(this.v,this.Ki(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new m.i.rg(this.v,this.Ki(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.qm()&&c.elements.push(new m.i.rg(this.v,this.Ki(d[d.length-1],null)))}}};
b.Ki=function(a,c){if(!a&&c&&m.i.u.bj(c))return this.v.wx;if(a&&m.i.u.Hh(a)&&!c){if(m.i.u.Km(a))return this.v.Af;if(m.i.u.Gh(a))return this.v.Vc;if(m.i.u.bj(a))return this.v.Af}return a&&m.i.u.Mm(a)&&c&&(m.i.u.Pk(c)||m.i.u.Jh(c))?c.Ce:a&&m.i.u.Ih(a)&&c&&(m.i.u.Pk(c)||m.i.u.Jh(c))?c.Ce-this.v.rb:this.v.je};b.Zr=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Ub)Rd(this,c);else{var d=this.xm(c)-c.width;0<d&&Sd(c,d);m.i.u.kH(c)&&(c.vf=c.width)}};b.xm=function(){return this.width-this.Ke};
function Sd(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(m.i.u.ze(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(m.i.u.ze(f)){e=f;break a}e=null}if(a.Eh||a.Ub)a.vf+=c;a.align==m.Jq?e.width+=c:a.align==m.Iq?(d.width+=c/2,e.width+=c/2):a.align==m.Kq?d.width+=c:e.width+=c;a.width+=c}
function Rd(a,c){var d=Pd(c),e=c.width-d.width,f=a.ai;e=f-e;0<e&&Sd(c,e);e=c.width;f=a.xm(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.vf=Math.max(c.width,a.ai+c.py)}function Qd(a,c,d){a=new m.i.Go(a.v,a.yz(c,d),a.width-a.Ke);c.Ub&&(a.ez=!0);d.Ub&&(a.cN=!0);return a}b.yz=function(){return this.v.je};
b.kz=function(a,c){return m.i.u.ze(c)?a.cc+c.height/2:m.i.u.Ep(a)?(a=a.cc+a.height-a.mm,m.i.u.Jh(c)?a+c.height/2:a-c.height/2):m.i.u.Lp(a)?m.i.u.Zi(c)?a.Eg-c.height/2:a.Eg+c.height/2:a.cc+a.height/2};function Td(a,c){for(var d=c.Oa,e=0,f;f=c.elements[e];e++)m.i.u.ze(f)&&(f.height=c.height),f.Oa=d,f.jk=a.kz(c,f),d+=f.width}
b.$y=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.cc=c,e.Oa=this.Ke,c+=e.height,a=Math.max(a,e.vf),Td(this,e);this.L&&this.M.T&&this.M.T.isConnected()&&(a=Math.max(a,la(this.M.T.na()).width));this.kl=a+this.Ke;this.height=c;this.vq=this.Ob.Eg;this.vb.Xe=c-this.vb.mm};m.i.Uc=function(a,c){this.M=a;this.oa=c;a.Va();this.Dp=this.Ta="";this.v=c.ob.Z()};b=m.i.Uc.prototype;b.draw=function(){Ud(this);Vd(this);Wd(this);this.M.xb.nv(this.Ta+"\n"+this.Dp);this.oa.J&&this.M.xb.mt();m.i.Ln&&this.M.bv.TF(this.M,this.oa);Xd(this)};function Xd(a){a.M.height=a.oa.height;a.M.width=a.oa.kl}function Ud(a){for(var c=0,d;d=a.oa.Mz[c];c++)d.icon.sd.setAttribute("display","none")}
function Vd(a){a.ct();for(var c=1;c<a.oa.rows.length-1;c++){var d=a.oa.rows[c];d.Hz?a.pm(d):d.Ub?a.bt(d):d.Eh?a.dt(d):a.Wy(d)}a.Zs();a.at()}
b.ct=function(){var a=this.oa.Ob,c=a.elements,d=this.oa.Ob;if(d.connection){var e=d.Oa+d.Ce;Ic(d.connection.Xc,this.oa.J?-e:e,0)}this.Ta+=m.g.B.moveBy(a.Oa,this.oa.vq);for(d=0;e=c[d];d++)m.i.u.Ih(e)?this.Ta+=this.v.Ll.Fv:m.i.u.$z(e)?this.Ta+=this.v.Ll.UI:m.i.u.Pk(e)?this.Ta+=e.shape.Sh:m.i.u.Zi(e)?this.Ta+=this.v.Yj.path:m.i.u.ze(e)&&(this.Ta+=m.g.B.aa("h",e.width));this.Ta+=m.g.B.aa("v",a.height)};b.pm=function(a){this.Ta+=this.v.Qj.path+m.g.B.aa("v",a.height-this.v.Qj.height)};
b.dt=function(a){var c=Pd(a);this.IA(a);var d="function"==typeof c.shape.Ee?c.shape.Ee(c.height):c.shape.Ee;this.Ta+=m.g.B.aa("H",c.Oa+c.width)+d+m.g.B.aa("v",a.height-c.kk)};b.bt=function(a){var c=Pd(a);this.Ta+=m.g.B.aa("H",c.Oa+c.Ce+c.shape.width)+(c.shape.FA+m.g.B.aa("h",-(c.Ce-this.v.uo.width))+this.v.uo.Nu)+m.g.B.aa("v",a.height-2*this.v.uo.height)+this.v.uo.jq+m.g.B.aa("H",a.Oa+a.width);this.LA(a)};b.Wy=function(a){this.Ta+=m.g.B.aa("V",a.cc+a.height)};
b.Zs=function(){var a=this.oa.vb,c=a.elements;this.KA();for(var d=0,e="",f=c.length-1,h;h=c[f];f--)m.i.u.Jh(h)?e+=h.shape.FA:m.i.u.Mm(h)?e+=m.g.B.aa("H",a.Oa):m.i.u.Ih(h)?e+=this.v.Ll.os:m.i.u.$z(h)?(e+=this.v.Ll.TE,d=this.v.Ll.qI):m.i.u.ze(h)&&(e+=m.g.B.aa("h",-1*h.width));this.Ta+=m.g.B.aa("V",a.Xe-d);this.Ta+=e};
b.at=function(){var a=this.oa.L;if(this.oa.L){var c=this.oa.Ke+this.oa.L.dm;Ic(this.M.L,this.oa.J?-c:c,this.oa.L.Od)}a&&(c=a.Od+a.height,a="function"==typeof a.shape.cn?a.shape.cn(a.height):a.shape.cn,this.Ta+=m.g.B.aa("V",c)+a);this.Ta+="z"};
function Wd(a){for(var c=0,d;d=a.oa.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(m.i.u.Gh(f))a.$s(f);else if(m.i.u.Nk(f)||m.i.u.Tg(f)){var h=a;if(m.i.u.Tg(f))var k=f.Zy.Da();else m.i.u.Nk(f)&&(k=f.icon.sd);var l=f.jk-f.height/2,n=f.Oa,p="";h.oa.J&&(n=-(n+f.width),f.bG&&(n+=f.width,p="scale(-1 1)"));m.i.u.Nk(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+n+","+l+")"),Vc(f.icon)):k.setAttribute("transform","translate("+n+","+l+")"+p);h.oa.mf&&k.setAttribute("display",
"none")}}b.$s=function(a){var c=a.width,d=a.height,e=a.Od,f=a.kk+e;this.Dp+=m.g.B.moveTo(a.Oa+a.Lf,a.jk-d/2)+m.g.B.aa("v",e)+a.shape.Ee+m.g.B.aa("v",d-f)+m.g.B.aa("h",c-a.Lf)+m.g.B.aa("v",-d)+"z";this.JA(a)};b.JA=function(a){var c=a.jk-a.height/2;if(a.Xc){var d=a.Oa+a.Lf+a.dm;this.oa.J&&(d*=-1);Ic(a.Xc,d,c+a.Od)}};b.LA=function(a){var c=Pd(a);if(c.Xc){var d=a.Oa+a.ai+c.Ce;this.oa.J&&(d*=-1);Ic(c.Xc,d,a.cc)}};b.IA=function(a){var c=Pd(a);if(c.Xc){var d=a.Oa+a.width;this.oa.J&&(d*=-1);Ic(c.Xc,d,a.cc)}};
b.KA=function(){var a=this.oa.vb;if(a.connection){var c=a.connection,d=c.Oa;Ic(c.Xc,this.oa.J?-d:d,a.Xe)}};m.i.vg=function(a,c,d){this.mk=d;this.jg=a;this.Cb=m.g.j.K("path",{"class":"blocklyPath"},this.jg);this.style=c;this.ku=this.km=null};b=m.i.vg.prototype;b.nv=function(a){this.Cb.setAttribute("d",a)};b.mt=function(){this.Cb.setAttribute("transform","scale(-1 1)")};b.$g=function(a){a?(this.jg.appendChild(a),this.km=a):this.km=null};b.ah=function(a){a?(this.km?this.jg.insertBefore(a,this.km):this.jg.appendChild(a),this.ku=a):this.ku=null};
b.Sb=function(a){this.Cb.setAttribute("stroke",this.style.Ig);this.Cb.setAttribute("fill",this.style.yh);this.tB(a.Sa);this.Jv(!a.isEnabled()||Ac(a))};b.bh=function(a){this.style=a};function sa(a,c,d){d?m.g.j.ub(a.jg,c):m.g.j.Ac(a.jg,c)}b.rB=function(a){a?this.Cb.setAttribute("filter","url(#"+this.mk.kp+")"):this.Cb.setAttribute("filter","none")};b.tB=function(a){a&&(this.Cb.setAttribute("stroke","none"),this.Cb.setAttribute("fill",this.style.Yo))};
b.Jv=function(a){sa(this,"blocklyDisabled",a);a&&this.Cb.setAttribute("fill","url(#"+this.mk.Ny+")")};m.i.wg=function(a){this.name=a;this.Lu=this.v=null};b=m.i.wg.prototype;b.gf=function(){return this.name+"-renderer"};b.xa=function(a,c){this.v=this.bu();c&&(this.Lu=c,m.g.object.Yd(this.v,c));this.v.sn(a);this.v.xa()};b.Ga=function(a,c){this.v.Ga(a,this.name+"-"+c.name,"."+this.gf()+"."+c.gf())};b.Vu=function(a,c){var d=this.Z();d.H();this.v=this.bu();this.Lu&&m.g.object.Yd(this.v,this.Lu);this.v.kn=d.kn;this.v.sn(c);this.v.xa();this.Ga(a,c)};b.H=function(){this.v&&this.v.H()};b.bu=function(){return new m.i.og};
b.lA=function(a){return new m.i.Ve(this,a)};b.jA=function(a,c){return new m.i.Uc(a,c)};b.kA=function(a,c){return new m.i.vg(a,c,this.v)};b.Z=function(){return this.v};b.wa=function(a){if(m.i.Ln&&!a.bv){if(!m.i.ow)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new m.i.ow(this.Z());a.bv=c}c=this.lA(a);c.measure();this.jA(a,c).draw()};m.ea={};m.ea.og=function(){m.ea.og.A.constructor.call(this);this.cr=!1;this.qc=1;this.uD=30};m.g.object.S(m.ea.og,m.i.og);m.ea.og.prototype.rt=function(a){return m.ea.og.A.rt.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.to+";","stroke: none;","}"])};m.ea.Aw=function(a){this.oa=a;this.Gm=this.la="";this.tc=this.oa.J;a=a.ob;this.v=a.Z();this.Td=a.Td;this.rd=this.Td.OFFSET;this.Ku=this.Td.KD;this.Lk=this.Td.$C;this.jn=this.Td.Fr;this.OH=this.Td.Sj;this.JI=this.Td.Yj;this.bA=this.Td.Qj};m.ea.Aw.prototype.pm=function(a){this.oa.J&&(this.la+=this.bA.Sh+m.g.B.aa("v",a.height-this.bA.height-this.rd))};
function Yd(a,c){var d=c.Oa+c.width-a.rd;c.ez&&(a.la+=m.g.B.aa("H",d));a.tc&&(a.la+=m.g.B.aa("H",d),c.height>a.rd&&(a.la+=m.g.B.aa("V",c.cc+c.height-a.rd)))};m.ea.ph=function(a,c){m.ea.ph.A.constructor.call(this,a,c);this.zh&&(this.width+=this.v.qc,this.height+=this.v.qc)};m.g.object.S(m.ea.ph,m.i.ph);m.ea.uh=function(a,c){m.ea.uh.A.constructor.call(this,a,c);this.zh&&(this.height+=this.v.qc)};m.g.object.S(m.ea.uh,m.i.uh);m.ea.Ve=function(a,c){m.ea.Ve.A.constructor.call(this,a,c)};m.g.object.S(m.ea.Ve,m.i.Ve);b=m.ea.Ve.prototype;b.Ru=function(){m.ea.Ve.A.Ru.call(this);this.M.P.length&&this.M.P[this.M.P.length-1].type==m.Pa||(this.vb.minHeight=this.v.je-this.v.qc)};
b.Tx=function(a,c){this.Ok&&a.type==m.bb?(c.elements.push(new m.ea.ph(this.v,a)),c.Jt=!0):a.type==m.Pa?(c.elements.push(new m.ea.uh(this.v,a)),c.Ub=!0):a.type==m.bb?(c.elements.push(new m.i.lo(this.v,a)),c.Eh=!0):a.type==m.pg&&(c.minHeight=Math.max(c.minHeight,this.v.nw),c.Hk=!0);this.Ok||null!=c.align||(c.align=a.align)};
b.Sx=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.Eh&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.wq()&&d.elements.push(new m.i.rg(this.v,this.Ki(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var h=this.Ki(e[f],e[f+1]);d.elements.push(new m.i.rg(this.v,h))}d.elements.push(e[e.length-1]);d.qm()&&(h=this.Ki(e[e.length-1],null),a&&d.Hk&&(h+=this.v.Ho),d.elements.push(new m.i.rg(this.v,h)))}}};
b.Ki=function(a,c){if(!a)return c&&m.i.u.Tg(c)&&c.td?this.v.je:c&&m.i.u.Gh(c)?this.v.Pw:c&&m.i.u.bj(c)?this.v.wx:this.v.Vc;if(!m.i.u.Hh(a)&&(!c||m.i.u.bj(c)))return m.i.u.Tg(a)&&a.td?this.v.je:m.i.u.Nk(a)?2*this.v.Vc+1:m.i.u.Zi(a)?this.v.Af:m.i.u.jH(a)?this.v.Vc:m.i.u.Ih(a)?this.v.yD:m.i.u.Yz(a)?this.v.Af:this.v.Vc;if(m.i.u.Hh(a)&&!c){if(m.i.u.Km(a))return this.v.Af;if(m.i.u.Gh(a))return this.v.Vc;if(m.i.u.bj(a))return this.v.Af}if(!m.i.u.Hh(a)&&c&&m.i.u.Hh(c)){if(m.i.u.Tg(a)&&a.td){if(m.i.u.Gh(c)||
m.i.u.Km(c))return this.v.WD}else{if(m.i.u.Gh(c)||m.i.u.Km(c))return this.v.Pw;if(m.i.u.bj(c))return this.v.Vc}return this.v.Vc-1}if(m.i.u.Nk(a)&&c&&!m.i.u.Hh(c))return this.v.Vc;if(m.i.u.Gh(a)&&c&&m.i.u.Tg(c))return c.td?this.v.je:this.v.Vc;if(m.i.u.Mm(a)&&c){if(m.i.u.Zi(c))return this.v.Af;if(m.i.u.Pk(c))return c.Ce;if(m.i.u.Jh(c))return a=(this.J?1:-1)*this.v.qc/2,c.Ce+a}if(m.i.u.Ih(a)&&c){if(m.i.u.Pk(c))return c.Ce-this.v.rb;if(m.i.u.Jh(c))return a=(this.J?1:-1)*this.v.qc/2,c.Ce-this.v.rb+a}return m.i.u.Tg(a)&&
c&&m.i.u.Tg(c)&&a.td==c.td||c&&m.i.u.Yz(c)?this.v.Vc:this.v.je};b.yz=function(a,c){return m.i.u.Lp(a)&&m.i.u.Ep(c)?this.v.zC:m.i.u.Lp(a)||m.i.u.Ep(c)?this.v.Af:a.Eh&&c.Eh?this.v.Vc:!a.Ub&&c.Ub?this.v.TB:a.Ub&&c.Ub||!a.Ub&&c.Hk||a.Hk?this.v.Vc:this.v.je};
b.kz=function(a,c){if(m.i.u.ze(c))return a.cc+c.height/2;if(m.i.u.Ep(a))return a=a.cc+a.height-a.mm,m.i.u.Jh(c)?a+c.height/2:a-c.height/2;if(m.i.u.Lp(a))return m.i.u.Zi(c)?a.Eg-c.height/2:a.Eg+c.height/2;var d=a.cc;m.i.u.Tg(c)||m.i.u.Nk(c)?(d+=c.height/2,(a.Jt||a.Ub)&&c.height+this.v.yx<=a.height&&(d+=this.v.yx)):d=m.i.u.Gh(c)?d+c.height/2:d+a.height/2;return d};
b.Zr=function(){if(this.Ok){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.vu=a,m.i.u.eH(e)&&(e.Ub&&Rd(this,e),c&&c.Ub&&e.width<c.width?e.vu=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Ub?a=this.xm(e):m.i.u.ze(e)?e.width=Math.max(a,e.vu):(a=Math.max(a,e.vu)-e.width,0<a&&Sd(e,a),a=e.width)}else m.ea.Ve.A.Zr.call(this)};b.xm=function(a){return this.Ok&&a.Ub?this.ai+this.v.uD+this.Ke:m.ea.Ve.A.xm.call(this,a)};
b.$y=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.cc=c;e.Oa=this.Ke;c+=e.height;a=Math.max(a,e.vf);var f=c-this.Ob.fk;e==this.vb&&f<this.v.Dl&&(f=this.v.Dl-f,this.vb.height+=f,c+=f);Td(this,e)}this.L&&this.M.T&&this.M.T.isConnected()&&(a=Math.max(a,la(this.M.T.na()).width-this.v.qc));this.vb.Xe=c-this.vb.mm;this.kl=a+this.Ke+this.v.qc;this.width+=this.v.qc;this.height=c+this.v.qc;this.vq=this.Ob.Eg};m.ea.Uc=function(a,c){m.ea.Uc.A.constructor.call(this,a,c);this.Wf=new m.ea.Aw(c)};m.g.object.S(m.ea.Uc,m.i.Uc);b=m.ea.Uc.prototype;b.draw=function(){Ud(this);Vd(this);Wd(this);var a=this.M.xb;a.nv(this.Ta+"\n"+this.Dp);var c=this.Wf;a.yj.setAttribute("d",c.la+"\n"+c.Gm);this.oa.J&&a.mt();m.i.Ln&&this.M.bv.TF(this.M,this.oa);Xd(this)};
b.ct=function(){var a=this.Wf,c=this.oa.Ob;a.la+=m.g.B.moveBy(c.Oa,a.oa.vq);for(var d=0,e;e=c.elements[d];d++)m.i.u.Mm(e)?a.la+=a.Td.ux:m.i.u.Ih(e)?a.la+=a.Ku.Fv(a.tc):m.i.u.Pk(e)?a.la+=a.OH.Sh:m.i.u.Zi(e)?a.la+=a.JI.path(a.tc):m.i.u.ze(e)&&0!=e.width&&(a.la+=m.g.B.aa("H",e.Oa+e.width-a.rd));a.la+=m.g.B.aa("H",c.Oa+c.width-a.rd);Yd(this.Wf,this.oa.Ob);m.ea.Uc.A.ct.call(this)};b.pm=function(a){this.Wf.pm(a);m.ea.Uc.A.pm.call(this,a)};
b.dt=function(a){var c=this.Wf,d=Pd(a);if(c.tc){var e=a.height-d.kk;c.la+=m.g.B.moveTo(d.Oa+d.width-c.rd,a.cc)+c.jn.Ee(c.tc)+m.g.B.aa("v",e)}else c.la+=m.g.B.moveTo(d.Oa+d.width,a.cc)+c.jn.Ee(c.tc);m.ea.Uc.A.dt.call(this,a)};
b.bt=function(a){var c=this.Wf,d=Pd(a);if(c.tc){var e=a.height-2*c.Lk.height;c.la+=m.g.B.moveTo(d.Oa,a.cc)+c.Lk.Nu(c.tc)+m.g.B.aa("v",e)+c.Lk.jq(c.tc)+m.g.B.lineTo(a.width-d.Oa-c.Lk.width,0)}else c.la+=m.g.B.moveTo(d.Oa,a.cc+a.height)+c.Lk.jq(c.tc)+m.g.B.lineTo(a.width-d.Oa-c.Lk.width,0);m.ea.Uc.A.bt.call(this,a)};b.Wy=function(a){Yd(this.Wf,a);this.Ta+=m.g.B.aa("H",a.Oa+a.width)+m.g.B.aa("V",a.cc+a.height)};
b.Zs=function(){var a=this.Wf,c=this.oa.vb;if(a.tc)a.la+=m.g.B.aa("V",c.Xe-a.rd);else{var d=a.oa.vb.elements[0];m.i.u.Mm(d)?a.la+=m.g.B.moveTo(c.Oa+a.rd,c.Xe-a.rd):m.i.u.Ih(d)&&(a.la+=m.g.B.moveTo(c.Oa,c.Xe),a.la+=a.Ku.os())}m.ea.Uc.A.Zs.call(this)};
b.at=function(){var a=this.Wf,c=a.oa.L;c&&(c=c.Od+c.height,a.tc?a.la+=m.g.B.moveTo(a.oa.Ke,c):(a.la+=m.g.B.moveTo(a.oa.Ke+a.rd,a.oa.vb.Xe-a.rd),a.la+=m.g.B.aa("V",c)),a.la+=a.jn.cn(a.tc));a.tc||(c=a.oa.Ob,a.la=m.i.u.Ih(c.elements[0])?a.la+m.g.B.aa("V",a.Ku.height):a.la+m.g.B.aa("V",c.Eg+a.rd));m.ea.Uc.A.at.call(this)};
b.$s=function(a){var c=this.Wf,d=c.rd,e=a.Oa+a.Lf,f=a.jk-a.height/2,h=a.width-a.Lf,k=f+d;if(c.tc){f=a.Od-d;var l=a.height-(a.Od+a.kk)+d;c.Gm+=m.g.B.moveTo(e-d,k)+m.g.B.aa("v",f)+c.jn.Ee(c.tc)+m.g.B.aa("v",l)+m.g.B.aa("h",h)}else c.Gm+=m.g.B.moveTo(a.Oa+a.width+d,k)+m.g.B.aa("v",a.height)+m.g.B.aa("h",-h)+m.g.B.moveTo(e,f+a.Od)+c.jn.Ee(c.tc);m.ea.Uc.A.$s.call(this,a)};b.JA=function(a){var c=a.jk-a.height/2;if(a.Xc){var d=a.Oa+a.Lf+this.v.qc;this.oa.J&&(d*=-1);Ic(a.Xc,d,c+a.Od+this.v.qc)}};
b.LA=function(a){var c=Pd(a);if(c.Xc){var d=a.Oa+a.ai+c.Ce;d=this.oa.J?-1*d:d+this.v.qc;Ic(c.Xc,d,a.cc+this.v.qc)}};b.IA=function(a){var c=Pd(a);if(c.Xc){var d=a.Oa+a.width+this.v.qc;this.oa.J&&(d*=-1);Ic(c.Xc,d,a.cc)}};b.KA=function(){var a=this.oa.vb;if(a.connection){var c=a.connection,d=c.Oa;Ic(c.Xc,(this.oa.J?-d:d)+this.v.qc/2,a.Xe+this.v.qc)}};m.ea.zw=function(a){this.lk=a;this.OFFSET=.5;this.ux=m.g.B.moveBy(this.OFFSET,this.OFFSET)};b=m.ea.zw.prototype;b.xa=function(){this.$C=Zd(this);this.KD=$d(this);this.Fr=this.fu();this.Sj=this.du();this.Qj=this.cu();this.Yj=this.gu()};
function Zd(a){var c=a.lk.rb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=m.g.B.moveBy(d,d)+m.g.B.arc("a","0 0,0",c,m.g.B.Na(-d-a,c-d)),f=m.g.B.arc("a","0 0,0",c+a,m.g.B.Na(c+a,c+a)),h=m.g.B.moveBy(d,-d)+m.g.B.arc("a","0 0,0",c+a,m.g.B.Na(c-d,d+a));return{width:c+a,height:c,Nu:function(k){return k?e:""},jq:function(k){return k?f:h}}}
function $d(a){var c=a.lk.rb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=m.g.B.moveBy(d,d)+m.g.B.arc("a","0 0,1",c-a,m.g.B.Na(c-d,-d+a)),f=m.g.B.moveBy(a,c)+m.g.B.arc("a","0 0,1",c-a,m.g.B.Na(c,-c+a)),h=-d,k=m.g.B.moveBy(d,h)+m.g.B.arc("a","0 0,1",c-a,m.g.B.Na(-d+a,-h-c));return{height:c,Fv:function(l){return l?e:f},os:function(){return k}}}
b.fu=function(){var a=this.lk.Ho,c=this.lk.Ql,d=m.g.B.moveBy(-2,-c+3.4)+m.g.B.lineTo(-.45*a,-2.1),e=m.g.B.aa("v",2.5)+m.g.B.moveBy(.97*-a,2.5)+m.g.B.curve("q",[m.g.B.Na(.05*-a,10),m.g.B.Na(.3*a,9.5)])+m.g.B.moveBy(.67*a,-1.9)+m.g.B.aa("v",2.5),f=m.g.B.aa("v",-1.5)+m.g.B.moveBy(-.92*a,-.5)+m.g.B.curve("q",[m.g.B.Na(-.19*a,-5.5),m.g.B.Na(0,-11)])+m.g.B.moveBy(.92*a,1),h=m.g.B.moveBy(-5,c-.7)+m.g.B.lineTo(.46*a,-2.1);return{width:a,height:c,cn:function(k){return k?d:f},Ee:function(k){return k?e:h}}};
b.du=function(){return{Sh:m.g.B.aa("h",this.OFFSET)+this.lk.Sj.Sh}};b.cu=function(){return{Sh:m.g.B.lineTo(5.1,2.6)+m.g.B.moveBy(-10.2,6.8)+m.g.B.lineTo(5.1,2.6),height:12,width:10.2}};b.gu=function(){var a=this.lk.Yj.height,c=m.g.B.moveBy(25,-8.7)+m.g.B.curve("c",[m.g.B.Na(29.7,-6.2),m.g.B.Na(57.2,-.5),m.g.B.Na(75,8.7)]),d=m.g.B.curve("c",[m.g.B.Na(17.8,-9.2),m.g.B.Na(45.3,-14.9),m.g.B.Na(75,-8.7)])+m.g.B.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};m.ea.vg=function(a,c,d){this.mk=d;this.jg=a;this.Bn=m.g.j.K("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.jg);this.Cb=m.g.j.K("path",{"class":"blocklyPath"},this.jg);this.yj=m.g.j.K("path",{"class":"blocklyPathLight"},this.jg);this.zs="#000000";this.style=c};m.g.object.S(m.ea.vg,m.i.vg);b=m.ea.vg.prototype;b.nv=function(a){this.Cb.setAttribute("d",a);this.Bn.setAttribute("d",a)};
b.mt=function(){this.Cb.setAttribute("transform","scale(-1 1)");this.yj.setAttribute("transform","scale(-1 1)");this.Bn.setAttribute("transform","translate(1,1) scale(-1 1)")};b.Sb=function(a){this.yj.style.display="";this.Bn.style.display="";this.yj.setAttribute("stroke",this.style.Ig);this.Bn.setAttribute("fill",this.zs);m.ea.vg.A.Sb.call(this,a);this.Cb.setAttribute("stroke","none")};b.bh=function(a){this.style=a;this.zs=m.g.jb.ks("#000",this.style.yh,.2)||this.zs};
b.rB=function(a){a?(this.Cb.setAttribute("filter","url(#"+this.mk.kp+")"),this.yj.style.display="none"):(this.Cb.setAttribute("filter","none"),this.yj.style.display="inline")};b.tB=function(a){a&&(this.yj.style.display="none",this.Bn.setAttribute("fill",this.style.Yo),this.Cb.setAttribute("stroke","none"),this.Cb.setAttribute("fill",this.style.Yo))};b.Jv=function(a){m.ea.vg.A.Jv.call(this,a);a&&this.Cb.setAttribute("stroke","none")};m.ea.wg=function(a){m.ea.wg.A.constructor.call(this,a);this.Td=null};m.g.object.S(m.ea.wg,m.i.wg);b=m.ea.wg.prototype;b.xa=function(a,c){m.ea.wg.A.xa.call(this,a,c);this.Td=new m.ea.zw(this.Z());this.Td.xa()};b.Vu=function(a,c){m.ea.wg.A.Vu.call(this,a,c);this.Td.xa()};b.bu=function(){return new m.ea.og};b.lA=function(a){return new m.ea.Ve(this,a)};b.jA=function(a,c){return new m.ea.Uc(a,c)};b.kA=function(a,c){return new m.ea.vg(a,c,this.Z())};m.i.register("geras",m.ea.wg);m.m.ADD_COMMENT="Add Comment";m.m.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";m.m.CHANGE_VALUE_TITLE="Change value:";m.m.CLEAN_UP="Clean up Blocks";m.m.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";m.m.COLLAPSE_ALL="Collapse Blocks";m.m.COLLAPSE_BLOCK="Collapse Block";m.m.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";
m.m.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";m.m.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";m.m.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";m.m.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";m.m.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";m.m.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";
m.m.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";m.m.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";m.m.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";m.m.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";m.m.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";
m.m.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";m.m.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";m.m.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";m.m.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";m.m.CONTROLS_IF_MSG_ELSE="else";m.m.CONTROLS_IF_MSG_ELSEIF="else if";m.m.CONTROLS_IF_MSG_IF="if";m.m.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";
m.m.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";m.m.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";m.m.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";
m.m.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";m.m.CONTROLS_REPEAT_INPUT_DO="do";m.m.CONTROLS_REPEAT_TITLE="repeat %1 times";m.m.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";m.m.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";m.m.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";m.m.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";m.m.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";
m.m.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";m.m.DELETE_ALL_BLOCKS="Delete all %1 blocks?";m.m.DELETE_BLOCK="Delete Block";m.m.DELETE_VARIABLE="Delete the '%1' variable";m.m.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";m.m.DELETE_X_BLOCKS="Delete %1 Blocks";m.m.DISABLE_BLOCK="Disable Block";m.m.DUPLICATE_BLOCK="Duplicate";m.m.DUPLICATE_COMMENT="Duplicate Comment";m.m.ENABLE_BLOCK="Enable Block";m.m.EXPAND_ALL="Expand Blocks";
m.m.EXPAND_BLOCK="Expand Block";m.m.EXTERNAL_INPUTS="External Inputs";m.m.HELP="Help";m.m.INLINE_INPUTS="Inline Inputs";m.m.LOGIC_BOOLEAN_FALSE="false";m.m.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";m.m.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";m.m.LOGIC_BOOLEAN_TRUE="true";m.m.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";m.m.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";
m.m.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";m.m.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";m.m.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";m.m.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";m.m.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";
m.m.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";m.m.LOGIC_NEGATE_TITLE="not %1";m.m.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";m.m.LOGIC_NULL="null";m.m.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";m.m.LOGIC_NULL_TOOLTIP="Returns null.";m.m.LOGIC_OPERATION_AND="and";m.m.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";m.m.LOGIC_OPERATION_OR="or";
m.m.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";m.m.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";m.m.LOGIC_TERNARY_CONDITION="test";m.m.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";m.m.LOGIC_TERNARY_IF_FALSE="if false";m.m.LOGIC_TERNARY_IF_TRUE="if true";m.m.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";
m.m.MATH_ADDITION_SYMBOL="+";m.m.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";m.m.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";m.m.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";m.m.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";m.m.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";m.m.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";
m.m.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";m.m.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";m.m.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";m.m.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";m.m.MATH_CHANGE_TITLE="change %1 by %2";m.m.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";m.m.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";m.m.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";
m.m.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";m.m.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";m.m.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";m.m.MATH_DIVISION_SYMBOL="\u00f7";m.m.MATH_IS_DIVISIBLE_BY="is divisible by";m.m.MATH_IS_EVEN="is even";m.m.MATH_IS_NEGATIVE="is negative";m.m.MATH_IS_ODD="is odd";m.m.MATH_IS_POSITIVE="is positive";m.m.MATH_IS_PRIME="is prime";m.m.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";
m.m.MATH_IS_WHOLE="is whole";m.m.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";m.m.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";m.m.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";m.m.MATH_MULTIPLICATION_SYMBOL="\u00d7";m.m.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";m.m.MATH_NUMBER_TOOLTIP="A number.";m.m.MATH_ONLIST_HELPURL="";m.m.MATH_ONLIST_OPERATOR_AVERAGE="average of list";m.m.MATH_ONLIST_OPERATOR_MAX="max of list";
m.m.MATH_ONLIST_OPERATOR_MEDIAN="median of list";m.m.MATH_ONLIST_OPERATOR_MIN="min of list";m.m.MATH_ONLIST_OPERATOR_MODE="modes of list";m.m.MATH_ONLIST_OPERATOR_RANDOM="random item of list";m.m.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";m.m.MATH_ONLIST_OPERATOR_SUM="sum of list";m.m.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";m.m.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";
m.m.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";m.m.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";m.m.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";m.m.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";m.m.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";m.m.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";m.m.MATH_POWER_SYMBOL="^";
m.m.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";m.m.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";m.m.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";m.m.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";m.m.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";m.m.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";
m.m.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";m.m.MATH_ROUND_OPERATOR_ROUND="round";m.m.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";m.m.MATH_ROUND_OPERATOR_ROUNDUP="round up";m.m.MATH_ROUND_TOOLTIP="Round a number up or down.";m.m.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";m.m.MATH_SINGLE_OP_ABSOLUTE="absolute";m.m.MATH_SINGLE_OP_ROOT="square root";m.m.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";m.m.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";
m.m.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";m.m.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";m.m.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";m.m.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";m.m.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";m.m.MATH_SUBTRACTION_SYMBOL="-";m.m.MATH_TRIG_ACOS="acos";m.m.MATH_TRIG_ASIN="asin";m.m.MATH_TRIG_ATAN="atan";m.m.MATH_TRIG_COS="cos";m.m.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
m.m.MATH_TRIG_SIN="sin";m.m.MATH_TRIG_TAN="tan";m.m.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";m.m.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";m.m.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";m.m.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";m.m.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";m.m.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";m.m.NEW_VARIABLE="Create variable...";
m.m.NEW_VARIABLE_TITLE="New variable name:";m.m.PROCEDURES_DEFNORETURN_PROCEDURE="do something";m.m.REDO="Redo";m.m.REMOVE_COMMENT="Remove Comment";m.m.RENAME_VARIABLE="Rename variable...";m.m.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";m.m.UNDO="Undo";m.m.UNNAMED_KEY="unnamed";m.m.VARIABLES_DEFAULT_NAME="item";m.m.VARIABLES_SET_CREATE_GET="Create 'get %1'";m.m.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";m.m.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";
m.m.WORKSPACE_ARIA_LABEL="Blockly Workspace";m.m.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";m.m.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=m.m.CONTROLS_IF_MSG_ELSEIF;m.m.CONTROLS_IF_ELSE_TITLE_ELSE=m.m.CONTROLS_IF_MSG_ELSE;m.m.CONTROLS_IF_IF_TITLE_IF=m.m.CONTROLS_IF_MSG_IF;m.m.CONTROLS_IF_MSG_THEN=m.m.CONTROLS_REPEAT_INPUT_DO;m.m.MATH_CHANGE_TITLE_ITEM=m.m.VARIABLES_DEFAULT_NAME;m.m.PROCEDURES_DEFRETURN_PROCEDURE=m.m.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},ae=null,be=null;function ce(){var a=ae();de("xml="+encodeURIComponent(a))}var ee={};function de(a){var c=fe;ee["/storage"]&&ee["/storage"].abort();ee["/storage"]=new XMLHttpRequest;ee["/storage"].onload=function(){200===this.status?c&&c.call(this):ge(G("Games_httpRequestError")+"\nXHR status: "+this.status);ee["/storage"]=null};ee["/storage"].open("POST","/storage");ee["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");ee["/storage"].send(a)}
function fe(){window.location.hash=this.responseText.trim();ge(G("Games_linkAlert").replace("%1",window.location.href));be=ae()}function ge(a){if("object"===typeof H){var c=document.getElementById("linkButton");H.MI(c,a)}else alert(a)};var he,z=null,ie="";function je(){Bd();he;var a=document.getElementById("linkButton");a&&(zd?a.style.display="none":(ae=ke,Hd(a,ce)));ud=100;(a=document.getElementById("languageMenu"))&&a.addEventListener("change",le,!0);ud=Ad("Coinval",0,800);switch(Gd){case "start":he=1;break;case "circus":he=2;break;case "bridge":he=3;break;case "mazeangle":he=4;break;case "maze":he=5;break;case "door":he=6}}
function ke(){var a=m.R.jJ();if(1==z.jc(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return m.R.Qd(a)}function me(){"object"==typeof BlocklyStorage&&null!==be&&be!=ke()&&(window.location.hash="",be=null)}function ne(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;z=m.Ti("blockly",a);hb(z,me)}var oe="start.html circus.html bridge.html mazeangle.html maze.html door.html ocean.html mazeperimeter.html findfriend.html gamefinsihed.html".split(" ");
function pe(){window.location=(zd?"index.html":"./")+"?lang="+xd}function le(){window.sessionStorage&&(window.sessionStorage.qH=ke());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function qe(){window.location=(zd?oe[he]:"./")+"?lang="+xd+"&level="+F+"&Coinval="+ud}function re(a){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}id(a,void 0)}function se(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function te(a){if("click"==a.type&&"touchend"==ue&&ve+2E3>Date.now()||ue==a.type&&ve+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;ue=a.type;ve=Date.now();return!1}var ue=null,ve=0;
function we(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function xe(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};var H={Wi:!1,Ky:null,gp:null,al:function(a,c,d,e,f,h){function k(){H.Wi&&(l.style.visibility="visible",l.style.zIndex=10,n.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);H.Wi&&H.lf(!1);m.Tf()&&m.Vb(!0);H.Wi=!0;H.Ky=c;H.gp=h;var l=document.getElementById("dialog");h=document.getElementById("dialogShadow");var n=document.getElementById("dialogBorder"),p;for(p in f)l.style[p]=f[p];e&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),H.Ms=m.ec(e,"mousedown",null,H.HF));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(H.Pp(c,!1,.2),H.Pp(l,!0,.8),setTimeout(k,175)):k()},Ly:0,My:0,HF:function(a){H.Ps();if(!m.g.aj(a)){var c=document.getElementById("dialog");H.Ly=c.offsetLeft-a.clientX;H.My=c.offsetTop-a.clientY;H.Os=m.ec(document,"mouseup",null,H.Ps);H.Ns=m.ec(document,"mousemove",null,H.IF);a.stopPropagation()}},IF:function(a){var c=document.getElementById("dialog"),
d=H.Ly+a.clientX;a=H.My+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Ps:function(){H.Os&&(m.$a(H.Os),H.Os=null);H.Ns&&(m.$a(H.Ns),H.Ns=null)},lf:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(H.Wi){H.Ps();H.Ms&&(m.$a(H.Ms),H.Ms=null);H.Wi=!1;H.gp&&H.gp();H.gp=null;var d=!1===a?
null:H.Ky;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(H.Pp(a,!1,.8),H.Pp(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Pp:function(a,c,d){function e(){f.style.width=h.width+"px";f.style.height=h.height+"px";f.style.left=h.x+"px";f.style.top=
h.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),h=H.hG(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},hG:function(a){var c=m.g.style.Li(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},MI:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");H.al(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},H.Av);H.HI()},Rx:function(){if(!Fd())if(H.Wi||z.kc())setTimeout(H.Rx,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",H.lf,!0);c.addEventListener("touchend",H.lf,!0);c=document.getElementById("abortOk");c.addEventListener("click",pe,!0);c.addEventListener("touchend",pe,!0);
H.al(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",H.Qx,!0)});document.body.addEventListener("keydown",H.Qx,!0)}},ZL:function(a){var c=document.getElementById("dialogDone");H.DE=a;if(z){a=document.getElementById("dialogLinesText");a.textContent="";var d=ie;d=se(d);d=d.replace(/\/\/[^\n]*/g,"");d=d.replace(/\/\*.*\*\//g,"");d=d.replace(/[ \t]+\n/g,"\n");d=d.replace(/\n+/g,"\n");d=d.trim();a.appendChild(document.createTextNode("What is the length of the path traveled by the character (Given each block is represented as 1 unit) :"))}document.getElementById("doneSubmit").addEventListener("click",
H.gF);a=document.getElementById("doneOk");a.style.display="none";a.addEventListener("click",qe,!0);a.addEventListener("touchend",qe,!0);H.al(c,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",H.oy,!0)});document.body.addEventListener("keydown",H.oy,!0);document.getElementById("dialogDoneText").style.display="none";document.getElementById("dialogDoneText").textContent="Sorry you entered wrong answer please try again!"},gF:function(){document.getElementById("containerCode").value==
H.DE?(document.getElementById("doneOk").style.display="initial",document.getElementById("doneSubmit").style.display="none"):document.getElementById("dialogDoneText").style.display="initial"},Jy:function(a){!H.Wi||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(H.lf(!0),a.stopPropagation(),a.preventDefault())},HI:function(){document.body.addEventListener("keydown",H.Jy,!0)},Av:function(){document.body.removeEventListener("keydown",H.Jy,!0)},oy:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)H.lf(!0),
a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&qe()},Qx:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)H.lf(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&pe()}};window.BlocklyDialogs=H;H.hideDialog=H.lf;m.Generator=function(a){this.tu=a;this.LC=new RegExp(this.oh,"g")};m.Generator.Vw="generated_function";b=m.Generator.prototype;b.so=null;b.le=null;b.Id=null;b.qg="  ";b.gC=60;b.Bo=[];function ye(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function ze(a,c){if(!c)return"";if(!c.isEnabled())return ze(a,u(c));if(c.mf())return ze(a,c.ue(!1)[0]);var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.tu+'" does not know how to generate  code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.L)throw TypeError("Expecting string from statement block: "+c.type);return[a.gv(c,d[0],void 0),d[1]]}if("string"==typeof d)return a.le&&!c.bi&&(d=Ae(a.le,c)+d),a.Id&&!c.bi&&(d+=Ae(a.Id,c)),a.gv(c,d,void 0);if(null===d)return"";
throw SyntaxError("Invalid code generated: "+d);}
function I(a,c,d){var e=m.o;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=Dc(a,c);if(!f)return"";c=ze(e,f);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+f.type);a=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var h=Math.floor(d),k=Math.floor(c);if(h<=k&&(h!=k||0!=h&&99!=h))for(f=!0,h=0;h<e.Bo.length;h++)if(e.Bo[h][0]==d&&e.Bo[h][1]==c){f=!1;break}f&&(a="("+
a+")");return a}function Be(a,c){var d=m.o;a=Dc(a,c);c=ze(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=ye(c,d.qg));return c}function Ce(a,c){var d=m.o;d.so&&(a=ye(Ae(d.so,c),d.qg)+a);d.Id&&!c.bi&&(a=ye(Ae(d.Id,c),d.qg)+a);d.le&&!c.bi&&(a+=ye(Ae(d.le,c),d.qg));return a}function Ae(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.Hr="";function De(a,c){a.Hr+=c+","}b.oh="{leCUI8hutHZI4480Dc}";
function Ee(a,c){var d=m.o;if(!d.tk[a]){var e=td(d.ae,a,m.Er);d.nt[a]=e;c=c.join("\n").replace(d.LC,e);for(var f;f!=c;)f=c,c=c.replace(/^(( {2})*) {2}/gm,"$1\x00");c=c.replace(/\0/g,d.qg);d.tk[a]=c}return d.nt[a]}b.xa=function(){};b.gv=function(a,c){return c};b.finish=function(a){return a};b.ZA=function(a){return a};m.o=new m.Generator("JavaScript");De(m.o,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(m.g.global).join(","));m.o.xo=0;m.o.gL=1.1;m.o.ug=1.2;m.o.Se=2;m.o.eL=3;m.o.aL=3;m.o.XK=4.1;m.o.iL=4.2;m.o.Kl=4.3;m.o.Ao=4.4;
m.o.hL=4.5;m.o.jL=4.6;m.o.bL=4.7;m.o.VK=4.8;m.o.cL=5;m.o.zr=5.1;m.o.Il=5.2;m.o.Jl=5.3;m.o.Ar=6.1;m.o.Uj=6.2;m.o.ZK=7;m.o.HD=8;m.o.dL=8;m.o.fL=8;m.o.bx=9;m.o.WK=10;m.o.$K=11;m.o.YK=12;m.o.xr=13;m.o.yr=14;m.o.zo=15;m.o.Hl=16;m.o.kL=17;m.o.Re=18;m.o.Bf=99;m.o.Bo=[[m.o.Se,m.o.ug],[m.o.Se,m.o.Se],[m.o.ug,m.o.ug],[m.o.ug,m.o.Se],[m.o.Ao,m.o.Ao],[m.o.zr,m.o.zr],[m.o.Uj,m.o.Uj],[m.o.xr,m.o.xr],[m.o.yr,m.o.yr]];
m.o.xa=function(a){m.o.tk=Object.create(null);m.o.nt=Object.create(null);m.o.ae?m.o.ae.reset():m.o.ae=new m.ke(m.o.Hr);m.o.ae.rv(a.La);for(var c=[],d=m.ba.EE(a),e=0;e<d.length;e++)c.push(sd(d[e],m.ke.Wq));a=m.ba.Ux(a);for(e=0;e<a.length;e++)c.push(sd(a[e].Ra(),m.Jc));c.length&&(m.o.tk.variables="var "+c.join(", ")+";")};m.o.finish=function(a){var c=[],d;for(d in m.o.tk)c.push(m.o.tk[d]);delete m.o.tk;delete m.o.nt;m.o.ae.reset();return c.join("\n\n")+"\n\n\n"+a};m.o.ZA=function(a){return a+";\n"};
m.o.iI=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};m.o.VM=function(a){return a.split(/\n/g).map(m.o.iI).join(" + '\\n' +\n")};
m.o.gv=function(a,c,d){var e="";if(!a.L||!a.L.ka){var f=a.$e.text;f&&(f=m.g.Ua.AB(f,m.o.gC-3),e+=ye(f+"\n","// "));for(var h=0;h<a.P.length;h++)if(a.P[h].type==m.bb){var k=a.P[h].connection.na();if(k){f=[];k=t(k,!0);for(var l=0;l<k.length;l++){var n=k[l].$e.text;n&&f.push(n)}f.length&&f.push("");(f=f.join("\n"))&&(e+=ye(f,"// "))}}}a=a.T&&a.T.na();d=d?"":ze(m.o,a);return e+c+d};
m.o.mM=function(a,c,d,e,f){d=d||0;f=f||m.o.Bf;a.D.options.$m&&d--;var h=a.D.options.$m?"1":"0";a=0<d?I(a,c,m.o.Uj)||h:0>d?I(a,c,m.o.Ar)||h:e?I(a,c,m.o.Kl)||h:I(a,c,f)||h;if(m.Ug(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=m.o.Uj}else 0>d&&(a=a+" - "+-d,k=m.o.Ar);e&&(a=d?"-("+a+")":"-"+a,k=m.o.Kl);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};m.dc=function(a,c,d){this.dB=!0;m.dc.A.constructor.call(this,a,c,d);this.bq=this.aq=this.Ud=null;this.pp=!1;this.s=null};m.g.object.S(m.dc,m.Cd);m.dc.prototype.tl="";m.dc.va=function(a){var c=m.g.oc(a.text);return new m.dc(c,void 0,a)};m.dc.prototype.Ml=!0;m.dc.VB=4;b=m.dc.prototype;b.fw="text";b.re=function(a){m.dc.A.re.call(this,a);"boolean"==typeof a.spellcheck&&(this.dB=a.spellcheck)};
b.Fm=function(){if(this.Z().vw){for(var a=0,c=0,d=0,e;e=this.I.P[d];d++){for(var f=0;e.fb[f];f++)a++;e.connection&&c++}this.pp=1>=a&&this.I.L&&!c}else this.pp=!1;this.pp?this.xs=this.I.Da():Ib(this);Jb(this)};b.Fi=function(a){return null===a||void 0===a?null:String(a)};b.Ty=function(){if(this.Hm){this.Ut=!1;var a=this.Gc;this.Gc=this.Ud.ZI;this.I&&m.h.isEnabled()&&m.h.Ca(new m.h.ih(this.I,"field",this.name||null,a,this.Gc))}};b.Ah=function(a){this.Ut=!0;this.Gc=a;this.Hm||(this.Sg=!0)};
b.Sb=function(){this.I&&this.Z().vw&&(this.Eb?this.Eb.setAttribute("stroke",this.I.style.Ig):this.I.xb.Cb.setAttribute("fill",this.Z().qw))};b.Wh=function(){m.dc.A.Wh.call(this);if(this.Hm){Fe(this);var a=this.Ud;this.Ut?(m.g.j.Ac(a,"blocklyInvalidInput"),m.g.U.zb(a,m.g.U.State.Ew,!1)):(m.g.j.ub(a,"blocklyInvalidInput"),m.g.U.zb(a,m.g.U.State.Ew,!0))}};
b.wj=function(a,c){this.s=this.I.D;a=c||!1;!a&&(m.g.userAgent.zD||m.g.userAgent.ol||m.g.userAgent.Nj)?Ge(this):(m.W.show(this,this.I.J,this.fJ.bind(this)),this.Ud=this.Mv(),this.Hm=!0,a||(this.Ud.focus({preventScroll:!0}),this.Ud.select()))};function Ge(a){m.prompt(m.m.CHANGE_VALUE_TITLE,a.jf(),function(c){a.setValue(c)})}
b.Mv=function(){var a=m.W.Ya;m.g.j.ub(Hb(this),"editing");var c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.dB);var d=ld(this.s),e=this.Z().mh*d+"pt";a.style.fontSize=e;c.style.fontSize=e;e=m.dc.VB*d+"px";if(this.pp){e=Ob(this);e=(e.bottom-e.top)/2+"px";var f=this.I.getParent()?this.I.getParent().style.Ig:this.I.style.Ig;c.style.border=1*d+"px solid "+f;a.style.borderRadius=e;a.style.transition="box-shadow 0.25s ease 0s";this.Z().JC&&(a.style.boxShadow=
"rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*d+"px")}c.style.borderRadius=e;a.appendChild(c);c.value=c.defaultValue=String(this.Gc);c.ZI=this.Gc;c.vA=null;Fe(this);this.aq=m.ua(c,"keydown",this,this.UH);this.bq=m.ua(c,"input",this,this.TH);return c};
b.fJ=function(){this.Hm=!1;this.Ut=!0;bb(this);this.SH&&this.SH(this.Gc);this.aq&&(m.$a(this.aq),this.aq=null);this.bq&&(m.$a(this.bq),this.bq=null);var a=m.W.Ya.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.Ud=null;m.g.j.Ac(Hb(this),"editing")};
b.UH=function(a){if(a.keyCode==m.g.ma.jo)m.W.Ea(),m.F.Pi();else if(a.keyCode==m.g.ma.Xq)this.Ud.value=this.Ud.defaultValue,m.W.Ea(),m.F.Pi();else if(a.keyCode==m.g.ma.eE){m.W.Ea();m.F.Pi();var c=this.I,d=!a.shiftKey,e=new m.Io;D(e,m.C.nk(this));var f=e.Wa;e.Qc(d?m.navigation.Pn:m.navigation.Qn);(d=e.Wa)&&d!==f&&(f=d.pa,ia(f)&&f.wj(void 0),c.D.ac&&D(c.D.wb(),d));a.preventDefault()}};b.TH=function(){var a=this.Ud.value;a!==this.Ud.vA&&(this.Ud.vA=a,m.h.ca(!0),this.setValue(a),bb(this),Fe(this),m.h.ca(!1))};
function Fe(a){var c=m.W.Ya,d=Ob(a);c.style.width=d.right-d.left+"px";c.style.height=d.bottom-d.top+"px";a=new m.g.O(a.I.J?d.right-c.offsetWidth:d.left,d.top);c.style.left=a.x+"px";c.style.top=a.y+"px"}m.dc.PH=function(a){console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.");if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);return isNaN(a)?null:String(a)};
m.dc.YM=function(a){(a=m.dc.PH(a))&&(a=String(Math.max(0,Math.floor(a))));return a};m.dc.prototype.aA=function(){return!0};m.dc.prototype.wp=function(){return this.Hm&&this.Ud?this.Ud.value:null};m.Sf.register("field_input",m.dc);m.ee=function(a,c,d,e,f,h){this.Vm=-Infinity;this.Tm=Infinity;this.Wk=0;this.Is=null;m.ee.A.constructor.call(this,a,f,h);h||(He(this,c),Ie(this,d),Je(this,e),this.setValue(this.getValue()))};m.g.object.S(m.ee,m.dc);m.ee.prototype.tl=0;m.ee.va=function(a){return new m.ee(a.value,void 0,void 0,void 0,void 0,a)};m.ee.prototype.Ml=!0;m.ee.prototype.re=function(a){m.ee.A.re.call(this,a);He(this,a.min);Ie(this,a.max);Je(this,a.precision)};
function He(a,c){null==c?a.Vm=-Infinity:(c=Number(c),isNaN(c)||(a.Vm=c))}function Ie(a,c){null==c?a.Tm=Infinity:(c=Number(c),isNaN(c)||(a.Tm=c))}function Je(a,c){null==c?a.Wk=0:(c=Number(c),isNaN(c)||(a.Wk=c));var d=a.Wk.toString(),e=d.indexOf(".");a.Is=-1==e?c?0:null:d.length-e-1}
m.ee.prototype.Fi=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.Vm),this.Tm);this.Wk&&isFinite(a)&&(a=Math.round(a/this.Wk)*this.Wk);null!=this.Is&&(a=Number(a.toFixed(this.Is)));return a};m.ee.prototype.Mv=function(){var a=m.ee.A.Mv.call(this);-Infinity<this.Vm&&m.g.U.zb(a,m.g.U.State.qE,this.Vm);Infinity>this.Tm&&m.g.U.zb(a,m.g.U.State.pE,this.Tm);return a};
m.Sf.register("field_number",m.ee);m.Dd=function(a,c,d,e,f){this.hj=m.Dd.UF;this.EF=a||"";this.Cc=new m.g.Jd(0,0);f&&this.re(f);c&&(this.Nn=c);f||Ke(this,d,e)};m.g.object.S(m.Dd,m.ab);m.Dd.va=function(a){var c=m.g.oc(a.variable);return new m.Dd(c,void 0,void 0,void 0,a)};b=m.Dd.prototype;b.Ml=!0;b.re=function(a){m.Dd.A.re.call(this,a);Ke(this,a.variableTypes,a.defaultType)};b.Si=function(){if(!this.xd){var a=m.ba.pz(this.I.D,null,this.EF,this.DF);this.Ah(a.Ra())}};
b.uv=function(){return m.Dd.A.uv.call(this)&&(!this.Z().$q||"variables_get"!=this.I.type)};b.vm=function(a){var c=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";c=m.ba.pz(this.I.D,c,d,e);if(null!=e&&e!==c.type)throw Error("Serialized variable type with id '"+c.Ra()+"' had type "+c.type+", and does not match variable field that references it: "+m.R.Qd(a)+".");this.setValue(c.Ra())};
b.kB=function(a){this.Si();a.id=this.xd.Ra();a.textContent=this.xd.name;this.xd.type&&a.setAttribute("variabletype",this.xd.type);return a};b.pv=function(a){if(a.Sa)throw Error("Variable fields are not allowed to exist on shadow blocks.");m.Dd.A.pv.call(this,a)};b.getValue=function(){return this.xd?this.xd.Ra():null};b.jf=function(){return this.xd?this.xd.name:""};b.we=function(){return this.xd};b.Cz=function(){return this.xd?this.Nn:null};
b.Fi=function(a){if(null===a)return null;var c=m.ba.we(this.I.D,a);if(!c)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;c=c.type;var d;a:if(d=Le(this)){for(var e=0;e<d.length;e++)if(c==d[e]){d=!0;break a}d=!1}else d=!0;return d?a:(console.warn("Variable type doesn't match this field!  Type was "+c),null)};b.Ah=function(a){this.xd=m.ba.we(this.I.D,a);m.Dd.A.Ah.call(this,a)};
function Le(a){var c=a.cJ;if(null===c&&a.I&&a.I.D)return a.I.D.Ct();c=c||[""];if(0==c.length)throw a=a.jf(),Error("'variableTypes' of field variable "+a+" was an empty list");return c}
function Ke(a,c,d){d=d||"";if(null==c||void 0==c)c=null;else if(Array.isArray(c)){for(var e=!1,f=0;f<c.length;f++)c[f]==d&&(e=!0);if(!e)throw Error("Invalid default type '"+d+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.DF=d;a.cJ=c}
m.Dd.UF=function(){if(!this.xd)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.jf(),c=[];if(this.I&&this.I.D)for(var d=Le(this),e=0;e<d.length;e++)c=c.concat(this.I.D.zm(d[e]));c.sort(m.Sl.ly);d=[];for(e=0;e<c.length;e++)d[e]=[c[e].name,c[e].Ra()];d.push([m.m.RENAME_VARIABLE,m.nx]);m.m.DELETE_VARIABLE&&d.push([m.m.DELETE_VARIABLE.replace("%1",a),m.lw]);return d};
m.Dd.prototype.yA=function(a){a=a.getValue();if(this.I&&this.I.D){if(a==m.nx){m.ba.Zu(this.I.D,this.xd);return}if(a==m.lw){this.I.D.Ei(this.xd.Ra());return}}this.setValue(a)};m.Dd.prototype.mq=function(){return!0};m.Sf.register("field_variable",m.Dd);m.ge=function(a){this.M=a};b=m.ge.prototype;b.ky=!0;b.Eo=17;b.Md=null;b.Em=null;function Qc(a){a.sd||(a.sd=m.g.j.K("g",{"class":"blocklyIconGroup"},null),a.M.Oc&&m.g.j.ub(a.sd,"blocklyIconGroupReadonly"),a.Vy(a.sd),a.M.Da().appendChild(a.sd),m.ua(a.sd,"mouseup",a,a.Mt),a.Cj())}b.H=function(){m.g.j.removeNode(this.sd);this.sd=null;this.pb(!1);this.M=null};b.Cj=function(){};b.isVisible=function(){return!!this.Md};b.Mt=function(a){this.M.D.kc()||this.M.Oc||m.g.aj(a)||this.pb(!this.isVisible())};
b.Sb=function(){this.isVisible()&&this.Md.He(this.M.style.yh)};function xa(a,c){a.Em=c;a.isVisible()&&(a=a.Md,a.Lb=c,a.av&&jb(a))}function Vc(a){var c=a.M.Va(),d=m.g.ve(a.sd);c=new m.g.O(c.x+d.x+a.Eo/2,c.y+d.y+a.Eo/2);m.g.O.Rf(a.Em,c)||xa(a,c)};m.ne=function(a){m.ne.A.constructor.call(this,a);Qc(this);this.Cn={}};m.g.object.S(m.ne,m.ge);m.ne.prototype.ky=!1;m.ne.prototype.Vy=function(a){m.g.j.K("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);m.g.j.K("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);m.g.j.K("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
m.ne.OI=function(a){var c=m.g.j.K("text",{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:m.ta.Ad},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=m.g.j.K("tspan",{dy:"1em",x:m.ta.Ad},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};
m.ne.prototype.pb=function(a){if(a!=this.isVisible())if(m.h.Ca(new m.h.Rb(this.M,"warningOpen",!a,a)),a){this.gq=m.ne.OI(this.jf());this.Md=new m.ta(this.M.D,this.gq,this.M.xb.Cb,this.Em,null,null);mb(this.Md,this.M.id);if(this.M.J){a=this.gq.getBBox().width;for(var c=0,d;d=this.gq.childNodes[c];c++)d.setAttribute("text-anchor","end"),d.setAttribute("x",a+m.ta.Ad)}this.Sb()}else this.Md.H(),this.gq=this.Md=null};
m.ne.prototype.qv=function(a,c){this.Cn[c]!=a&&(a?this.Cn[c]=a:delete this.Cn[c],this.isVisible()&&(this.pb(!1),this.pb(!0)))};m.ne.prototype.jf=function(){var a=[],c;for(c in this.Cn)a.push(this.Cn[c]);return a.join("\n")};m.ne.prototype.H=function(){this.M.ce=null;m.ge.prototype.H.call(this)};m.Jb.uH={};m.Ba={};m.Ba.ie={};m.Ba.ie.yw=120;
m.fp([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",
name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);m.Ba.ie.sE={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};m.Y.register("controls_whileUntil_tooltip",m.Y.So("MODE",m.Ba.ie.sE));m.Ba.ie.YB={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};m.Y.register("controls_flow_tooltip",m.Y.So("FLOW",m.Ba.ie.YB));
m.Ba.ie.qC={Dy:function(a){if(!this.Oc){var c=ca(this,"VAR").we(),d=c.name;if(!this.isCollapsed()&&null!=d){var e={enabled:!0};e.text=m.m.VARIABLES_SET_CREATE_GET.replace("%1",d);c=m.ba.qp(c);d=m.g.xml.createElement("block");d.setAttribute("type","variables_get");d.appendChild(c);e.Yb=m.za.$E(this,d);a.push(e)}}}};m.Y.Xu("contextMenu_newGetVariableBlock",m.Ba.ie.qC);m.Y.register("controls_for_tooltip",m.Y.qs("%{BKY_CONTROLS_FOR_TOOLTIP}"));m.Y.register("controls_forEach_tooltip",m.Y.qs("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
m.Ba.ie.$n={qD:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],bi:!0,Bz:function(a){do{if(-1!=m.Ba.ie.$n.qD.indexOf(a.type))return a;a=zc(a)}while(a);return null},onchange:function(a){if(this.D.kc&&!this.D.kc()&&a.type==m.h.Oq&&a.fc==this.id){var c=m.Ba.ie.$n.Bz(this);this.rq(c?null:m.m.CONTROLS_FLOW_STATEMENTS_WARNING);if(!this.Oc){var d=m.h.Tb();m.h.ca(a.group);this.rf(c);m.h.ca(d)}}}};m.Y.Xu("controls_flow_in_loop_check",m.Ba.ie.$n);m.Jb.Xd={};m.Ba.Math={};m.Ba.Math.yw=230;
m.fp([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],
["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",
extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",
options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},
{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",
helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}",
"RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",
message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,
output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",
style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
m.Ba.Math.Tr={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
m.Y.register("math_op_tooltip",m.Y.So("OP",m.Ba.Math.Tr));m.Ba.Math.aD={yc:function(){var a=m.g.xml.createElement("mutation"),c="DIVISIBLE_BY"==C(this,"PROPERTY");a.setAttribute("divisor_input",c);return a},te:function(a){a="true"==a.getAttribute("divisor_input");this.Kn(a)},Kn:function(a){var c=w(this,"DIVISOR");a?c||this.md(m.bb,"DIVISOR").qf("Number"):c&&this.oj("DIVISOR")}};m.Ba.Math.bD=function(){Kb(ca(this,"PROPERTY"),function(a){a="DIVISIBLE_BY"==a;this.X().Kn(a)})};
m.Y.Yu("math_is_divisibleby_mutator",m.Ba.Math.aD,m.Ba.Math.bD);m.Y.register("math_change_tooltip",m.Y.qs("%{BKY_MATH_CHANGE_TOOLTIP}"));m.Ba.Math.lD={vB:function(a){"MODE"==a?this.L.qf("Array"):this.L.qf("Number")},yc:function(){var a=m.g.xml.createElement("mutation");a.setAttribute("op",C(this,"OP"));return a},te:function(a){this.vB(a.getAttribute("op"))}};m.Ba.Math.kD=function(){Kb(ca(this,"OP"),function(a){this.vB(a)}.bind(this))};m.Y.Yu("math_modes_of_list_mutator",m.Ba.Math.lD,m.Ba.Math.kD);m.Qe=function(a){m.Qe.A.constructor.call(this,null);this.QA=a};m.g.object.S(m.Qe,m.ge);b=m.Qe.prototype;b.ll=0;b.On=0;
b.Vy=function(a){m.g.j.K("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);m.g.j.K("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
m.g.j.K("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};b.Mt=function(a){this.M.td()&&m.ge.prototype.Mt.call(this,a)};
function Me(a){a.An=m.g.j.K("svg",{x:m.ta.Ad,y:m.ta.Ad},null);if(a.QA.length)for(var c=m.g.xml.createElement("xml"),d=0,e;e=a.QA[d];d++){var f=m.g.xml.createElement("block");f.setAttribute("type",e);c.appendChild(f)}else c=null;d=new m.rc({disable:!1,parentWorkspace:a.M.D,media:a.M.D.options.an,rtl:a.M.J,horizontalLayout:!1,renderer:a.M.D.options.mn,rendererOverrides:a.M.D.options.nn});d.Ka=a.M.J?m.yg:m.Kd;if(e=!!c)d.$f=m.g.Le.bp(c),d.Sd=a.vG.bind(a);a.s=new m.eb(d);a.s.Nm=!0;hb(a.s,m.h.KF);c=e?hd(a.s,
"g"):null;d=a.s.Ga("blocklyMutatorBackground");c&&d.insertBefore(c,a.s.qb);a.An.appendChild(d);return a.An}b.Cj=function(){m.Qe.A.Cj.call(this);this.M.Oc||(this.M.td()?this.sd&&m.g.j.Ac(this.sd,"blocklyIconGroupReadonly"):(this.pb(!1),this.sd&&m.g.j.ub(this.sd,"blocklyIconGroupReadonly")))};
function Ne(a){var c=2*m.ta.Ad,d=a.s.qb.getBBox();var e=a.M.J?-d.x:d.width+d.x;d=d.height+3*c;var f=a.s.Mb();f&&(f=f.up(),d=Math.max(d,f.od+20));e+=3*c;if(Math.abs(a.ll-e)>c||Math.abs(a.On-d)>c)a.ll=e,a.On=d,kb(a.Md,e+c,d+c),a.An.setAttribute("width",a.ll),a.An.setAttribute("height",a.On);a.M.J&&a.s.qb.setAttribute("transform","translate("+a.ll+",0)");a.s.resize()}b.QH=function(){this.s&&ed(this.s)};
b.pb=function(a){if(a!=this.isVisible())if(m.h.Ca(new m.h.Rb(this.M,"mutatorOpen",!a,a)),a){this.Md=new m.ta(this.M.D,Me(this),this.M.xb.Cb,this.Em,null,null);mb(this.Md,this.M.id);nb(this.Md,this.QH.bind(this));var c=this.s.options.$f;a=this.s.Mb();c&&(a.xa(this.s),a.show(c));this.Zg=this.M.lm(this.s);c=t(this.Zg,!1);for(var d=0,e;e=c[d];d++)e.wa();this.Zg.qq(!1);this.Zg.Ks=!1;a?(c=2*a.rb,a=a.Qg()+c):a=c=16;this.M.J&&(a=-a);this.Zg.moveBy(a,c);if(this.M.fv){var f=this,h=this.M;h.fv(this.Zg);this.tq=
function(){h.fv(f.Zg)};hb(this.M.D,this.tq)}Ne(this);hb(this.s,this.hJ.bind(this));this.Sb()}else this.An=null,this.s.H(),this.Zg=this.s=null,this.Md.H(),this.Md=null,this.On=this.ll=0,this.tq&&(ib(this.M.D,this.tq),this.tq=null)};
b.hJ=function(a){if(a.type!=m.h.Rl&&(a.type!=m.h.Ij||"disabled"!=a.element)){if(!this.s.kc())for(var c=this.s.jc(!1),d=0;a=c[d];d++){var e=a.Va(),f=la(a);20>e.y+f.height&&a.moveBy(0,20-f.height-e.y)}this.Zg.D==this.s&&(m.h.ca(!0),a=this.M,c=(c=a.yc())&&m.R.Qd(c),a.bm(this.Zg),a.Yf(),a.wa(),m.Tf().ac&&m.navigation.GH(a),d=(d=a.yc())&&m.R.Qd(d),c!=d&&m.h.Ca(new m.h.ih(a,"mutation",null,c,d)),this.s.kc()||Ne(this),m.h.ca(!1))}};
b.vG=function(){return{od:0,bf:0,wc:0,Nc:0,Hb:this.On,Ab:this.ll-this.s.Mb().Qg(),Pb:0,Ib:0,Lc:0,vc:this.s.J?0:this.s.Mb().Qg()}};b.H=function(){this.M.Be=null;m.ge.prototype.H.call(this)};m.Qe.Tu=function(a,c,d){if(a&&a.X().D){d=w(c,d).connection;var e=a.na();e&&e!=c||d.ka==a||(d.isConnected()&&d.disconnect(),d.connect(a))}};m.Qe.iM=function(a){var c=null;if(a&&a.options){var d=a.options.nc;a.Zf?d&&d.options&&(c=d.options.nc):d&&(c=d)}return c};m.Jb.sH={};m.Ba.Ed={};m.Ba.Ed.yw=210;
m.fp([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",
helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",
message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",
tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",
name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
m.fp([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",
tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);m.Ba.Ed.Tr={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};m.Y.register("logic_op_tooltip",m.Y.So("OP",m.Ba.Ed.Tr));
m.Ba.Ed.kC={Rd:0,ff:0,bi:!0,yc:function(){if(!this.Rd&&!this.ff)return null;var a=m.g.xml.createElement("mutation");this.Rd&&a.setAttribute("elseif",this.Rd);this.ff&&a.setAttribute("else",1);return a},te:function(a){this.Rd=parseInt(a.getAttribute("elseif"),10)||0;this.ff=parseInt(a.getAttribute("else"),10)||0;this.jI()},lm:function(a){var c=a.Tk("controls_if_if");c.Yf();for(var d=c.T,e=1;e<=this.Rd;e++){var f=a.Tk("controls_if_elseif");f.Yf();d.connect(f.V);d=f.T}this.ff&&(a=a.Tk("controls_if_else"),
a.Yf(),d.connect(a.V));return c},bm:function(a){a=a.T.na();this.ff=this.Rd=0;for(var c=[null],d=[null],e=null;a;){switch(a.type){case "controls_if_elseif":this.Rd++;c.push(a.bJ);d.push(a.zv);break;case "controls_if_else":this.ff++;e=a.zv;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.T&&a.T.na()}this.Kn();this.RA(c,d,e)},fv:function(a){a=a.T.na();for(var c=1;a;){switch(a.type){case "controls_if_elseif":var d=w(this,"IF"+c),e=w(this,"DO"+c);a.bJ=d&&d.connection.ka;a.zv=e&&e.connection.ka;
c++;break;case "controls_if_else":e=w(this,"ELSE");a.zv=e&&e.connection.ka;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.T&&a.T.na()}},jI:function(){var a=[null],c=[null],d=null;w(this,"ELSE")&&(d=w(this,"ELSE").connection.ka);for(var e=1;w(this,"IF"+e);){var f=w(this,"DO"+e);a.push(w(this,"IF"+e).connection.ka);c.push(f.connection.ka);e++}this.Kn();this.RA(a,c,d)},Kn:function(){w(this,"ELSE")&&this.oj("ELSE");for(var a=1;w(this,"IF"+a);)this.oj("IF"+a),this.oj("DO"+a),a++;for(a=
1;a<=this.Rd;a++)uc(this.md(m.bb,"IF"+a).qf("Boolean"),m.m.CONTROLS_IF_MSG_ELSEIF),uc(this.md(m.Pa,"DO"+a),m.m.CONTROLS_IF_MSG_THEN);this.ff&&uc(this.md(m.Pa,"ELSE"),m.m.CONTROLS_IF_MSG_ELSE)},RA:function(a,c,d){for(var e=1;e<=this.Rd;e++)m.Qe.Tu(a[e],this,"IF"+e),m.Qe.Tu(c[e],this,"DO"+e);m.Qe.Tu(d,this,"ELSE")}};m.Y.Yu("controls_if_mutator",m.Ba.Ed.kC,null,["controls_if_elseif","controls_if_else"]);
m.Ba.Ed.lC=function(){this.Je(function(){if(this.Rd||this.ff){if(!this.Rd&&this.ff)return m.m.CONTROLS_IF_TOOLTIP_2;if(this.Rd&&!this.ff)return m.m.CONTROLS_IF_TOOLTIP_3;if(this.Rd&&this.ff)return m.m.CONTROLS_IF_TOOLTIP_4}else return m.m.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};m.Y.register("controls_if_tooltip",m.Ba.Ed.lC);
m.Ba.Ed.nD={onchange:function(a){this.gn||(this.gn=[null,null]);var c=Dc(this,"A"),d=Dc(this,"B");c&&d&&!qa(c.L,d.L)&&(m.h.ca(a.group),a=this.gn[0],a!==c&&(v(c),!a||a.ef||a.Sa||w(this,"A").connection.connect(a.L)),c=this.gn[1],c!==d&&(v(d),!c||c.ef||c.Sa||w(this,"B").connection.connect(c.L)),this.hc(),m.h.ca(!1));this.gn[0]=Dc(this,"A");this.gn[1]=Dc(this,"B")}};m.Ba.Ed.mD=function(){this.Yd(m.Ba.Ed.nD)};m.Y.register("logic_compare",m.Ba.Ed.mD);
m.Ba.Ed.oD={NA:null,onchange:function(a){var c=Dc(this,"THEN"),d=Dc(this,"ELSE"),e=this.L.ka;if((c||d)&&e)for(var f=0;2>f;f++){var h=1==f?c:d;h&&!qa(h.L,e)&&(m.h.ca(a.group),e===this.NA?(v(this),e.X().hc()):(v(h),h.hc()),m.h.ca(!1))}this.NA=e}};m.Y.Xu("logic_ternary",m.Ba.Ed.oD);m.o.sH={};m.o.controls_if=function(a){var c=0,d="";m.o.le&&(d+=Ae(m.o.le,a));do{var e=I(a,"IF"+c,m.o.Bf)||"false";var f=Be(a,"DO"+c);m.o.Id&&(f=ye(Ae(m.o.Id,a),m.o.qg)+f);d+=(0<c?" else ":"")+"if ("+e+") {\n"+f+"}";++c}while(w(a,"IF"+c));if(w(a,"ELSE")||m.o.Id)f=Be(a,"ELSE"),m.o.Id&&(f=ye(Ae(m.o.Id,a),m.o.qg)+f),d+=" else {\n"+f+"}";return d+"\n"};m.o.controls_ifelse=m.o.controls_if;
m.o.logic_compare=function(a){var c={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[C(a,"OP")],d="=="==c||"!="==c?m.o.bx:m.o.HD,e=I(a,"A",d)||"0";a=I(a,"B",d)||"0";return[e+" "+c+" "+a,d]};m.o.logic_operation=function(a){var c="AND"==C(a,"OP")?"&&":"||",d="&&"==c?m.o.xr:m.o.yr,e=I(a,"A",d);a=I(a,"B",d);if(e||a){var f="&&"==c?"true":"false";e||(e=f);a||(a=f)}else a=e="false";return[e+" "+c+" "+a,d]};m.o.logic_negate=function(a){var c=m.o.Ao;return["!"+(I(a,"BOOL",c)||"true"),c]};
m.o.logic_boolean=function(a){return["TRUE"==C(a,"BOOL")?"true":"false",m.o.xo]};m.o.logic_null=function(){return["null",m.o.xo]};m.o.logic_ternary=function(a){var c=I(a,"IF",m.o.zo)||"false",d=I(a,"THEN",m.o.zo)||"null";a=I(a,"ELSE",m.o.zo)||"null";return[c+" ? "+d+" : "+a,m.o.zo]};m.o.uH={};m.o.controls_repeat_ext=function(a){var c=ca(a,"TIMES")?String(Number(C(a,"TIMES"))):I(a,"TIMES",m.o.Hl)||"0",d=Be(a,"DO");d=Ce(d,a);a="";var e=td(m.o.ae,"count",m.Jc),f=c;c.match(/^\w+$/)||m.Ug(c)||(f=td(m.o.ae,"repeat_end",m.Jc),a+="var "+f+" = "+c+";\n");return a+("for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+d+"}\n")};m.o.controls_repeat=m.o.controls_repeat_ext;
m.o.controls_whileUntil=function(a){var c="UNTIL"==C(a,"MODE"),d=I(a,"BOOL",c?m.o.Ao:m.o.Bf)||"false",e=Be(a,"DO");e=Ce(e,a);c&&(d="!"+d);return"while ("+d+") {\n"+e+"}\n"};
m.o.controls_for=function(a){var c=sd(C(a,"VAR"),m.Jc),d=I(a,"FROM",m.o.Hl)||"0",e=I(a,"TO",m.o.Hl)||"0",f=I(a,"BY",m.o.Hl)||"1",h=Be(a,"DO");h=Ce(h,a);if(m.Ug(d)&&m.Ug(e)&&m.Ug(f)){var k=Number(d)<=Number(e);a="for ("+c+" = "+d+"; "+c+(k?" <= ":" >= ")+e+"; "+c;c=Math.abs(Number(f));a=(1==c?a+(k?"++":"--"):a+((k?" += ":" -= ")+c))+(") {\n"+h+"}\n")}else a="",k=d,d.match(/^\w+$/)||m.Ug(d)||(k=td(m.o.ae,c+"_start",m.Jc),a+="var "+k+" = "+d+";\n"),d=e,e.match(/^\w+$/)||m.Ug(e)||(d=td(m.o.ae,c+"_end",
m.Jc),a+="var "+d+" = "+e+";\n"),e=td(m.o.ae,c+"_inc",m.Jc),a+="var "+e+" = ",a=m.Ug(f)?a+(Math.abs(f)+";\n"):a+("Math.abs("+f+");\n"),a=a+("if ("+k+" > "+d+") {\n")+(m.o.qg+e+" = -"+e+";\n"),a+="}\n",a+="for ("+c+" = "+k+"; "+e+" >= 0 ? "+c+" <= "+d+" : "+c+" >= "+d+"; "+c+" += "+e+") {\n"+h+"}\n";return a};
m.o.controls_forEach=function(a){var c=sd(C(a,"VAR"),m.Jc),d=I(a,"LIST",m.o.Hl)||"[]",e=Be(a,"DO");e=Ce(e,a);a="";var f=d;d.match(/^\w+$/)||(f=td(m.o.ae,c+"_list",m.Jc),a+="var "+f+" = "+d+";\n");d=td(m.o.ae,c+"_index",m.Jc);e=m.o.qg+c+" = "+f+"["+d+"];\n"+e;return a+("for (var "+d+" in "+f+") {\n"+e+"}\n")};
m.o.controls_flow_statements=function(a){var c="";m.o.le&&(c+=Ae(m.o.le,a));m.o.Id&&(c+=Ae(m.o.Id,a));if(m.o.le){var d=m.Ba.ie.$n.Bz(a);d&&!d.bi&&(c+=Ae(m.o.le,d))}switch(C(a,"FLOW")){case "BREAK":return c+"break;\n";case "CONTINUE":return c+"continue;\n"}throw Error("Unknown flow statement.");};m.o.Xd={};m.o.math_number=function(a){a=Number(C(a,"NUM"));return[a,0<=a?m.o.xo:m.o.Kl]};m.o.math_arithmetic=function(a){var c={ADD:[" + ",m.o.Uj],MINUS:[" - ",m.o.Ar],MULTIPLY:[" * ",m.o.zr],DIVIDE:[" / ",m.o.Il],POWER:[null,m.o.Re]}[C(a,"OP")],d=c[0];c=c[1];var e=I(a,"A",c)||"0";a=I(a,"B",c)||"0";return d?[e+d+a,c]:["Math.pow("+e+", "+a+")",m.o.Se]};
m.o.math_single=function(a){var c=C(a,"OP");if("NEG"==c)return a=I(a,"NUM",m.o.Kl)||"0","-"==a[0]&&(a=" "+a),["-"+a,m.o.Kl];a="SIN"==c||"COS"==c||"TAN"==c?I(a,"NUM",m.o.Il)||"0":I(a,"NUM",m.o.Bf)||"0";switch(c){case "ABS":var d="Math.abs("+a+")";break;case "ROOT":d="Math.sqrt("+a+")";break;case "LN":d="Math.log("+a+")";break;case "EXP":d="Math.exp("+a+")";break;case "POW10":d="Math.pow(10,"+a+")";break;case "ROUND":d="Math.round("+a+")";break;case "ROUNDUP":d="Math.ceil("+a+")";break;case "ROUNDDOWN":d=
"Math.floor("+a+")";break;case "SIN":d="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":d="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":d="Math.tan("+a+" / 180 * Math.PI)"}if(d)return[d,m.o.Se];switch(c){case "LOG10":d="Math.log("+a+") / Math.log(10)";break;case "ASIN":d="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":d="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":d="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+c);}return[d,m.o.Il]};
m.o.math_constant=function(a){return{PI:["Math.PI",m.o.ug],E:["Math.E",m.o.ug],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",m.o.Il],SQRT2:["Math.SQRT2",m.o.ug],SQRT1_2:["Math.SQRT1_2",m.o.ug],INFINITY:["Infinity",m.o.xo]}[C(a,"CONSTANT")]};
m.o.math_number_property=function(a){var c=I(a,"NUMBER_TO_CHECK",m.o.Jl)||"0",d=C(a,"PROPERTY");if("PRIME"==d){var e=Ee("mathIsPrime",["function "+m.o.oh+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+c+")";return[e,m.o.Se]}switch(d){case "EVEN":e=c+" % 2 == 0";break;case "ODD":e=c+" % 2 == 1";break;case "WHOLE":e=c+" % 1 == 0";break;case "POSITIVE":e=c+" > 0";break;case "NEGATIVE":e=c+" < 0";break;case "DIVISIBLE_BY":a=I(a,"DIVISOR",m.o.Jl)||"0",e=c+" % "+a+" == 0"}return[e,m.o.bx]};
m.o.math_change=function(a){var c=I(a,"DELTA",m.o.Uj)||"0";a=sd(C(a,"VAR"),m.Jc);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+c+";\n"};m.o.math_round=m.o.math_single;m.o.math_trig=m.o.math_single;
m.o.math_on_list=function(a){var c=C(a,"OP");switch(c){case "SUM":a=I(a,"LIST",m.o.ug)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=I(a,"LIST",m.o.Re)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=I(a,"LIST",m.o.Re)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":c=Ee("mathMean",["function "+m.o.oh+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=I(a,"LIST",m.o.Bf)||"[]";a=c+"("+a+")";break;case "MEDIAN":c=
Ee("mathMedian",["function "+m.o.oh+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=I(a,"LIST",m.o.Bf)||"[]";a=c+"("+a+")";break;case "MODE":c=Ee("mathModes",
["function "+m.o.oh+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);",
"  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=I(a,"LIST",m.o.Bf)||"[]";a=c+"("+a+")";break;case "STD_DEV":c=Ee("mathStandardDeviation",["function "+m.o.oh+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=I(a,"LIST",m.o.Bf)||"[]";a=c+"("+a+")";break;case "RANDOM":c=Ee("mathRandomList",["function "+m.o.oh+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=I(a,"LIST",m.o.Bf)||"[]";a=c+"("+a+")";break;default:throw Error("Unknown operator: "+c);}return[a,m.o.Se]};m.o.math_modulo=function(a){var c=I(a,"DIVIDEND",m.o.Jl)||"0";a=I(a,"DIVISOR",m.o.Jl)||"0";return[c+" % "+a,m.o.Jl]};
m.o.math_constrain=function(a){var c=I(a,"VALUE",m.o.Re)||"0",d=I(a,"LOW",m.o.Re)||"0";a=I(a,"HIGH",m.o.Re)||"Infinity";return["Math.min(Math.max("+c+", "+d+"), "+a+")",m.o.Se]};
m.o.math_random_int=function(a){var c=I(a,"FROM",m.o.Re)||"0";a=I(a,"TO",m.o.Re)||"0";return[Ee("mathRandomInt",["function "+m.o.oh+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+c+", "+a+")",m.o.Se]};m.o.math_random_float=function(){return["Math.random()",m.o.Se]};
m.o.math_atan2=function(a){var c=I(a,"X",m.o.Re)||"0";return["Math.atan2("+(I(a,"Y",m.o.Re)||"0")+", "+c+") / Math.PI * 180",m.o.Il]};m.zf=function(a,c,d,e,f,h,k){if(!a)throw Error("Src value of an image field is required");a=m.g.oc(a);d=Number(m.g.oc(d));c=Number(m.g.oc(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.um=!1;this.Oo="";m.zf.A.constructor.call(this,a,null,k);k||(this.um=!!h,this.Oo=m.g.oc(e)||"");this.Cc=new m.g.Jd(c,d+m.zf.yE);this.XG=d;this.Gg=null;"function"==
typeof f&&(this.Gg=f);this.dd=null};m.g.object.S(m.zf,m.Cd);m.zf.prototype.tl="";m.zf.va=function(a){return new m.zf(a.src,a.width,a.height,void 0,void 0,void 0,a)};m.zf.yE=1;b=m.zf.prototype;b.vl=!1;b.Sg=!1;b.re=function(a){m.zf.A.re.call(this,a);this.um=!!a.flipRtl;this.Oo=m.g.oc(a.alt)||""};b.Fm=function(){this.dd=m.g.j.K("image",{height:this.XG+"px",width:this.Cc.width+"px",alt:this.Oo},this.qd);this.dd.setAttributeNS(m.g.j.Kc,"xlink:href",this.Gc);this.Gg&&(this.dd.style.cursor="pointer")};
b.uB=function(){};b.Fi=function(a){return"string"!=typeof a?null:a};b.Ah=function(a){this.Gc=a;this.dd&&this.dd.setAttributeNS(m.g.j.Kc,"xlink:href",String(this.Gc))};b.lz=function(){return this.um};b.wj=function(){this.Gg&&this.Gg(this)};b.wp=function(){return this.Oo};m.Sf.register("field_image",m.zf);var Oe={},J,K,L,Pe,M,N,O,P,Q,R,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,S,af;m.Jb.bridge_moveForward={xa:function(){Cc(this,{message0:G("Bridge_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:G("Bridge_moveForwardTooltip")})}};m.o.bridge_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};
m.Jb.bridge_turn={xa:function(){var a=[[G("Bridge_turnNorth"),"turnNorth"],[G("Bridge_turnNorthEast"),"turnNorthEast"],[G("Bridge_turnEast"),"turnEast"],[G("Bridge_turnSouthEast"),"turnSouthEast"],[G("Bridge_turnSouth"),"turnSouth"],[G("Bridge_turnSouthWest"),"turnSouthWest"],[G("Bridge_turnWest"),"turnWest"],[G("Bridge_turnNorthWest"),"turnNorthWest"]];this.He(290);uc(Bc(this),new m.ab(a),"DIR");this.vj(!0);this.uj(!0);this.Je(G("Bridge_turnTooltip"))}};
m.o.bridge_turn=function(a){return C(a,"DIR")+"('block_id_"+a.id+"');\n"};
m.Jb.bridge_if={xa:function(){var a=[[G("Bridge_pathAhead"),"isPathForward"],[G("Bridge_pathNorth"),"isPathNorth"],[G("Bridge_pathNorthEast"),"isPathNorthEast"],[G("Bridge_pathEast"),"isPathEast"],[G("Bridge_pathSouthEast"),"isPathSouthEast"],[G("Bridge_pathSouth"),"isPathSouth"],[G("Bridge_pathSouthWest"),"isPathSouthWest"],[G("Bridge_pathWest"),"isPathWest"],[G("Bridge_pathNorthWest"),"isPathNorthWest"]];this.He(210);uc(Bc(this),new m.ab(a),"DIR");uc(this.md(m.Pa,"DO"),G("Bridge_doCode"));this.Je(G("Bridge_ifTooltip"));
this.vj(!0);this.uj(!0)}};m.o.bridge_if=function(a){var c=C(a,"DIR")+"('block_id_"+a.id+"')";a=Be(a,"DO");return"if ("+c+") {\n"+a+"}\n"};m.Jb.bridge_loop={xa:function(){this.He(120);uc(yc(this.md(m.bb,"times").qf("Number"),m.Kq),G("Bridge_repeat"));uc(this.md(m.Pa,"DO"),G("Bridge_doCode"));this.vj(!0);this.uj(!0);this.Je(G("Bridge_whileTooltip"))}};
m.o.bridge_loop=function(a){var c=I(a,"times",m.o.Re)||"0",d=Be(a,"DO");m.o.so&&(d=m.o.so.replace(/%1/g,"'block_id_"+a.id+"' times"+c+"'")+d);return"for(var i=0; i<"+c+";i++) {\n"+d+"}\n"};m.Jb.bridge_swim={xa:function(){Cc(this,{message0:"%1(%2);",args0:["swim",{type:"input_value",name:"DEGREE",check:["Number","Angle"]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:290,tooltip:G("Bridge_swimTooltip")})}};
m.o.bridge_swim=function(a){return"swim("+(I(a,"DEGREE",m.o.Bf)||0)+",'block_id_"+a.id+"');\n"};m.Jb.bridge_dive={xa:function(){Cc(this,{message0:"%1",args0:["Dive"],previousStatement:null,nextStatement:null,colour:290,tooltip:G("Bridge_diveTooltip")})}};m.o.bridge_dive=function(a){return"dive('block_id_"+a.id+"');\n"};
m.Jb.bridge_ifElse={xa:function(){var a=[[G("Bridge_pathLeft"),"isRiverDirectionEasttoWest"],[G("Bridge_pathRight"),"isRiverDirectionWesttoEast"]];this.He(210);uc(uc(Bc(this),"If river Direction"),new m.ab(a),"DIR");uc(this.md(m.Pa,"DO"),G("Bridge_doCode"));uc(this.md(m.Pa,"ELSE"),G("Bridge_elseCode"));this.Je(G("Bridge_ifelseTooltip"));this.vj(!0);this.uj(!0)}};
m.o.bridge_ifElse=function(a){var c=C(a,"DIR")+"('block_id_"+a.id+"')",d=Be(a,"DO");a=Be(a,"ELSE");return"if ("+c+") {\n"+d+"} else {\n"+a+"}\n"};g=g||{};g.S=function(a,c){function d(){}d.prototype=c.prototype;a.A=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.Xx=function(e,f,h){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}};if(!g.userAgent){var bf="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(bf=navigator.userAgent);var ef=0==bf.indexOf("Opera");g.userAgent={TM:{iK:"ScriptEngine"in window},FD:ef,Oe:!ef&&-1!=bf.indexOf("MSIE"),Xr:!ef&&-1!=bf.indexOf("WebKit")}}
g.JE||(g.JE={assert:function(a){if(!a)throw Error("Assertion error");},hM:function(){}});g.j||(g.j={});
g.format||(g.format={FM:function(a,c){a=String(a);for(var d=[],e=0,f=!1,h=!1,k=0,l=0,n=0,p=a.length;n<p;++n){var q=a.charCodeAt(n);k>=c&&32!=q&&(d[e++]=a.substring(l,n),l=n,d[e++]=g.format.tE,k=0);if(f)62==q&&(f=!1);else if(h)switch(q){case 59:h=!1;++k;break;case 60:h=!1;f=!0;break;case 32:h=!1,k=0}else switch(q){case 60:f=!0;break;case 38:h=!0;break;case 32:k=0;break;default:++k}}d[e++]=a.substring(l);return d.join("")},tE:g.userAgent.Xr?"<wbr></wbr>":g.userAgent.FD?"&shy;":g.userAgent.Oe?"&#8203;":
"<wbr>"});g.zp||(g.zp={js:{}});g.zp.js.lK=!1;g.zp.js.CN=function(a,c){return"number"==typeof a?0<a?1:0>a?-1:c?null:0:null==a?null:a?-1:1};g.zp.js.eM=function(a,c){var d=0,e=0,f=!1;a=(c?a.replace(ff,""):a).split(gf);for(c=0;c<a.length;c++){var h=a[c];hf.test(h)?(d++,e++):jf.test(h)?f=!0:kf.test(h)?e++:lf.test(h)&&(f=!0)}return 0==e?f?1:0:d/e>mf?-1:1};g.Ua||(g.Ua={XM:function(a,c){a=String(a);return g.Ua.BD.test(a)?a.replace(/(\r\n|\r|\n)/g,c?"<br />":"<br>"):a},GN:encodeURIComponent,BD:/[\r\n]/});
g.FI||(g.FI={gN:function(a,c,d,e){return nf(a,c,e,!0,d)},hN:function(a,c,d,e){return nf(a,c,e,!1,d)},iN:function(a,c,d,e){a.innerHTML=c(d,null,e)},data:{}});var of=g.ki?{mN:!0}:{},pf=g.ki?{nN:!0}:{};function qf(){throw Error("Do not instantiate directly");}qf.prototype.uy=null;qf.prototype.toString=function(){return this.content};var rf={};
function nf(a,c,d,e,f){var h=d||document;d=h.createElement("div");d.innerHTML=a(c||rf,void 0,f);if(1==d.childNodes.length&&(a=d.firstChild,!e||1==a.nodeType))return a;if(e)return d;for(e=h.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e}
var ff=/<[^>]*>|&[^;]+;/g,hf=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\u200f\ufb1d-\ufdff\ufe70-\ufefc]/,kf=/[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,jf=/^http:\/\/.*/,lf=/\d/,gf=/\s+/,mf=.4;function sf(a){if(null!=a)switch(a.uy){case 1:return 1;case -1:return-1;case 0:return 0}return null}function tf(){qf.call(this)}g.S(tf,qf);
tf.prototype.vy=of;function uf(a){return null!=a&&a.vy===of?a:vf(String(String(a)).replace(wf,xf),sf(a))}
var vf=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.uy=e);return f}}(tf),yf={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function xf(a){return yf[a]}var wf=/[\x00\x22\x26\x27\x3c\x3e]/g;function zf(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function Af(){var a="skin="+uf(Bf),c='<table width="100%"><tr><td style="display : none"><h1><span id="title">'+((zd?'<a href="index.html?lang='+uf(xd)+'">':'<a href="./?lang='+uf(xd)+'">')+"Blockly Games</a> : "+uf("Bridge")+"</span>");if(F){a=""+(a?uf(a):"");for(var d=" &nbsp; ",e=1;11>e;e++){var f="?lang="+uf(xd)+"&level="+uf(e)+(a?"&"+uf(a):"");d+=" "+(e==F?'<span class="level_number level_done" id="level'+uf(e)+'">'+uf(e)+"</span>":10==e?'<a class="level_number" id="level'+uf(e)+'" href="'+uf(f)+
'">'+uf(e)+"</a>":'<a class="level_dot" id="level'+uf(e)+'" href="'+uf(f)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Games_name">Bright Champs</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">CircumCircle</span><span id="Games_door">Door</span><span id="Games_findfriend">Find Friend</span><span id="Games_mazeperimeter">Perimeter</span><span id="Games_mazeangle">Angle</span><span id="Games_ocean">Ocean</span><span id="Games_bridge">Bridge</span><span id="Games_circus">Circus</span><span id="Games_start">Treasure Hunt</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Bridge_moveForward">move forward</span><span id="Bridge_turnNorth">turn North</span><span id="Bridge_turnNorthEast">turn North-East</span><span id="Bridge_swimTooltip">Swim forward. Specify a direction (0-360).</span><span id="Bridge_diveTooltip">Dive into the river.</span><span id="Bridge_turnEast">turn East</span><span id="Bridge_turnSouthEast">turn South-East</span><span id="Bridge_turnSouth">turn South</span><span id="Bridge_turnSouthWest">turn South-West</span><span id="Bridge_turnWest">turn West</span><span id="Bridge_turnNorthWest">turn North-West</span><span id="Bridge_doCode">do</span><span id="Bridge_elseCode">else</span><span id="Bridge_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Bridge_pathAhead">if path ahead</span><span id="Bridge_pathNorth">if path to the North</span><span id="Bridge_pathNorthEast">if path to the North-East</span><span id="Bridge_pathEast">if path to the East</span><span id="Bridge_pathSouthEast">if path to the South-East</span><span id="Bridge_pathSouth">if path to the South</span><span id="Bridge_pathSouthWest">if path to the South-West</span><span id="Bridge_pathWest">if path to the West</span><span id="Bridge_pathNorthWest">if path to the North-West</span><span id="Bridge_repeat">repeat</span><span id="Bridge_moveForwardTooltip">Moves the player forward one space.</span><span id="Bridge_turnTooltip">Turns the player in the direction as in a Compass.</span><span id="Bridge_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Bridge_ifelseTooltip">If River flow is in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Bridge_whileTooltip">Repeat the enclosed actions a specified number of times.</span><span id="Bridge_capacity0">You have %0 blocks left.</span><span id="Bridge_capacity1">You have %1 block left.</span><span id="Bridge_capacity2">You have %2 blocks left.</span><span id="Bridge_pathLeft">East to West</span><span id="Bridge_pathRight">West to East</span></div>'+
(c+a+'</h1></td><td id ="brightChampsLogo" class ="companylogo"><a href="https://www.brightchamps.com/"><img id= "BClogo" src="Bright Champs logo.png" height="45px" ></a></td><td class ="farSide"><div id = "coinanimation" ><canvas id ="coin" width ="45px" height="45px" ></canvas><canvas id="coinvalue" width="80px" height="45px"></canvas><button id="helpButton">Help</button></div></td><td id="header_cta" class="farSide" width="325" style="display :none"><select id="languageMenu" style="display :none"></select>&nbsp;&nbsp;'+
('<button id="pegmanButton" style="display :none"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>'.vy===pf?"zSoyz":'<button id="pegmanButton" style="display :none"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>')+'</td></tr></table><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgBridge" width="1200px" height="1000px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg><div id="capacityBubble"><div id="capacity"></div></div><div id="dive" width="200" height="200" ><canvas id="finishanimation" width ="200" height ="200"></canvas></div></div><table id="buttontable" width="500px"><tr><td style="text-align : centre"><button id="runButton" class="primary"title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton"  class="primary"title="Put the player back at the start of the level."><img src="common/1x1.gif" class="stop icon21"> Restart</button><button id="resetBridgeButton"  class="primary"title="Put the player back at the start of the broken bridge."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><category name="Bridge"><block type="bridge_moveForward"></block><block type="bridge_turn"><field name="DIR">turnNorth</field></block><block type="bridge_dive"></block><block type="bridge_swim"><value name="DEGREE"><shadow type="math_number"><mutation angle_field="true"></mutation><field name="NUM">0</field></shadow></value></block></category><category name="Loops"><block type="bridge_loop"><value name="times"><shadow type="math_number"><field name="NUM">2</field></shadow></value></block></category><category name="Logic"><block type="bridge_ifElse"></block></category></xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><input type = "text" id="containerCode" style="font-size: large; margin: 1em;"></input><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneSubmit">Submit</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>')+
(zf()+'</div><div id="help" class="dialogHiddenContent"><div id="helptext" style="padding-bottom: 0.7ex">Alert : A block executed once will repeat it\'s execution if it\'s in workspace in next run. Remove the blocks whose execution is done. and insert again or if blocks can be used change values and use again.<br><br><br>Move to the bridge to cross the river.<br>If bridge is broken swim across the river using Dive and swim commands in order.</div>')+zf()+'</div><div id="Quiz" class="dialogHiddenContent"><div id="dialogLinesText1" style="font-size: large; margin: 1em;"></div><input type = "text" id="containerCode1"></input><br><br><div id="dialogDoneText1" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons1" class="farSide" style="padding: 1ex 3ex 0"><button id="doneSubmit1">Submit</button><button id="doneOk1" class="secondary">OK</button></div></div>'+
(1==F?'<div id="dialogHelpStack" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Stack a couple of \'move forward\' blocks together to help me reach the goal.</td><td valign="top"><img src="bridge/help_stack.png" class="mirrorImg" height=63 width=136></td></tr></table></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>On this level, you need to stack together all of the blocks in the white workspace.<div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpRun" class="dialogHiddenContent"><table><tr><td>Run your program to see what happens.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="bridge/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':
2==F?'<div id="dialogHelpReset" class="dialogHiddenContent"><table><tr><td>Your program didn\'t solve the bridge. Press \'Reset\' and try again.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="bridge/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':3==F||4==F?(3==F?'<div id="dialogHelpRepeat" class="dialogHiddenContent"><table><tr><td><img src="bridge/help_up.png"></td><td>Reach the end of this path using only two blocks. Use \'repeat\' to run a block more than once.</td><td><img src="common/help.png"></td></tr></table></div>':
"")+'<div id="dialogHelpCapacity" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>You have used up all the blocks for this level. To create a new block, you first need to delete an existing block.</td></tr></table></div><div id="dialogHelpRepeatMany" class="dialogHiddenContent"><table><tr><td><img src="bridge/help_up.png"></td><td>You can fit more than one block inside a \'repeat\' block.</td><td><img src="common/help.png"></td></tr></table></div>':5==
F?'<div id="dialogHelpSkins" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td width="95%">Choose your favourite player from this menu.</td><td><img src="bridge/help_up.png"></td></tr></table></div>':6==F?'<div id="dialogHelpIf" class="dialogHiddenContent"><table><tr><td><img src="bridge/help_up.png"></td><td>An \'if\' block will do something only if the condition is true. Try turning left if there is a path to the left.</td><td><img src="common/help.png"></td></tr></table></div>':
7==F?'<div id="dialogHelpMenu" class="dialogHiddenContent"><table><tr><td><img src="bridge/help_up.png"></td><td id="helpMenuText">Click on %1 in the \'if\' block to change its condition.</td><td><img src="common/help.png"></td></tr></table></div>':9==F?'<div id="dialogHelpIfElse" class="dialogHiddenContent"><table><tr><td><img src="bridge/help_down.png"></td><td>If-else blocks will do one thing or the other.</td><td><img src="common/help.png"></td></tr></table></div>':10==F?'<div id="dialogHelpWallFollow" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Can you solve this complicated bridge? Try following the left-hand wall. Advanced programmers only!'+
zf()+"</td></tr></table></div>":"")};var Gd="bridge",Cf=[void 0,Infinity,Infinity,2,5,5,5,5,10,7,10][F],Df=[{uq:"bridge/pegman.png",WG:"bridge/Idle.png",jB:"bridge/tiles_path.png",cM:"bridge/empty.png",VE:"bridge/circus.png",ju:"bridge/empty.png",background:"bridge/BridgeF4.png",KE:"bridge/river-wave.png",iA:"#000",jy:"bridge/coin-sprite.png",Nv:["bridge/win.mp3","bridge/win.ogg"],Cs:["bridge/fail_pegman.mp3","bridge/fail_pegman.ogg"],cp:1},{uq:"bridge/astro.png",jB:"bridge/tiles_astro.png",ju:"bridge/marker.png",background:"bridge/bg_astro.jpg",
iA:"#fff",jy:"bridge/coin.png",Nv:["bridge/win.mp3","bridge/win.ogg"],Cs:["bridge/fail_astro.mp3","bridge/fail_astro.ogg"],cp:2},{uq:"bridge/panda.png",jB:"bridge/tiles_panda.png",ju:"bridge/marker.png",background:"bridge/bg_panda.jpg",iA:"#000",jy:"bridge/coin.png",Nv:["bridge/win.mp3","bridge/win.ogg"],Cs:["bridge/fail_panda.mp3","bridge/fail_panda.ogg"],cp:3}],Bf=Ad("skin",0,Df.length),Ef=Df[Bf],T=[void 0,[[0,0,0,4,0,0],[1,1,1,1,1,1],[2,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1]],[[0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,3,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0],[0,2,1,0,0,0,0,0],[1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,
0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,0,0,0,1,0,0],[0,1,1,3,0,1,0,0],[0,0,0,0,0,1,0,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,1,1,0],[0,1,1,3,0,1,0,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,0,0,0],[0,1,0,0,1,1,0,0],[0,1,1,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,2,1,1,0,3,0,0],[0,0,0,0,0,0,0,0]],
[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0],[1,1,1,1,1,0,1,0],[0,1,0,1,0,2,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,0,3,0,1,0],[0,1,1,0,1,1,1,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,1,0,0,1,0],[0,2,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]][F],Ff=T.length,Gf=T[0].length,U=200,Hf=80,If=80,Jf=0,Kf=0,V=[];
function Lf(){var a=document.getElementById("svgBridge");a.style.width=K+"px";a.style.height=L+"px";a.setAttribute("viewBox","0 0 "+K+" "+L);m.g.j.K("rect",{height:L,width:K,fill:"#F1EEE7","stroke-width":1,stroke:"#CCB"},a);var c=m.g.j.K("clipPath",{id:"bgwaterClipPath"},a);m.g.j.K("rect",{height:L,width:K,x:0,y:0},c);c=m.g.j.K("image",{id:"backgroundwater",height:L,width:10*K,"clip-path":"url(#bgwaterClipPath)"},a);c.setAttributeNS(m.g.j.Kc,"xlink:href",Ef.KE);for(c=0;c<Ff;c++)for(var d=0;d<Gf+1;d++)m.g.j.K("rect",
{height:U,width:U,fill:"none","stroke-width":1,stroke:"#1E90FF","stroke-dasharray":10,x:(d-1)*U+U/2,y:c*U},a);c=m.g.j.K("clipPath",{id:"bgClipPath"},a);m.g.j.K("rect",{height:L,width:K,x:0,y:0},c);c=m.g.j.K("image",{id:"background",height:2*L,width:K,x:0,y:1*U-6*If+1,"clip-path":"url(#bgClipPath)"},a);c.setAttributeNS(m.g.j.Kc,"xlink:href",Ef.background);for(c=0;c<Ff;c++)for(d=0;d<Gf+1;d++)m.g.j.K("rect",{id:"ID"+d.toString()+","+c.toString(),height:U,width:U,fill:"none","stroke-width":1,stroke:"#00cc00",
"stroke-dasharray":10,x:(d-1)*U+U/2,y:c*U+.725*U},a);m.g.j.K("image",{id:"finish",height:180*E,width:180*E},a).setAttributeNS(m.g.j.Kc,"xlink:href",Ef.ju);m.g.j.K("image",{id:"bridge",height:180*E,width:180*E},a).setAttributeNS(m.g.j.Kc,"xlink:href",Ef.VE);c=m.g.j.K("clipPath",{id:"pegmanClipPath"},a);m.g.j.K("rect",{id:"clipRect",height:Hf,width:If},c);m.g.j.K("image",{id:"pegman",height:Hf,width:16*If,"clip-path":"url(#pegmanClipPath)"},a).setAttributeNS(m.g.j.Kc,"xlink:href",Ef.WG)}
function Mf(){for(var a=0;a<Ff;a++)for(var c=0;c<Gf+1;c++)document.getElementById("ID"+c.toString()+","+a.toString()).style.display="none";z.clear();var d=document.getElementById("background");document.getElementById("pegman");document.getElementById("bridge").style.display="none";for(a=1;60>=a;a++)Pe=function(e){setTimeout(function(){d.setAttribute("y",1*U-6*If+1+5*e/60*If);W(M,N+4*e/60,Y(4))},100*e)},Pe(a);setTimeout(function(){O=M;P=N=4;R=Q=2},6020)}
function Nf(){function a(){Qe?Re=d:(d=++d%e,c.setAttribute("x",1*U/2-d*U/2-K),c.setAttribute("y",0),setTimeout(a,150))}var c=document.getElementById("backgroundwater"),d=0<Re?Re:0,e=9268/U;setTimeout(a,150)}function Of(){function a(){Qe?Re=d:(d=++d%e,c.setAttribute("x",1*U/2+d*U/2-4634-5*U),c.setAttribute("y",0),setTimeout(a,150))}var c=document.getElementById("backgroundwater"),d=0<Re?Re:0,e=9268/U;setTimeout(a,150)}
function Pf(){var a=0,c,d=(N+1)*U-U;document.getElementById("pegman").style.display="none";var e=document.getElementById("dive");e.style.display="initial";e.style.top=(N+1)*U-U+"px";e.style.left=document.getElementById("visualization").offsetLeft+M*U+"px";document.getElementById("finishanimation").style.width=3*If/4+"px";document.getElementById("finishanimation").style.height=2.5*Hf+"px";var f=document.getElementById("finishanimation").getContext("2d"),h=new Image;h.src="bridge/Dive.png";for(var k=
1;18>=k;k++)Pe=function(l){setTimeout(function(){a=++a%18;c=410*a;f.clearRect(0,0,f.canvas.width,f.canvas.height);d+=U/36;e.style.top=d+"px";f.drawImage(h,c,0,410,1230,f.canvas.width/12,f.canvas.height/20,3*f.canvas.width/4,3*f.canvas.height/4)},120*l)},Pe(k);setTimeout(function(){document.getElementById("dive").style.display="none"},120*18.01);We=120*18.01/J}
function Qf(){function a(){if(n>=1*U)d=++d%13,e=410*d,f=11*(13-d),n-=k,p+=-h+l,q.style.left=document.getElementById("visualization").offsetLeft+p+"px",q.style.top=n+"px",r.clearRect(0,0,r.canvas.width,r.canvas.height),r.drawImage(x,e,f,410,306,0,0,r.canvas.width,r.canvas.height),setTimeout(a,120);else{setTimeout(function(){q.style.display="none";document.getElementById("pegman").style.display="initial"},50);setTimeout(function(){O=M=0<=-h+l?M+Math.floor(3*Math.abs(-h+l)/k):M-Math.floor(3*Math.abs(-h+
l)/k);P=N=0;R=Q=2;Z([M,.5,4],[M,0,4],0)},100);setTimeout(function(){document.getElementById("pegman").style.display="initial"},105);if(1==Xe){Xe++;var B=document.getElementById("svgBridge");m.g.j.K("rect",{id:"RectID1",height:U/20,width:U/20,x:3*U+U/2-1,y:4*U-1},B);m.g.j.K("rect",{id:"RectID2",height:U/20,width:U/20,x:3*U+U/2-1,y:1*U+U/8},B);m.g.j.K("rect",{id:"RectID3",height:U/20,width:U/20,x:1*U+U/2-1,y:1*U+U/8},B);setTimeout(function(){Ye=1.5*Math.floor(3*Math.abs(-h+l)/k);Rf();document.getElementById("resetBridgeButton").style.display=
"initial"},150)}else 1!=Xe&&-45==c*Se&&Rf();document.getElementById("resetBridgeButton").style.display="initial"}}var c=af,d=0,e,f,h=2*Math.sin(-c*Math.PI/180),k=2*Math.cos(c*Math.PI/180),l=Se*Math.sqrt(2);document.getElementById("pegman").style.display="none";var n=N*U+U/2,p=M*U,q=document.getElementById("dive");q.style.display="initial";q.style.top=n+"px";q.style.left=document.getElementById("visualization").offsetLeft+p+"px";document.getElementById("finishanimation").style.width=If+"px";document.getElementById("finishanimation").style.height=
Hf+"px";var r=document.getElementById("finishanimation").getContext("2d"),x=new Image;x.src="bridge/swim-sprite1.png";q.style.transformOrigin="50% 50%";q.style.transform="rotate("+c+"deg)";setTimeout(a,150)}
function Sf(a){var c=document.getElementById("pegmanMenu");"block"==c.style.display?Tf(a):te(a)||(a=document.getElementById("pegmanButton"),a.classList.add("buttonHover"),c.style.top=a.offsetTop+a.offsetHeight+"px",c.style.left=a.offsetLeft+"px",c.style.display="block",Oe.Ou=m.ec(document.body,"mousedown",null,Tf),(c=document.getElementById("dialogHelpSkins"))&&"dialogHiddenContent"!=c.className&&H.lf(!1),Sf.PL=!0)}
function Tf(a){te(a)||(document.getElementById("pegmanMenu").style.display="none",document.getElementById("pegmanButton").classList.remove("buttonHover"),Oe.Ou&&(m.$a(Oe.Ou),delete Oe.Ou))}
function Uf(a){for(var c=0;c<V.length;c++)clearTimeout(V[c]);document.getElementById("pegman").style.display="none";V=[];M=Ue.x;N=Ue.y;O=M;P=N;We=Jf=0;Ze=!1;Xe=1;Se=-1;Re=0;Qe=!1;document.getElementById("background").setAttribute("y",1*U-6*If+1);document.getElementById("dive").style.display="none";document.getElementById("bridge").style.display="initial";document.getElementById("resetBridgeButton").style.display="none";$e=1;a?(Q=7,Vf(!1),V.push(setTimeout(function(){J=120;Z([M,N,2*Q],[M+1,N+1,2*Q],
0);R=Q=7;M+=1;N+=1;O=M;P=N},5*J))):(Dd(),R=Q=7,V.push(setTimeout(function(){J=130;Z([M,N,2*Q],[M+1,N+1,2*Q],0);R=Q=7;M+=1;N+=1;O=M;P=N},5*J)));a=document.getElementById("finish");a.style.display="none";a.setAttribute("x",U*(Ve.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",U*(Ve.y+.6)-a.getAttribute("height"));a=document.getElementById("bridge");a.setAttribute("x",U*(Te.x+.5)-a.getAttribute("width")/2);a.setAttribute("y",U*(Te.y+.6)-a.getAttribute("height")/2);a=document.getElementById("look");
a.style.display="none";a.parentNode.appendChild(a)}function Wf(a){if(!te(a)){H.lf(!1);a=document.getElementById("runButton");var c=document.getElementById("resetButton"),d=document.getElementById("resetBridgeButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px",d.style.minWidth=a.offsetWidth+"px");Xf()}}
function Yf(){for(var a=0;a<V.length;a++)clearTimeout(V[a]);document.getElementById("RectID1").style.display="none";document.getElementById("RectID2").style.display="none";document.getElementById("RectID3").style.display="none";document.getElementById("pegman").style.display="initial";V=[];M=Ve.x;N=4;O=M;P=N;We=0;Ze=!0;Se=-1;Qe=!0;document.getElementById("dive").style.display="none";document.getElementById("dive").style.transform="rotate(0deg)";Dd();R=Q=2;V.push(setTimeout(function(){J=130;Z([M,N,
2*Q],[M,N,2*Q],0);R=Q=7},5*J))}Wf=function(a){if(!te(a)){H.lf(!1);a=document.getElementById("runButton");var c=document.getElementById("resetButton"),d=document.getElementById("resetBridgeButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px",d.style.minWidth=a.offsetWidth+"px");1==Qe&&(0==Math.floor(10*Math.random())%2?(Se=-1,Qe=!1,Nf()):(Se=1,Qe=!1,Of()));Xf()}};function Zf(a){te(a)||(id(null),Uf(!1))}function $f(a){te(a)||(id(null),Yf())}
function ag(a,c){var d=function(e){bg(0,e)};a.setProperty(c,"moveForward",a.createNativeFunction(d));d=function(e){bg(2,e)};a.setProperty(c,"moveBackward",a.createNativeFunction(d));d=function(e){cg(0,e)};a.setProperty(c,"turnNorth",a.createNativeFunction(d));d=function(e){cg(1,e)};a.setProperty(c,"turnNorthEast",a.createNativeFunction(d));d=function(e){cg(2,e)};a.setProperty(c,"turnEast",a.createNativeFunction(d));d=function(e){cg(3,e)};a.setProperty(c,"turnSouthEast",a.createNativeFunction(d));
d=function(e){cg(4,e)};a.setProperty(c,"turnSouth",a.createNativeFunction(d));d=function(e){cg(5,e)};a.setProperty(c,"turnSouthWest",a.createNativeFunction(d));d=function(e){cg(6,e)};a.setProperty(c,"turnWest",a.createNativeFunction(d));d=function(e){cg(7,e)};a.setProperty(c,"turnNorthWest",a.createNativeFunction(d));d=function(e){return dg(0,e)};a.setProperty(c,"isPathForward",a.createNativeFunction(d));d=function(e){return dg(1,e)};a.setProperty(c,"isPathNorth",a.createNativeFunction(d));d=function(e){return dg(2,
e)};a.setProperty(c,"isPathBackward",a.createNativeFunction(d));d=function(e){return dg(3,e)};a.setProperty(c,"isPathEast",a.createNativeFunction(d));d=function(e){return dg(4,e)};a.setProperty(c,"isPathSouth",a.createNativeFunction(d));d=function(e){return dg(5,e)};a.setProperty(c,"isPathWest",a.createNativeFunction(d));d=function(e){--P;R=2;S.push(["Dive",e])};a.setProperty(c,"dive",a.createNativeFunction(d));d=function(e,f){af=e;S.push(["Swim",f])};a.setProperty(c,"swim",a.createNativeFunction(d));
a.setProperty(c,"isRiverDirectionEasttoWest",a.createNativeFunction(function(){return eg(1)}));a.setProperty(c,"isRiverDirectionWesttoEast",a.createNativeFunction(function(){return eg(2)}))}
function Xf(){if("Interpreter"in window){S=[];m.selected&&rb(m.selected);var a=m.o;var c=z;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=m.Tf());var d=[];a.xa(c);c=c.jc(!0);for(var e=0,f;f=c[e];e++){var h=ze(a,f);Array.isArray(h)&&(h=h[0]);h&&(f.L&&(h=a.ZA(h),a.le&&!f.bi&&(h=Ae(a.le,f)+h),a.Id&&!f.bi&&(h+=Ae(a.Id,f))),d.push(h))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");ie=a=d=d.replace(/[ \t]+\n/g,"\n");ke();Kf=0;a=new Interpreter(a,
ag);try{for(d=1E4;a.step();)if(0==d--)throw Infinity;O==Ve.x&&P==Ve.y&&Jf++;Kf=O!=Ve.x||P!=Ve.y||2!=Jf?-1:1}catch(k){Infinity===k?Kf=2:!1===k?Kf=-2:(Kf=-2,alert(k))}1==Kf?(J=100,S.push(["finish",null])):J=130;V.push(setTimeout(fg,100))}else setTimeout(Xf,250)}
function fg(){var a=S.shift();if(a){re(a[1]);switch(a[0]){case "north":Z([M,N,2*Q],[M,N-1,2*Q],0);N--;break;case "northeast":Z([M,N,2*Q],[M+1,N-1,2*Q],0);M++;N--;break;case "east":Z([M,N,2*Q],[M+1,N,2*Q],0);M++;break;case "southeast":Z([M,N,2*Q],[M+1,N+1,2*Q],0);M++;N++;break;case "south":Z([M,N,2*Q],[M,N+1,2*Q],0);N++;break;case "southwest":Z([M,N,2*Q],[M-1,N+1,2*Q],0);M--;N++;break;case "west":Z([M,N,2*Q],[M-1,N,2*Q],0);M--;break;case "northwest":Z([M,N,2*Q],[M-1,N-1,2*Q],0);M--;N--;break;case "look_north":gg(2);
break;case "look_northeast":gg(1);break;case "look_east":gg(0);break;case "look_southeast":gg(7);break;case "look_south":gg(6);break;case "look_southwest":gg(5);break;case "look_west":gg(4);break;case "look_northwest":gg(3);break;case "fail_forward":ud-=10;hg(!0);break;case "fail_backward":ud-=10;hg(!1);break;case "North":Z([M,N,2*Q],[M,N,4],0);Q=ig(Q=2);break;case "NorthEast":Z([M,N,2*Q],[M,N,2],0);Q=ig(Q=1);break;case "East":Z([M,N,2*Q],[M,N,0],0);Q=ig(Q=0);break;case "SouthEast":Z([M,N,2*Q],[M,
N,14],0);Q=ig(Q=7);break;case "South":Z([M,N,2*Q],[M,N,12],0);Q=ig(Q=6);break;case "SouthWest":Z([M,N,2*Q],[M,N,10],0);Q=ig(Q=5);break;case "West":Z([M,N,2*Q],[M,N,8],0);Q=ig(Q=4);break;case "NorthWest":Z([M,N,2*Q],[M,N,6],0);Q=ig(Q=3);break;case "Dive":Z([M,N,4],[M,N,4],1);--N;Q=ig(Q=2);break;case "Swim":Z([M,N,4],[M,N,4],2);break;case "finish":Vf(!0),Rf()}a=We;V.push(setTimeout(fg,J*a));1!=Jf||0!=S.length||Ze||(Ze=!0,setTimeout(Mf,J*(a+1)));We=0}else re(null)}
function jg(){document.getElementById("dialogDone")}
function Z(a,c,d){if(0==d){var e=[c[0]-a[0],c[1]-a[1],c[2]-a[2]];e[2]=0<e[2]?8<e[2]?e[2]-16:e[2]:-8>e[2]?e[2]+16:e[2];var f=0>e[2]?e[2]:0;if(0<e[2])switch(Math.abs(e[2])){case 2:V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+1+f))},J));var h=2;break;case 4:V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+1+f))},J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+2+f))},2*J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+3+f))},3*J));h=4;break;
case 6:V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+1+f))},J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+2+f))},2*J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+3+f))},3*J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+4+f))},4*J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+5+f))},5*J));h=6;break;case 8:V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+1+f))},J)),V.push(setTimeout(function(){W(a[0]+
2*e[0],a[1]+2*e[1],Y(a[2]+2+f))},2*J)),V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+3+f))},3*J)),V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+4+f))},4*J)),V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+5+f))},5*J)),V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+6+f))},6*J)),V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+7+f))},7*J)),h=8}else if(0>e[2])switch(Math.abs(e[2])){case 2:V.push(setTimeout(function(){W(a[0]+2*
e[0],a[1]+2*e[1],Y(a[2]+1+f))},J));h=2;break;case 4:V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+3+f))},J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+2+f))},2*J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+1+f))},3*J));h=4;break;case 6:V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+5+f))},J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+4+f))},2*J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+
3+f))},3*J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+2+f))},4*J));V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+1+f))},5*J));h=6;break;case 8:V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+7+f))},J)),V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+6+f))},2*J)),V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+5+f))},3*J)),V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+4+f))},4*J)),V.push(setTimeout(function(){W(a[0]+
2*e[0],a[1]+2*e[1],Y(a[2]+3+f))},5*J)),V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+2+f))},6*J)),V.push(setTimeout(function(){W(a[0]+2*e[0],a[1]+2*e[1],Y(a[2]+1+f))},7*J)),h=8}else if(0==e[2]){var k=document.getElementById("pegman");k.setAttributeNS(m.g.j.Kc,"xlink:href","bridge/"+a[2]+".png");for(d=1;d<=(32*Math.abs(e[0])||32*Math.abs(e[1]));d++)Pe=function(l){V.push(setTimeout(function(){a[0]==Te.x&&a[1]==Te.y&&9==l&&(k.style.display="initial");W(a[0]+e[0]*l/32,a[1]+e[1]*l/32,Y(l-
1))},J*l))},Pe(d);h=Math.abs(e[0])>Math.abs(e[1])?32*Math.abs(e[0])+4:32*Math.abs(e[1])+4;V.push(setTimeout(function(){k.setAttributeNS(m.g.j.Kc,"xlink:href","bridge/Idle.png");W(c[0],c[1],Y(c[2]))},J*(h-2)))}We=h+2;V.push(setTimeout(function(){W(c[0],c[1],Y(c[2]))},J*(h+1)))}else 1==d?V.push(setTimeout(function(){Pf()},J*We)):2==d&&V.push(setTimeout(function(){Qf()},J*We))}
function hg(a){var c=0,d=0;Dd();switch(Q){case 2:d=-1;break;case 1:c=1;d=-1;break;case 0:c=1;break;case 7:d=c=1;break;case 6:d=1;break;case 5:c=-1;d=1;break;case 4:c=-1;break;case 3:d=c=-1}a||(c=-c,d=-d);if(1==Ef.cp){c/=4;d/=4;var e=Y(2*Q);W(M+c,N+d,e);z.nd.play("fail",.5);V.push(setTimeout(function(){W(M,N,e)},J));V.push(setTimeout(function(){W(M+c,N+d,e);z.nd.play("fail",.5)},2*J));V.push(setTimeout(function(){W(M,N,e)},3*J))}else{var f=10*(Math.random()-.5),h=(Math.random()-.5)/2;c+=(Math.random()-
.5)/4;d+=(Math.random()-.5)/4;c/=8;d/=8;var k=0;3==Ef.cp&&(k=.01);V.push(setTimeout(function(){z.nd.play("fail",.5)},2*J));a=function(n){return function(){W(M+c*n,N+d*n,Y(4*Q+h*n),f*n);d+=k}};for(var l=1;100>l;l++)V.push(setTimeout(a(l),J*l/2))}}function Vf(a){var c=Y(2*Q);W(M,N,16);a&&z.nd.play("win",.5);J=100;V.push(setTimeout(function(){W(M,N,18)},J));V.push(setTimeout(function(){W(M,N,16)},2*J));V.push(setTimeout(function(){W(M,N,c)},3*J))}
function W(a,c,d,e){var f=document.getElementById("pegman");f.setAttribute("x",a*U-d*If+1);var h=document.getElementById("clipRect");1==e?f.setAttribute("y",U*(c+.5)-d/18*(Hf/2)-1):(f.setAttribute("y",U*(c+.5)-Hf/2-8),h.setAttribute("x",a*U+1),h.setAttribute("y",f.getAttribute("y")))}function gg(a){a=(a-.25)*U;var c=(c-.35)*U;document.getElementById("look").setAttribute("transform","translate("+a+", "+c+") rotate(0 0 0) scale(1)")}function ig(a){a=Math.round(a)%8;0>a&&(a+=8);return a}
function Y(a){a=Math.round(a)%16;0>a&&(a+=16);return a}function bg(a,c){if(!dg(a,null))throw S.push(["fail_"+(a?"backward":"forward"),c]),!1;switch(ig(R+a)){case 2:P--;var d="north";break;case 1:O++;P--;d="northeast";break;case 0:O++;d="east";break;case 7:O++;P++;d="southeast";break;case 6:P++;d="south";break;case 5:O--;P++;d="southwest";break;case 4:O--;d="west";break;case 3:O--,P--,d="northwest"}S.push([d,c])}
function cg(a,c){switch(a){case 0:R=2;S.push(["North",c]);break;case 1:R=1;S.push(["NorthEast",c]);break;case 2:R=0;S.push(["East",c]);break;case 3:R=7;S.push(["SouthEast",c]);break;case 4:R=6;S.push(["South",c]);break;case 5:R=5;S.push(["SouthWest",c]);break;case 6:R=4;S.push(["West",c]);break;case 7:R=3,S.push(["NorthWest",c])}R=ig(R)}
function dg(a,c){switch(ig(R+a)){case 2:var d=T[P-1]&&T[P-1][O];var e="look_north";break;case 1:d=T[P-1]&&T[P-1][O+1];e="look_northeast";break;case 0:d=T[P][O+1];e="look_east";break;case 7:d=T[P+1]&&T[P+1][O+1];e="look_southeast";break;case 6:d=T[P+1]&&T[P+1][O];e="look_south";break;case 5:d=T[P+1]&&T[P+1][O-1];e="look_southwest";break;case 4:d=T[P][O-1];e="look_west";break;case 3:d=T[P-1]&&T[P-1][O-1],e="look_northwest"}c&&S.push([e,c]);return 0!==d&&void 0!==d}
function eg(a){switch(a){case 1:return-1==Se?!0:!1;case 2:return 1==Se?!0:!1}}function kg(){var a=document.getElementById("help"),c=document.getElementById("helpButton");H.al(a,c,!0,!0,{width:"50%",left:"25%",top:"5em"},lg);H.UE()}function lg(){H.Av()}
function Rf(){var a=document.getElementById("Quiz"),c=document.getElementById("doneSubmit1");if(1==$e){var d="What is the area of the triangle formed by the points shown with Black squares (Assume 1 block is 1*1 in dimmensions)";var e="Sorry you entered wrong answer please try again!"}else 2==$e&&(d="What is the value of the angle you used to reach the point opposite to start point",e="Sorry you entered wrong answer please try again!");var f=document.getElementById("dialogLinesText1");f.textContent=
"";f.appendChild(document.createTextNode(d));c.addEventListener("click",mg);d=document.getElementById("doneOk1");d.style.display="none";d.addEventListener("click",qe,!0);d.addEventListener("touchend",qe,!0);H.al(a,null,!1,!0,{width:"40%",left:"50%",top:"3em"},function(){document.body.removeEventListener("keydown",ng,!0)});document.body.addEventListener("keydown",ng,!0);document.getElementById("dialogDoneText1").style.display="none";document.getElementById("dialogDoneText1").textContent=e}
function mg(){if(1==$e)if(document.getElementById("containerCode1").value==Ye){document.getElementById("dialogDoneText1").style.display="none";H.lf(!0);$e++;ud+=30;Dd();var a=document.getElementById("helptext");a.setAttribute("style","white-space: pre;");a.textContent=" Use Reset button to take the character at the begining of the bridge and use Dive and Swim \r\n commands to find the angle at wich charcter must swim so that he reaches the opposite end \r\n of the starting points.\r\n \r\n Given: Earlier river direction was East to west but now it is randomly generated when you \r\n click run. So for accounting that use If-Else blocks for swiming. \r\n Charcter speed is 2 and River speed is 2^\u00bd.";
kg()}else document.getElementById("dialogDoneText1").style.display="initial";else 2==$e&&(45==document.getElementById("containerCode1").value?(ud+=30,Dd(),document.getElementById("dialogDoneText1").style.display="none",document.getElementById("doneOk1").style.display="initial",document.getElementById("doneSubmit1").style.display="none"):document.getElementById("dialogDoneText1").style.display="initial")}
function ng(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)a.stopPropagation(),a.preventDefault()}
window.addEventListener("load",function(){function a(){l.style.top=Math.max(10,n.offsetTop-window.pageYOffset)+"px";l.style.left=k?"10px":K+20+"px";l.style.width=window.innerWidth-(K+40)+"px";l.style.paddingBottom=10*E+"px";p.style.left=l.offsetLeft+"px";p.style.width=window.innerWidth-(K+40)+"px";p.style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("runButton").style.left=l.offsetLeft+"px";document.getElementById("runButton").style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("resetButton").style.left=
document.getElementById("runButton").offsetLeft+document.getElementById("runButton").offsetWidth+"px";document.getElementById("resetButton").style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("resetButton").style.marginRight="0px";document.getElementById("resetBridgeButton").style.left=document.getElementById("resetButton").offsetLeft+document.getElementById("resetButton").offsetWidth+"px";document.getElementById("resetBridgeButton").style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("resetBridgeButton").style.marginRight=
"0px"}function c(q){return function(){window.sessionStorage&&(window.sessionStorage.qH=ke());location=location.protocol+"//"+location.host+location.pathname+"?lang="+xd+"&level="+F+"&skin="+q}}document.body.innerHTML=Af();je();document.getElementById("dive").style.display="none";document.querySelector("#pegmanButton>img").style.backgroundImage="url("+Ef.uq+")";for(var d=document.getElementById("pegmanMenu"),e=0;e<Df.length;e++)if(e!=Bf){var f=document.createElement("div"),h=document.createElement("img");
h.src="common/1x1.gif";h.style.backgroundImage="url("+Df[e].uq+")";f.appendChild(h);d.appendChild(f);m.ec(f,"mousedown",null,c(e))}m.ec(window,"resize",null,Tf);d=document.getElementById("pegmanButton");m.ec(d,"mousedown",null,Sf);d=document.getElementById("pegmanButtonArrow");e=document.createTextNode(m.ab.Mq);d.appendChild(e);var k=-1!=wd.indexOf(xd);U*=E;K=U*Gf;L=U*Ff;Hf=200*E;If=200*E;var l=document.getElementById("blockly"),n=document.getElementById("visualization"),p=document.getElementById("buttontable");
window.addEventListener("scroll",function(){a(null);m.fl(z);p.style.left=l.offsetLeft+"px";p.style.width=window.innerWidth-(K+40)+"px";p.style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("runButton").style.left=l.offsetLeft+"px";document.getElementById("runButton").style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("resetButton").style.left=document.getElementById("runButton").offsetLeft+document.getElementById("runButton").offsetWidth+"px";document.getElementById("resetButton").style.top=
l.offsetTop+L-p.offsetHeight+"px";document.getElementById("resetButton").style.marginRight="0px";document.getElementById("resetBridgeButton").style.left=document.getElementById("resetButton").offsetLeft+document.getElementById("resetButton").offsetWidth+"px";document.getElementById("resetBridgeButton").style.top=l.offsetTop+L-p.offsetHeight+"px";document.getElementById("resetBridgeButton").style.marginRight="0px";document.getElementById("resetBridgeButton").xN.display="none"});window.addEventListener("resize",
a);a(null);U/=E;K=U/Gf;L=U/Ff;Hf=200/E;If=200/E;U*=E;K=U*Gf;L=U*Ff;Hf=200*E;If=200*E;ne({maxBlocks:Cf,rtl:k,trashcan:!0,zoom:{bridgeScale:1}});z.nd.load(Ef.Nv,"win");z.nd.load(Ef.Cs,"fail");De(m.o,"moveForward,moveBackward,turnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");d=document.getElementById("svgBridge");d.style.width=K+"px";d.style.height=L+"px";Se=-1;Re=0;Qe=!1;Lf();Nf();document.getElementById("pegman").style.display="none";d=document.getElementById("runButton");e=
document.getElementById("resetButton");f=document.getElementById("resetBridgeButton");e.style.minWidth||(e.style.minWidth=d.offsetWidth+"px",f.style.minWidth=d.offsetWidth+"px");for(d=0;d<Ff;d++)for(e=0;e<Gf;e++)2==T[d][e]?(Te={x:e,y:d},Ue={x:e,y:d}):4==T[d][e]&&(Ve={x:e,y:d});Uf(!0);hb(z,function(){var q=eb(z),r=document.getElementById("capacity");if(Infinity==q)r.style.display="none";else{r.style.display="inline";r.innerHTML="";q=Number(q);var x=document.createElement("span");x.className="capacityNumber";
x.appendChild(document.createTextNode(q));q=(0==q?G("Bridge_capacity0"):1==q?G("Bridge_capacity1"):G("Bridge_capacity2")).split(/%\d/);for(var B=0;B<q.length;B++)r.appendChild(document.createTextNode(q[B])),B!=q.length-1&&r.appendChild(x.cloneNode(!0))}});document.body.addEventListener("mousemove",jg,!0);Hd("runButton",Wf);Hd("resetButton",Zf);Hd("resetBridgeButton",$f);10!=F||Fd()||(d=document.getElementById("dialogHelpWallFollow"),H.al(d,null,!1,!0,{width:"30%",left:"35%",top:"12em"},H.Av),H.UE(),
setTimeout(H.Rx,3E5));we();xe();Hd("helpButton",kg)});
